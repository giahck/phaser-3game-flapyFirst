var Mx=Object.create;var oo=Object.defineProperty,wx=Object.defineProperties,Ax=Object.getOwnPropertyDescriptor,Px=Object.getOwnPropertyDescriptors,Rx=Object.getOwnPropertyNames,fc=Object.getOwnPropertySymbols,Ix=Object.getPrototypeOf,cc=Object.prototype.hasOwnProperty,Fx=Object.prototype.propertyIsEnumerable;var dc=(v,u,T)=>u in v?oo(v,u,{enumerable:!0,configurable:!0,writable:!0,value:T}):v[u]=T,et=(v,u)=>{for(var T in u||={})cc.call(u,T)&&dc(v,T,u[T]);if(fc)for(var T of fc(u))Fx.call(u,T)&&dc(v,T,u[T]);return v},mt=(v,u)=>wx(v,Px(u));var Ox=(v,u)=>()=>(u||v((u={exports:{}}).exports,u),u.exports),Lx=(v,u)=>{for(var T in u)oo(v,T,{get:u[T],enumerable:!0})},bx=(v,u,T,x)=>{if(u&&typeof u=="object"||typeof u=="function")for(let e of Rx(u))!cc.call(v,e)&&e!==T&&oo(v,e,{get:()=>u[e],enumerable:!(x=Ax(u,e))||x.enumerable});return v};var Hi=(v,u,T)=>(T=v!=null?Mx(Ix(v)):{},bx(u||!v||!v.__esModule?oo(T,"default",{value:v,enumerable:!0}):T,v));var vn=(v,u,T)=>new Promise((x,e)=>{var y=g=>{try{a(T.next(g))}catch(l){e(l)}},t=g=>{try{a(T.throw(g))}catch(l){e(l)}},a=g=>g.done?x(g.value):Promise.resolve(g.value).then(y,t);a((T=T.apply(v,u)).next())});var Vi=Ox((Hs,Ed)=>{"use strict";(function(u,T){typeof Hs=="object"&&typeof Ed=="object"?Ed.exports=T():typeof define=="function"&&define.amd?define("Phaser",[],T):typeof Hs=="object"?Hs.Phaser=T():u.Phaser=T()})(Hs,()=>(()=>{var v={50792:e=>{"use strict";var y=Object.prototype.hasOwnProperty,t="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(t=!1));function g(n,i,h){this.fn=n,this.context=i,this.once=h||!1}function l(n,i,h,r,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var c=new g(h,r||n,f),d=t?t+i:i;return n._events[d]?n._events[d].fn?n._events[d]=[n._events[d],c]:n._events[d].push(c):(n._events[d]=c,n._eventsCount++),n}function s(n,i){--n._eventsCount===0?n._events=new a:delete n._events[i]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var i=[],h,r;if(this._eventsCount===0)return i;for(r in h=this._events)y.call(h,r)&&i.push(t?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(h)):i},o.prototype.listeners=function(i){var h=t?t+i:i,r=this._events[h];if(!r)return[];if(r.fn)return[r.fn];for(var f=0,c=r.length,d=new Array(c);f<c;f++)d[f]=r[f].fn;return d},o.prototype.listenerCount=function(i){var h=t?t+i:i,r=this._events[h];return r?r.fn?1:r.length:0},o.prototype.emit=function(i,h,r,f,c,d){var p=t?t+i:i;if(!this._events[p])return!1;var m=this._events[p],C=arguments.length,S,E;if(m.fn){switch(m.once&&this.removeListener(i,m.fn,void 0,!0),C){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,h),!0;case 3:return m.fn.call(m.context,h,r),!0;case 4:return m.fn.call(m.context,h,r,f),!0;case 5:return m.fn.call(m.context,h,r,f,c),!0;case 6:return m.fn.call(m.context,h,r,f,c,d),!0}for(E=1,S=new Array(C-1);E<C;E++)S[E-1]=arguments[E];m.fn.apply(m.context,S)}else{var D=m.length,M;for(E=0;E<D;E++)switch(m[E].once&&this.removeListener(i,m[E].fn,void 0,!0),C){case 1:m[E].fn.call(m[E].context);break;case 2:m[E].fn.call(m[E].context,h);break;case 3:m[E].fn.call(m[E].context,h,r);break;case 4:m[E].fn.call(m[E].context,h,r,f);break;default:if(!S)for(M=1,S=new Array(C-1);M<C;M++)S[M-1]=arguments[M];m[E].fn.apply(m[E].context,S)}}return!0},o.prototype.on=function(i,h,r){return l(this,i,h,r,!1)},o.prototype.once=function(i,h,r){return l(this,i,h,r,!0)},o.prototype.removeListener=function(i,h,r,f){var c=t?t+i:i;if(!this._events[c])return this;if(!h)return s(this,c),this;var d=this._events[c];if(d.fn)d.fn===h&&(!f||d.once)&&(!r||d.context===r)&&s(this,c);else{for(var p=0,m=[],C=d.length;p<C;p++)(d[p].fn!==h||f&&!d[p].once||r&&d[p].context!==r)&&m.push(d[p]);m.length?this._events[c]=m.length===1?m[0]:m:s(this,c)}return this},o.prototype.removeAllListeners=function(i){var h;return i?(h=t?t+i:i,this._events[h]&&s(this,h)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,e.exports=o},11517:(e,y,t)=>{var a=t(38829),g=function(l,s,o,n){for(var i=l[0],h=1;h<l.length;h++){var r=l[h];a(r,i,s,o,n),i=r}return l};e.exports=g},80318:(e,y,t)=>{var a=t(66979),g=function(l,s,o,n,i){return a(l,"angle",s,o,n,i)};e.exports=g},60757:e=>{var y=function(t,a,g){for(var l=0;l<t.length;l++){var s=t[l];a.call(g,s)}return t};e.exports=y},69927:e=>{var y=function(t,a,g){g===void 0&&(g=0);for(var l=g;l<t.length;l++){var s=t[l],o=!0;for(var n in a)s[n]!==a[n]&&(o=!1);if(o)return s}return null};e.exports=y},32265:e=>{var y=function(t,a,g){g===void 0&&(g=0);for(var l=t.length-1;l>=g;l--){var s=t[l],o=!0;for(var n in a)s[n]!==a[n]&&(o=!1);if(o)return s}return null};e.exports=y},94420:(e,y,t)=>{var a=t(11879),g=t(60461),l=t(95540),s=t(29747),o=t(41481),n=new o({sys:{queueDepthSort:s,events:{once:s}}},0,0,1,1).setOrigin(0,0),i=function(h,r){r===void 0&&(r={});var f=r.hasOwnProperty("width"),c=r.hasOwnProperty("height"),d=l(r,"width",-1),p=l(r,"height",-1),m=l(r,"cellWidth",1),C=l(r,"cellHeight",m),S=l(r,"position",g.TOP_LEFT),E=l(r,"x",0),D=l(r,"y",0),M=0,w=0,A=d*m,R=p*C;n.setPosition(E,D),n.setSize(m,C);for(var P=0;P<h.length;P++)if(a(h[P],n,S),f&&d===-1)n.x+=m;else if(c&&p===-1)n.y+=C;else if(c&&!f){if(w+=C,n.y+=C,w===R&&(w=0,M+=m,n.y=D,n.x+=m,M===A))break}else if(M+=m,n.x+=m,M===A&&(M=0,w+=C,n.x=E,n.y+=C,w===R))break;return h};e.exports=i},41721:(e,y,t)=>{var a=t(66979),g=function(l,s,o,n,i){return a(l,"alpha",s,o,n,i)};e.exports=g},67285:(e,y,t)=>{var a=t(66979),g=function(l,s,o,n,i){return a(l,"x",s,o,n,i)};e.exports=g},9074:(e,y,t)=>{var a=t(66979),g=function(l,s,o,n,i,h,r){return o==null&&(o=s),a(l,"x",s,n,h,r),a(l,"y",o,i,h,r)};e.exports=g},75222:(e,y,t)=>{var a=t(66979),g=function(l,s,o,n,i){return a(l,"y",s,o,n,i)};e.exports=g},22983:e=>{var y=function(t,a,g,l){g===void 0&&(g=0),l===void 0&&(l=6.28);for(var s=g,o=(l-g)/t.length,n=a.x,i=a.y,h=a.radius,r=0;r<t.length;r++)t[r].x=n+h*Math.cos(s),t[r].y=i+h*Math.sin(s),s+=o;return t};e.exports=y},95253:e=>{var y=function(t,a,g,l){g===void 0&&(g=0),l===void 0&&(l=6.28);for(var s=g,o=(l-g)/t.length,n=a.width/2,i=a.height/2,h=0;h<t.length;h++)t[h].x=a.x+n*Math.cos(s),t[h].y=a.y+i*Math.sin(s),s+=o;return t};e.exports=y},88505:(e,y,t)=>{var a=t(15258),g=t(26708),l=function(s,o,n){var i;n?i=g(o,n,s.length):i=a(o,s.length);for(var h=0;h<s.length;h++){var r=s[h],f=i[h];r.x=f.x,r.y=f.y}return s};e.exports=l},41346:(e,y,t)=>{var a=t(14649),g=t(86003),l=t(49498),s=function(o,n,i){i===void 0&&(i=0);var h=a(n,!1,o.length);i>0?g(h,i):i<0&&l(h,Math.abs(i));for(var r=0;r<o.length;r++)o[r].x=h[r].x,o[r].y=h[r].y;return o};e.exports=s},11575:(e,y,t)=>{var a=t(84993),g=function(l,s,o){var n=a({x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},o),i=a({x1:s.x2,y1:s.y2,x2:s.x3,y2:s.y3},o),h=a({x1:s.x3,y1:s.y3,x2:s.x1,y2:s.y1},o);n.pop(),i.pop(),h.pop(),n=n.concat(i,h);for(var r=n.length/l.length,f=0,c=0;c<l.length;c++){var d=l[c],p=n[Math.floor(f)];d.x=p.x,d.y=p.y,f+=r}return l};e.exports=g},29953:e=>{var y=function(t,a,g){for(var l=0;l<t.length;l++){var s=t[l];s.anims&&s.anims.play(a,g)}return t};e.exports=y},66979:e=>{var y=function(t,a,g,l,s,o){l===void 0&&(l=0),s===void 0&&(s=0),o===void 0&&(o=1);var n,i=0,h=t.length;if(o===1)for(n=s;n<h;n++)t[n][a]+=g+i*l,i++;else for(n=s;n>=0;n--)t[n][a]+=g+i*l,i++;return t};e.exports=y},43967:e=>{var y=function(t,a,g,l,s,o){l===void 0&&(l=0),s===void 0&&(s=0),o===void 0&&(o=1);var n,i=0,h=t.length;if(o===1)for(n=s;n<h;n++)t[n][a]=g+i*l,i++;else for(n=s;n>=0;n--)t[n][a]=g+i*l,i++;return t};e.exports=y},88926:(e,y,t)=>{var a=t(28176),g=function(l,s){for(var o=0;o<l.length;o++)a(s,l[o]);return l};e.exports=g},33286:(e,y,t)=>{var a=t(24820),g=function(l,s){for(var o=0;o<l.length;o++)a(s,l[o]);return l};e.exports=g},96e3:(e,y,t)=>{var a=t(65822),g=function(l,s){for(var o=0;o<l.length;o++)a(s,l[o]);return l};e.exports=g},28789:(e,y,t)=>{var a=t(26597),g=function(l,s){for(var o=0;o<l.length;o++)a(s,l[o]);return l};e.exports=g},97154:(e,y,t)=>{var a=t(90260),g=function(l,s){for(var o=0;o<l.length;o++)a(s,l[o]);return l};e.exports=g},20510:(e,y,t)=>{var a=t(66979),g=function(l,s,o,n,i){return a(l,"rotation",s,o,n,i)};e.exports=g},91051:(e,y,t)=>{var a=t(1163),g=t(20339),l=function(s,o,n){for(var i=o.x,h=o.y,r=0;r<s.length;r++){var f=s[r];a(f,i,h,n,Math.max(1,g(f.x,f.y,i,h)))}return s};e.exports=l},76332:(e,y,t)=>{var a=t(1163),g=function(l,s,o,n){var i=s.x,h=s.y;if(n===0)return l;for(var r=0;r<l.length;r++)a(l[r],i,h,o,n);return l};e.exports=g},61619:(e,y,t)=>{var a=t(66979),g=function(l,s,o,n,i){return a(l,"scaleX",s,o,n,i)};e.exports=g},94868:(e,y,t)=>{var a=t(66979),g=function(l,s,o,n,i,h,r){return o==null&&(o=s),a(l,"scaleX",s,n,h,r),a(l,"scaleY",o,i,h,r)};e.exports=g},95532:(e,y,t)=>{var a=t(66979),g=function(l,s,o,n,i){return a(l,"scaleY",s,o,n,i)};e.exports=g},8689:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i){return a(l,"alpha",s,o,n,i)};e.exports=g},2645:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n){return a(l,"blendMode",s,0,o,n)};e.exports=g},32372:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i){return a(l,"depth",s,o,n,i)};e.exports=g},85373:e=>{var y=function(t,a,g){for(var l=0;l<t.length;l++)t[l].setInteractive(a,g);return t};e.exports=y},81583:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i,h,r){return o==null&&(o=s),a(l,"originX",s,n,h,r),a(l,"originY",o,i,h,r),l.forEach(function(f){f.updateDisplayOrigin()}),l};e.exports=g},79939:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i){return a(l,"rotation",s,o,n,i)};e.exports=g},2699:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i,h,r){return o==null&&(o=s),a(l,"scaleX",s,n,h,r),a(l,"scaleY",o,i,h,r)};e.exports=g},98739:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i){return a(l,"scaleX",s,o,n,i)};e.exports=g},98476:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i){return a(l,"scaleY",s,o,n,i)};e.exports=g},6207:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i,h,r){return o==null&&(o=s),a(l,"scrollFactorX",s,n,h,r),a(l,"scrollFactorY",o,i,h,r)};e.exports=g},6607:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i){return a(l,"scrollFactorX",s,o,n,i)};e.exports=g},72248:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i){return a(l,"scrollFactorY",s,o,n,i)};e.exports=g},14036:e=>{var y=function(t,a,g,l,s){for(var o=0;o<t.length;o++)t[o].setTint(a,g,l,s);return t};e.exports=y},50159:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n){return a(l,"visible",s,0,o,n)};e.exports=g},77597:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i){return a(l,"x",s,o,n,i)};e.exports=g},83194:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i,h,r){return o==null&&(o=s),a(l,"x",s,n,h,r),a(l,"y",o,i,h,r)};e.exports=g},67678:(e,y,t)=>{var a=t(43967),g=function(l,s,o,n,i){return a(l,"y",s,o,n,i)};e.exports=g},35850:(e,y,t)=>{var a=t(26099),g=function(l,s,o,n,i){n===void 0&&(n=0),i===void 0&&(i=new a);var h,r,f=l.length;if(f===1)h=l[0].x,r=l[0].y,l[0].x=s,l[0].y=o;else{var c=1,d=0;n===0&&(d=f-1,c=f-2),h=l[d].x,r=l[d].y,l[d].x=s,l[d].y=o;for(var p=0;p<f;p++)if(!(c>=f||c===-1)){var m=l[c],C=m.x,S=m.y;m.x=h,m.y=r,h=C,r=S,n===0?c--:c++}}return i.x=h,i.y=r,i};e.exports=g},8628:(e,y,t)=>{var a=t(33680),g=function(l){return a(l)};e.exports=g},21837:(e,y,t)=>{var a=t(7602),g=function(l,s,o,n,i){i===void 0&&(i=!1);var h=Math.abs(n-o)/l.length,r;if(i)for(r=0;r<l.length;r++)l[r][s]+=a(r*h,o,n);else for(r=0;r<l.length;r++)l[r][s]=a(r*h,o,n);return l};e.exports=g},21910:(e,y,t)=>{var a=t(54261),g=function(l,s,o,n,i){i===void 0&&(i=!1);var h=Math.abs(n-o)/l.length,r;if(i)for(r=0;r<l.length;r++)l[r][s]+=a(r*h,o,n);else for(r=0;r<l.length;r++)l[r][s]=a(r*h,o,n);return l};e.exports=g},62054:e=>{var y=function(t,a,g,l,s){if(s===void 0&&(s=!1),t.length===0)return t;if(t.length===1)return s?t[0][a]+=(l+g)/2:t[0][a]=(l+g)/2,t;var o=Math.abs(l-g)/(t.length-1),n;if(s)for(n=0;n<t.length;n++)t[n][a]+=n*o+g;else for(n=0;n<t.length;n++)t[n][a]=n*o+g;return t};e.exports=y},79815:e=>{var y=function(t){for(var a=0;a<t.length;a++)t[a].visible=!t[a].visible;return t};e.exports=y},39665:(e,y,t)=>{var a=t(15994),g=function(l,s,o){o===void 0&&(o=0);for(var n=0;n<l.length;n++){var i=l[n];i.x=a(i.x,s.left-o,s.right+o),i.y=a(i.y,s.top-o,s.bottom+o)}return l};e.exports=g},61061:(e,y,t)=>{e.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(e,y,t)=>{var a=t(45319),g=t(83419),l=t(74943),s=t(81957),o=t(41138),n=t(35154),i=t(90126),h=new g({initialize:function(f,c,d){this.manager=f,this.key=c,this.type="frame",this.frames=this.getFrames(f.textureManager,n(d,"frames",[]),n(d,"defaultTextureKey",null),n(d,"sortFrames",!0)),this.frameRate=n(d,"frameRate",null),this.duration=n(d,"duration",null),this.msPerFrame,this.skipMissedFrames=n(d,"skipMissedFrames",!0),this.delay=n(d,"delay",0),this.repeat=n(d,"repeat",0),this.repeatDelay=n(d,"repeatDelay",0),this.yoyo=n(d,"yoyo",!1),this.showBeforeDelay=n(d,"showBeforeDelay",!1),this.showOnStart=n(d,"showOnStart",!1),this.hideOnComplete=n(d,"hideOnComplete",!1),this.randomFrame=n(d,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(l.PAUSE_ALL,this.pause,this),this.manager.on(l.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(r,f,c,d){c===null&&d===null?(r.frameRate=24,r.duration=24/f*1e3):c&&d===null?(r.duration=c,r.frameRate=f/(c/1e3)):(r.frameRate=d,r.duration=f/d*1e3),r.msPerFrame=1e3/r.frameRate},addFrame:function(r){return this.addFrameAt(this.frames.length,r)},addFrameAt:function(r,f){var c=this.getFrames(this.manager.textureManager,f);if(c.length>0){if(r===0)this.frames=c.concat(this.frames);else if(r===this.frames.length)this.frames=this.frames.concat(c);else{var d=this.frames.slice(0,r),p=this.frames.slice(r);this.frames=d.concat(c,p)}this.updateFrameSequence()}return this},checkFrame:function(r){return r>=0&&r<this.frames.length},getFirstTick:function(r){r.accumulator=0,r.nextTick=r.currentFrame.duration?r.currentFrame.duration:r.msPerFrame},getFrameAt:function(r){return this.frames[r]},getFrames:function(r,f,c,d){d===void 0&&(d=!0);var p=[],m,C,S=1,E,D;if(typeof f=="string"){if(D=f,!r.exists(D))return console.warn('Texture "%s" not found',D),p;var M=r.get(D),w=M.getFrameNames();d&&i(w),f=[],w.forEach(function(F){f.push({key:D,frame:F})})}if(!Array.isArray(f)||f.length===0)return p;for(E=0;E<f.length;E++){var A=f[E],R=n(A,"key",c);if(R){var P=n(A,"frame",0),O=r.getFrame(R,P);if(!O){console.warn('Texture "%s" not found',R);continue}C=new o(R,P,S,O),C.duration=n(A,"duration",0),C.isFirst=!m,m&&(m.nextFrame=C,C.prevFrame=m),p.push(C),m=C,S++}}if(p.length>0){C.isLast=!0,C.nextFrame=p[0],p[0].prevFrame=C;var b=1/(p.length-1);for(E=0;E<p.length;E++)p[E].progress=E*b}return p},getNextTick:function(r){r.accumulator-=r.nextTick,r.nextTick=r.currentFrame.duration?r.currentFrame.duration:r.msPerFrame},getFrameByProgress:function(r){return r=a(r,0,1),s(r,this.frames,"progress")},nextFrame:function(r){var f=r.currentFrame;f.isLast?r.yoyo?this.handleYoyoFrame(r,!1):r.repeatCounter>0?r.inReverse&&r.forward?r.forward=!1:this.repeatAnimation(r):r.complete():this.updateAndGetNextTick(r,f.nextFrame)},handleYoyoFrame:function(r,f){if(f||(f=!1),r.inReverse===!f&&r.repeatCounter>0){(r.repeatDelay===0||r.pendingRepeat)&&(r.forward=f),this.repeatAnimation(r);return}if(r.inReverse!==f&&r.repeatCounter===0){r.complete();return}r.forward=f;var c=f?r.currentFrame.nextFrame:r.currentFrame.prevFrame;this.updateAndGetNextTick(r,c)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(r){var f=r.currentFrame;f.isFirst?r.yoyo?this.handleYoyoFrame(r,!0):r.repeatCounter>0?r.inReverse&&!r.forward?this.repeatAnimation(r):(r.forward=!0,this.repeatAnimation(r)):r.complete():this.updateAndGetNextTick(r,f.prevFrame)},updateAndGetNextTick:function(r,f){r.setCurrentFrame(f),this.getNextTick(r)},removeFrame:function(r){var f=this.frames.indexOf(r);return f!==-1&&this.removeFrameAt(f),this},removeFrameAt:function(r){return this.frames.splice(r,1),this.updateFrameSequence(),this},repeatAnimation:function(r){if(r._pendingStop===2){if(r._pendingStopValue===0)return r.stop();r._pendingStopValue--}r.repeatDelay>0&&!r.pendingRepeat?(r.pendingRepeat=!0,r.accumulator-=r.nextTick,r.nextTick+=r.repeatDelay):(r.repeatCounter--,r.forward?r.setCurrentFrame(r.currentFrame.nextFrame):r.setCurrentFrame(r.currentFrame.prevFrame),r.isPlaying&&(this.getNextTick(r),r.handleRepeat()))},toJSON:function(){var r={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(f){r.frames.push(f.toJSON())}),r},updateFrameSequence:function(){for(var r=this.frames.length,f=1/(r-1),c,d=0;d<r;d++)c=this.frames[d],c.index=d+1,c.isFirst=!1,c.isLast=!1,c.progress=d*f,d===0?(c.isFirst=!0,r===1?(c.isLast=!0,c.nextFrame=c,c.prevFrame=c):(c.isLast=!1,c.prevFrame=this.frames[r-1],c.nextFrame=this.frames[d+1])):d===r-1&&r>1?(c.isLast=!0,c.prevFrame=this.frames[r-2],c.nextFrame=this.frames[0]):r>1&&(c.prevFrame=this.frames[d-1],c.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(l.PAUSE_ALL,this.pause,this),this.manager.off(l.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var r=0;r<this.frames.length;r++)this.frames[r].destroy();this.frames=[],this.manager=null}});e.exports=h},41138:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o,n,i,h){h===void 0&&(h=!1),this.textureKey=s,this.textureFrame=o,this.index=n,this.frame=i,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=h},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});e.exports=g},60848:(e,y,t)=>{var a=t(42099),g=t(83419),l=t(90330),s=t(50792),o=t(74943),n=t(8443),i=t(95540),h=t(35154),r=t(36383),f=t(20283),c=t(41836),d=new g({Extends:s,initialize:function(m){s.call(this),this.game=m,this.textureManager=null,this.globalTimeScale=1,this.anims=new l,this.mixes=new l,this.paused=!1,this.name="AnimationManager",m.events.once(n.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(n.DESTROY,this.destroy,this)},addMix:function(p,m,C){var S=this.anims,E=this.mixes,D=typeof p=="string"?p:p.key,M=typeof m=="string"?m:m.key;if(S.has(D)&&S.has(M)){var w=E.get(D);w||(w={}),w[M]=C,E.set(D,w)}return this},removeMix:function(p,m){var C=this.mixes,S=typeof p=="string"?p:p.key,E=C.get(S);if(E)if(m){var D=typeof m=="string"?m:m.key;E.hasOwnProperty(D)&&delete E[D]}else m||C.delete(S);return this},getMix:function(p,m){var C=this.mixes,S=typeof p=="string"?p:p.key,E=typeof m=="string"?m:m.key,D=C.get(S);return D&&D.hasOwnProperty(E)?D[E]:0},add:function(p,m){return this.anims.has(p)?(console.warn("Animation key exists: "+p),this):(m.key=p,this.anims.set(p,m),this.emit(o.ADD_ANIMATION,p,m),this)},exists:function(p){return this.anims.has(p)},createFromAseprite:function(p,m,C){var S=[],E=this.game.cache.json.get(p);if(!E)return console.warn("No Aseprite data found for: "+p),S;var D=this,M=h(E,"meta",null),w=h(E,"frames",null);if(M&&w){var A=h(M,"frameTags",[]);A.forEach(function(R){var P=[],O=i(R,"name",null),b=i(R,"from",0),F=i(R,"to",0),L=i(R,"direction","forward");if(O&&(!m||m&&m.indexOf(O)>-1)){for(var G=0,z=b;z<=F;z++){var X=z.toString(),B=w[X];if(B){var U=i(B,"duration",r.MAX_SAFE_INTEGER);P.push({key:p,frame:X,duration:U}),G+=U}}L==="reverse"&&(P=P.reverse());var I={key:O,frames:P,duration:G,yoyo:L==="pingpong"},N;C?C.anims&&(N=C.anims.create(I)):N=D.create(I),N&&S.push(N)}})}return S},create:function(p){var m=p.key,C=!1;return m&&(C=this.get(m),C?console.warn("AnimationManager key already exists: "+m):(C=new a(this,m,p),this.anims.set(m,C),this.emit(o.ADD_ANIMATION,m,C))),C},fromJSON:function(p,m){m===void 0&&(m=!1),m&&this.anims.clear(),typeof p=="string"&&(p=JSON.parse(p));var C=[];if(p.hasOwnProperty("anims")&&Array.isArray(p.anims)){for(var S=0;S<p.anims.length;S++)C.push(this.create(p.anims[S]));p.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=p.globalTimeScale)}else p.hasOwnProperty("key")&&p.type==="frame"&&C.push(this.create(p));return C},generateFrameNames:function(p,m){var C=h(m,"prefix",""),S=h(m,"start",0),E=h(m,"end",0),D=h(m,"suffix",""),M=h(m,"zeroPad",0),w=h(m,"outputArray",[]),A=h(m,"frames",!1);if(!this.textureManager.exists(p))return console.warn('Texture "%s" not found',p),w;var R=this.textureManager.get(p);if(!R)return w;var P;if(m)for(A||(A=f(S,E)),P=0;P<A.length;P++){var O=C+c(A[P],M,"0",1)+D;R.has(O)?w.push({key:p,frame:O}):console.warn('Frame "%s" not found in texture "%s"',O,p)}else for(A=R.getFrameNames(),P=0;P<A.length;P++)w.push({key:p,frame:A[P]});return w},generateFrameNumbers:function(p,m){var C=h(m,"start",0),S=h(m,"end",-1),E=h(m,"first",!1),D=h(m,"outputArray",[]),M=h(m,"frames",!1);if(!this.textureManager.exists(p))return console.warn('Texture "%s" not found',p),D;var w=this.textureManager.get(p);if(!w)return D;E&&w.has(E)&&D.push({key:p,frame:E}),M||(S===-1&&(S=w.frameTotal-2),M=f(C,S));for(var A=0;A<M.length;A++){var R=M[A];w.has(R)?D.push({key:p,frame:R}):console.warn('Frame "%s" not found in texture "%s"',R,p)}return D},get:function(p){return this.anims.get(p)},getAnimsFromTexture:function(p){for(var m=this.textureManager.get(p),C=m.key,S=this.anims.getArray(),E=[],D=0;D<S.length;D++)for(var M=S[D],w=M.frames,A=0;A<w.length;A++)if(w[A].textureKey===C){E.push(M.key);break}return E},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(o.PAUSE_ALL)),this},play:function(p,m){Array.isArray(m)||(m=[m]);for(var C=0;C<m.length;C++)m[C].anims.play(p);return this},staggerPlay:function(p,m,C,S){C===void 0&&(C=0),S===void 0&&(S=!0),Array.isArray(m)||(m=[m]);var E=m.length;S||E--;for(var D=0;D<m.length;D++){var M=C<0?Math.abs(C)*(E-D):C*D;m[D].anims.playAfterDelay(p,M)}return this},remove:function(p){var m=this.get(p);return m&&(this.emit(o.REMOVE_ANIMATION,p,m),this.anims.delete(p),this.removeMix(p)),m},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(o.RESUME_ALL)),this},toJSON:function(p){var m={anims:[],globalTimeScale:this.globalTimeScale};return p!==void 0&&p!==""?m.anims.push(this.anims.get(p).toJSON()):this.anims.each(function(C,S){m.anims.push(S.toJSON())}),m},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});e.exports=d},9674:(e,y,t)=>{var a=t(42099),g=t(30976),l=t(83419),s=t(90330),o=t(74943),n=t(95540),i=new l({initialize:function(r){this.parent=r,this.animationManager=r.scene.sys.anims,this.animationManager.on(o.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(h){var r=this.parent;if(h===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,r;Array.isArray(h)||(h=[h]);for(var f=0;f<h.length;f++){var c=h[f];this.nextAnim?this.nextAnimsQueue.push(c):this.nextAnim=c}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(h){this.isPlaying&&this.stop();var r=this.animationManager,f=typeof h=="string"?h:n(h,"key",null),c=this.exists(f)?this.get(f):r.get(f);if(!c)console.warn("Missing animation: "+f);else{this.currentAnim=c;var d=c.getTotalFrames(),p=n(h,"frameRate",c.frameRate),m=n(h,"duration",c.duration);c.calculateDuration(this,d,m,p),this.delay=n(h,"delay",c.delay),this.repeat=n(h,"repeat",c.repeat),this.repeatDelay=n(h,"repeatDelay",c.repeatDelay),this.yoyo=n(h,"yoyo",c.yoyo),this.showBeforeDelay=n(h,"showBeforeDelay",c.showBeforeDelay),this.showOnStart=n(h,"showOnStart",c.showOnStart),this.hideOnComplete=n(h,"hideOnComplete",c.hideOnComplete),this.skipMissedFrames=n(h,"skipMissedFrames",c.skipMissedFrames),this.randomFrame=n(h,"randomFrame",c.randomFrame),this.timeScale=n(h,"timeScale",this.timeScale);var C=n(h,"startFrame",0);C>d&&(C=0),this.randomFrame&&(C=g(0,d-1));var S=c.frames[C];C===0&&!this.forward&&(S=c.getLastFrame()),this.currentFrame=S}return this.parent},pause:function(h){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),h!==void 0&&this.setCurrentFrame(h),this.parent},resume:function(h){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),h!==void 0&&this.setCurrentFrame(h),this.parent},playAfterDelay:function(h,r){if(!this.isPlaying)this.delayCounter=r,this.play(h,!0);else{var f=this.nextAnim,c=this.nextAnimsQueue;f&&c.unshift(f),this.nextAnim=h,this._pendingStop=1,this._pendingStopValue=r}return this.parent},playAfterRepeat:function(h,r){if(r===void 0&&(r=1),!this.isPlaying)this.play(h);else{var f=this.nextAnim,c=this.nextAnimsQueue;f&&c.unshift(f),this.repeatCounter!==-1&&r>this.repeatCounter&&(r=this.repeatCounter),this.nextAnim=h,this._pendingStop=2,this._pendingStopValue=r}return this.parent},play:function(h,r){r===void 0&&(r=!1);var f=this.currentAnim,c=this.parent,d=typeof h=="string"?h:h.key;if(r&&this.isPlaying&&f.key===d)return c;if(f&&this.isPlaying){var p=this.animationManager.getMix(f.key,h);if(p>0)return this.playAfterDelay(h,p)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h)},playReverse:function(h,r){r===void 0&&(r=!1);var f=typeof h=="string"?h:h.key;return r&&this.isPlaying&&this.currentAnim.key===f?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h))},startAnimation:function(h){this.load(h);var r=this.currentAnim,f=this.parent;return r&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,r.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),f},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(o.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(o.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(o.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(o.ANIMATION_COMPLETE,o.ANIMATION_COMPLETE_KEY)},emitEvents:function(h,r){var f=this.currentAnim;if(f){var c=this.currentFrame,d=this.parent,p=c.textureFrame;d.emit(h,f,c,d,p),r&&d.emit(r+f.key,f,c,d,p)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var h=this.currentFrame;if(!h)return 0;var r=h.progress;return this.inReverse&&(r*=-1),r},setProgress:function(h){return this.forward||(h=1-h),this.setCurrentFrame(this.currentAnim.getFrameByProgress(h)),this.parent},setRepeat:function(h){return this.repeatCounter=h===-1?Number.MAX_VALUE:h,this.parent},globalRemove:function(h,r){r===void 0&&(r=this.currentAnim),this.isPlaying&&r.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(h,r){h===void 0&&(h=!1),r===void 0&&(r=!1);var f=this.currentAnim,c=this.parent;return f?(r&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),f.getFirstTick(this),this.emitEvents(o.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!h,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(f.frames[0]),this.parent):c},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(h)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(h)}return this.parent},stopAfterDelay:function(h){return this._pendingStop=1,this._pendingStopValue=h,this.parent},stopAfterRepeat:function(h){return h===void 0&&(h=1),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=h,this.parent},stopOnFrame:function(h){return this._pendingStop=3,this._pendingStopValue=h,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(h,r){var f=this.currentAnim;if(!(!this.isPlaying||!f||f.paused)){if(this.accumulator+=r*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=r,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?f.nextFrame(this):f.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var c=0;do this.forward?f.nextFrame(this):f.previousFrame(this),c++;while(this.isPlaying&&this.accumulator>this.nextTick&&c<60)}}},setCurrentFrame:function(h){var r=this.parent;return this.currentFrame=h,r.texture=h.frame.texture,r.frame=h.frame,r.isCropped&&r.frame.updateCropUVs(r._crop,r.flipX,r.flipY),h.setAlpha&&(r.alpha=h.alpha),r.setSizeToFrame(),r._originComponent&&(h.frame.customPivot?r.setOrigin(h.frame.pivotX,h.frame.pivotY):r.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(o.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===h&&this.stop()),r},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(h){return this.anims?this.anims.get(h):null},exists:function(h){return this.anims?this.anims.has(h):!1},create:function(h){var r=h.key,f=!1;return r&&(f=this.get(r),f?console.warn("Animation key already exists: "+r):(f=new a(this,r,h),this.anims||(this.anims=new s),this.anims.set(r,f))),f},createFromAseprite:function(h,r){return this.animationManager.createFromAseprite(h,r,this.parent)},generateFrameNames:function(h,r){return this.animationManager.generateFrameNames(h,r)},generateFrameNumbers:function(h,r){return this.animationManager.generateFrameNumbers(h,r)},remove:function(h){var r=this.get(h);return r&&(this.currentAnim===r&&this.stop(),this.anims.delete(h)),r},destroy:function(){this.animationManager.off(o.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});e.exports=i},57090:e=>{e.exports="add"},25312:e=>{e.exports="animationcomplete"},89580:e=>{e.exports="animationcomplete-"},52860:e=>{e.exports="animationrepeat"},63850:e=>{e.exports="animationrestart"},99085:e=>{e.exports="animationstart"},28087:e=>{e.exports="animationstop"},1794:e=>{e.exports="animationupdate"},52562:e=>{e.exports="pauseall"},57953:e=>{e.exports="remove"},68339:e=>{e.exports="resumeall"},74943:(e,y,t)=>{e.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(e,y,t)=>{e.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(e,y,t)=>{var a=t(83419),g=t(90330),l=t(50792),s=t(24736),o=new a({initialize:function(){this.entries=new g,this.events=new l},add:function(n,i){return this.entries.set(n,i),this.events.emit(s.ADD,this,n,i),this},has:function(n){return this.entries.has(n)},exists:function(n){return this.entries.has(n)},get:function(n){return this.entries.get(n)},remove:function(n){var i=this.get(n);return i&&(this.entries.delete(n),this.events.emit(s.REMOVE,this,n,i.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});e.exports=o},24047:(e,y,t)=>{var a=t(2161),g=t(83419),l=t(8443),s=new g({initialize:function(n){this.game=n,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(l.DESTROY,this.destroy,this)},addCustom:function(o){return this.custom.hasOwnProperty(o)||(this.custom[o]=new a),this.custom[o]},destroy:function(){for(var o=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],n=0;n<o.length;n++)this[o[n]].destroy(),this[o[n]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});e.exports=s},51464:e=>{e.exports="add"},59261:e=>{e.exports="remove"},24736:(e,y,t)=>{e.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(e,y,t)=>{e.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(e,y,t)=>{var a=t(83419),g=t(31401),l=t(39506),s=t(50792),o=t(19715),n=t(87841),i=t(61340),h=t(80333),r=t(26099),f=new a({Extends:s,Mixins:[g.AlphaSingle,g.Visible],initialize:function(d,p,m,C){d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=0),C===void 0&&(C=0),s.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new n,this.dirty=!0,this._x=d,this._y=p,this._width=m,this._height=C,this._bounds=new n,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new i,this.transparent=!0,this.backgroundColor=h("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new r(m/2,C/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(c){this.renderList.push(c)},setOrigin:function(c,d){return c===void 0&&(c=.5),d===void 0&&(d=c),this.originX=c,this.originY=d,this},getScroll:function(c,d,p){p===void 0&&(p=new r);var m=this.width*.5,C=this.height*.5;return p.x=c-m,p.y=d-C,this.useBounds&&(p.x=this.clampX(p.x),p.y=this.clampY(p.y)),p},centerOnX:function(c){var d=this.width*.5;return this.midPoint.x=c,this.scrollX=c-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(c){var d=this.height*.5;return this.midPoint.y=c,this.scrollY=c-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(c,d){return this.centerOnX(c),this.centerOnY(d),this},centerToBounds:function(){if(this.useBounds){var c=this._bounds,d=this.width*.5,p=this.height*.5;this.midPoint.set(c.centerX,c.centerY),this.scrollX=c.centerX-d,this.scrollY=c.centerY-p}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(c){if(this.disableCull)return c;var d=this.matrix.matrix,p=d[0],m=d[1],C=d[2],S=d[3],E=p*S-m*C;if(!E)return c;var D=d[4],M=d[5],w=this.scrollX,A=this.scrollY,R=this.width,P=this.height,O=this.y,b=O+P,F=this.x,L=F+R,G=this.culledObjects,z=c.length;E=1/E,G.length=0;for(var X=0;X<z;++X){var B=c[X];if(!B.hasOwnProperty("width")||B.parentContainer){G.push(B);continue}var U=B.width,I=B.height,N=B.x-w*B.scrollFactorX-U*B.originX,V=B.y-A*B.scrollFactorY-I*B.originY,H=N*p+V*C+D,W=N*m+V*S+M,Y=(N+U)*p+(V+I)*C+D,j=(N+U)*m+(V+I)*S+M;Y>F&&H<L&&j>O&&W<b&&G.push(B)}return G},getWorldPoint:function(c,d,p){p===void 0&&(p=new r);var m=this.matrix.matrix,C=m[0],S=m[1],E=m[2],D=m[3],M=m[4],w=m[5],A=C*D-S*E;if(!A)return p.x=c,p.y=d,p;A=1/A;var R=D*A,P=-S*A,O=-E*A,b=C*A,F=(E*w-D*M)*A,L=(S*M-C*w)*A,G=Math.cos(this.rotation),z=Math.sin(this.rotation),X=this.zoomX,B=this.zoomY,U=this.scrollX,I=this.scrollY,N=c+(U*G-I*z)*X,V=d+(U*z+I*G)*B;return p.x=N*R+V*O+F,p.y=N*P+V*b+L,p},ignore:function(c){var d=this.id;Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++){var m=c[p];Array.isArray(m)?this.ignore(m):m.isParent?this.ignore(m.getChildren()):m.cameraFilter|=d}return this},preRender:function(){this.renderList.length=0;var c=this.width,d=this.height,p=c*.5,m=d*.5,C=this.zoomX,S=this.zoomY,E=this.matrix,D=c*this.originX,M=d*this.originY,w=this.scrollX,A=this.scrollY;this.useBounds&&(w=this.clampX(w),A=this.clampY(A)),this.scrollX=w,this.scrollY=A;var R=w+p,P=A+m;this.midPoint.set(R,P);var O=c/C,b=d/S;this.worldView.setTo(R-O/2,P-b/2,O,b),E.applyITRS(this.x+D,this.y+M,this.rotation,C,S),E.translate(-D,-M)},clampX:function(c){var d=this._bounds,p=this.displayWidth,m=d.x+(p-this.width)/2,C=Math.max(m,m+d.width-p);return c<m?c=m:c>C&&(c=C),c},clampY:function(c){var d=this._bounds,p=this.displayHeight,m=d.y+(p-this.height)/2,C=Math.max(m,m+d.height-p);return c<m?c=m:c>C&&(c=C),c},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(c){return c===void 0&&(c=0),this.rotation=l(c),this},setBackgroundColor:function(c){return c===void 0&&(c="rgba(0,0,0,0)"),this.backgroundColor=h(c),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(c,d,p,m,C){return C===void 0&&(C=!1),this._bounds.setTo(c,d,p,m),this.dirty=!0,this.useBounds=!0,C?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(c){c===void 0&&(c=new n);var d=this._bounds;return c.setTo(d.x,d.y,d.width,d.height),c},setName:function(c){return c===void 0&&(c=""),this.name=c,this},setPosition:function(c,d){return d===void 0&&(d=c),this.x=c,this.y=d,this},setRotation:function(c){return c===void 0&&(c=0),this.rotation=c,this},setRoundPixels:function(c){return this.roundPixels=c,this},setScene:function(c,d){d===void 0&&(d=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=c,this.isSceneCamera=d;var p=c.sys;return this.sceneManager=p.game.scene,this.scaleManager=p.scale,this.cameraManager=p.cameras,this.updateSystem(),this},setScroll:function(c,d){return d===void 0&&(d=c),this.scrollX=c,this.scrollY=d,this},setSize:function(c,d){return d===void 0&&(d=c),this.width=c,this.height=d,this},setViewport:function(c,d,p,m){return this.x=c,this.y=d,this.width=p,this.height=m,this},setZoom:function(c,d){return c===void 0&&(c=1),d===void 0&&(d=c),c===0&&(c=.001),d===0&&(d=.001),this.zoomX=c,this.zoomY=d,this},setMask:function(c,d){return d===void 0&&(d=!0),this.mask=c,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(c){return c===void 0&&(c=!1),c&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var c={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(c.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),c},update:function(){},setIsSceneCamera:function(c){return this.isSceneCamera=c,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var c=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager;c&&!this._customViewport?d.customViewports++:!c&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=c}},destroy:function(){this.emit(o.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(c){this._x=c,this.updateSystem()}},y:{get:function(){return this._y},set:function(c){this._y=c,this.updateSystem()}},width:{get:function(){return this._width},set:function(c){this._width=c,this.updateSystem()}},height:{get:function(){return this._height},set:function(c){this._height=c,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(c){c!==this._scrollX&&(this._scrollX=c,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(c){c!==this._scrollY&&(this._scrollY=c,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(c){this._zoomX=c,this._zoomY=c,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(c){this._zoomX=c,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(c){this._zoomY=c,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});e.exports=f},38058:(e,y,t)=>{var a=t(71911),g=t(67502),l=t(45319),s=t(83419),o=t(31401),n=t(20052),i=t(19715),h=t(28915),r=t(87841),f=t(26099),c=new s({Extends:a,Mixins:[o.PostPipeline],initialize:function(p,m,C,S){a.call(this,p,m,C,S),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new n.Fade(this),this.flashEffect=new n.Flash(this),this.shakeEffect=new n.Shake(this),this.panEffect=new n.Pan(this),this.rotateToEffect=new n.RotateTo(this),this.zoomEffect=new n.Zoom(this),this.lerp=new f(1,1),this.followOffset=new f,this.deadzone=null,this._follow=null},setDeadzone:function(d,p){if(d===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=d,this.deadzone.height=p):this.deadzone=new r(0,0,d,p),this._follow){var m=this.width/2,C=this.height/2,S=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(S,E),this.scrollX=S-m,this.scrollY=E-C}g(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(d,p,m,C,S,E){return this.fadeEffect.start(!1,d,p,m,C,!0,S,E)},fadeOut:function(d,p,m,C,S,E){return this.fadeEffect.start(!0,d,p,m,C,!0,S,E)},fadeFrom:function(d,p,m,C,S,E,D){return this.fadeEffect.start(!1,d,p,m,C,S,E,D)},fade:function(d,p,m,C,S,E,D){return this.fadeEffect.start(!0,d,p,m,C,S,E,D)},flash:function(d,p,m,C,S,E,D){return this.flashEffect.start(d,p,m,C,S,E,D)},shake:function(d,p,m,C,S){return this.shakeEffect.start(d,p,m,C,S)},pan:function(d,p,m,C,S,E,D){return this.panEffect.start(d,p,m,C,S,E,D)},rotateTo:function(d,p,m,C,S,E,D){return this.rotateToEffect.start(d,p,m,C,S,E,D)},zoomTo:function(d,p,m,C,S,E){return this.zoomEffect.start(d,p,m,C,S,E)},preRender:function(){this.renderList.length=0;var d=this.width,p=this.height,m=d*.5,C=p*.5,S=this.zoom,E=this.matrix,D=d*this.originX,M=p*this.originY,w=this._follow,A=this.deadzone,R=this.scrollX,P=this.scrollY;A&&g(A,this.midPoint.x,this.midPoint.y);var O=!1;if(w&&!this.panEffect.isRunning){var b=this.lerp,F=w.x-this.followOffset.x,L=w.y-this.followOffset.y;A?(F<A.x?R=h(R,R-(A.x-F),b.x):F>A.right&&(R=h(R,R+(F-A.right),b.x)),L<A.y?P=h(P,P-(A.y-L),b.y):L>A.bottom&&(P=h(P,P+(L-A.bottom),b.y))):(R=h(R,F-D,b.x),P=h(P,L-M,b.y)),O=!0}this.useBounds&&(R=this.clampX(R),P=this.clampY(P)),this.scrollX=R,this.scrollY=P;var G=R+m,z=P+C;this.midPoint.set(G,z);var X=d/S,B=p/S,U=Math.floor(G-X/2),I=Math.floor(z-B/2);this.worldView.setTo(U,I,X,B),E.applyITRS(Math.floor(this.x+D),Math.floor(this.y+M),this.rotation,S,S),E.translate(-D,-M),this.shakeEffect.preRender(),O&&this.emit(i.FOLLOW_UPDATE,this,w)},setLerp:function(d,p){return d===void 0&&(d=1),p===void 0&&(p=d),this.lerp.set(d,p),this},setFollowOffset:function(d,p){return d===void 0&&(d=0),p===void 0&&(p=0),this.followOffset.set(d,p),this},startFollow:function(d,p,m,C,S,E){p===void 0&&(p=!1),m===void 0&&(m=1),C===void 0&&(C=m),S===void 0&&(S=0),E===void 0&&(E=S),this._follow=d,this.roundPixels=p,m=l(m,0,1),C=l(C,0,1),this.lerp.set(m,C),this.followOffset.set(S,E);var D=this.width/2,M=this.height/2,w=d.x-S,A=d.y-E;return this.midPoint.set(w,A),this.scrollX=w-D,this.scrollY=A-M,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,p){this.visible&&(this.rotateToEffect.update(d,p),this.panEffect.update(d,p),this.zoomEffect.update(d,p),this.shakeEffect.update(d,p),this.flashEffect.update(d,p),this.fadeEffect.update(d,p))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});e.exports=c},32743:(e,y,t)=>{var a=t(38058),g=t(83419),l=t(95540),s=t(37277),o=t(37303),n=t(97480),i=t(44594),h=new g({initialize:function(f){this.scene=f,this.systems=f.sys,this.roundPixels=f.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,f.sys.events.once(i.BOOT,this.boot,this),f.sys.events.on(i.START,this.start,this)},boot:function(){var r=this.systems;r.settings.cameras?this.fromJSON(r.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,r.scale.width,r.scale.height).setScene(this.scene),r.game.scale.on(n.RESIZE,this.onResize,this),this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){if(!this.main){var r=this.systems;r.settings.cameras?this.fromJSON(r.settings.cameras):this.add(),this.main=this.cameras[0]}var f=this.systems.events;f.on(i.UPDATE,this.update,this),f.once(i.SHUTDOWN,this.shutdown,this)},add:function(r,f,c,d,p,m){r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),p===void 0&&(p=!1),m===void 0&&(m="");var C=new a(r,f,c,d);return C.setName(m),C.setScene(this.scene),C.setRoundPixels(this.roundPixels),C.id=this.getNextID(),this.cameras.push(C),p&&(this.main=C),C},addExisting:function(r,f){f===void 0&&(f=!1);var c=this.cameras.indexOf(r);return c===-1?(r.id=this.getNextID(),r.setRoundPixels(this.roundPixels),this.cameras.push(r),f&&(this.main=r),r):null},getNextID:function(){for(var r=this.cameras,f=1,c=0;c<32;c++){for(var d=!1,p=0;p<r.length;p++){var m=r[p];if(m&&m.id===f){d=!0;continue}}if(d)f=f<<1;else return f}return 0},getTotal:function(r){r===void 0&&(r=!1);for(var f=0,c=this.cameras,d=0;d<c.length;d++){var p=c[d];(!r||r&&p.visible)&&f++}return f},fromJSON:function(r){Array.isArray(r)||(r=[r]);for(var f=this.scene.sys.scale.width,c=this.scene.sys.scale.height,d=0;d<r.length;d++){var p=r[d],m=l(p,"x",0),C=l(p,"y",0),S=l(p,"width",f),E=l(p,"height",c),D=this.add(m,C,S,E);D.name=l(p,"name",""),D.zoom=l(p,"zoom",1),D.rotation=l(p,"rotation",0),D.scrollX=l(p,"scrollX",0),D.scrollY=l(p,"scrollY",0),D.roundPixels=l(p,"roundPixels",!1),D.visible=l(p,"visible",!0);var M=l(p,"backgroundColor",!1);M&&D.setBackgroundColor(M);var w=l(p,"bounds",null);if(w){var A=l(w,"x",0),R=l(w,"y",0),P=l(w,"width",f),O=l(w,"height",c);D.setBounds(A,R,P,O)}}return this},getCamera:function(r){for(var f=this.cameras,c=0;c<f.length;c++)if(f[c].name===r)return f[c];return null},getCamerasBelowPointer:function(r){for(var f=this.cameras,c=r.x,d=r.y,p=[],m=0;m<f.length;m++){var C=f[m];C.visible&&C.inputEnabled&&o(C,c,d)&&p.unshift(C)}return p},remove:function(r,f){f===void 0&&(f=!0),Array.isArray(r)||(r=[r]);for(var c=0,d=this.cameras,p=0;p<r.length;p++){var m=d.indexOf(r[p]);m!==-1&&(f?d[m].destroy():d[m].renderList=[],d.splice(m,1),c++)}return!this.main&&d[0]&&(this.main=d[0]),c},render:function(r,f){for(var c=this.scene,d=this.cameras,p=0;p<d.length;p++){var m=d[p];if(m.visible&&m.alpha>0){m.preRender();var C=this.getVisibleChildren(f.getChildren(),m);r.render(c,C,m)}}},getVisibleChildren:function(r,f){return r.filter(function(c){return c.willRender(f)})},resetAll:function(){for(var r=0;r<this.cameras.length;r++)this.cameras[r].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(r,f){for(var c=0;c<this.cameras.length;c++)this.cameras[c].update(r,f)},onResize:function(r,f,c,d,p){for(var m=0;m<this.cameras.length;m++){var C=this.cameras[m];C._x===0&&C._y===0&&C._width===d&&C._height===p&&C.setSize(f.width,f.height)}},resize:function(r,f){for(var c=0;c<this.cameras.length;c++)this.cameras[c].setSize(r,f)},shutdown:function(){this.main=void 0;for(var r=0;r<this.cameras.length;r++)this.cameras[r].destroy();this.cameras=[];var f=this.systems.events;f.off(i.UPDATE,this.update,this),f.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(i.START,this.start,this),this.systems.events.off(i.DESTROY,this.destroy,this),this.systems.game.scale.off(n.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});s.register("CameraManager",h,"cameras"),e.exports=h},5020:(e,y,t)=>{var a=t(45319),g=t(83419),l=t(19715),s=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,n,i,h,r,f,c,d){if(o===void 0&&(o=!0),n===void 0&&(n=1e3),i===void 0&&(i=0),h===void 0&&(h=0),r===void 0&&(r=0),f===void 0&&(f=!1),c===void 0&&(c=null),d===void 0&&(d=this.camera.scene),!f&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=n,this.direction=o,this.progress=0,this.red=i,this.green=h,this.blue=r,this.alpha=o?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=d;var p=o?l.FADE_OUT_START:l.FADE_IN_START;return this.camera.emit(p,this.camera,this,n,i,h,r),this.camera},update:function(o,n){this.isRunning&&(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(o){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera;return o.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",o.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(o,n){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,h=this.red/255,r=this.green/255,f=this.blue/255;return o.drawFillRect(i.x,i.y,i.width,i.height,n(f,r,h,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var o=this.direction?l.FADE_OUT_COMPLETE:l.FADE_IN_COMPLETE;this.camera.emit(o,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=s},10662:(e,y,t)=>{var a=t(45319),g=t(83419),l=t(19715),s=new g({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(o,n,i,h,r,f,c){return o===void 0&&(o=250),n===void 0&&(n=255),i===void 0&&(i=255),h===void 0&&(h=255),r===void 0&&(r=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene),!r&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,this.red=n,this.green=i,this.blue=h,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c,this.camera.emit(l.FLASH_START,this.camera,this,o,n,i,h),this.camera)},update:function(o,n){this.isRunning&&(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(o){if(!this.isRunning)return!1;var n=this.camera;return o.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",o.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(o,n){if(!this.isRunning)return!1;var i=this.camera,h=this.red/255,r=this.green/255,f=this.blue/255;return o.drawFillRect(i.x,i.y,i.width,i.height,n(f,r,h,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=s},20359:(e,y,t)=>{var a=t(45319),g=t(83419),l=t(62640),s=t(19715),o=t(26099),n=new g({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=new o,this.current=new o,this.destination=new o,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,h,r,f,c,d,p){r===void 0&&(r=1e3),f===void 0&&(f=l.Linear),c===void 0&&(c=!1),d===void 0&&(d=null),p===void 0&&(p=this.camera.scene);var m=this.camera;return!c&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source.set(m.scrollX,m.scrollY),this.destination.set(i,h),m.getScroll(i,h,this.current),typeof f=="string"&&l.hasOwnProperty(f)?this.ease=l[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=p,this.camera.emit(s.PAN_START,this.camera,this,r,i,h)),m},update:function(i,h){if(this.isRunning){this._elapsed+=h;var r=a(this._elapsed/this.duration,0,1);this.progress=r;var f=this.camera;if(this._elapsed<this.duration){var c=this.ease(r);f.getScroll(this.destination.x,this.destination.y,this.current);var d=this.source.x+(this.current.x-this.source.x)*c,p=this.source.y+(this.current.y-this.source.y)*c;f.setScroll(d,p),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,f,r,d,p)}else f.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,f,r,f.scrollX,f.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});e.exports=n},34208:(e,y,t)=>{var a=t(45319),g=t(83419),l=t(19715),s=t(62640),o=new g({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(n,i,h,r,f,c,d){h===void 0&&(h=1e3),r===void 0&&(r=s.Linear),f===void 0&&(f=!1),c===void 0&&(c=null),d===void 0&&(d=this.camera.scene),i===void 0&&(i=!1),this.shortestPath=i;var p=n;n<0?(p=-1*n,this.clockwise=!1):this.clockwise=!0;var m=360*Math.PI/180;p=p-Math.floor(p/m)*m;var C=this.camera;if(!f&&this.isRunning)return C;if(this.isRunning=!0,this.duration=h,this.progress=0,this.source=C.rotation,this.destination=p,typeof r=="string"&&s.hasOwnProperty(r)?this.ease=s[r]:typeof r=="function"&&(this.ease=r),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=d,this.shortestPath){var S=0,E=0;this.destination>this.source?S=Math.abs(this.destination-this.source):S=Math.abs(this.destination+m)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+m)-this.destination,S<E?this.clockwise=!0:S>E&&(this.clockwise=!1)}return this.camera.emit(l.ROTATE_START,this.camera,this,h,p),C},update:function(n,i){if(this.isRunning){this._elapsed+=i;var h=a(this._elapsed/this.duration,0,1);this.progress=h;var r=this.camera;if(this._elapsed<this.duration){var f=this.ease(h);this.current=r.rotation;var c=0,d=360*Math.PI/180,p=this.destination,m=this.current;this.clockwise===!1&&(p=this.current,m=this.destination),p>=m?c=Math.abs(p-m):c=Math.abs(p+d)-m;var C=0;this.clockwise?C=r.rotation+c*f:C=r.rotation-c*f,r.rotation=C,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,h,C)}else r.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,h,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});e.exports=o},30330:(e,y,t)=>{var a=t(45319),g=t(83419),l=t(19715),s=t(26099),o=new g({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.intensity=new s,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(n,i,h,r,f){return n===void 0&&(n=100),i===void 0&&(i=.05),h===void 0&&(h=!1),r===void 0&&(r=null),f===void 0&&(f=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,typeof i=="number"?this.intensity.set(i):this.intensity.set(i.x,i.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=r,this._onUpdateScope=f,this.camera.emit(l.SHAKE_START,this.camera,this,n,i),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(n,i){if(this.isRunning)if(this._elapsed+=i,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var h=this.intensity,r=this.camera.width,f=this.camera.height,c=this.camera.zoom;this._offsetX=(Math.random()*h.x*r*2-h.x*r)*c,this._offsetY=(Math.random()*h.y*f*2-h.y*f)*c,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});e.exports=o},45641:(e,y,t)=>{var a=t(45319),g=t(83419),l=t(62640),s=t(19715),o=new g({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,i,h,r,f,c){i===void 0&&(i=1e3),h===void 0&&(h=l.Linear),r===void 0&&(r=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene);var d=this.camera;return!r&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source=d.zoom,this.destination=n,typeof h=="string"&&l.hasOwnProperty(h)?this.ease=l[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c,this.camera.emit(s.ZOOM_START,this.camera,this,i,n)),d},update:function(n,i){this.isRunning&&(this._elapsed+=i,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=o},20052:(e,y,t)=>{e.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:e=>{e.exports="cameradestroy"},32726:e=>{e.exports="camerafadeincomplete"},87807:e=>{e.exports="camerafadeinstart"},45917:e=>{e.exports="camerafadeoutcomplete"},95666:e=>{e.exports="camerafadeoutstart"},47056:e=>{e.exports="cameraflashcomplete"},91261:e=>{e.exports="cameraflashstart"},45047:e=>{e.exports="followupdate"},81927:e=>{e.exports="camerapancomplete"},74264:e=>{e.exports="camerapanstart"},54419:e=>{e.exports="postrender"},79330:e=>{e.exports="prerender"},93183:e=>{e.exports="camerarotatecomplete"},80112:e=>{e.exports="camerarotatestart"},62252:e=>{e.exports="camerashakecomplete"},86017:e=>{e.exports="camerashakestart"},539:e=>{e.exports="camerazoomcomplete"},51892:e=>{e.exports="camerazoomstart"},19715:(e,y,t)=>{e.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(e,y,t)=>{e.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(e,y,t)=>{var a=t(83419),g=t(35154),l=new a({initialize:function(o){this.camera=g(o,"camera",null),this.left=g(o,"left",null),this.right=g(o,"right",null),this.up=g(o,"up",null),this.down=g(o,"down",null),this.zoomIn=g(o,"zoomIn",null),this.zoomOut=g(o,"zoomOut",null),this.zoomSpeed=g(o,"zoomSpeed",.01),this.minZoom=g(o,"minZoom",.001),this.maxZoom=g(o,"maxZoom",1e3),this.speedX=0,this.speedY=0;var n=g(o,"speed",null);typeof n=="number"?(this.speedX=n,this.speedY=n):(this.speedX=g(o,"speed.x",0),this.speedY=g(o,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var o=this.camera;this.up&&this.up.isDown?o.scrollY-=this.speedY*s|0:this.down&&this.down.isDown&&(o.scrollY+=this.speedY*s|0),this.left&&this.left.isDown?o.scrollX-=this.speedX*s|0:this.right&&this.right.isDown&&(o.scrollX+=this.speedX*s|0),this.zoomIn&&this.zoomIn.isDown?(o.zoom-=this.zoomSpeed,o.zoom<this.minZoom&&(o.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(o.zoom+=this.zoomSpeed,o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});e.exports=l},58818:(e,y,t)=>{var a=t(83419),g=t(35154),l=new a({initialize:function(o){this.camera=g(o,"camera",null),this.left=g(o,"left",null),this.right=g(o,"right",null),this.up=g(o,"up",null),this.down=g(o,"down",null),this.zoomIn=g(o,"zoomIn",null),this.zoomOut=g(o,"zoomOut",null),this.zoomSpeed=g(o,"zoomSpeed",.01),this.minZoom=g(o,"minZoom",.001),this.maxZoom=g(o,"maxZoom",1e3),this.accelX=0,this.accelY=0;var n=g(o,"acceleration",null);typeof n=="number"?(this.accelX=n,this.accelY=n):(this.accelX=g(o,"acceleration.x",0),this.accelY=g(o,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=g(o,"drag",null);typeof i=="number"?(this.dragX=i,this.dragY=i):(this.dragX=g(o,"drag.x",0),this.dragY=g(o,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var h=g(o,"maxSpeed",null);typeof h=="number"?(this.maxSpeedX=h,this.maxSpeedY=h):(this.maxSpeedX=g(o,"maxSpeed.x",0),this.maxSpeedY=g(o,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var o=this.camera;this._speedX>0?(this._speedX-=this.dragX*s,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*s,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*s,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*s,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(o.scrollX-=this._speedX*s|0),this._speedY!==0&&(o.scrollY-=this._speedY*s|0),this._zoom!==0&&(o.zoom+=this._zoom,o.zoom<this.minZoom?o.zoom=this.minZoom:o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});e.exports=l},38865:(e,y,t)=>{e.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(e,y,t)=>{e.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(e,y,t)=>{var a={VERSION:"3.80.1",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};e.exports=a},69547:(e,y,t)=>{var a=t(83419),g=t(8054),l=t(42363),s=t(82264),o=t(95540),n=t(35154),i=t(41212),h=t(29747),r=t(75508),f=t(36060),c=t(80333),d=new a({initialize:function(m){m===void 0&&(m={});var C=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],S="#ffffff",E=n(m,"scale",null);this.width=n(E,"width",1024,m),this.height=n(E,"height",768,m),this.zoom=n(E,"zoom",1,m),this.parent=n(E,"parent",void 0,m),this.scaleMode=n(E,E?"mode":"scaleMode",0,m),this.expandParent=n(E,"expandParent",!0,m),this.autoRound=n(E,"autoRound",!1,m),this.autoCenter=n(E,"autoCenter",0,m),this.resizeInterval=n(E,"resizeInterval",500,m),this.fullscreenTarget=n(E,"fullscreenTarget",null,m),this.minWidth=n(E,"min.width",0,m),this.maxWidth=n(E,"max.width",0,m),this.minHeight=n(E,"min.height",0,m),this.maxHeight=n(E,"max.height",0,m),this.snapWidth=n(E,"snap.width",0,m),this.snapHeight=n(E,"snap.height",0,m),this.renderType=n(m,"type",g.AUTO),this.canvas=n(m,"canvas",null),this.context=n(m,"context",null),this.canvasStyle=n(m,"canvasStyle",null),this.customEnvironment=n(m,"customEnvironment",!1),this.sceneConfig=n(m,"scene",null),this.seed=n(m,"seed",[(Date.now()*Math.random()).toString()]),r.RND=new r.RandomDataGenerator(this.seed),this.gameTitle=n(m,"title",""),this.gameURL=n(m,"url","https://phaser.io"),this.gameVersion=n(m,"version",""),this.autoFocus=n(m,"autoFocus",!0),this.stableSort=n(m,"stableSort",-1),this.stableSort===-1&&(this.stableSort=s.browser.es2019?1:0),s.features.stableSort=this.stableSort,this.domCreateContainer=n(m,"dom.createContainer",!1),this.domPointerEvents=n(m,"dom.pointerEvents","none"),this.inputKeyboard=n(m,"input.keyboard",!0),this.inputKeyboardEventTarget=n(m,"input.keyboard.target",window),this.inputKeyboardCapture=n(m,"input.keyboard.capture",[]),this.inputMouse=n(m,"input.mouse",!0),this.inputMouseEventTarget=n(m,"input.mouse.target",null),this.inputMousePreventDefaultDown=n(m,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=n(m,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=n(m,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=n(m,"input.mouse.preventDefaultWheel",!0),this.inputTouch=n(m,"input.touch",s.input.touch),this.inputTouchEventTarget=n(m,"input.touch.target",null),this.inputTouchCapture=n(m,"input.touch.capture",!0),this.inputActivePointers=n(m,"input.activePointers",1),this.inputSmoothFactor=n(m,"input.smoothFactor",0),this.inputWindowEvents=n(m,"input.windowEvents",!0),this.inputGamepad=n(m,"input.gamepad",!1),this.inputGamepadEventTarget=n(m,"input.gamepad.target",window),this.disableContextMenu=n(m,"disableContextMenu",!1),this.audio=n(m,"audio",{}),this.hideBanner=n(m,"banner",null)===!1,this.hidePhaser=n(m,"banner.hidePhaser",!1),this.bannerTextColor=n(m,"banner.text",S),this.bannerBackgroundColor=n(m,"banner.background",C),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=n(m,"fps",null),this.disablePreFX=n(m,"disablePreFX",!1),this.disablePostFX=n(m,"disablePostFX",!1);var D=n(m,"render",null);this.pipeline=n(D,"pipeline",null,m),this.autoMobilePipeline=n(D,"autoMobilePipeline",!0,m),this.defaultPipeline=n(D,"defaultPipeline",f.MULTI_PIPELINE,m),this.antialias=n(D,"antialias",!0,m),this.antialiasGL=n(D,"antialiasGL",!0,m),this.mipmapFilter=n(D,"mipmapFilter","",m),this.desynchronized=n(D,"desynchronized",!1,m),this.roundPixels=n(D,"roundPixels",!0,m),this.pixelArt=n(D,"pixelArt",this.zoom!==1,m),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=n(D,"transparent",!1,m),this.clearBeforeRender=n(D,"clearBeforeRender",!0,m),this.preserveDrawingBuffer=n(D,"preserveDrawingBuffer",!1,m),this.premultipliedAlpha=n(D,"premultipliedAlpha",!0,m),this.failIfMajorPerformanceCaveat=n(D,"failIfMajorPerformanceCaveat",!1,m),this.powerPreference=n(D,"powerPreference","default",m),this.batchSize=n(D,"batchSize",4096,m),this.maxTextures=n(D,"maxTextures",-1,m),this.maxLights=n(D,"maxLights",10,m);var M=n(m,"backgroundColor",0);this.backgroundColor=c(M),this.transparent&&(this.backgroundColor=c(0),this.backgroundColor.alpha=0),this.preBoot=n(m,"callbacks.preBoot",h),this.postBoot=n(m,"callbacks.postBoot",h),this.physics=n(m,"physics",{}),this.defaultPhysicsSystem=n(this.physics,"default",!1),this.loaderBaseURL=n(m,"loader.baseURL",""),this.loaderPath=n(m,"loader.path",""),this.loaderMaxParallelDownloads=n(m,"loader.maxParallelDownloads",s.os.android?6:32),this.loaderCrossOrigin=n(m,"loader.crossOrigin",void 0),this.loaderResponseType=n(m,"loader.responseType",""),this.loaderAsync=n(m,"loader.async",!0),this.loaderUser=n(m,"loader.user",""),this.loaderPassword=n(m,"loader.password",""),this.loaderTimeout=n(m,"loader.timeout",0),this.loaderWithCredentials=n(m,"loader.withCredentials",!1),this.loaderImageLoadType=n(m,"loader.imageLoadType","XHR"),this.loaderLocalScheme=n(m,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=n(m,"fx.glow.quality",.1),this.glowFXDistance=n(m,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=n(m,"plugins",null),A=l.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:i(w)&&(this.installGlobalPlugins=o(w,"global",[]),this.installScenePlugins=o(w,"scene",[]),Array.isArray(w.default)?A=w.default:Array.isArray(w.defaultMerge)&&(A=A.concat(w.defaultMerge)))),this.defaultPlugins=A;var R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=n(m,"images.default",R+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=n(m,"images.missing",R+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=n(m,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=g.WEBGL:window.FORCE_CANVAS&&(this.renderType=g.CANVAS))}});e.exports=d},86054:(e,y,t)=>{var a=t(20623),g=t(27919),l=t(8054),s=t(89357),o=function(n){var i=n.config;if((i.customEnvironment||i.canvas)&&i.renderType===l.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!i.customEnvironment&&!i.canvas&&i.renderType!==l.HEADLESS)if(i.renderType===l.AUTO&&(i.renderType=s.webGL?l.WEBGL:l.CANVAS),i.renderType===l.WEBGL){if(!s.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(i.renderType===l.CANVAS){if(!s.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+i.renderType);i.antialias||g.disableSmoothing();var h=n.scale.baseSize,r=h.width,f=h.height;if(i.canvas?(n.canvas=i.canvas,n.canvas.width=r,n.canvas.height=f):n.canvas=g.create(n,r,f,i.renderType),i.canvasStyle&&(n.canvas.style=i.canvasStyle),i.antialias||a.setCrisp(n.canvas),i.renderType!==l.HEADLESS){var c,d;c=t(68627),d=t(74797),i.renderType===l.WEBGL?n.renderer=new d(n):(n.renderer=new c(n),n.context=n.renderer.gameContext)}};e.exports=o},96391:(e,y,t)=>{var a=t(8054),g=function(l){var s=l.config;if(!s.hideBanner){var o="WebGL";s.renderType===a.CANVAS?o="Canvas":s.renderType===a.HEADLESS&&(o="Headless");var n=s.audio,i=l.device.audio,h;if(i.webAudio&&!n.disableWebAudio?h="Web Audio":n.noAudio||!i.webAudio&&!i.audioData?h="No Audio":h="HTML5 Audio",l.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var r="",f=[r];if(Array.isArray(s.bannerBackgroundColor)){var c;s.bannerBackgroundColor.forEach(function(p){r=r.concat("%c "),f.push("background: "+p),c=p}),f[f.length-1]="color: "+s.bannerTextColor+"; background: "+c}else r=r.concat("%c "),f.push("color: "+s.bannerTextColor+"; background: "+s.bannerBackgroundColor);f.push("background: transparent"),s.gameTitle&&(r=r.concat(s.gameTitle),s.gameVersion&&(r=r.concat(" v"+s.gameVersion)),s.hidePhaser||(r=r.concat(" / ")));var d="";s.hidePhaser||(r=r.concat("Phaser v"+a.VERSION+d+" ("+o+" | "+h+")")),r=r.concat(" %c "+s.gameURL),f[0]=r,console.log.apply(console,f)}}};e.exports=g},50127:(e,y,t)=>{var a=t(40366),g=t(60848),l=t(24047),s=t(27919),o=t(83419),n=t(69547),i=t(83719),h=t(86054),r=t(45893),f=t(96391),c=t(82264),d=t(57264),p=t(50792),m=t(8443),C=t(7003),S=t(37277),E=t(77332),D=t(76531),M=t(60903),w=t(69442),A=t(17130),R=t(65898),P=t(51085),O=t(14747);if(0)var b;var F=new o({initialize:function(G){this.config=new n(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new p,this.anims=new g(this),this.textures=new A(this),this.cache=new l(this),this.registry=new r(this,new p),this.input=new C(this,this.config),this.scene=new M(this,this.config.sceneConfig),this.device=c,this.scale=new D(this,this.config),this.sound=null,this.sound=O.create(this),this.loop=new R(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,d(this.boot.bind(this))},boot:function(){if(!S.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),h(this),i(this),f(this),a(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),P(this);var L=this.events;L.on(m.HIDDEN,this.onHidden,this),L.on(m.VISIBLE,this.onVisible,this),L.on(m.BLUR,this.onBlur,this),L.on(m.FOCUS,this.onFocus,this)},step:function(L,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(m.PRE_STEP,L,G),z.emit(m.STEP,L,G),this.scene.update(L,G),z.emit(m.POST_STEP,L,G);var X=this.renderer;X.preRender(),z.emit(m.PRE_RENDER,X,L,G),this.scene.render(X),X.postRender(),z.emit(m.POST_RENDER,X,L,G)}},headlessStep:function(L,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(m.PRE_STEP,L,G),z.emit(m.STEP,L,G),this.scene.update(L,G),z.emit(m.POST_STEP,L,G),this.scene.isProcessing=!1,z.emit(m.PRE_RENDER,null,L,G),z.emit(m.POST_RENDER,null,L,G)}},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},pause:function(){var L=this.isPaused;this.isPaused=!0,L||this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME)},resume:function(){var L=this.isPaused;this.isPaused=!1,L&&this.events.emit(m.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(L,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=L,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(s.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});e.exports=F},65898:(e,y,t)=>{var a=t(83419),g=t(35154),l=t(29747),s=t(43092),o=new a({initialize:function(i,h){this.game=i,this.raf=new s,this.started=!1,this.running=!1,this.minFps=g(h,"min",5),this.targetFps=g(h,"target",60),this.fpsLimit=g(h,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=l,this.forceSetTimeOut=g(h,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=g(h,"deltaHistory",10),this.panicMax=g(h,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=g(h,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var n=window.performance.now();this.time=n,this.lastTime=n,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=Math.min(this._target,this.deltaHistory[i]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(n){if(this.started)return this;this.started=!0,this.running=!0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=n;var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target)},smoothDelta:function(n){var i=this.deltaIndex,h=this.deltaHistory,r=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,n=Math.min(n,this._target)),n>this._min&&(n=h[i],n=Math.min(n,this._min)),h[i]=n,this.deltaIndex++,this.deltaIndex>=r&&(this.deltaIndex=0);for(var f=0,c=0;c<r;c++)f+=h[c];return f/=r,f},updateFPS:function(n){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0},stepLimitFPS:function(n){this.now=n;var i=Math.max(0,n-this.lastTime);this.rawDelta=i,this.time+=this.rawDelta,this.smoothStep&&(i=this.smoothDelta(i)),this.delta+=i,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(n,this.delta),this.delta=0),this.lastTime=n,this.frame++},step:function(n){this.now=n;var i=Math.max(0,n-this.lastTime);this.rawDelta=i,this.time+=this.rawDelta,this.smoothStep&&(i=this.smoothDelta(i)),this.delta=i,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.callback(n,i),this.lastTime=n,this.frame++},tick:function(){var n=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(n):this.step(n)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(n){n===void 0&&(n=!1);var i=window.performance.now();if(!this.running){n&&(this.startTime+=-this.lastTime+(this.lastTime+i));var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});e.exports=o},51085:(e,y,t)=>{var a=t(8443),g=function(l){var s,o=l.events;if(document.hidden!==void 0)s="visibilitychange";else{var n=["webkit","moz","ms"];n.forEach(function(h){document[h+"Hidden"]!==void 0&&(document.hidden=function(){return document[h+"Hidden"]},s=h+"visibilitychange")})}var i=function(h){document.hidden||h.type==="pause"?o.emit(a.HIDDEN):o.emit(a.VISIBLE)};s&&document.addEventListener(s,i,!1),window.onblur=function(){o.emit(a.BLUR)},window.onfocus=function(){o.emit(a.FOCUS)},window.focus&&l.config.autoFocus&&window.focus()};e.exports=g},97217:e=>{e.exports="blur"},47548:e=>{e.exports="boot"},19814:e=>{e.exports="contextlost"},68446:e=>{e.exports="destroy"},41700:e=>{e.exports="focus"},25432:e=>{e.exports="hidden"},65942:e=>{e.exports="pause"},59211:e=>{e.exports="postrender"},47789:e=>{e.exports="poststep"},39066:e=>{e.exports="prerender"},460:e=>{e.exports="prestep"},16175:e=>{e.exports="ready"},42331:e=>{e.exports="resume"},11966:e=>{e.exports="step"},32969:e=>{e.exports="systemready"},94830:e=>{e.exports="visible"},8443:(e,y,t)=>{e.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(e,y,t)=>{e.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(e,y,t)=>{var a=t(5290),g=t(27919),l=t(35154),s=function(o){var n=l(o,"data",[]),i=l(o,"canvas",null),h=l(o,"palette",a),r=l(o,"pixelWidth",1),f=l(o,"pixelHeight",r),c=l(o,"resizeCanvas",!0),d=l(o,"clearCanvas",!0),p=l(o,"preRender",null),m=l(o,"postRender",null),C=Math.floor(Math.abs(n[0].length*r)),S=Math.floor(Math.abs(n.length*f));i||(i=g.create2D(this,C,S),c=!1,d=!1),c&&(i.width=C,i.height=S);var E=i.getContext("2d",{willReadFrequently:!0});d&&E.clearRect(0,0,C,S),p&&p(i,E);for(var D=0;D<n.length;D++)for(var M=n[D],w=0;w<M.length;w++){var A=M[w];A!=="."&&A!==" "&&(E.fillStyle=h[A],E.fillRect(w*r,D*f,r,f))}return m&&m(i,E),i};e.exports=s},15822:(e,y,t)=>{e.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:e=>{e.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:e=>{e.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:e=>{e.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:e=>{e.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:e=>{e.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(e,y,t)=>{e.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(e,y,t)=>{var a=t(83419),g=t(36316),l=t(80021),s=t(26099),o=new a({Extends:l,initialize:function(i,h,r,f){l.call(this,"CubicBezierCurve"),Array.isArray(i)&&(f=new s(i[6],i[7]),r=new s(i[4],i[5]),h=new s(i[2],i[3]),i=new s(i[0],i[1])),this.p0=i,this.p1=h,this.p2=r,this.p3=f},getStartPoint:function(n){return n===void 0&&(n=new s),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,i){i===void 0&&(i=new s);var h=this.p0,r=this.p1,f=this.p2,c=this.p3;return i.set(g(n,h.x,r.x,f.x,c.x),g(n,h.y,r.y,f.y,c.y))},draw:function(n,i){i===void 0&&(i=32);var h=this.getPoints(i);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var r=1;r<h.length;r++)n.lineTo(h[r].x,h[r].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});o.fromJSON=function(n){var i=n.points,h=new s(i[0],i[1]),r=new s(i[2],i[3]),f=new s(i[4],i[5]),c=new s(i[6],i[7]);return new o(h,r,f,c)},e.exports=o},80021:(e,y,t)=>{var a=t(83419),g=t(19217),l=t(87841),s=t(26099),o=new a({initialize:function(i){this.type=i,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new s,this._tmpVec2B=new s},draw:function(n,i){return i===void 0&&(i=32),n.strokePoints(this.getPoints(i))},getBounds:function(n,i){n||(n=new l),i===void 0&&(i=16);var h=this.getLength();i>h&&(i=h/2);var r=Math.max(1,Math.round(h/i));return g(this.getSpacedPoints(r),n)},getDistancePoints:function(n){var i=this.getLength(),h=Math.max(1,i/n);return this.getSpacedPoints(h)},getEndPoint:function(n){return n===void 0&&(n=new s),this.getPointAt(1,n)},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var i=[],h,r=this.getPoint(0,this._tmpVec2A),f=0;i.push(0);for(var c=1;c<=n;c++)h=this.getPoint(c/n,this._tmpVec2B),f+=h.distance(r),i.push(f),r.copy(h);return this.cacheArcLengths=i,i},getPointAt:function(n,i){var h=this.getUtoTmapping(n);return this.getPoint(h,i)},getPoints:function(n,i,h){h===void 0&&(h=[]),n||(i?n=this.getLength()/i:n=this.defaultDivisions);for(var r=0;r<=n;r++)h.push(this.getPoint(r/n));return h},getRandomPoint:function(n){return n===void 0&&(n=new s),this.getPoint(Math.random(),n)},getSpacedPoints:function(n,i,h){h===void 0&&(h=[]),n||(i?n=this.getLength()/i:n=this.defaultDivisions);for(var r=0;r<=n;r++){var f=this.getUtoTmapping(r/n,null,n);h.push(this.getPoint(f))}return h},getStartPoint:function(n){return n===void 0&&(n=new s),this.getPointAt(0,n)},getTangent:function(n,i){i===void 0&&(i=new s);var h=1e-4,r=n-h,f=n+h;return r<0&&(r=0),f>1&&(f=1),this.getPoint(r,this._tmpVec2A),this.getPoint(f,i),i.subtract(this._tmpVec2A).normalize()},getTangentAt:function(n,i){var h=this.getUtoTmapping(n);return this.getTangent(h,i)},getTFromDistance:function(n,i){return n<=0?0:this.getUtoTmapping(0,n,i)},getUtoTmapping:function(n,i,h){var r=this.getLengths(h),f=0,c=r.length,d;i?d=Math.min(i,r[c-1]):d=n*r[c-1];for(var p=0,m=c-1,C;p<=m;)if(f=Math.floor(p+(m-p)/2),C=r[f]-d,C<0)p=f+1;else if(C>0)m=f-1;else{m=f;break}if(f=m,r[f]===d)return f/(c-1);var S=r[f],E=r[f+1],D=E-S,M=(d-S)/D;return(f+M)/(c-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});e.exports=o},73825:(e,y,t)=>{var a=t(83419),g=t(80021),l=t(39506),s=t(35154),o=t(43396),n=t(26099),i=new a({Extends:g,initialize:function(r,f,c,d,p,m,C,S){if(typeof r=="object"){var E=r;r=s(E,"x",0),f=s(E,"y",0),c=s(E,"xRadius",0),d=s(E,"yRadius",c),p=s(E,"startAngle",0),m=s(E,"endAngle",360),C=s(E,"clockwise",!1),S=s(E,"rotation",0)}else d===void 0&&(d=c),p===void 0&&(p=0),m===void 0&&(m=360),C===void 0&&(C=!1),S===void 0&&(S=0);g.call(this,"EllipseCurve"),this.p0=new n(r,f),this._xRadius=c,this._yRadius=d,this._startAngle=l(p),this._endAngle=l(m),this._clockwise=C,this._rotation=l(S)},getStartPoint:function(h){return h===void 0&&(h=new n),this.getPoint(0,h)},getResolution:function(h){return h*2},getPoint:function(h,r){r===void 0&&(r=new n);for(var f=Math.PI*2,c=this._endAngle-this._startAngle,d=Math.abs(c)<Number.EPSILON;c<0;)c+=f;for(;c>f;)c-=f;c<Number.EPSILON&&(d?c=0:c=f),this._clockwise&&!d&&(c===f?c=-f:c=c-f);var p=this._startAngle+h*c,m=this.p0.x+this._xRadius*Math.cos(p),C=this.p0.y+this._yRadius*Math.sin(p);if(this._rotation!==0){var S=Math.cos(this._rotation),E=Math.sin(this._rotation),D=m-this.p0.x,M=C-this.p0.y;m=D*S-M*E+this.p0.x,C=D*E+M*S+this.p0.y}return r.set(m,C)},setXRadius:function(h){return this.xRadius=h,this},setYRadius:function(h){return this.yRadius=h,this},setWidth:function(h){return this.xRadius=h/2,this},setHeight:function(h){return this.yRadius=h/2,this},setStartAngle:function(h){return this.startAngle=h,this},setEndAngle:function(h){return this.endAngle=h,this},setClockwise:function(h){return this.clockwise=h,this},setRotation:function(h){return this.rotation=h,this},x:{get:function(){return this.p0.x},set:function(h){this.p0.x=h}},y:{get:function(){return this.p0.y},set:function(h){this.p0.y=h}},xRadius:{get:function(){return this._xRadius},set:function(h){this._xRadius=h}},yRadius:{get:function(){return this._yRadius},set:function(h){this._yRadius=h}},startAngle:{get:function(){return o(this._startAngle)},set:function(h){this._startAngle=l(h)}},endAngle:{get:function(){return o(this._endAngle)},set:function(h){this._endAngle=l(h)}},clockwise:{get:function(){return this._clockwise},set:function(h){this._clockwise=h}},angle:{get:function(){return o(this._rotation)},set:function(h){this._rotation=l(h)}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=h}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:o(this._startAngle),endAngle:o(this._endAngle),clockwise:this._clockwise,rotation:o(this._rotation)}}});i.fromJSON=function(h){return new i(h)},e.exports=i},33951:(e,y,t)=>{var a=t(83419),g=t(80021),l=t(19217),s=t(87841),o=t(26099),n=new a({Extends:g,initialize:function(h,r){g.call(this,"LineCurve"),Array.isArray(h)&&(r=new o(h[2],h[3]),h=new o(h[0],h[1])),this.p0=h,this.p1=r,this.arcLengthDivisions=1},getBounds:function(i){return i===void 0&&(i=new s),l([this.p0,this.p1],i)},getStartPoint:function(i){return i===void 0&&(i=new o),i.copy(this.p0)},getResolution:function(i){return i===void 0&&(i=1),i},getPoint:function(i,h){return h===void 0&&(h=new o),i===1?h.copy(this.p1):(h.copy(this.p1).subtract(this.p0).scale(i).add(this.p0),h)},getPointAt:function(i,h){return this.getPoint(i,h)},getTangent:function(i,h){return h===void 0&&(h=new o),h.copy(this.p1).subtract(this.p0).normalize(),h},getUtoTmapping:function(i,h,r){var f;if(h){var c=this.getLengths(r),d=c[c.length-1],p=Math.min(h,d);f=p/d}else f=i;return f},draw:function(i){return i.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});n.fromJSON=function(i){var h=i.points,r=new o(h[0],h[1]),f=new o(h[2],h[3]);return new n(r,f)},e.exports=n},14744:(e,y,t)=>{var a=t(83419),g=t(80021),l=t(32112),s=t(26099),o=new a({Extends:g,initialize:function(i,h,r){g.call(this,"QuadraticBezierCurve"),Array.isArray(i)&&(r=new s(i[4],i[5]),h=new s(i[2],i[3]),i=new s(i[0],i[1])),this.p0=i,this.p1=h,this.p2=r},getStartPoint:function(n){return n===void 0&&(n=new s),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,i){i===void 0&&(i=new s);var h=this.p0,r=this.p1,f=this.p2;return i.set(l(n,h.x,r.x,f.x),l(n,h.y,r.y,f.y))},draw:function(n,i){i===void 0&&(i=32);var h=this.getPoints(i);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var r=1;r<h.length;r++)n.lineTo(h[r].x,h[r].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});o.fromJSON=function(n){var i=n.points,h=new s(i[0],i[1]),r=new s(i[2],i[3]),f=new s(i[4],i[5]);return new o(h,r,f)},e.exports=o},42534:(e,y,t)=>{var a=t(87842),g=t(83419),l=t(80021),s=t(26099),o=new g({Extends:l,initialize:function(i){i===void 0&&(i=[]),l.call(this,"SplineCurve"),this.points=[],this.addPoints(i)},addPoints:function(n){for(var i=0;i<n.length;i++){var h=new s;typeof n[i]=="number"?(h.x=n[i],h.y=n[i+1],i++):Array.isArray(n[i])?(h.x=n[i][0],h.y=n[i][1]):(h.x=n[i].x,h.y=n[i].y),this.points.push(h)}return this},addPoint:function(n,i){var h=new s(n,i);return this.points.push(h),h},getStartPoint:function(n){return n===void 0&&(n=new s),n.copy(this.points[0])},getResolution:function(n){return n*this.points.length},getPoint:function(n,i){i===void 0&&(i=new s);var h=this.points,r=(h.length-1)*n,f=Math.floor(r),c=r-f,d=h[f===0?f:f-1],p=h[f],m=h[f>h.length-2?h.length-1:f+1],C=h[f>h.length-3?h.length-1:f+2];return i.set(a(c,d.x,p.x,m.x,C.x),a(c,d.y,p.y,m.y,C.y))},toJSON:function(){for(var n=[],i=0;i<this.points.length;i++)n.push(this.points[i].x),n.push(this.points[i].y);return{type:this.type,points:n}}});o.fromJSON=function(n){return new o(n.points)},e.exports=o},25410:(e,y,t)=>{e.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(e,y,t)=>{var a=t(83419),g=t(26099),l=new a({initialize:function(o,n){this.active=!1,this.p0=new g(o,n)},getPoint:function(s,o){return o===void 0&&(o=new g),o.copy(this.p0)},getPointAt:function(s,o){return this.getPoint(s,o)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});e.exports=l},46669:(e,y,t)=>{var a=t(83419),g=t(46728),l=t(73825),s=t(39429),o=t(33951),n=t(68618),i=t(14744),h=t(87841),r=t(42534),f=t(26099),c=t(36383),d=new a({initialize:function(m,C){m===void 0&&(m=0),C===void 0&&(C=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new f,this._tmpVec2A=new f,this._tmpVec2B=new f,typeof m=="object"?this.fromJSON(m):this.startPoint.set(m,C)},add:function(p){return this.curves.push(p),this},circleTo:function(p,m,C){return m===void 0&&(m=!1),this.ellipseTo(p,p,0,360,m,C)},closePath:function(){var p=this.curves[0].getPoint(0),m=this.curves[this.curves.length-1].getPoint(1);return p.equals(m)||this.curves.push(new o(m,p)),this},cubicBezierTo:function(p,m,C,S,E,D){var M=this.getEndPoint(),w,A,R;return p instanceof f?(w=p,A=m,R=C):(w=new f(C,S),A=new f(E,D),R=new f(p,m)),this.add(new g(M,w,A,R))},quadraticBezierTo:function(p,m,C,S){var E=this.getEndPoint(),D,M;return p instanceof f?(D=p,M=m):(D=new f(C,S),M=new f(p,m)),this.add(new i(E,D,M))},draw:function(p,m){for(var C=0;C<this.curves.length;C++){var S=this.curves[C];S.active&&S.draw(p,m)}return p},ellipseTo:function(p,m,C,S,E,D){var M=new l(0,0,p,m,C,S,E,D),w=this.getEndPoint(this._tmpVec2A),A=M.getStartPoint(this._tmpVec2B);return w.subtract(A),M.x=w.x,M.y=w.y,this.add(M)},fromJSON:function(p){this.curves=[],this.cacheLengths=[],this.startPoint.set(p.x,p.y),this.autoClose=p.autoClose;for(var m=0;m<p.curves.length;m++){var C=p.curves[m];switch(C.type){case"LineCurve":this.add(o.fromJSON(C));break;case"EllipseCurve":this.add(l.fromJSON(C));break;case"SplineCurve":this.add(r.fromJSON(C));break;case"CubicBezierCurve":this.add(g.fromJSON(C));break;case"QuadraticBezierCurve":this.add(i.fromJSON(C));break}}return this},getBounds:function(p,m){p===void 0&&(p=new h),m===void 0&&(m=16),p.x=Number.MAX_VALUE,p.y=Number.MAX_VALUE;for(var C=new h,S=c.MIN_SAFE_INTEGER,E=c.MIN_SAFE_INTEGER,D=0;D<this.curves.length;D++){var M=this.curves[D];M.active&&(M.getBounds(C,m),p.x=Math.min(p.x,C.x),p.y=Math.min(p.y,C.y),S=Math.max(S,C.right),E=Math.max(E,C.bottom))}return p.right=S,p.bottom=E,p},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var p=[],m=0,C=0;C<this.curves.length;C++)m+=this.curves[C].getLength(),p.push(m);return this.cacheLengths=p,p},getCurveAt:function(p){for(var m=p*this.getLength(),C=this.getCurveLengths(),S=0;S<C.length;){if(C[S]>=m)return this.curves[S];S++}return null},getEndPoint:function(p){return p===void 0&&(p=new f),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,p):p.copy(this.startPoint),p},getLength:function(){var p=this.getCurveLengths();return p[p.length-1]},getPoint:function(p,m){m===void 0&&(m=new f);for(var C=p*this.getLength(),S=this.getCurveLengths(),E=0;E<S.length;){if(S[E]>=C){var D=S[E]-C,M=this.curves[E],w=M.getLength(),A=w===0?0:1-D/w;return M.getPointAt(A,m)}E++}return null},getPoints:function(p,m){!p&&!m&&(p=this.defaultDivisions);for(var C=[],S,E=0;E<this.curves.length;E++){var D=this.curves[E];if(D.active)for(var M=D.getResolution(p),w=D.getPoints(M,m),A=0;A<w.length;A++){var R=w[A];S&&S.equals(R)||(C.push(R),S=R)}}return this.autoClose&&C.length>1&&!C[C.length-1].equals(C[0])&&C.push(C[0]),C},getRandomPoint:function(p){return p===void 0&&(p=new f),this.getPoint(Math.random(),p)},getSpacedPoints:function(p){p===void 0&&(p=40);for(var m=[],C=0;C<=p;C++)m.push(this.getPoint(C/p));return this.autoClose&&m.push(m[0]),m},getStartPoint:function(p){return p===void 0&&(p=new f),p.copy(this.startPoint)},getTangent:function(p,m){m===void 0&&(m=new f);for(var C=p*this.getLength(),S=this.getCurveLengths(),E=0;E<S.length;){if(S[E]>=C){var D=S[E]-C,M=this.curves[E],w=M.getLength(),A=w===0?0:1-D/w;return M.getTangentAt(A,m)}E++}return null},lineTo:function(p,m){p instanceof f?this._tmpVec2B.copy(p):typeof p=="object"?this._tmpVec2B.setFromObject(p):this._tmpVec2B.set(p,m);var C=this.getEndPoint(this._tmpVec2A);return this.add(new o([C.x,C.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(p){return p.unshift(this.getEndPoint()),this.add(new r(p))},moveTo:function(p,m){return p instanceof f?this.add(new n(p.x,p.y)):this.add(new n(p,m))},toJSON:function(){for(var p=[],m=0;m<this.curves.length;m++)p.push(this.curves[m].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:p}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});s.register("path",function(p,m){return new d(p,m)}),e.exports=d},45893:(e,y,t)=>{var a=t(83419),g=t(24882),l=new a({initialize:function(o,n){this.parent=o,this.events=n,n||(this.events=o.events?o.events:o),this.list={},this.values={},this._frozen=!1,!o.hasOwnProperty("sys")&&this.events&&this.events.once(g.DESTROY,this.destroy,this)},get:function(s){var o=this.list;if(Array.isArray(s)){for(var n=[],i=0;i<s.length;i++)n.push(o[s[i]]);return n}else return o[s]},getAll:function(){var s={};for(var o in this.list)this.list.hasOwnProperty(o)&&(s[o]=this.list[o]);return s},query:function(s){var o={};for(var n in this.list)this.list.hasOwnProperty(n)&&n.match(s)&&(o[n]=this.list[n]);return o},set:function(s,o){if(this._frozen)return this;if(typeof s=="string")return this.setValue(s,o);for(var n in s)this.setValue(n,s[n]);return this},inc:function(s,o){if(this._frozen)return this;o===void 0&&(o=1);var n=this.get(s);return n===void 0&&(n=0),this.set(s,n+o),this},toggle:function(s){return this._frozen?this:(this.set(s,!this.get(s)),this)},setValue:function(s,o){if(this._frozen)return this;if(this.has(s))this.values[s]=o;else{var n=this,i=this.list,h=this.events,r=this.parent;Object.defineProperty(this.values,s,{enumerable:!0,configurable:!0,get:function(){return i[s]},set:function(f){if(!n._frozen){var c=i[s];i[s]=f,h.emit(g.CHANGE_DATA,r,s,f,c),h.emit(g.CHANGE_DATA_KEY+s,r,f,c)}}}),i[s]=o,h.emit(g.SET_DATA,r,s,o)}return this},each:function(s,o){for(var n=[this.parent,null,void 0],i=1;i<arguments.length;i++)n.push(arguments[i]);for(var h in this.list)n[1]=h,n[2]=this.list[h],s.apply(o,n);return this},merge:function(s,o){o===void 0&&(o=!0);for(var n in s)s.hasOwnProperty(n)&&(o||!o&&!this.has(n))&&this.setValue(n,s[n]);return this},remove:function(s){if(this._frozen)return this;if(Array.isArray(s))for(var o=0;o<s.length;o++)this.removeValue(s[o]);else return this.removeValue(s);return this},removeValue:function(s){if(this.has(s)){var o=this.list[s];delete this.list[s],delete this.values[s],this.events.emit(g.REMOVE_DATA,this.parent,s,o)}return this},pop:function(s){var o=void 0;return!this._frozen&&this.has(s)&&(o=this.list[s],delete this.list[s],delete this.values[s],this.events.emit(g.REMOVE_DATA,this.parent,s,o)),o},has:function(s){return this.list.hasOwnProperty(s)},setFreeze:function(s){return this._frozen=s,this},reset:function(){for(var s in this.list)delete this.list[s],delete this.values[s];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(g.CHANGE_DATA),this.events.off(g.SET_DATA),this.events.off(g.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(s){this._frozen=!!s}},count:{get:function(){var s=0;for(var o in this.list)this.list[o]!==void 0&&s++;return s}}});e.exports=l},63646:(e,y,t)=>{var a=t(83419),g=t(45893),l=t(37277),s=t(44594),o=new a({Extends:g,initialize:function(i){g.call(this,i,i.sys.events),this.scene=i,this.systems=i.sys,i.sys.events.once(s.BOOT,this.boot,this),i.sys.events.on(s.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){g.prototype.destroy.call(this),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});l.register("DataManagerPlugin",o,"data"),e.exports=o},10700:e=>{e.exports="changedata"},93608:e=>{e.exports="changedata-"},60883:e=>{e.exports="destroy"},69780:e=>{e.exports="removedata"},22166:e=>{e.exports="setdata"},24882:(e,y,t)=>{e.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(e,y,t)=>{e.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(e,y,t)=>{var a=t(84148),g={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function l(){if(typeof importScripts=="function")return g;g.audioData=!!window.Audio,g.webAudio=!!(window.AudioContext||window.webkitAudioContext);var s=document.createElement("audio"),o=!!s.canPlayType;try{if(o){var n=function(r,f){var c=s.canPlayType("audio/"+r).replace(/^no$/,"");return f?!!(c||s.canPlayType("audio/"+f).replace(/^no$/,"")):!!c};if(g.ogg=n('ogg; codecs="vorbis"'),g.opus=n('ogg; codecs="opus"',"opus"),g.mp3=n("mpeg"),g.wav=n("wav"),g.m4a=n("x-m4a"),g.aac=n("aac"),g.flac=n("flac","x-flac"),g.webm=n('webm; codecs="vorbis"'),s.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)g.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),h=parseInt(RegExp.$2,10);(i===10&&h>=11||i>10)&&(g.dolby=!0)}}}}catch{}return g}e.exports=l()},84148:(e,y,t)=>{var a=t(25892),g={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function l(){var s=navigator.userAgent;return/Edg\/\d+/.test(s)?(g.edge=!0,g.es2019=!0):/OPR/.test(s)?(g.opera=!0,g.es2019=!0):/Chrome\/(\d+)/.test(s)&&!a.windowsPhone?(g.chrome=!0,g.chromeVersion=parseInt(RegExp.$1,10),g.es2019=g.chromeVersion>69):/Firefox\D+(\d+)/.test(s)?(g.firefox=!0,g.firefoxVersion=parseInt(RegExp.$1,10),g.es2019=g.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(s)&&a.iOS?(g.mobileSafari=!0,g.es2019=!0):/MSIE (\d+\.\d+);/.test(s)?(g.ie=!0,g.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(s)&&!a.windowsPhone?(g.safari=!0,g.safariVersion=parseInt(RegExp.$1,10),g.es2019=g.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(s)&&(g.ie=!0,g.trident=!0,g.tridentVersion=parseInt(RegExp.$1,10),g.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(s)&&(g.silk=!0),g}e.exports=l()},89289:(e,y,t)=>{var a=t(27919),g={supportInverseAlpha:!1,supportNewBlendModes:!1};function l(){var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",i="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",h=new Image;return h.onload=function(){var r=new Image;r.onload=function(){var f=a.create2D(r,6),c=f.getContext("2d",{willReadFrequently:!0});if(c.globalCompositeOperation="multiply",c.drawImage(h,0,0),c.drawImage(r,2,0),!c.getImageData(2,0,1,1))return!1;var d=c.getImageData(2,0,1,1).data;a.remove(r),g.supportNewBlendModes=d[0]===255&&d[1]===0&&d[2]===0},r.src=n+"/wCKxvRF"+i},h.src=n+"AP804Oa6"+i,!1}function s(){var n=a.create2D(this,2),i=n.getContext("2d",{willReadFrequently:!0});i.fillStyle="rgba(10, 20, 30, 0.5)",i.fillRect(0,0,1,1);var h=i.getImageData(0,0,1,1);if(h===null)return!1;i.putImageData(h,1,0);var r=i.getImageData(1,0,1,1),f=r.data[0]===h.data[0]&&r.data[1]===h.data[1]&&r.data[2]===h.data[2]&&r.data[3]===h.data[3];return a.remove(this),f}function o(){return typeof importScripts!="function"&&document!==void 0&&(g.supportNewBlendModes=l(),g.supportInverseAlpha=s()),g}e.exports=o()},89357:(e,y,t)=>{var a=t(25892),g=t(84148),l=t(27919),s={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function o(){var i=new ArrayBuffer(4),h=new Uint8Array(i),r=new Uint32Array(i);return h[0]=161,h[1]=178,h[2]=195,h[3]=212,r[0]===3569595041?!0:r[0]===2712847316?!1:null}function n(){if(typeof importScripts=="function")return s;s.canvas=!!window.CanvasRenderingContext2D;try{s.localStorage=!!localStorage.getItem}catch{s.localStorage=!1}s.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,s.fileSystem=!!window.requestFileSystem;var i=!1,h=function(){if(window.WebGLRenderingContext)try{var r=l.createWebGL(this),f=r.getContext("webgl")||r.getContext("experimental-webgl"),c=l.create2D(this),d=c.getContext("2d",{willReadFrequently:!0}),p=d.createImageData(1,1);return i=p.data instanceof Uint8ClampedArray,l.remove(r),l.remove(c),!!f}catch{return!1}return!1};return s.webGL=h(),s.worker=!!window.Worker,s.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,s.getUserMedia=s.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,g.firefox&&g.firefoxVersion<21&&(s.getUserMedia=!1),!a.iOS&&(g.ie||g.firefox||g.chrome)&&(s.canvasBitBltShift=!0),(g.safari||g.mobileSafari)&&(s.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(s.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(s.littleEndian=o()),s.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&s.littleEndian!==null&&i,s}e.exports=n()},91639:e=>{var y={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return y;var a,g="Fullscreen",l="FullScreen",s=["request"+g,"request"+l,"webkitRequest"+g,"webkitRequest"+l,"msRequest"+g,"msRequest"+l,"mozRequest"+l,"mozRequest"+g];for(a=0;a<s.length;a++)if(document.documentElement[s[a]]){y.available=!0,y.request=s[a];break}var o=["cancel"+l,"exit"+g,"webkitCancel"+l,"webkitExit"+g,"msCancel"+l,"msExit"+g,"mozCancel"+l,"mozExit"+g];if(y.available){for(a=0;a<o.length;a++)if(document[o[a]]){y.cancel=o[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(y.keyboard=!0),Object.defineProperty(y,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),y}e.exports=t()},31784:(e,y,t)=>{var a=t(84148),g={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function l(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(g.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(g.mspointer=!0),navigator.getGamepads&&(g.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?g.wheelEvent="wheel":"onmousewheel"in window?g.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(g.wheelEvent="DOMMouseScroll")),g}e.exports=l()},25892:e=>{var y={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return y;var a=navigator.userAgent;/Windows/.test(a)?y.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(y.iOS=!0,y.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),y.iOSVersion=parseInt(RegExp.$1,10)):y.macOS=!0:/Android/.test(a)?y.android=!0:/Linux/.test(a)?y.linux=!0:/iP[ao]d|iPhone/i.test(a)?(y.iOS=!0,navigator.appVersion.match(/OS (\d+)/),y.iOSVersion=parseInt(RegExp.$1,10),y.iPhone=a.toLowerCase().indexOf("iphone")!==-1,y.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?y.kindle=!0:/CrOS/.test(a)&&(y.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(y.android=!1,y.iOS=!1,y.macOS=!1,y.windows=!0,y.windowsPhone=!0);var g=/Silk/.test(a);return(y.windows||y.macOS||y.linux&&!g||y.chromeOS)&&(y.desktop=!0),(y.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(y.desktop=!1),navigator.standalone&&(y.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(y.cordova=!0),window.ejecta!==void 0&&(y.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(y.node=!0),y.node&&typeof process.versions=="object"&&(y.nodeWebkit=!!process.versions["node-webkit"],y.electron=!!process.versions.electron),/Crosswalk/.test(a)&&(y.crosswalk=!0),y.pixelRatio=window.devicePixelRatio||1,y}e.exports=t()},43267:(e,y,t)=>{var a=t(95540),g={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function l(){if(typeof importScripts=="function")return g;var s=document.createElement("video"),o=!!s.canPlayType,n=/^no$/;try{o&&(s.canPlayType('video/ogg; codecs="theora"').replace(n,"")&&(g.ogg=!0),s.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(n,"")&&(g.h264=!0,g.mp4=!0),s.canPlayType("video/x-m4v").replace(n,"")&&(g.m4v=!0),s.canPlayType('video/webm; codecs="vp8, vorbis"').replace(n,"")&&(g.webm=!0),s.canPlayType('video/webm; codecs="vp9"').replace(n,"")&&(g.vp9=!0),s.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(n,"")&&(g.hls=!0))}catch{}return s.parentNode&&s.parentNode.removeChild(s),g.getVideoURL=function(i){Array.isArray(i)||(i=[i]);for(var h=0;h<i.length;h++){var r=a(i[h],"url",i[h]);if(r.indexOf("blob:")===0)return{url:r,type:""};var f;if(r.indexOf("data:")===0?f=r.split(",")[0].match(/\/(.*?);/):f=r.match(/\.([a-zA-Z0-9]+)($|\?)/),f=a(i[h],"type",f?f[1]:"").toLowerCase(),g[f])return{url:r,type:f}}return null},g}e.exports=l()},82264:(e,y,t)=>{e.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(e,y,t)=>{var a=t(83419),g=new Float32Array(20),l=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(s){return this._matrix.set(s),this._dirty=!0,this},reset:function(){var s=this._matrix;return s.fill(0),s[0]=1,s[6]=1,s[12]=1,s[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var s=this._data;return this._dirty&&(s.set(this._matrix),s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,this._dirty=!1),s},brightness:function(s,o){s===void 0&&(s=0),o===void 0&&(o=!1);var n=s;return this.multiply([n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0],o)},saturate:function(s,o){s===void 0&&(s=0),o===void 0&&(o=!1);var n=s*2/3+1,i=(n-1)*-.5;return this.multiply([n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0],o)},desaturate:function(s){return s===void 0&&(s=!1),this.saturate(-1,s)},hue:function(s,o){s===void 0&&(s=0),o===void 0&&(o=!1),s=s/180*Math.PI;var n=Math.cos(s),i=Math.sin(s),h=.213,r=.715,f=.072;return this.multiply([h+n*(1-h)+i*-h,r+n*-r+i*-r,f+n*-f+i*(1-f),0,0,h+n*-h+i*.143,r+n*(1-r)+i*.14,f+n*-f+i*-.283,0,0,h+n*-h+i*-(1-h),r+n*-r+i*r,f+n*(1-f)+i*f,0,0,0,0,0,1,0],o)},grayscale:function(s,o){return s===void 0&&(s=1),o===void 0&&(o=!1),this.saturate(-s,o)},blackWhite:function(s){return s===void 0&&(s=!1),this.multiply(l.BLACK_WHITE,s)},contrast:function(s,o){s===void 0&&(s=0),o===void 0&&(o=!1);var n=s+1,i=-.5*(n-1);return this.multiply([n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0],o)},negative:function(s){return s===void 0&&(s=!1),this.multiply(l.NEGATIVE,s)},desaturateLuminance:function(s){return s===void 0&&(s=!1),this.multiply(l.DESATURATE_LUMINANCE,s)},sepia:function(s){return s===void 0&&(s=!1),this.multiply(l.SEPIA,s)},night:function(s,o){return s===void 0&&(s=.1),o===void 0&&(o=!1),this.multiply([s*-2,-s,0,0,0,-s,0,s,0,0,0,s,s*2,0,0,0,0,0,1,0],o)},lsd:function(s){return s===void 0&&(s=!1),this.multiply(l.LSD,s)},brown:function(s){return s===void 0&&(s=!1),this.multiply(l.BROWN,s)},vintagePinhole:function(s){return s===void 0&&(s=!1),this.multiply(l.VINTAGE,s)},kodachrome:function(s){return s===void 0&&(s=!1),this.multiply(l.KODACHROME,s)},technicolor:function(s){return s===void 0&&(s=!1),this.multiply(l.TECHNICOLOR,s)},polaroid:function(s){return s===void 0&&(s=!1),this.multiply(l.POLAROID,s)},shiftToBGR:function(s){return s===void 0&&(s=!1),this.multiply(l.SHIFT_BGR,s)},multiply:function(s,o){o===void 0&&(o=!1),o||this.reset();var n=this._matrix,i=g;return i.set(n),n.set([i[0]*s[0]+i[1]*s[5]+i[2]*s[10]+i[3]*s[15],i[0]*s[1]+i[1]*s[6]+i[2]*s[11]+i[3]*s[16],i[0]*s[2]+i[1]*s[7]+i[2]*s[12]+i[3]*s[17],i[0]*s[3]+i[1]*s[8]+i[2]*s[13]+i[3]*s[18],i[0]*s[4]+i[1]*s[9]+i[2]*s[14]+i[3]*s[19]+i[4],i[5]*s[0]+i[6]*s[5]+i[7]*s[10]+i[8]*s[15],i[5]*s[1]+i[6]*s[6]+i[7]*s[11]+i[8]*s[16],i[5]*s[2]+i[6]*s[7]+i[7]*s[12]+i[8]*s[17],i[5]*s[3]+i[6]*s[8]+i[7]*s[13]+i[8]*s[18],i[5]*s[4]+i[6]*s[9]+i[7]*s[14]+i[8]*s[19]+i[9],i[10]*s[0]+i[11]*s[5]+i[12]*s[10]+i[13]*s[15],i[10]*s[1]+i[11]*s[6]+i[12]*s[11]+i[13]*s[16],i[10]*s[2]+i[11]*s[7]+i[12]*s[12]+i[13]*s[17],i[10]*s[3]+i[11]*s[8]+i[12]*s[13]+i[13]*s[18],i[10]*s[4]+i[11]*s[9]+i[12]*s[14]+i[13]*s[19]+i[14],i[15]*s[0]+i[16]*s[5]+i[17]*s[10]+i[18]*s[15],i[15]*s[1]+i[16]*s[6]+i[17]*s[11]+i[18]*s[16],i[15]*s[2]+i[16]*s[7]+i[17]*s[12]+i[18]*s[17],i[15]*s[3]+i[16]*s[8]+i[17]*s[13]+i[18]*s[18],i[15]*s[4]+i[16]*s[9]+i[17]*s[14]+i[18]*s[19]+i[19]]),this._dirty=!0,this}});l.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],l.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],l.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],l.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],l.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],l.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],l.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],l.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],l.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],l.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],l.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e.exports=l},51767:(e,y,t)=>{var a=t(83419),g=t(29747),l=new a({initialize:function(o,n,i){this._rgb=[0,0,0],this.onChangeCallback=g,this.dirty=!1,this.set(o,n,i)},set:function(s,o,n){return s===void 0&&(s=0),o===void 0&&(o=0),n===void 0&&(n=0),this._rgb=[s,o,n],this.onChange(),this},equals:function(s,o,n){var i=this._rgb;return i[0]===s&&i[1]===o&&i[2]===n},onChange:function(){this.dirty=!0;var s=this._rgb;this.onChangeCallback.call(this,s[0],s[1],s[2])},r:{get:function(){return this._rgb[0]},set:function(s){this._rgb[0]=s,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(s){this._rgb[1]=s,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(s){this._rgb[2]=s,this.onChange()}},destroy:function(){this.onChangeCallback=null}});e.exports=l},60461:e=>{var y={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};e.exports=y},54312:(e,y,t)=>{var a=t(62235),g=t(35893),l=t(86327),s=t(88417),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),s(n,g(i)+h),l(n,a(i)+r),n};e.exports=o},46768:(e,y,t)=>{var a=t(62235),g=t(26541),l=t(86327),s=t(385),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),s(n,g(i)-h),l(n,a(i)+r),n};e.exports=o},35827:(e,y,t)=>{var a=t(62235),g=t(54380),l=t(86327),s=t(40136),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),s(n,g(i)+h),l(n,a(i)+r),n};e.exports=o},46871:(e,y,t)=>{var a=t(66786),g=t(35893),l=t(7702),s=function(o,n,i,h){return i===void 0&&(i=0),h===void 0&&(h=0),a(o,g(n)+i,l(n)+h),o};e.exports=s},5198:(e,y,t)=>{var a=t(7702),g=t(26541),l=t(20786),s=t(385),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),s(n,g(i)-h),l(n,a(i)+r),n};e.exports=o},11879:(e,y,t)=>{var a=t(60461),g=[];g[a.BOTTOM_CENTER]=t(54312),g[a.BOTTOM_LEFT]=t(46768),g[a.BOTTOM_RIGHT]=t(35827),g[a.CENTER]=t(46871),g[a.LEFT_CENTER]=t(5198),g[a.RIGHT_CENTER]=t(80503),g[a.TOP_CENTER]=t(89698),g[a.TOP_LEFT]=t(922),g[a.TOP_RIGHT]=t(21373),g[a.LEFT_BOTTOM]=g[a.BOTTOM_LEFT],g[a.LEFT_TOP]=g[a.TOP_LEFT],g[a.RIGHT_BOTTOM]=g[a.BOTTOM_RIGHT],g[a.RIGHT_TOP]=g[a.TOP_RIGHT];var l=function(s,o,n,i,h){return g[n](s,o,i,h)};e.exports=l},80503:(e,y,t)=>{var a=t(7702),g=t(54380),l=t(20786),s=t(40136),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),s(n,g(i)+h),l(n,a(i)+r),n};e.exports=o},89698:(e,y,t)=>{var a=t(35893),g=t(17717),l=t(88417),s=t(66737),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),l(n,a(i)+h),s(n,g(i)-r),n};e.exports=o},922:(e,y,t)=>{var a=t(26541),g=t(17717),l=t(385),s=t(66737),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),l(n,a(i)-h),s(n,g(i)-r),n};e.exports=o},21373:(e,y,t)=>{var a=t(54380),g=t(17717),l=t(40136),s=t(66737),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),l(n,a(i)+h),s(n,g(i)-r),n};e.exports=o},91660:(e,y,t)=>{e.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(e,y,t)=>{var a=t(60461),g=t(79291),l={In:t(91660),To:t(16694)};l=g(!1,l,a),e.exports=l},21578:(e,y,t)=>{var a=t(62235),g=t(35893),l=t(88417),s=t(66737),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),l(n,g(i)+h),s(n,a(i)+r),n};e.exports=o},10210:(e,y,t)=>{var a=t(62235),g=t(26541),l=t(385),s=t(66737),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),l(n,g(i)-h),s(n,a(i)+r),n};e.exports=o},82341:(e,y,t)=>{var a=t(62235),g=t(54380),l=t(40136),s=t(66737),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),l(n,g(i)+h),s(n,a(i)+r),n};e.exports=o},87958:(e,y,t)=>{var a=t(62235),g=t(26541),l=t(86327),s=t(40136),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),s(n,g(i)-h),l(n,a(i)+r),n};e.exports=o},40080:(e,y,t)=>{var a=t(7702),g=t(26541),l=t(20786),s=t(40136),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),s(n,g(i)-h),l(n,a(i)+r),n};e.exports=o},88466:(e,y,t)=>{var a=t(26541),g=t(17717),l=t(40136),s=t(66737),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),l(n,a(i)-h),s(n,g(i)-r),n};e.exports=o},38829:(e,y,t)=>{var a=t(60461),g=[];g[a.BOTTOM_CENTER]=t(21578),g[a.BOTTOM_LEFT]=t(10210),g[a.BOTTOM_RIGHT]=t(82341),g[a.LEFT_BOTTOM]=t(87958),g[a.LEFT_CENTER]=t(40080),g[a.LEFT_TOP]=t(88466),g[a.RIGHT_BOTTOM]=t(19211),g[a.RIGHT_CENTER]=t(34609),g[a.RIGHT_TOP]=t(48741),g[a.TOP_CENTER]=t(49440),g[a.TOP_LEFT]=t(81288),g[a.TOP_RIGHT]=t(61323);var l=function(s,o,n,i,h){return g[n](s,o,i,h)};e.exports=l},19211:(e,y,t)=>{var a=t(62235),g=t(54380),l=t(86327),s=t(385),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),s(n,g(i)+h),l(n,a(i)+r),n};e.exports=o},34609:(e,y,t)=>{var a=t(7702),g=t(54380),l=t(20786),s=t(385),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),s(n,g(i)+h),l(n,a(i)+r),n};e.exports=o},48741:(e,y,t)=>{var a=t(54380),g=t(17717),l=t(385),s=t(66737),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),l(n,a(i)+h),s(n,g(i)-r),n};e.exports=o},49440:(e,y,t)=>{var a=t(35893),g=t(17717),l=t(86327),s=t(88417),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),s(n,a(i)+h),l(n,g(i)-r),n};e.exports=o},81288:(e,y,t)=>{var a=t(26541),g=t(17717),l=t(86327),s=t(385),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),s(n,a(i)-h),l(n,g(i)-r),n};e.exports=o},61323:(e,y,t)=>{var a=t(54380),g=t(17717),l=t(86327),s=t(40136),o=function(n,i,h,r){return h===void 0&&(h=0),r===void 0&&(r=0),s(n,a(i)+h),l(n,g(i)-r),n};e.exports=o},16694:(e,y,t)=>{e.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(e,y,t)=>{var a=t(88417),g=t(20786),l=function(s,o,n){return a(s,o),g(s,n)};e.exports=l},62235:e=>{var y=function(t){return t.y+t.height-t.height*t.originY};e.exports=y},72873:(e,y,t)=>{var a=t(62235),g=t(26541),l=t(54380),s=t(17717),o=t(87841),n=function(i,h){h===void 0&&(h=new o);var r=g(i),f=s(i);return h.x=r,h.y=f,h.width=l(i)-r,h.height=a(i)-f,h};e.exports=n},35893:e=>{var y=function(t){return t.x-t.width*t.originX+t.width*.5};e.exports=y},7702:e=>{var y=function(t){return t.y-t.height*t.originY+t.height*.5};e.exports=y},26541:e=>{var y=function(t){return t.x-t.width*t.originX};e.exports=y},87431:e=>{var y=function(t){return t.width*t.originX};e.exports=y},46928:e=>{var y=function(t){return t.height*t.originY};e.exports=y},54380:e=>{var y=function(t){return t.x+t.width-t.width*t.originX};e.exports=y},17717:e=>{var y=function(t){return t.y-t.height*t.originY};e.exports=y},86327:e=>{var y=function(t,a){return t.y=a-t.height+t.height*t.originY,t};e.exports=y},88417:e=>{var y=function(t,a){var g=t.width*t.originX;return t.x=a+g-t.width*.5,t};e.exports=y},20786:e=>{var y=function(t,a){var g=t.height*t.originY;return t.y=a+g-t.height*.5,t};e.exports=y},385:e=>{var y=function(t,a){return t.x=a+t.width*t.originX,t};e.exports=y},40136:e=>{var y=function(t,a){return t.x=a-t.width+t.width*t.originX,t};e.exports=y},66737:e=>{var y=function(t,a){return t.y=a+t.height*t.originY,t};e.exports=y},58724:(e,y,t)=>{e.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:e=>{var y={setCrisp:function(t){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(g){t.style["image-rendering"]=g}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};e.exports=y},27919:(e,y,t)=>{var a=t(8054),g=t(68703),l=[],s=!1,o=function(){var n=function(C,S,E,D,M){S===void 0&&(S=1),E===void 0&&(E=1),D===void 0&&(D=a.CANVAS),M===void 0&&(M=!1);var w,A=r(D);return A===null?(A={parent:C,canvas:document.createElement("canvas"),type:D},D===a.CANVAS&&l.push(A),w=A.canvas):(A.parent=C,w=A.canvas),M&&(A.parent=w),w.width=S,w.height=E,s&&D===a.CANVAS&&g.disable(w.getContext("2d",{willReadFrequently:!1})),w},i=function(C,S,E){return n(C,S,E,a.CANVAS)},h=function(C,S,E){return n(C,S,E,a.WEBGL)},r=function(C){if(C===void 0&&(C=a.CANVAS),C===a.WEBGL)return null;for(var S=0;S<l.length;S++){var E=l[S];if(!E.parent&&E.type===C)return E}return null},f=function(C){var S=C instanceof HTMLCanvasElement;l.forEach(function(E){(S&&E.canvas===C||!S&&E.parent===C)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},c=function(){var C=0;return l.forEach(function(S){S.parent&&C++}),C},d=function(){return l.length-c()},p=function(){s=!0},m=function(){s=!1};return{create2D:i,create:n,createWebGL:h,disableSmoothing:p,enableSmoothing:m,first:r,free:d,pool:l,remove:f,total:c}};e.exports=o()},68703:e=>{var y="",t=function(){var a=function(o){for(var n=["i","webkitI","msI","mozI","oI"],i=0;i<n.length;i++){var h=n[i]+"mageSmoothingEnabled";if(h in o)return h}return null},g=function(o){return y===""&&(y=a(o)),y&&(o[y]=!0),o},l=function(o){return y===""&&(y=a(o)),y&&(o[y]=!1),o},s=function(o){return y!==null?o[y]:null};return{disable:l,enable:g,getPrefix:a,isEnabled:s}};e.exports=t()},65208:e=>{var y=function(t,a){return a===void 0&&(a="none"),t.style.msTouchAction=a,t.style["ms-touch-action"]=a,t.style["touch-action"]=a,t};e.exports=y},91610:e=>{var y=function(t,a){a===void 0&&(a="none");var g=["-webkit-","-khtml-","-moz-","-ms-",""];return g.forEach(function(l){t.style[l+"user-select"]=a}),t.style["-webkit-touch-callout"]=a,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};e.exports=y},26253:(e,y,t)=>{e.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(e,y,t)=>{var a=t(83419),g=t(37589),l=t(1e3),s=t(7537),o=t(87837),n=new a({initialize:function(h,r,f,c){h===void 0&&(h=0),r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(h,r,f,c)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(i,h,r,f,c){return f===void 0&&(f=255),c===void 0&&(c=!0),this._locked=!0,this.red=i,this.green=h,this.blue=r,this.alpha=f,this._locked=!1,this.update(c)},setGLTo:function(i,h,r,f){return f===void 0&&(f=1),this._locked=!0,this.redGL=i,this.greenGL=h,this.blueGL=r,this.alphaGL=f,this._locked=!1,this.update(!0)},setFromRGB:function(i){return this._locked=!0,this.red=i.r,this.green=i.g,this.blue=i.b,i.hasOwnProperty("a")&&(this.alpha=i.a),this._locked=!1,this.update(!0)},setFromHSV:function(i,h,r){return s(i,h,r,this)},update:function(i){if(i===void 0&&(i=!1),this._locked)return this;var h=this.r,r=this.g,f=this.b,c=this.a;return this._color=g(h,r,f),this._color32=l(h,r,f,c),this._rgba="rgba("+h+","+r+","+f+","+c/255+")",i&&o(h,r,f,this),this},updateHSV:function(){var i=this.r,h=this.g,r=this.b;return o(i,h,r,this),this},clone:function(){return new n(this.r,this.g,this.b,this.a)},gray:function(i){return this.setTo(i,i,i)},random:function(i,h){i===void 0&&(i=0),h===void 0&&(h=255);var r=Math.floor(i+Math.random()*(h-i)),f=Math.floor(i+Math.random()*(h-i)),c=Math.floor(i+Math.random()*(h-i));return this.setTo(r,f,c)},randomGray:function(i,h){i===void 0&&(i=0),h===void 0&&(h=255);var r=Math.floor(i+Math.random()*(h-i));return this.setTo(r,r,r)},saturate:function(i){return this.s+=i/100,this},desaturate:function(i){return this.s-=i/100,this},lighten:function(i){return this.v+=i/100,this},darken:function(i){return this.v-=i/100,this},brighten:function(i){var h=this.r,r=this.g,f=this.b;return h=Math.max(0,Math.min(255,h-Math.round(255*-(i/100)))),r=Math.max(0,Math.min(255,r-Math.round(255*-(i/100)))),f=Math.max(0,Math.min(255,f-Math.round(255*-(i/100)))),this.setTo(h,r,f)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(i){this.gl[0]=Math.min(Math.abs(i),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(i){this.gl[1]=Math.min(Math.abs(i),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(i){this.gl[2]=Math.min(Math.abs(i),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(i){this.gl[3]=Math.min(Math.abs(i),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(i){i=Math.floor(Math.abs(i)),this.r=Math.min(i,255),this.gl[0]=i/255,this.update(!0)}},green:{get:function(){return this.g},set:function(i){i=Math.floor(Math.abs(i)),this.g=Math.min(i,255),this.gl[1]=i/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(i){i=Math.floor(Math.abs(i)),this.b=Math.min(i,255),this.gl[2]=i/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(i){i=Math.floor(Math.abs(i)),this.a=Math.min(i,255),this.gl[3]=i/255,this.update()}},h:{get:function(){return this._h},set:function(i){this._h=i,s(i,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(i){this._s=i,s(this._h,i,this._v,this)}},v:{get:function(){return this._v},set:function(i){this._v=i,s(this._h,this._s,i,this)}}});e.exports=n},92728:(e,y,t)=>{var a=t(37589),g=function(l){l===void 0&&(l=1024);var s=[],o=255,n,i=255,h=0,r=0;for(n=0;n<=o;n++)s.push({r:i,g:n,b:r,color:a(i,n,r)});for(h=255,n=o;n>=0;n--)s.push({r:n,g:h,b:r,color:a(n,h,r)});for(i=0,n=0;n<=o;n++,h--)s.push({r:i,g:h,b:n,color:a(i,h,n)});for(h=0,r=255,n=0;n<=o;n++,r--,i++)s.push({r:i,g:h,b:r,color:a(i,h,r)});if(l===1024)return s;var f=[],c=0,d=1024/l;for(n=0;n<l;n++)f.push(s[Math.floor(c)]),c+=d;return f};e.exports=g},91588:e=>{var y=function(t){var a={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(a.a=t>>>24),a};e.exports=y},62957:e=>{var y=function(t){var a=t.toString(16);return a.length===1?"0"+a:a};e.exports=y},37589:e=>{var y=function(t,a,g){return t<<16|a<<8|g};e.exports=y},1e3:e=>{var y=function(t,a,g,l){return l<<24|t<<16|a<<8|g};e.exports=y},62183:(e,y,t)=>{var a=t(40987),g=t(89528),l=function(s,o,n){var i=n,h=n,r=n;if(o!==0){var f=n<.5?n*(1+o):n+o-n*o,c=2*n-f;i=g(c,f,s+1/3),h=g(c,f,s),r=g(c,f,s-1/3)}var d=new a;return d.setGLTo(i,h,r,1)};e.exports=l},27939:(e,y,t)=>{var a=t(7537),g=function(l,s){l===void 0&&(l=1),s===void 0&&(s=1);for(var o=[],n=0;n<=359;n++)o.push(a(n/359,l,s));return o};e.exports=g},7537:(e,y,t)=>{var a=t(37589);function g(s,o,n,i){var h=(s+o*6)%6,r=Math.min(h,4-h,1);return Math.round(255*(i-i*n*Math.max(0,r)))}var l=function(s,o,n,i){o===void 0&&(o=1),n===void 0&&(n=1);var h=g(5,s,o,n),r=g(3,s,o,n),f=g(1,s,o,n);return i?i.setTo?i.setTo(h,r,f,i.alpha,!0):(i.r=h,i.g=r,i.b=f,i.color=a(h,r,f),i):{r:h,g:r,b:f,color:a(h,r,f)}};e.exports=l},70238:(e,y,t)=>{var a=t(40987),g=function(l){var s=new a;l=l.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(r,f,c,d){return f+f+c+c+d+d});var o=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);if(o){var n=parseInt(o[1],16),i=parseInt(o[2],16),h=parseInt(o[3],16);s.setTo(n,i,h)}return s};e.exports=g},89528:e=>{var y=function(t,a,g){return g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?t+(a-t)*6*g:g<.5?a:g<.6666666666666666?t+(a-t)*(.6666666666666666-g)*6:t};e.exports=y},30100:(e,y,t)=>{var a=t(40987),g=t(90664),l=function(s){var o=g(s);return new a(o.r,o.g,o.b,o.a)};e.exports=l},90664:e=>{var y=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};e.exports=y},13699:(e,y,t)=>{var a=t(28915),g=function(o,n,i,h,r,f,c,d){c===void 0&&(c=100),d===void 0&&(d=0);var p=d/c;return{r:a(o,h,p),g:a(n,r,p),b:a(i,f,p)}},l=function(o,n,i,h){return i===void 0&&(i=100),h===void 0&&(h=0),g(o.r,o.g,o.b,n.r,n.g,n.b,i,h)},s=function(o,n,i,h,r,f){return r===void 0&&(r=100),f===void 0&&(f=0),g(o.r,o.g,o.b,n,i,h,r,f)};e.exports={RGBWithRGB:g,ColorWithRGB:s,ColorWithColor:l}},68957:(e,y,t)=>{var a=t(40987),g=function(l){return new a(l.r,l.g,l.b,l.a)};e.exports=g},87388:(e,y,t)=>{var a=t(40987),g=function(l){var s=new a,o=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(l.toLowerCase());if(o){var n=parseInt(o[1],10),i=parseInt(o[2],10),h=parseInt(o[3],10),r=o[4]!==void 0?parseFloat(o[4]):1;s.setTo(n,i,h,r*255)}return s};e.exports=g},87837:e=>{var y=function(t,a,g,l){l===void 0&&(l={h:0,s:0,v:0}),t/=255,a/=255,g/=255;var s=Math.min(t,a,g),o=Math.max(t,a,g),n=o-s,i=0,h=o===0?0:n/o,r=o;return o!==s&&(o===t?i=(a-g)/n+(a<g?6:0):o===a?i=(g-t)/n+2:o===g&&(i=(t-a)/n+4),i/=6),l.hasOwnProperty("_h")?(l._h=i,l._s=h,l._v=r):(l.h=i,l.s=h,l.v=r),l};e.exports=y},75723:(e,y,t)=>{var a=t(62957),g=function(l,s,o,n,i){return n===void 0&&(n=255),i===void 0&&(i="#"),i==="#"?"#"+((1<<24)+(l<<16)+(s<<8)+o).toString(16).slice(1,7):"0x"+a(n)+a(l)+a(s)+a(o)};e.exports=g},85386:(e,y,t)=>{var a=t(30976),g=t(40987),l=function(s,o){return s===void 0&&(s=0),o===void 0&&(o=255),new g(a(s,o),a(s,o),a(s,o))};e.exports=l},80333:(e,y,t)=>{var a=t(70238),g=t(30100),l=t(68957),s=t(87388),o=function(n){var i=typeof n;switch(i){case"string":return n.substr(0,3).toLowerCase()==="rgb"?s(n):a(n);case"number":return g(n);case"object":return l(n)}};e.exports=o},3956:(e,y,t)=>{var a=t(40987);a.ColorSpectrum=t(92728),a.ColorToRGBA=t(91588),a.ComponentToHex=t(62957),a.GetColor=t(37589),a.GetColor32=t(1e3),a.HexStringToColor=t(70238),a.HSLToColor=t(62183),a.HSVColorWheel=t(27939),a.HSVToRGB=t(7537),a.HueToComponent=t(89528),a.IntegerToColor=t(30100),a.IntegerToRGB=t(90664),a.Interpolate=t(13699),a.ObjectToColor=t(68957),a.RandomRGB=t(85386),a.RGBStringToColor=t(87388),a.RGBToHSV=t(87837),a.RGBToString=t(75723),a.ValueToColor=t(80333),e.exports=a},27460:(e,y,t)=>{e.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(e,y,t)=>{var a=t(83419),g=t(39429),l=new a({initialize:function(o,n,i,h,r,f){n||(n=o.sys.make.image({x:i,y:h,key:r,frame:f,add:!1})),this.bitmapMask=n,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(s){this.bitmapMask=s},preRenderWebGL:function(s,o,n){s.pipelines.BITMAPMASK_PIPELINE.beginMask(this,o,n)},postRenderWebGL:function(s,o,n){s.pipelines.BITMAPMASK_PIPELINE.endMask(this,o,n)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});g.register("bitmapMask",function(s,o,n,i,h){return new l(this.scene,s,o,n,i,h)}),e.exports=l},80661:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o){this.geometryMask=o,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(l){return this.geometryMask=l,this},setInvertAlpha:function(l){return l===void 0&&(l=!0),this.invertAlpha=l,this},preRenderWebGL:function(l,s,o){var n=l.gl;l.flush(),l.maskStack.length===0&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),l.maskCount=0),l.currentCameraMask.mask!==this&&(l.currentMask.mask=this),l.maskStack.push({mask:this,camera:o}),this.applyStencil(l,o,!0),l.maskCount++},applyStencil:function(l,s,o){var n=l.gl,i=this.geometryMask,h=l.maskCount,r=255;n.colorMask(!1,!1,!1,!1),o?(n.stencilFunc(n.EQUAL,h,r),n.stencilOp(n.KEEP,n.KEEP,n.INCR),h++):(n.stencilFunc(n.EQUAL,h+1,r),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),this.level=h,i.renderWebGL(l,i,s),l.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),this.invertAlpha?n.stencilFunc(n.NOTEQUAL,h,r):n.stencilFunc(n.EQUAL,h,r)},postRenderWebGL:function(l){var s=l.gl;l.maskStack.pop(),l.maskCount--,l.flush();var o=l.currentMask;if(l.maskStack.length===0)o.mask=null,s.disable(s.STENCIL_TEST);else{var n=l.maskStack[l.maskStack.length-1];n.mask.applyStencil(l,n.camera,!1),l.currentCameraMask.mask!==n.mask?(o.mask=n.mask,o.camera=n.camera):o.mask=null}},preRenderCanvas:function(l,s,o){var n=this.geometryMask;l.currentContext.save(),n.renderCanvas(l,n,o,null,null,!0),l.currentContext.clip()},postRenderCanvas:function(l){l.currentContext.restore()},destroy:function(){this.geometryMask=null}});e.exports=g},69781:(e,y,t)=>{e.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o,n,i){(!o||o==="")&&(o=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!n||n==="")&&(n=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),i===void 0&&(i=null),this.key=s,this.fragmentSrc=o,this.vertexSrc=n,this.uniforms=i}});e.exports=g},40366:e=>{var y=function(t,a){var g;if(a)typeof a=="string"?g=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(g=a);else if(t.parentElement||a===null)return t;return g||(g=document.body),g.appendChild(t),t};e.exports=y},83719:(e,y,t)=>{var a=t(40366),g=function(l){var s=l.config;if(!(!s.parent||!s.domCreateContainer)){var o=document.createElement("div");o.style.cssText=["display: block;","width: "+l.scale.width+"px;","height: "+l.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+s.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),l.domContainer=o,a(o,s.parent)}};e.exports=g},57264:(e,y,t)=>{var a=t(25892),g=function(l){if(document.readyState==="complete"||document.readyState==="interactive"){l();return}var s=function(){document.removeEventListener("deviceready",s,!0),document.removeEventListener("DOMContentLoaded",s,!0),window.removeEventListener("load",s,!0),l()};document.body?a.cordova?document.addEventListener("deviceready",s,!1):(document.addEventListener("DOMContentLoaded",s,!0),window.addEventListener("load",s,!0)):window.setTimeout(s,20)};e.exports=g},57811:e=>{var y=function(t){if(!t)return window.innerHeight;var a=Math.abs(window.orientation),g={w:0,h:0},l=document.createElement("div");return l.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(l),g.w=a===90?l.offsetHeight:window.innerWidth,g.h=a===90?window.innerWidth:l.offsetHeight,document.documentElement.removeChild(l),l=null,Math.abs(window.orientation)!==90?g.h:g.w};e.exports=y},45818:(e,y,t)=>{var a=t(13560),g=function(l,s){var o=window.screen,n=o?o.orientation||o.mozOrientation||o.msOrientation:!1;if(n&&typeof n.type=="string")return n.type;if(typeof n=="string")return n;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return s>l?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};e.exports=g},74403:e=>{var y=function(t){var a;return t!==""&&(typeof t=="string"?a=document.getElementById(t):t&&t.nodeType===1&&(a=t)),a||(a=document.body),a};e.exports=y},56836:e=>{var y=function(t){var a="";try{if(window.DOMParser){var g=new DOMParser;a=g.parseFromString(t,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(t)}catch{a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};e.exports=y},35846:e=>{var y=function(t){t.parentNode&&t.parentNode.removeChild(t)};e.exports=y},43092:(e,y,t)=>{var a=t(83419),g=t(29747),l=new a({initialize:function(){this.isRunning=!1,this.callback=g,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var o=this;this.step=function n(i){o.callback(i),o.isRunning&&(o.timeOutID=window.requestAnimationFrame(n))},this.stepTimeout=function n(){o.isRunning&&(o.timeOutID=window.setTimeout(n,o.delay)),o.callback(window.performance.now())}},start:function(s,o,n){this.isRunning||(this.callback=s,this.isSetTimeOut=o,this.delay=n,this.isRunning=!0,this.timeOutID=o?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=g}});e.exports=l},84902:(e,y,t)=>{var a={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};e.exports=a},47565:(e,y,t)=>{var a=t(83419),g=t(50792),l=t(37277),s=new a({Extends:g,initialize:function(){g.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});l.register("EventEmitter",s,"events"),e.exports=s},93055:(e,y,t)=>{e.exports={EventEmitter:t(47565)}},20122:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i){i===void 0&&(i=1),g.call(this,l.BARREL,n),this.amount=i}});e.exports=s},32251:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i,h,r,f,c,d){h===void 0&&(h=1),r===void 0&&(r=1),f===void 0&&(f=1),c===void 0&&(c=1),d===void 0&&(d=4),g.call(this,l.BLOOM,n),this.steps=d,this.offsetX=h,this.offsetY=r,this.blurStrength=f,this.strength=c,this.glcolor=[1,1,1],i!=null&&(this.color=i)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});e.exports=s},9047:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i,h,r,f,c,d){i===void 0&&(i=0),h===void 0&&(h=2),r===void 0&&(r=2),f===void 0&&(f=1),d===void 0&&(d=4),g.call(this,l.BLUR,n),this.quality=i,this.x=h,this.y=r,this.steps=d,this.strength=f,this.glcolor=[1,1,1],c!=null&&(this.color=c)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});e.exports=s},27885:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i,h,r,f,c,d,p){i===void 0&&(i=.5),h===void 0&&(h=1),r===void 0&&(r=.2),f===void 0&&(f=!1),c===void 0&&(c=1),d===void 0&&(d=1),p===void 0&&(p=1),g.call(this,l.BOKEH,n),this.radius=i,this.amount=h,this.contrast=r,this.isTiltShift=f,this.strength=p,this.blurX=c,this.blurY=d}});e.exports=s},12578:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i,h,r,f,c){i===void 0&&(i=8),f===void 0&&(f=1),c===void 0&&(c=.005),g.call(this,l.CIRCLE,n),this.scale=f,this.feather=c,this.thickness=i,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],h!=null&&(this.color=h),r!=null&&(this.backgroundColor=r)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}},backgroundColor:{get:function(){var o=this.glcolor2;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor2;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(o){this.glcolor2[3]=o}}});e.exports=s},15802:(e,y,t)=>{var a=t(83419),g=t(89422),l=t(14811),s=new a({Extends:g,initialize:function(n){g.call(this),this.type=l.COLOR_MATRIX,this.gameObject=n,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});e.exports=s},72898:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o){this.type=s,this.gameObject=o,this.active=!0},setActive:function(l){return this.active=l,this},destroy:function(){this.gameObject=null,this.active=!1}});e.exports=g},44553:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i,h,r){i===void 0&&(i="__WHITE"),h===void 0&&(h=.005),r===void 0&&(r=.005),g.call(this,l.DISPLACEMENT,n),this.x=h,this.y=r,this.glTexture,this.setTexture(i)},setTexture:function(o){var n=this.gameObject.scene.sys.textures.getFrame(o);return n&&(this.glTexture=n.glTexture),this}});e.exports=s},68531:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i,h,r,f){h===void 0&&(h=4),r===void 0&&(r=0),f===void 0&&(f=!1),g.call(this,l.GLOW,n),this.outerStrength=h,this.innerStrength=r,this.knockout=f,this.glcolor=[1,1,1,1],i!==void 0&&(this.color=i)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});e.exports=s},37102:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i,h,r,f,c,d,p,m){r===void 0&&(r=.2),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=1),m===void 0&&(m=0),g.call(this,l.GRADIENT,n),this.alpha=r,this.size=m,this.fromX=f,this.fromY=c,this.toX=d,this.toY=p,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],i!=null&&(this.color1=i),h!=null&&(this.color2=h)},color1:{get:function(){var o=this.glcolor1;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var n=this.glcolor1;n[0]=o>>16&255,n[1]=o>>8&255,n[2]=o&255}},color2:{get:function(){var o=this.glcolor2;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var n=this.glcolor2;n[0]=o>>16&255,n[1]=o>>8&255,n[2]=o&255}}});e.exports=s},86886:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i){i===void 0&&(i=1),g.call(this,l.PIXELATE,n),this.amount=i}});e.exports=s},92322:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i,h,r,f,c,d,p){i===void 0&&(i=0),h===void 0&&(h=0),r===void 0&&(r=.1),f===void 0&&(f=1),d===void 0&&(d=6),p===void 0&&(p=1),g.call(this,l.SHADOW,n),this.x=i,this.y=h,this.decay=r,this.power=f,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=p,c!==void 0&&(this.color=c)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});e.exports=s},39563:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i,h,r,f){i===void 0&&(i=.5),h===void 0&&(h=.5),r===void 0&&(r=3),f===void 0&&(f=!1),g.call(this,l.SHINE,n),this.speed=i,this.lineWidth=h,this.gradient=r,this.reveal=f}});e.exports=s},56448:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i,h,r,f){i===void 0&&(i=.5),h===void 0&&(h=.5),r===void 0&&(r=.5),f===void 0&&(f=.5),g.call(this,l.VIGNETTE,n),this.x=i,this.y=h,this.radius=r,this.strength=f}});e.exports=s},38433:(e,y,t)=>{var a=t(83419),g=t(72898),l=t(14811),s=new a({Extends:g,initialize:function(n,i,h,r,f){i===void 0&&(i=.1),h===void 0&&(h=0),r===void 0&&(r=0),f===void 0&&(f=!1),g.call(this,l.WIPE,n),this.progress=0,this.wipeWidth=i,this.direction=h,this.axis=r,this.reveal=f}});e.exports=s},14811:e=>{var y={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};e.exports=y},66064:(e,y,t)=>{var a=t(79291),g=t(14811),l={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};l=a(!1,l,g),e.exports=l},25305:(e,y,t)=>{var a=t(10312),g=t(23568),l=function(s,o,n){o.x=g(n,"x",0),o.y=g(n,"y",0),o.depth=g(n,"depth",0),o.flipX=g(n,"flipX",!1),o.flipY=g(n,"flipY",!1);var i=g(n,"scale",null);typeof i=="number"?o.setScale(i):i!==null&&(o.scaleX=g(i,"x",1),o.scaleY=g(i,"y",1));var h=g(n,"scrollFactor",null);typeof h=="number"?o.setScrollFactor(h):h!==null&&(o.scrollFactorX=g(h,"x",1),o.scrollFactorY=g(h,"y",1)),o.rotation=g(n,"rotation",0);var r=g(n,"angle",null);r!==null&&(o.angle=r),o.alpha=g(n,"alpha",1);var f=g(n,"origin",null);if(typeof f=="number")o.setOrigin(f);else if(f!==null){var c=g(f,"x",.5),d=g(f,"y",.5);o.setOrigin(c,d)}o.blendMode=g(n,"blendMode",a.NORMAL),o.visible=g(n,"visible",!0);var p=g(n,"add",!0);return p&&s.sys.displayList.add(o),o.preUpdate&&s.sys.updateList.add(o),o};e.exports=l},13059:(e,y,t)=>{var a=t(23568),g=function(l,s){var o=a(s,"anims",null);if(o===null)return l;if(typeof o=="string")l.anims.play(o);else if(typeof o=="object"){var n=l.anims,i=a(o,"key",void 0);if(i){var h=a(o,"startFrame",void 0),r=a(o,"delay",0),f=a(o,"repeat",0),c=a(o,"repeatDelay",0),d=a(o,"yoyo",!1),p=a(o,"play",!1),m=a(o,"delayedPlay",0),C={key:i,delay:r,repeat:f,repeatDelay:c,yoyo:d,startFrame:h};p?n.play(C):m>0?n.playAfterDelay(C,m):n.load(C)}}return l};e.exports=g},8050:(e,y,t)=>{var a=t(83419),g=t(73162),l=t(37277),s=t(51708),o=t(44594),n=t(19186),i=new a({Extends:g,initialize:function(r){g.call(this,r),this.sortChildrenFlag=!1,this.scene=r,this.systems=r.sys,this.events=r.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},addChildCallback:function(h){h.displayList&&h.displayList!==this&&h.removeFromDisplayList(),h.parentContainer&&h.parentContainer.remove(h),h.displayList||(this.queueDepthSort(),h.displayList=this,h.emit(s.ADDED_TO_SCENE,h,this.scene),this.events.emit(o.ADDED_TO_SCENE,h,this.scene))},removeChildCallback:function(h){this.queueDepthSort(),h.displayList=null,h.emit(s.REMOVED_FROM_SCENE,h,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,h,this.scene)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(n(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(h,r){return h._depth-r._depth},getChildren:function(){return this.list},shutdown:function(){for(var h=this.list;h.length;)h[0].destroy(!0);this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});l.register("DisplayList",i,"displayList"),e.exports=i},95643:(e,y,t)=>{var a=t(83419),g=t(53774),l=t(45893),s=t(50792),o=t(51708),n=t(44594),i=new a({Extends:s,initialize:function(r,f){s.call(this),this.scene=r,this.displayList=null,this.type=f,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this),r.sys.queueDepthSort()},setActive:function(h){return this.active=h,this},setName:function(h){return this.name=h,this},setState:function(h){return this.state=h,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(h,r){return this.data||(this.data=new l(this)),this.data.set(h,r),this},incData:function(h,r){return this.data||(this.data=new l(this)),this.data.inc(h,r),this},toggleData:function(h){return this.data||(this.data=new l(this)),this.data.toggle(h),this},getData:function(h){return this.data||(this.data=new l(this)),this.data.get(h)},setInteractive:function(h,r,f){return this.scene.sys.input.enable(this,h,r,f),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return g(this)},willRender:function(h){var r=this.displayList&&this.displayList.active?this.displayList.willRender(h):!0;return!(!r||i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},getIndexList:function(){for(var h=this,r=this.parentContainer,f=[];r&&(f.unshift(r.getIndex(h)),h=r,r.parentContainer);)r=r.parentContainer;return this.displayList?f.unshift(this.displayList.getIndex(h)):f.unshift(this.scene.sys.displayList.getIndex(h)),f},addToDisplayList:function(h){return h===void 0&&(h=this.scene.sys.displayList),this.displayList&&this.displayList!==h&&this.removeFromDisplayList(),h.exists(this)||(this.displayList=h,h.add(this,!0),h.queueDepthSort(),this.emit(o.ADDED_TO_SCENE,this,this.scene),h.events.emit(n.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var h=this.displayList||this.scene.sys.displayList;return h&&h.exists(this)&&(h.remove(this,!0),h.queueDepthSort(),this.displayList=null,this.emit(o.REMOVED_FROM_SCENE,this,this.scene),h.events.emit(n.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(h){!this.scene||this.ignoreDestroy||(h===void 0&&(h=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(o.DESTROY,this,h),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});i.RENDER_MASK=15,e.exports=i},44603:(e,y,t)=>{var a=t(83419),g=t(37277),l=t(44594),s=new a({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(o,n){s.prototype.hasOwnProperty(o)||(s.prototype[o]=n)},s.remove=function(o){s.prototype.hasOwnProperty(o)&&delete s.prototype[o]},g.register("GameObjectCreator",s,"make"),e.exports=s},39429:(e,y,t)=>{var a=t(83419),g=t(37277),l=t(44594),s=new a({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},existing:function(o){return(o.renderCanvas||o.renderWebGL)&&this.displayList.add(o),o.preUpdate&&this.updateList.add(o),o},shutdown:function(){this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(o,n){s.prototype.hasOwnProperty(o)||(s.prototype[o]=n)},s.remove=function(o){s.prototype.hasOwnProperty(o)&&delete s.prototype[o]},g.register("GameObjectFactory",s,"add"),e.exports=s},91296:(e,y,t)=>{var a=t(61340),g=new a,l=new a,s=new a,o={camera:g,sprite:l,calc:s},n=function(i,h,r){var f=g,c=l,d=s;return c.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),f.copyFrom(h.matrix),r?(f.multiplyWithOffset(r,-h.scrollX*i.scrollFactorX,-h.scrollY*i.scrollFactorY),c.e=i.x,c.f=i.y):(c.e-=h.scrollX*i.scrollFactorX,c.f-=h.scrollY*i.scrollFactorY),f.multiply(c,d),o};e.exports=n},45027:(e,y,t)=>{var a=t(83419),g=t(25774),l=t(37277),s=t(44594),o=new a({Extends:g,initialize:function(i){g.call(this),this.checkQueue=!0,this.scene=i,this.systems=i.sys,i.sys.events.once(s.BOOT,this.boot,this),i.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(s.PRE_UPDATE,this.update,this),n.on(s.UPDATE,this.sceneUpdate,this),n.once(s.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(n,i){for(var h=this._active,r=h.length,f=0;f<r;f++){var c=h[f];c.active&&c.preUpdate.call(c,n,i)}},shutdown:function(){for(var n=this._active.length;n--;)this._active[n].destroy(!0);for(n=this._pending.length;n--;)this._pending[n].destroy(!0);for(n=this._destroy.length;n--;)this._destroy[n].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var i=this.systems.events;i.off(s.PRE_UPDATE,this.update,this),i.off(s.UPDATE,this.sceneUpdate,this),i.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});l.register("UpdateList",o,"updateList"),e.exports=o},3217:e=>{var y=function(t,a,g,l,s,o,n,i,h,r,f,c,d,p,m){var C=g.x-a.displayOriginX+s,S=g.y-a.displayOriginY+o,E=C+g.w,D=S+g.h,M=n.getXRound(C,S,i),w=n.getYRound(C,S,i),A=n.getXRound(C,D,i),R=n.getYRound(C,D,i),P=n.getXRound(E,D,i),O=n.getYRound(E,D,i),b=n.getXRound(E,S,i),F=n.getYRound(E,S,i);t.batchQuad(a,M,w,A,R,P,O,b,F,l.u0,l.v0,l.u1,l.v1,h,r,f,c,d,p,m)};e.exports=y},53048:e=>{var y=function(t,a,g,l){if(g===void 0&&(g=!1),l===void 0)return l={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},l;var s=t.text,o=s.length,n=t.maxWidth,i=t.wordWrapCharCode,h=Number.MAX_VALUE,r=Number.MAX_VALUE,f=0,c=0,d=t.fontData.chars,p=t.fontData.lineHeight,m=t.letterSpacing,C=t.lineSpacing,S=0,E=0,D=0,M=null,w=t._align,A=0,R=0,P=t.fontSize/t.fontData.size,O=P*t.scaleX,b=P*t.scaleY,F=null,L=0,G=[],z=Number.MAX_VALUE,X=0,B=0,U=0,I,N=[],V=[],H=null;if(n>0){for(I=0;I<o;I++){if(D=s.charCodeAt(I),D===10){H!==null&&(N.push({word:H.word,i:H.i,x:H.x*O,y:H.y*b,w:H.w*O,h:H.h*b,cr:!0}),H=null),S=0,E+=p+C,F=null;continue}if(M=d[D],!!M){if(F!==null)var W=M.kerning[L];D===i?H!==null&&(N.push({word:H.word,i:H.i,x:H.x*O,y:H.y*b,w:H.w*O,h:H.h*b,cr:!1}),H=null):(H===null&&(H={word:"",i:I,x:S,y:E,w:0,h:p,cr:!1}),H.word=H.word.concat(s[I]),H.w+=M.xOffset+M.xAdvance+(W!==void 0?W:0)),S+=M.xAdvance+m,F=M,L=D}}H!==null&&N.push({word:H.word,i:H.i,x:H.x*O,y:H.y*b,w:H.w*O,h:H.h*b,cr:!1}),S=0,E=0,F=null,L=0;var Y,j=0,k=[];for(I=0;I<N.length;I++){var $=N[I],Z=$.x,K=$.x+$.w;if(Y){var J=Z-(Y.x+Y.w);j=Z-(J+Y.w),Y=null}var Q=Z-j,_=K-j;Q>n||_>n?(k.push($.i-1),$.cr?(k.push($.i+$.word.length),j=0,Y=null):Y=$):$.cr&&(k.push($.i+$.word.length),j=0,Y=null)}var rt=function(Bt,re,oe){return Bt.substr(0,re)+oe+Bt.substr(re+1)};for(I=k.length-1;I>=0;I--)s=rt(s,k[I],`
`);l.wrappedText=s,o=s.length,N=[],H=null}var ut=0;for(I=0;I<o;I++){if(D=s.charCodeAt(I),D===10){H!==null&&(N.push({word:H.word,i:H.i,x:H.x*O,y:H.y*b,w:H.w*O,h:H.h*b}),H=null),S=0,E+=p+C,F=null,G[B]=U,U>X&&(X=U),U<z&&(z=U),B++,U=0;continue}if(M=d[D],!!M){if(A=S,R=E,F!==null){var ot=M.kerning[L];A+=ot!==void 0?ot:0}h>A&&(h=A),r>R&&(r=R);var q=A+M.xAdvance,it=R+p;f<q&&(f=q),c<it&&(c=it);var nt=M.xOffset+M.xAdvance+(ot!==void 0?ot:0);D===i?H!==null&&(N.push({word:H.word,i:H.i,x:H.x*O,y:H.y*b,w:H.w*O,h:H.h*b}),H=null):(H===null&&(H={word:"",i:ut,x:S,y:E,w:0,h:p}),H.word=H.word.concat(s[I]),H.w+=nt),V.push({i:ut,idx:I,char:s[I],code:D,x:(M.xOffset+A)*P,y:(M.yOffset+E)*P,w:M.width*P,h:M.height*P,t:E*P,r:q*P,b:p*P,line:B,glyph:M}),S+=M.xAdvance+m+(ot!==void 0?ot:0),F=M,L=D,U=q*P,ut++}}if(H!==null&&N.push({word:H.word,i:H.i,x:H.x*O,y:H.y*b,w:H.w*O,h:H.h*b}),G[B]=U,U>X&&(X=U),U<z&&(z=U),w>0)for(var xt=0;xt<V.length;xt++){var Tt=V[xt];if(w===1){var Wt=(X-G[Tt.line])/2;Tt.x+=Wt,Tt.r+=Wt}else if(w===2){var Ut=X-G[Tt.line];Tt.x+=Ut,Tt.r+=Ut}}var Rt=l.local,Dt=l.global,$t=l.lines;return Rt.x=h*P,Rt.y=r*P,Rt.width=f*P,Rt.height=c*P,Dt.x=t.x-t._displayOriginX+h*O,Dt.y=t.y-t._displayOriginY+r*b,Dt.width=f*O,Dt.height=c*b,$t.shortest=z,$t.longest=X,$t.lengths=G,a&&(Rt.x=Math.ceil(Rt.x),Rt.y=Math.ceil(Rt.y),Rt.width=Math.ceil(Rt.width),Rt.height=Math.ceil(Rt.height),Dt.x=Math.ceil(Dt.x),Dt.y=Math.ceil(Dt.y),Dt.width=Math.ceil(Dt.width),Dt.height=Math.ceil(Dt.height),$t.shortest=Math.ceil(z),$t.longest=Math.ceil(X)),g&&(t._displayOriginX=t.originX*Rt.width,t._displayOriginY=t.originY*Rt.height,Dt.x=t.x-t._displayOriginX*t.scaleX,Dt.y=t.y-t._displayOriginY*t.scaleY,a&&(Dt.x=Math.ceil(Dt.x),Dt.y=Math.ceil(Dt.y))),l.words=N,l.characters=V,l.lines.height=p,l.scale=P,l.scaleX=t.scaleX,l.scaleY=t.scaleY,l};e.exports=y},61327:(e,y,t)=>{var a=t(21859),g=function(l,s,o,n,i,h,r){var f=l.sys.textures.get(o),c=f.get(n),d=l.sys.cache.xml.get(i);if(c&&d){var p=a(d,c,h,r,f);return l.sys.cache.bitmapFont.add(s,{data:p,texture:o,frame:n,fromAtlas:!0}),!0}else return!1};e.exports=g},6925:(e,y,t)=>{var a=t(35154),g=function(l,s){var o=s.width,n=s.height,i=Math.floor(o/2),h=Math.floor(n/2),r=a(s,"chars","");if(r!==""){var f=a(s,"image",""),c=l.sys.textures.getFrame(f),d=c.cutX,p=c.cutY,m=c.source.width,C=c.source.height,S=a(s,"offset.x",0),E=a(s,"offset.y",0),D=a(s,"spacing.x",0),M=a(s,"spacing.y",0),w=a(s,"lineSpacing",0),A=a(s,"charsPerRow",null);A===null&&(A=m/o,A>r.length&&(A=r.length));for(var R=S,P=E,O={retroFont:!0,font:f,size:o,lineHeight:n+w,chars:{}},b=0,F=0;F<r.length;F++){var L=r.charCodeAt(F),G=(d+R)/m,z=(p+P)/C,X=(d+R+o)/m,B=(p+P+n)/C;O.chars[L]={x:R,y:P,width:o,height:n,centerX:i,centerY:h,xOffset:0,yOffset:0,xAdvance:o,data:{},kerning:{},u0:G,v0:z,u1:X,v1:B},b++,b===A?(b=0,R=S,P+=n+M):R+=o+D}var U={data:O,frame:null,texture:f};return U}};e.exports=g},21859:e=>{function y(a,g){return parseInt(a.getAttribute(g),10)}var t=function(a,g,l,s,o){l===void 0&&(l=0),s===void 0&&(s=0);var n=g.cutX,i=g.cutY,h=g.source.width,r=g.source.height,f=g.sourceIndex,c={},d=a.getElementsByTagName("info")[0],p=a.getElementsByTagName("common")[0];c.font=d.getAttribute("face"),c.size=y(d,"size"),c.lineHeight=y(p,"lineHeight")+s,c.chars={};var m=a.getElementsByTagName("char"),C=g!==void 0&&g.trimmed;if(C)var S=g.height,E=g.width;for(var D=0;D<m.length;D++){var M=m[D],w=y(M,"id"),A=String.fromCharCode(w),R=y(M,"x"),P=y(M,"y"),O=y(M,"width"),b=y(M,"height");C&&(R<E&&(E=R),P<S&&(S=P)),C&&S!==0&&E!==0&&(R-=g.x,P-=g.y);var F=(n+R)/h,L=(i+P)/r,G=(n+R+O)/h,z=(i+P+b)/r;if(c.chars[w]={x:R,y:P,width:O,height:b,centerX:Math.floor(O/2),centerY:Math.floor(b/2),xOffset:y(M,"xoffset"),yOffset:y(M,"yoffset"),xAdvance:y(M,"xadvance")+l,data:{},kerning:{},u0:F,v0:L,u1:G,v1:z},o&&O!==0&&b!==0){var X=o.add(A,f,R,P,O,b);X&&X.setUVs(O,b,F,L,G,z)}}var B=a.getElementsByTagName("kerning");for(D=0;D<B.length;D++){var U=B[D],I=y(U,"first"),N=y(U,"second"),V=y(U,"amount");c.chars[N].kerning[I]=V}return c};e.exports=t},196:(e,y,t)=>{var a=t(87662),g=t(79291),l={Parse:t(6925)};l=g(!1,l,a),e.exports=l},87662:e=>{var y={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};e.exports=y},2638:(e,y,t)=>{var a=t(22186),g=t(83419),l=t(12310),s=new g({Extends:a,Mixins:[l],initialize:function(n,i,h,r,f,c,d){a.call(this,n,i,h,r,f,c,d),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(o,n){return this.cropWidth=o,this.cropHeight=n,this},setDisplayCallback:function(o){return this.displayCallback=o,this},setScrollX:function(o){return this.scrollX=o,this},setScrollY:function(o){return this.scrollY=o,this}});e.exports=s},86741:(e,y,t)=>{var a=t(20926),g=function(l,s,o,n){var i=s._text,h=i.length,r=l.currentContext;if(!(h===0||!a(l,r,s,o,n))){o.addToRenderList(s);var f=s.fromAtlas?s.frame:s.texture.frames.__BASE,c=s.displayCallback,d=s.callbackData,p=s.fontData.chars,m=s.fontData.lineHeight,C=s._letterSpacing,S=0,E=0,D=0,M=null,w=0,A=0,R=0,P=0,O=0,b=0,F=null,L=0,G=s.frame.source.image,z=f.cutX,X=f.cutY,B=0,U=0,I=s._fontSize/s.fontData.size,N=s._align,V=0,H=0;s.getTextBounds(!1);var W=s._bounds.lines;N===1?H=(W.longest-W.lengths[0])/2:N===2&&(H=W.longest-W.lengths[0]),r.translate(-s.displayOriginX,-s.displayOriginY);var Y=o.roundPixels;s.cropWidth>0&&s.cropHeight>0&&(r.beginPath(),r.rect(0,0,s.cropWidth,s.cropHeight),r.clip());for(var j=0;j<h;j++){if(U=I,B=0,D=i.charCodeAt(j),D===10){V++,N===1?H=(W.longest-W.lengths[V])/2:N===2&&(H=W.longest-W.lengths[V]),S=0,E+=m,F=null;continue}if(M=p[D],!!M){if(w=z+M.x,A=X+M.y,R=M.width,P=M.height,O=M.xOffset+S-s.scrollX,b=M.yOffset+E-s.scrollY,F!==null){var k=M.kerning[L];O+=k!==void 0?k:0}if(c){d.index=j,d.charCode=D,d.x=O,d.y=b,d.scale=U,d.rotation=B,d.data=M.data;var $=c(d);O=$.x,b=$.y,U=$.scale,B=$.rotation}O*=U,b*=U,O+=H,S+=M.xAdvance+C+(k!==void 0?k:0),F=M,L=D,!(R===0||P===0||D===32)&&(Y&&(O=Math.round(O),b=Math.round(b)),r.save(),r.translate(O,b),r.rotate(B),r.scale(U,U),r.drawImage(G,w,A,R,P,0,0,R,P),r.restore())}}r.restore()}};e.exports=g},11164:(e,y,t)=>{var a=t(2638),g=t(25305),l=t(44603),s=t(23568);l.register("dynamicBitmapText",function(o,n){o===void 0&&(o={});var i=s(o,"font",""),h=s(o,"text",""),r=s(o,"size",!1),f=new a(this.scene,0,0,i,h,r);return n!==void 0&&(o.add=n),g(this.scene,f,o),f})},72566:(e,y,t)=>{var a=t(2638),g=t(39429);g.register("dynamicBitmapText",function(l,s,o,n,i){return this.displayList.add(new a(this.scene,l,s,o,n,i))})},12310:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(73482),l=t(86741),e.exports={renderWebGL:g,renderCanvas:l}},73482:(e,y,t)=>{var a=t(91296),g=t(61340),l=t(70554),s=new g,o=function(n,i,h,r){var f=i.text,c=f.length;if(c!==0){h.addToRenderList(i);var d=n.pipelines.set(i.pipeline,i),p=a(i,h,r);n.pipelines.preBatch(i);var m=p.sprite,C=p.calc,S=s,E=i.cropWidth>0||i.cropHeight>0;E&&(d.flush(),n.pushScissor(C.tx,C.ty,i.cropWidth*C.scaleX,i.cropHeight*C.scaleY));var D=i.frame,M=D.glTexture,w=i.tintFill,A=l.getTintAppendFloatAlpha(i.tintTopLeft,h.alpha*i._alphaTL),R=l.getTintAppendFloatAlpha(i.tintTopRight,h.alpha*i._alphaTR),P=l.getTintAppendFloatAlpha(i.tintBottomLeft,h.alpha*i._alphaBL),O=l.getTintAppendFloatAlpha(i.tintBottomRight,h.alpha*i._alphaBR),b=d.setGameObject(i),F=0,L=0,G=0,z=0,X=i.letterSpacing,B,U=0,I=0,N,V=i.scrollX,H=i.scrollY,W=i.fontData,Y=W.chars,j=W.lineHeight,k=i.fontSize/W.size,$=0,Z=i._align,K=0,J=0,Q=i.getTextBounds(!1);i.maxWidth>0&&(f=Q.wrappedText,c=f.length);var _=i._bounds.lines;Z===1?J=(_.longest-_.lengths[0])/2:Z===2&&(J=_.longest-_.lengths[0]);for(var rt=h.roundPixels,ut=i.displayCallback,ot=i.callbackData,q=0;q<c;q++){if(G=f.charCodeAt(q),G===10){K++,Z===1?J=(_.longest-_.lengths[K])/2:Z===2&&(J=_.longest-_.lengths[K]),F=0,L+=j,N=null;continue}if(B=Y[G],!!B){U=B.width,I=B.height;var it=B.xOffset+F-V,nt=B.yOffset+L-H;if(N!==null){var xt=B.kerning[z];it+=xt!==void 0?xt:0}if(F+=B.xAdvance+X,N=B,z=G,!(U===0||I===0||G===32)){if(k=i.fontSize/i.fontData.size,$=0,ut){ot.color=0,ot.tint.topLeft=A,ot.tint.topRight=R,ot.tint.bottomLeft=P,ot.tint.bottomRight=O,ot.index=q,ot.charCode=G,ot.x=it,ot.y=nt,ot.scale=k,ot.rotation=$,ot.data=B.data;var Tt=ut(ot);it=Tt.x,nt=Tt.y,k=Tt.scale,$=Tt.rotation,Tt.color?(A=Tt.color,R=Tt.color,P=Tt.color,O=Tt.color):(A=Tt.tint.topLeft,R=Tt.tint.topRight,P=Tt.tint.bottomLeft,O=Tt.tint.bottomRight),A=l.getTintAppendFloatAlpha(A,h.alpha*i._alphaTL),R=l.getTintAppendFloatAlpha(R,h.alpha*i._alphaTR),P=l.getTintAppendFloatAlpha(P,h.alpha*i._alphaBL),O=l.getTintAppendFloatAlpha(O,h.alpha*i._alphaBR)}it*=k,nt*=k,it-=i.displayOriginX,nt-=i.displayOriginY,it+=J,S.applyITRS(it,nt,$,k,k),C.multiply(S,m);var Wt=B.u0,Ut=B.v0,Rt=B.u1,Dt=B.v1,$t=U,Bt=I,re=m.e,oe=m.f,Ce=Bt*m.c+m.e,oi=Bt*m.d+m.f,ai=$t*m.a+Bt*m.c+m.e,li=$t*m.b+Bt*m.d+m.f,ui=$t*m.a+m.e,hi=$t*m.b+m.f;rt&&(re=Math.round(re),oe=Math.round(oe),Ce=Math.round(Ce),oi=Math.round(oi),ai=Math.round(ai),li=Math.round(li),ui=Math.round(ui),hi=Math.round(hi)),d.shouldFlush(6)&&(d.flush(),b=d.setGameObject(i)),d.batchQuad(i,re,oe,Ce,oi,ai,li,ui,hi,Wt,Ut,Rt,Dt,A,R,P,O,w,M,b)}}}E&&(d.flush(),n.popScissor()),n.pipelines.postBatch(i)}};e.exports=o},22186:(e,y,t)=>{var a=t(83419),g=t(45319),l=t(31401),s=t(95643),o=t(53048),n=t(61327),i=t(21859),h=t(87841),r=t(18658),f=new a({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Texture,l.Tint,l.Transform,l.Visible,r],initialize:function(d,p,m,C,S,E,D){S===void 0&&(S=""),D===void 0&&(D=0),s.call(this,d,"BitmapText"),this.font=C;var M=this.scene.sys.cache.bitmapFont.get(C);M||console.warn("Invalid BitmapText key: "+C),this.fontData=M.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=D,this._bounds=o(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=M.fromAtlas,this.setTexture(M.texture,M.frame),this.setPosition(p,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(S)},setLeftAlign:function(){return this._align=f.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=f.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=f.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(c){return this._fontSize=c,this._dirty=!0,this},setLetterSpacing:function(c){return c===void 0&&(c=0),this._letterSpacing=c,this._dirty=!0,this},setLineSpacing:function(c){return c===void 0&&(c=0),this.lineSpacing=c,this},setText:function(c){return!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c!==this.text&&(this._text=c.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(c,d,p,m){return c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=.5),this.dropShadowX=c,this.dropShadowY=d,this.dropShadowColor=p,this.dropShadowAlpha=m,this},setCharacterTint:function(c,d,p,m,C,S,E){c===void 0&&(c=0),d===void 0&&(d=1),p===void 0&&(p=!1),m===void 0&&(m=-1),C===void 0&&(C=m,S=m,E=m);var D=this.text.length;d===-1&&(d=D),c<0&&(c=D+c),c=g(c,0,D-1);for(var M=g(c+d,c,D),w=this.charColors,A=c;A<M;A++){var R=w[A];if(m===-1)w[A]=null;else{var P=p?1:0;R?(R.tintEffect=P,R.tintTL=m,R.tintTR=C,R.tintBL=S,R.tintBR=E):w[A]={tintEffect:P,tintTL:m,tintTR:C,tintBL:S,tintBR:E}}}return this},setWordTint:function(c,d,p,m,C,S,E){d===void 0&&(d=1);for(var D=this.getTextBounds(),M=D.words,w=typeof c=="number",A=0,R=0;R<M.length;R++){var P=M[R];if((w&&R===c||!w&&P.word===c)&&(this.setCharacterTint(P.i,P.word.length,p,m,C,S,E),A++,A===d))return this}return this},getTextBounds:function(c){var d=this._bounds;return(this._dirty||c||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(o(this,c,!0,d),this._dirty=!1),d},getCharacterAt:function(c,d,p){for(var m=this.getLocalPoint(c,d,null,p),C=this.getTextBounds(),S=C.characters,E=new h,D=0;D<S.length;D++){var M=S[D];if(E.setTo(M.x,M.t,M.r-M.x,M.b),E.contains(m.x,m.y))return M}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(c,d,p){d===void 0&&(d=this._fontSize),p===void 0&&(p=this._align);var m=this.scene.sys.cache.bitmapFont.get(c);return m&&(this.font=c,this.fontData=m.data,this._fontSize=d,this._align=p,this.fromAtlas=m.fromAtlas===!0,this.setTexture(m.texture,m.frame),o(this,!1,!0,this._bounds)),this},setMaxWidth:function(c,d){return this._maxWidth=c,this._dirty=!0,d!==void 0&&(this.wordWrapCharCode=d),this},align:{set:function(c){this._align=c,this._dirty=!0},get:function(){return this._align}},text:{set:function(c){this.setText(c)},get:function(){return this._text}},fontSize:{set:function(c){this._fontSize=c,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(c){this._letterSpacing=c,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(c){this._lineSpacing=c,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(c){this._maxWidth=c,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var c=l.ToJSON(this),d={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return c.data=d,c},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});f.ALIGN_LEFT=0,f.ALIGN_CENTER=1,f.ALIGN_RIGHT=2,f.ParseFromAtlas=n,f.ParseXMLBitmapFont=i,e.exports=f},37289:(e,y,t)=>{var a=t(20926),g=function(l,s,o,n){var i=s._text,h=i.length,r=l.currentContext;if(!(h===0||!a(l,r,s,o,n))){o.addToRenderList(s);var f=s.fromAtlas?s.frame:s.texture.frames.__BASE,c=s.fontData.chars,d=s.fontData.lineHeight,p=s._letterSpacing,m=s._lineSpacing,C=0,S=0,E=0,D=null,M=0,w=0,A=0,R=0,P=0,O=0,b=null,F=0,L=f.source.image,G=f.cutX,z=f.cutY,X=s._fontSize/s.fontData.size,B=s._align,U=0,I=0,N=s.getTextBounds(!1);s.maxWidth>0&&(i=N.wrappedText,h=i.length);var V=s._bounds.lines;B===1?I=(V.longest-V.lengths[0])/2:B===2&&(I=V.longest-V.lengths[0]),r.translate(-s.displayOriginX,-s.displayOriginY);for(var H=o.roundPixels,W=0;W<h;W++){if(E=i.charCodeAt(W),E===10){U++,B===1?I=(V.longest-V.lengths[U])/2:B===2&&(I=V.longest-V.lengths[U]),C=0,S+=d+m,b=null;continue}if(D=c[E],!!D){if(M=G+D.x,w=z+D.y,A=D.width,R=D.height,P=D.xOffset+C,O=D.yOffset+S,b!==null){var Y=D.kerning[F];P+=Y!==void 0?Y:0}P*=X,O*=X,P+=I,C+=D.xAdvance+p+(Y!==void 0?Y:0),b=D,F=E,!(A===0||R===0||E===32)&&(H&&(P=Math.round(P),O=Math.round(O)),r.save(),r.translate(P,O),r.scale(X,X),r.drawImage(L,M,w,A,R,0,0,A,R),r.restore())}}r.restore()}};e.exports=g},57336:(e,y,t)=>{var a=t(22186),g=t(25305),l=t(44603),s=t(23568),o=t(35154);l.register("bitmapText",function(n,i){n===void 0&&(n={});var h=o(n,"font",""),r=s(n,"text",""),f=s(n,"size",!1),c=o(n,"align",0),d=new a(this.scene,0,0,h,r,f,c);return i!==void 0&&(n.add=i),g(this.scene,d,n),d})},34914:(e,y,t)=>{var a=t(22186),g=t(39429);g.register("bitmapText",function(l,s,o,n,i,h){return this.displayList.add(new a(this.scene,l,s,o,n,i,h))})},18658:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(33590),l=t(37289),e.exports={renderWebGL:g,renderCanvas:l}},33590:(e,y,t)=>{var a=t(3217),g=t(91296),l=t(70554),s=function(o,n,i,h){var r=n._text,f=r.length;if(f!==0){i.addToRenderList(n);var c=o.pipelines.set(n.pipeline,n),d=g(n,i,h).calc;o.pipelines.preBatch(n);var p=i.roundPixels,m=i.alpha,C=n.charColors,S=n.tintFill,E=l.getTintAppendFloatAlpha,D=E(n.tintTopLeft,m*n._alphaTL),M=E(n.tintTopRight,m*n._alphaTR),w=E(n.tintBottomLeft,m*n._alphaBL),A=E(n.tintBottomRight,m*n._alphaBR),R=n.frame.glTexture,P=c.setGameObject(n),O=n.getTextBounds(!1),b,F,L,G=O.characters,z=n.dropShadowX,X=n.dropShadowY,B=z!==0||X!==0;if(B){var U=n.dropShadowColor,I=n.dropShadowAlpha,N=E(U,m*I*n._alphaTL),V=E(U,m*I*n._alphaTR),H=E(U,m*I*n._alphaBL),W=E(U,m*I*n._alphaBR);for(b=0;b<G.length;b++)F=G[b],L=F.glyph,!(F.code===32||L.width===0||L.height===0)&&a(c,n,F,L,z,X,d,p,N,V,H,W,1,R,P)}for(b=0;b<G.length;b++)if(F=G[b],L=F.glyph,!(F.code===32||L.width===0||L.height===0))if(c.shouldFlush(6)&&(c.flush(),P=c.setGameObject(n)),C[F.i]){var Y=C[F.i],j=Y.tintEffect,k=E(Y.tintTL,m*n._alphaTL),$=E(Y.tintTR,m*n._alphaTR),Z=E(Y.tintBL,m*n._alphaBL),K=E(Y.tintBR,m*n._alphaBR);a(c,n,F,L,0,0,d,p,k,$,Z,K,j,R,P)}else a(c,n,F,L,0,0,d,p,D,M,w,A,S,R,P);o.pipelines.postBatch(n)}};e.exports=s},6107:(e,y,t)=>{var a=t(48011),g=t(46590),l=t(83419),s=t(31401),o=t(4327),n=t(95643),i=t(73162),h=new l({Extends:n,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.Texture,s.Transform,s.Visible,a],initialize:function(f,c,d,p,m){n.call(this,f,"Blitter"),this.setTexture(p,m),this.setPosition(c,d),this.initPipeline(),this.initPostPipeline(),this.children=new i,this.renderList=[],this.dirty=!1},create:function(r,f,c,d,p){d===void 0&&(d=!0),p===void 0&&(p=this.children.length),c===void 0?c=this.frame:c instanceof o||(c=this.texture.get(c));var m=new g(this,r,f,c,d);return this.children.addAt(m,p,!1),this.dirty=!0,m},createFromCallback:function(r,f,c,d){for(var p=this.createMultiple(f,c,d),m=0;m<p.length;m++){var C=p[m];r.call(this,C,m)}return p},createMultiple:function(r,f,c){f===void 0&&(f=this.frame.name),c===void 0&&(c=!0),Array.isArray(f)||(f=[f]);var d=[],p=this;return f.forEach(function(m){for(var C=0;C<r;C++)d.push(p.create(0,0,m,c))}),d},childCanRender:function(r){return r.visible&&r.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});e.exports=h},72396:e=>{var y=function(t,a,g,l){var s=a.getRenderList();if(s.length!==0){var o=t.currentContext,n=g.alpha*a.alpha;if(n!==0){g.addToRenderList(a),o.globalCompositeOperation=t.blendModes[a.blendMode],o.imageSmoothingEnabled=!a.frame.source.scaleMode;var i=a.x-g.scrollX*a.scrollFactorX,h=a.y-g.scrollY*a.scrollFactorY;o.save(),l&&l.copyToContext(o);for(var r=g.roundPixels,f=0;f<s.length;f++){var c=s[f],d=c.flipX||c.flipY,p=c.frame,m=p.canvasData,C=p.x,S=p.y,E=1,D=1,M=c.alpha*n;M!==0&&(o.globalAlpha=M,d?(c.flipX&&(E=-1,C-=m.width),c.flipY&&(D=-1,S-=m.height),m.width>0&&m.height>0&&(o.save(),o.translate(c.x+i,c.y+h),o.scale(E,D),o.drawImage(p.source.image,m.x,m.y,m.width,m.height,C,S,m.width,m.height),o.restore())):(r&&(C=Math.round(C),S=Math.round(S)),m.width>0&&m.height>0&&o.drawImage(p.source.image,m.x,m.y,m.width,m.height,C+c.x+i,S+c.y+h,m.width,m.height)))}o.restore()}}};e.exports=y},9403:(e,y,t)=>{var a=t(6107),g=t(25305),l=t(44603),s=t(23568);l.register("blitter",function(o,n){o===void 0&&(o={});var i=s(o,"key",null),h=s(o,"frame",null),r=new a(this.scene,0,0,i,h);return n!==void 0&&(o.add=n),g(this.scene,r,o),r})},12709:(e,y,t)=>{var a=t(6107),g=t(39429);g.register("blitter",function(l,s,o,n){return this.displayList.add(new a(this.scene,l,s,o,n))})},48011:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(99485),l=t(72396),e.exports={renderWebGL:g,renderCanvas:l}},99485:(e,y,t)=>{var a=t(61340),g=t(70554),l=new a,s=function(o,n,i,h){var r=n.getRenderList(),f=i.alpha*n.alpha;if(!(r.length===0||f===0)){i.addToRenderList(n);var c=o.pipelines.set(this.pipeline,n),d=i.scrollX*n.scrollFactorX,p=i.scrollY*n.scrollFactorY,m=l.copyFrom(i.matrix);h&&(m.multiplyWithOffset(h,-d,-p),d=0,p=0);var C=n.x-d,S=n.y-p,E=-1,D=!1;o.pipelines.preBatch(n);for(var M=0;M<r.length;M++){var w=r[M],A=w.frame,R=w.alpha*f;if(R!==0){var P=A.width,O=A.height,b=C+w.x+A.x,F=S+w.y+A.y;w.flipX&&(P*=-1,b+=A.width),w.flipY&&(O*=-1,F+=A.height);var L=m.setQuad(b,F,b+P,F+O),G=g.getTintAppendFloatAlpha(w.tint,R);if(A.sourceIndex!==E){var z=c.setGameObject(n,A);E=A.sourceIndex}c.batchQuad(n,L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],A.u0,A.v0,A.u1,A.v1,G,G,G,G,D,A.glTexture,z)&&(E=-1)}}o.pipelines.postBatch(n)}};e.exports=s},46590:(e,y,t)=>{var a=t(83419),g=t(4327),l=new a({initialize:function(o,n,i,h,r){this.parent=o,this.x=n,this.y=i,this.frame=h,this.data={},this.tint=16777215,this._visible=r,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(s){return s===void 0?this.frame=this.parent.frame:s instanceof g&&s.texture===this.parent.texture?this.frame=s:this.frame=this.parent.texture.get(s),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(s,o,n){return this.x=s,this.y=o,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,n&&this.setFrame(n),this},setPosition:function(s,o){return this.x=s,this.y=o,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,o){return this.flipX=s,this.flipY=o,this},setVisible:function(s){return this.visible=s,this},setAlpha:function(s){return this.alpha=s,this},setTint:function(s){return this.tint=s,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(s){this.parent.dirty|=this._visible!==s,this._visible=s}},alpha:{get:function(){return this._alpha},set:function(s){this.parent.dirty|=this._alpha>0!=s>0,this._alpha=s}}});e.exports=l},16005:(e,y,t)=>{var a=t(45319),g=2,l={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s,o,n,i){return s===void 0&&(s=1),o===void 0?this.alpha=s:(this._alphaTL=a(s,0,1),this._alphaTR=a(o,0,1),this._alphaBL=a(n,0,1),this._alphaBR=a(i,0,1)),this},alpha:{get:function(){return this._alpha},set:function(s){var o=a(s,0,1);this._alpha=o,this._alphaTL=o,this._alphaTR=o,this._alphaBL=o,this._alphaBR=o,o===0?this.renderFlags&=~g:this.renderFlags|=g}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(s){var o=a(s,0,1);this._alphaTL=o,o!==0&&(this.renderFlags|=g)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(s){var o=a(s,0,1);this._alphaTR=o,o!==0&&(this.renderFlags|=g)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(s){var o=a(s,0,1);this._alphaBL=o,o!==0&&(this.renderFlags|=g)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(s){var o=a(s,0,1);this._alphaBR=o,o!==0&&(this.renderFlags|=g)}}};e.exports=l},88509:(e,y,t)=>{var a=t(45319),g=2,l={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s){return s===void 0&&(s=1),this.alpha=s,this},alpha:{get:function(){return this._alpha},set:function(s){var o=a(s,0,1);this._alpha=o,o===0?this.renderFlags&=~g:this.renderFlags|=g}}};e.exports=l},90065:(e,y,t)=>{var a=t(10312),g={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(l){typeof l=="string"&&(l=a[l]),l|=0,l>=-1&&(this._blendMode=l)}},setBlendMode:function(l){return this.blendMode=l,this}};e.exports=g},94215:e=>{var y={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};e.exports=y},61683:e=>{var y={texture:null,frame:null,isCropped:!1,setCrop:function(t,a,g,l){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,a,g,l,this.flipX,this.flipY);else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};e.exports=y},89272:e=>{var y={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};e.exports=y},47059:(e,y,t)=>{var a=t(83419),g=t(66064),l=t(19133),s=new a({initialize:function(n,i){this.gameObject=n,this.isPost=i,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(o){return o===void 0&&(o=0),this.padding=o,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(o){if(!this.isPost){var n=this.gameObject.scene.sys.renderer;n&&n.pipelines?(this.gameObject.pipeline=n.pipelines.FX_PIPELINE,o!==void 0&&(this.padding=o),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var o=this.list,n=0;n<o.length;n++)o[n].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(o){var n;if(this.isPost){var i=this.gameObject.getPostPipeline(String(o.type));for(Array.isArray(i)||(i=[i]),n=0;n<i.length;n++){var h=i[n];if(h.controller===o){this.gameObject.removePostPipeline(h),o.destroy();break}}}else{var r=this.list;for(n=0;n<r.length;n++)r[n]===o&&(l(r,n),o.destroy())}return this.gameObject},disable:function(o){return o===void 0&&(o=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,o&&this.clear(),this.gameObject},add:function(o,n){if(this.isPost){var i=String(o.type);this.gameObject.setPostPipeline(i,n);var h=this.gameObject.getPostPipeline(i);if(h)return Array.isArray(h)&&(h=h.pop()),h.controller=o,o}else return this.enabled||this.enable(),this.list.push(o),o},addGlow:function(o,n,i,h,r,f){return this.add(new g.Glow(this.gameObject,o,n,i,h),{quality:r,distance:f})},addShadow:function(o,n,i,h,r,f,c){return this.add(new g.Shadow(this.gameObject,o,n,i,h,r,f,c))},addPixelate:function(o){return this.add(new g.Pixelate(this.gameObject,o))},addVignette:function(o,n,i,h){return this.add(new g.Vignette(this.gameObject,o,n,i,h))},addShine:function(o,n,i,h){return this.add(new g.Shine(this.gameObject,o,n,i,h))},addBlur:function(o,n,i,h,r,f){return this.add(new g.Blur(this.gameObject,o,n,i,h,r,f))},addGradient:function(o,n,i,h,r,f,c,d){return this.add(new g.Gradient(this.gameObject,o,n,i,h,r,f,c,d))},addBloom:function(o,n,i,h,r,f){return this.add(new g.Bloom(this.gameObject,o,n,i,h,r,f))},addColorMatrix:function(){return this.add(new g.ColorMatrix(this.gameObject))},addCircle:function(o,n,i,h,r){return this.add(new g.Circle(this.gameObject,o,n,i,h,r))},addBarrel:function(o){return this.add(new g.Barrel(this.gameObject,o))},addDisplacement:function(o,n,i){return this.add(new g.Displacement(this.gameObject,o,n,i))},addWipe:function(o,n,i){return this.add(new g.Wipe(this.gameObject,o,n,i))},addReveal:function(o,n,i){return this.add(new g.Wipe(this.gameObject,o,n,i,!0))},addBokeh:function(o,n,i){return this.add(new g.Bokeh(this.gameObject,o,n,i))},addTiltShift:function(o,n,i,h,r,f){return this.add(new g.Bokeh(this.gameObject,o,n,i,!0,h,r,f))},destroy:function(){this.clear(),this.gameObject=null}});e.exports=s},54434:e=>{var y={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,a){return this.flipX=t,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};e.exports=y},8004:(e,y,t)=>{var a=t(87841),g=t(11520),l=t(26099),s={prepareBoundsOutput:function(o,n){if(n===void 0&&(n=!1),this.rotation!==0&&g(o,this.x,this.y,this.rotation),n&&this.parentContainer){var i=this.parentContainer.getBoundsTransformMatrix();i.transformPoint(o.x,o.y,o)}return o},getCenter:function(o,n){return o===void 0&&(o=new l),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,n)},getTopLeft:function(o,n){return o||(o=new l),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,n)},getTopCenter:function(o,n){return o||(o=new l),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,n)},getTopRight:function(o,n){return o||(o=new l),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,n)},getLeftCenter:function(o,n){return o||(o=new l),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,n)},getRightCenter:function(o,n){return o||(o=new l),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,n)},getBottomLeft:function(o,n){return o||(o=new l),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,n)},getBottomCenter:function(o,n){return o||(o=new l),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,n)},getBottomRight:function(o,n){return o||(o=new l),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,n)},getBounds:function(o){o===void 0&&(o=new a);var n,i,h,r,f,c,d,p;if(this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(o),m.transformPoint(o.x,o.y,o),n=o.x,i=o.y,this.getTopRight(o),m.transformPoint(o.x,o.y,o),h=o.x,r=o.y,this.getBottomLeft(o),m.transformPoint(o.x,o.y,o),f=o.x,c=o.y,this.getBottomRight(o),m.transformPoint(o.x,o.y,o),d=o.x,p=o.y}else this.getTopLeft(o),n=o.x,i=o.y,this.getTopRight(o),h=o.x,r=o.y,this.getBottomLeft(o),f=o.x,c=o.y,this.getBottomRight(o),d=o.x,p=o.y;return o.x=Math.min(n,h,f,d),o.y=Math.min(i,r,c,p),o.width=Math.max(n,h,f,d)-o.x,o.height=Math.max(i,r,c,p)-o.y,o}};e.exports=s},8573:(e,y,t)=>{var a=t(6858),g=t(80661),l={mask:null,setMask:function(s){return this.mask=s,this},clearMask:function(s){return s===void 0&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(s,o,n,i,h){return s===void 0&&(this.texture||this.shader||this.geom)&&(s=this),new a(this.scene,s,o,n,i,h)},createGeometryMask:function(s){return s===void 0&&(this.type==="Graphics"||this.geom)&&(s=this),new g(this.scene,s)}};e.exports=l},27387:e=>{var y={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,a){return t===void 0&&(t=.5),a===void 0&&(a=t),this.originX=t,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,a){return t===void 0&&(t=0),a===void 0&&(a=t),this.displayOriginX=t,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};e.exports=y},37640:(e,y,t)=>{var a=t(39506),g=t(57355),l=t(35154),s=t(86353),o=t(26099),n={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:s.PLAYING_FORWARD,setPath:function(i,h){h===void 0&&(h=this.pathConfig);var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this.path=i,h&&this.startFollow(h),this},setRotateToPath:function(i,h){return h===void 0&&(h=0),this.rotateToPath=i,this.pathRotationOffset=h,this},isFollowing:function(){var i=this.pathTween;return i&&i.isPlaying()},startFollow:function(i,h){i===void 0&&(i={}),h===void 0&&(h=0);var r=this.pathTween;r&&r.isPlaying()&&r.stop(),typeof i=="number"&&(i={duration:i}),i.from=l(i,"from",0),i.to=l(i,"to",1);var f=g(i,"positionOnPath",!1);this.rotateToPath=g(i,"rotateToPath",!1),this.pathRotationOffset=l(i,"rotationOffset",0);var c=l(i,"startAt",h);if(c&&(i.onStart=function(p){var m=p.data[0];m.progress=c,m.elapsed=m.duration*c;var C=m.ease(m.progress);m.current=m.start+(m.end-m.start)*C,m.setTargetValue()}),this.pathOffset||(this.pathOffset=new o(this.x,this.y)),this.pathVector||(this.pathVector=new o),this.pathDelta||(this.pathDelta=new o),this.pathDelta.reset(),i.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(i),this.path.getStartPoint(this.pathOffset),f&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=s.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=i,this},pauseFollow:function(){var i=this.pathTween;return i&&i.isPlaying()&&i.pause(),this},resumeFollow:function(){var i=this.pathTween;return i&&i.isPaused()&&i.resume(),this},stopFollow:function(){var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this},pathUpdate:function(){var i=this.pathTween;if(i&&i.data){var h=i.data[0],r=this.pathDelta,f=this.pathVector;if(r.copy(f).negate(),h.state===s.COMPLETE){this.path.getPoint(h.end,f),r.add(f),f.add(this.pathOffset),this.setPosition(f.x,f.y);return}else if(h.state!==s.PLAYING_FORWARD&&h.state!==s.PLAYING_BACKWARD)return;this.path.getPoint(i.getValue(),f),r.add(f),f.add(this.pathOffset);var c=this.x,d=this.y;this.setPosition(f.x,f.y);var p=this.x-c,m=this.y-d;if(p===0&&m===0)return;if(h.state!==this._prevDirection){this._prevDirection=h.state;return}this.rotateToPath&&(this.rotation=Math.atan2(m,p)+a(this.pathRotationOffset))}}};e.exports=n},72699:(e,y,t)=>{var a=t(62644),g={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(l){this.pipelineData={};var s=this.scene.sys.renderer;if(!s)return!1;var o=s.pipelines;if(o){l===void 0&&(l=o.default);var n=o.get(l);if(n)return this.defaultPipeline=n,this.pipeline=n,!0}return!1},setPipeline:function(l,s,o){var n=this.scene.sys.renderer;if(!n)return this;var i=n.pipelines;if(i){var h=i.get(l);h&&(this.pipeline=h),s&&(this.pipelineData=o?a(s):s)}return this},setPipelineData:function(l,s){var o=this.pipelineData;return s===void 0?delete o[l]:o[l]=s,this},resetPipeline:function(l){return l===void 0&&(l=!1),this.pipeline=this.defaultPipeline,l&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};e.exports=g},17581:(e,y,t)=>{var a=t(62644),g=t(47059),l=t(19133),s={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(o){this.postPipelines=[],this.postPipelineData={},this.postFX=new g(this,!0),o&&(this.preFX=new g(this,!1))},setPostPipeline:function(o,n,i){var h=this.scene.sys.renderer;if(!h)return this;var r=h.pipelines;if(r){Array.isArray(o)||(o=[o]);for(var f=0;f<o.length;f++){var c=r.getPostPipeline(o[f],this,n);c&&this.postPipelines.push(c)}n&&(this.postPipelineData=i?a(n):n)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(o,n){var i=this.postPipelineData;return n===void 0?delete i[o]:i[o]=n,this},getPostPipeline:function(o){for(var n=typeof o=="string",i=this.postPipelines,h=[],r=0;r<i.length;r++){var f=i[r];(n&&f.name===o||!n&&f instanceof o)&&h.push(f)}return h.length===1?h[0]:h},resetPostPipeline:function(o){o===void 0&&(o=!1);for(var n=this.postPipelines,i=0;i<n.length;i++)n[i].destroy();this.postPipelines=[],this.hasPostPipeline=!1,o&&(this.postPipelineData={})},removePostPipeline:function(o){for(var n=typeof o=="string",i=this.postPipelines,h=i.length-1;h>=0;h--){var r=i[h];(n&&r.name===o||!n&&r===o)&&(r.destroy(),l(i,h))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};e.exports=s},80227:e=>{var y={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,a){return a===void 0&&(a=t),this.scrollFactorX=t,this.scrollFactorY=a,this}};e.exports=y},16736:e=>{var y={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};e.exports=y},37726:(e,y,t)=>{var a=t(4327),g=8,l={texture:null,frame:null,isCropped:!1,setTexture:function(s,o,n,i){return this.texture=this.scene.sys.textures.get(s),this.setFrame(o,n,i)},setFrame:function(s,o,n){return o===void 0&&(o=!0),n===void 0&&(n=!0),s instanceof a?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};e.exports=l},79812:(e,y,t)=>{var a=t(4327),g=8,l={texture:null,frame:null,isCropped:!1,setCrop:function(s,o,n,i){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,o,n,i,this.flipX,this.flipY);else{var h=s;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(s,o){return this.texture=this.scene.sys.textures.get(s),this.setFrame(o)},setFrame:function(s,o,n){return o===void 0&&(o=!0),n===void 0&&(n=!0),s instanceof a?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};e.exports=l},27472:e=>{var y={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,a,g,l){return t===void 0&&(t=16777215),a===void 0&&(a=t,g=t,l=t),this.tintTopLeft=t,this.tintTopRight=a,this.tintBottomLeft=g,this.tintBottomRight=l,this.tintFill=!1,this},setTintFill:function(t,a,g,l){return this.setTint(t,a,g,l),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};e.exports=y},53774:e=>{var y=function(t){var a={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(a.textureKey=t.texture.key,a.frameKey=t.frame.name),a};e.exports=y},16901:(e,y,t)=>{var a=t(36383),g=t(61340),l=t(85955),s=t(86554),o=t(30954),n=t(26099),i=4,h={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(r){this._scaleX=r,this._scaleY=r,r===0?this.renderFlags&=~i:this.renderFlags|=i}},scaleX:{get:function(){return this._scaleX},set:function(r){this._scaleX=r,r===0?this.renderFlags&=~i:this._scaleY!==0&&(this.renderFlags|=i)}},scaleY:{get:function(){return this._scaleY},set:function(r){this._scaleY=r,r===0?this.renderFlags&=~i:this._scaleX!==0&&(this.renderFlags|=i)}},angle:{get:function(){return o(this._rotation*a.RAD_TO_DEG)},set:function(r){this.rotation=o(r)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(r){this._rotation=s(r)}},setPosition:function(r,f,c,d){return r===void 0&&(r=0),f===void 0&&(f=r),c===void 0&&(c=0),d===void 0&&(d=0),this.x=r,this.y=f,this.z=c,this.w=d,this},copyPosition:function(r){return r.x!==void 0&&(this.x=r.x),r.y!==void 0&&(this.y=r.y),r.z!==void 0&&(this.z=r.z),r.w!==void 0&&(this.w=r.w),this},setRandomPosition:function(r,f,c,d){return r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),this.x=r+Math.random()*c,this.y=f+Math.random()*d,this},setRotation:function(r){return r===void 0&&(r=0),this.rotation=r,this},setAngle:function(r){return r===void 0&&(r=0),this.angle=r,this},setScale:function(r,f){return r===void 0&&(r=1),f===void 0&&(f=r),this.scaleX=r,this.scaleY=f,this},setX:function(r){return r===void 0&&(r=0),this.x=r,this},setY:function(r){return r===void 0&&(r=0),this.y=r,this},setZ:function(r){return r===void 0&&(r=0),this.z=r,this},setW:function(r){return r===void 0&&(r=0),this.w=r,this},getLocalTransformMatrix:function(r){return r===void 0&&(r=new g),r.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(r,f){r===void 0&&(r=new g);var c=this.parentContainer;if(!c)return this.getLocalTransformMatrix(r);for(f||(f=new g),r.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);c;)f.applyITRS(c.x,c.y,c._rotation,c._scaleX,c._scaleY),f.multiply(r,r),c=c.parentContainer;return r},getLocalPoint:function(r,f,c,d){c||(c=new n),d||(d=this.scene.sys.cameras.main);var p=d.scrollX,m=d.scrollY,C=r+p*this.scrollFactorX-p,S=f+m*this.scrollFactorY-m;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(C,S,c):l(C,S,this.x,this.y,this.rotation,this.scaleX,this.scaleY,c),this._originComponent&&(c.x+=this._displayOriginX,c.y+=this._displayOriginY),c},getParentRotation:function(){for(var r=0,f=this.parentContainer;f;)r+=f.rotation,f=f.parentContainer;return r}};e.exports=h},61340:(e,y,t)=>{var a=t(83419),g=t(36383),l=t(26099),s=new a({initialize:function(n,i,h,r,f,c){n===void 0&&(n=1),i===void 0&&(i=0),h===void 0&&(h=0),r===void 0&&(r=1),f===void 0&&(f=0),c===void 0&&(c=0),this.matrix=new Float32Array([n,i,h,r,f,c,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(o){this.matrix[0]=o}},b:{get:function(){return this.matrix[1]},set:function(o){this.matrix[1]=o}},c:{get:function(){return this.matrix[2]},set:function(o){this.matrix[2]=o}},d:{get:function(){return this.matrix[3]},set:function(o){this.matrix[3]=o}},e:{get:function(){return this.matrix[4]},set:function(o){this.matrix[4]=o}},f:{get:function(){return this.matrix[5]},set:function(o){this.matrix[5]=o}},tx:{get:function(){return this.matrix[4]},set:function(o){this.matrix[4]=o}},ty:{get:function(){return this.matrix[5]},set:function(o){this.matrix[5]=o}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var o=this.matrix,n=o[0],i=o[1],h=o[2],r=o[3];return n||i?i>0?Math.acos(n/this.scaleX):-Math.acos(n/this.scaleX):h||r?g.TAU-(r>0?Math.acos(-h/this.scaleY):-Math.acos(h/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var o=this.matrix;return o[0]=1,o[1]=0,o[2]=0,o[3]=1,o[4]=0,o[5]=0,this},translate:function(o,n){var i=this.matrix;return i[4]=i[0]*o+i[2]*n+i[4],i[5]=i[1]*o+i[3]*n+i[5],this},scale:function(o,n){var i=this.matrix;return i[0]*=o,i[1]*=o,i[2]*=n,i[3]*=n,this},rotate:function(o){var n=Math.sin(o),i=Math.cos(o),h=this.matrix,r=h[0],f=h[1],c=h[2],d=h[3];return h[0]=r*i+c*n,h[1]=f*i+d*n,h[2]=r*-n+c*i,h[3]=f*-n+d*i,this},multiply:function(o,n){var i=this.matrix,h=o.matrix,r=i[0],f=i[1],c=i[2],d=i[3],p=i[4],m=i[5],C=h[0],S=h[1],E=h[2],D=h[3],M=h[4],w=h[5],A=n===void 0?i:n.matrix;return A[0]=C*r+S*c,A[1]=C*f+S*d,A[2]=E*r+D*c,A[3]=E*f+D*d,A[4]=M*r+w*c+p,A[5]=M*f+w*d+m,A},multiplyWithOffset:function(o,n,i){var h=this.matrix,r=o.matrix,f=h[0],c=h[1],d=h[2],p=h[3],m=h[4],C=h[5],S=n*f+i*d+m,E=n*c+i*p+C,D=r[0],M=r[1],w=r[2],A=r[3],R=r[4],P=r[5];return h[0]=D*f+M*d,h[1]=D*c+M*p,h[2]=w*f+A*d,h[3]=w*c+A*p,h[4]=R*f+P*d+S,h[5]=R*c+P*p+E,this},transform:function(o,n,i,h,r,f){var c=this.matrix,d=c[0],p=c[1],m=c[2],C=c[3],S=c[4],E=c[5];return c[0]=o*d+n*m,c[1]=o*p+n*C,c[2]=i*d+h*m,c[3]=i*p+h*C,c[4]=r*d+f*m+S,c[5]=r*p+f*C+E,this},transformPoint:function(o,n,i){i===void 0&&(i={x:0,y:0});var h=this.matrix,r=h[0],f=h[1],c=h[2],d=h[3],p=h[4],m=h[5];return i.x=o*r+n*c+p,i.y=o*f+n*d+m,i},invert:function(){var o=this.matrix,n=o[0],i=o[1],h=o[2],r=o[3],f=o[4],c=o[5],d=n*r-i*h;return o[0]=r/d,o[1]=-i/d,o[2]=-h/d,o[3]=n/d,o[4]=(h*c-r*f)/d,o[5]=-(n*c-i*f)/d,this},copyFrom:function(o){var n=this.matrix;return n[0]=o.a,n[1]=o.b,n[2]=o.c,n[3]=o.d,n[4]=o.e,n[5]=o.f,this},copyFromArray:function(o){var n=this.matrix;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],this},copyToContext:function(o){var n=this.matrix;return o.transform(n[0],n[1],n[2],n[3],n[4],n[5]),o},setToContext:function(o){return o.setTransform(this),o},copyToArray:function(o){var n=this.matrix;return o===void 0?o=[n[0],n[1],n[2],n[3],n[4],n[5]]:(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5]),o},setTransform:function(o,n,i,h,r,f){var c=this.matrix;return c[0]=o,c[1]=n,c[2]=i,c[3]=h,c[4]=r,c[5]=f,this},decomposeMatrix:function(){var o=this.decomposedMatrix,n=this.matrix,i=n[0],h=n[1],r=n[2],f=n[3],c=i*f-h*r;if(o.translateX=n[4],o.translateY=n[5],i||h){var d=Math.sqrt(i*i+h*h);o.rotation=h>0?Math.acos(i/d):-Math.acos(i/d),o.scaleX=d,o.scaleY=c/d}else if(r||f){var p=Math.sqrt(r*r+f*f);o.rotation=Math.PI*.5-(f>0?Math.acos(-r/p):-Math.acos(r/p)),o.scaleX=c/p,o.scaleY=p}else o.rotation=0,o.scaleX=0,o.scaleY=0;return o},applyITRS:function(o,n,i,h,r){var f=this.matrix,c=Math.sin(i),d=Math.cos(i);return f[4]=o,f[5]=n,f[0]=d*h,f[1]=c*h,f[2]=-c*r,f[3]=d*r,this},applyInverse:function(o,n,i){i===void 0&&(i=new l);var h=this.matrix,r=h[0],f=h[1],c=h[2],d=h[3],p=h[4],m=h[5],C=1/(r*d+c*-f);return i.x=d*C*o+-c*C*n+(m*c-p*d)*C,i.y=r*C*n+-f*C*o+(-m*r+p*f)*C,i},setQuad:function(o,n,i,h,r,f){r===void 0&&(r=!1),f===void 0&&(f=this.quad);var c=this.matrix,d=c[0],p=c[1],m=c[2],C=c[3],S=c[4],E=c[5];return r?(f[0]=Math.round(o*d+n*m+S),f[1]=Math.round(o*p+n*C+E),f[2]=Math.round(o*d+h*m+S),f[3]=Math.round(o*p+h*C+E),f[4]=Math.round(i*d+h*m+S),f[5]=Math.round(i*p+h*C+E),f[6]=Math.round(i*d+n*m+S),f[7]=Math.round(i*p+n*C+E)):(f[0]=o*d+n*m+S,f[1]=o*p+n*C+E,f[2]=o*d+h*m+S,f[3]=o*p+h*C+E,f[4]=i*d+h*m+S,f[5]=i*p+h*C+E,f[6]=i*d+n*m+S,f[7]=i*p+n*C+E),f},getX:function(o,n){return o*this.a+n*this.c+this.e},getY:function(o,n){return o*this.b+n*this.d+this.f},getXRound:function(o,n,i){var h=this.getX(o,n);return i&&(h=Math.round(h)),h},getYRound:function(o,n,i){var h=this.getY(o,n);return i&&(h=Math.round(h)),h},getCSSMatrix:function(){var o=this.matrix;return"matrix("+o[0]+","+o[1]+","+o[2]+","+o[3]+","+o[4]+","+o[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});e.exports=s},59715:e=>{var y=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=y):(this._visible=!1,this.renderFlags&=~y)}},setVisible:function(a){return this.visible=a,this}};e.exports=t},31401:(e,y,t)=>{e.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(e,y,t)=>{var a=t(37105),g=t(10312),l=t(83419),s=t(31401),o=t(51708),n=t(95643),i=t(87841),h=t(29959),r=t(36899),f=t(26099),c=new l({Extends:n,Mixins:[s.AlphaSingle,s.BlendMode,s.ComputedSize,s.Depth,s.Mask,s.PostPipeline,s.Transform,s.Visible,h],initialize:function(p,m,C,S){n.call(this,p,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new s.TransformMatrix,this.tempTransformMatrix=new s.TransformMatrix,this._sortKey="",this._sysEvents=p.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(m,C),this.setBlendMode(g.SKIP_CHECK),S&&this.add(S)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(d){return d===void 0&&(d=!0),this.exclusive=d,this},getBounds:function(d){if(d===void 0&&(d=new i),d.setTo(this.x,this.y,0,0),this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix(),m=p.transformPoint(this.x,this.y);d.setTo(m.x,m.y,0,0)}if(this.list.length>0){var C=this.list,S=new i,E=!1;d.setEmpty();for(var D=0;D<C.length;D++){var M=C[D];M.getBounds&&(M.getBounds(S),E?r(S,d,d):(d.setTo(S.x,S.y,S.width,S.height),E=!0))}}return d},addHandler:function(d){d.once(o.DESTROY,this.onChildDestroyed,this),this.exclusive&&(d.parentContainer&&d.parentContainer.remove(d),d.parentContainer=this,d.removeFromDisplayList(),d.addedToScene())},removeHandler:function(d){d.off(o.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer=null,d.removedFromScene(),d.addToDisplayList())},pointToContainer:function(d,p){p===void 0&&(p=new f),this.parentContainer?this.parentContainer.pointToContainer(d,p):(p.x=d.x,p.y=d.y);var m=this.tempTransformMatrix;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(d.x,d.y,p),p},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(d){return a.Add(this.list,d,this.maxSize,this.addHandler,this),this},addAt:function(d,p){return a.AddAt(this.list,d,p,this.maxSize,this.addHandler,this),this},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,p){return d?(p===void 0&&(p=function(m,C){return m[d]-C[d]}),a.StableSort(this.list,p),this):this},getByName:function(d){return a.GetFirst(this.list,"name",d)},getRandom:function(d,p){return a.GetRandom(this.list,d,p)},getFirst:function(d,p,m,C){return a.GetFirst(this.list,d,p,m,C)},getAll:function(d,p,m,C){return a.GetAll(this.list,d,p,m,C)},count:function(d,p,m,C){return a.CountAllMatching(this.list,d,p,m,C)},swap:function(d,p){return a.Swap(this.list,d,p),this},moveTo:function(d,p){return a.MoveTo(this.list,d,p),this},moveAbove:function(d,p){return a.MoveAbove(this.list,d,p),this},moveBelow:function(d,p){return a.MoveBelow(this.list,d,p),this},remove:function(d,p){var m=a.Remove(this.list,d,this.removeHandler,this);if(p&&m){Array.isArray(m)||(m=[m]);for(var C=0;C<m.length;C++)m[C].destroy()}return this},removeAt:function(d,p){var m=a.RemoveAt(this.list,d,this.removeHandler,this);return p&&m&&m.destroy(),this},removeBetween:function(d,p,m){var C=a.RemoveBetween(this.list,d,p,this.removeHandler,this);if(m)for(var S=0;S<C.length;S++)C[S].destroy();return this},removeAll:function(d){var p=this.list;if(d){for(var m=0;m<p.length;m++)p[m]&&p[m].scene&&(p[m].off(o.DESTROY,this.onChildDestroyed,this),p[m].destroy());this.list=[]}else a.RemoveBetween(p,0,p.length,this.removeHandler,this);return this},bringToTop:function(d){return a.BringToTop(this.list,d),this},sendToBack:function(d){return a.SendToBack(this.list,d),this},moveUp:function(d){return a.MoveUp(this.list,d),this},moveDown:function(d){return a.MoveDown(this.list,d),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(d,p,m){var C=a.Replace(this.list,d,p);return C&&(this.addHandler(p),this.removeHandler(d),m&&d.destroy()),this},exists:function(d){return this.list.indexOf(d)>-1},setAll:function(d,p,m,C){return a.SetAll(this.list,d,p,m,C),this},each:function(d,p){var m=[null],C,S=this.list.slice(),E=S.length;for(C=2;C<arguments.length;C++)m.push(arguments[C]);for(C=0;C<E;C++)m[0]=S[C],d.apply(p,m);return this},iterate:function(d,p){var m=[null],C;for(C=2;C<arguments.length;C++)m.push(arguments[C]);for(C=0;C<this.list.length;C++)m[0]=this.list[C],d.apply(p,m);return this},setScrollFactor:function(d,p,m){return p===void 0&&(p=d),m===void 0&&(m=!1),this.scrollFactorX=d,this.scrollFactorY=p,m&&(a.SetAll(this.list,"scrollFactorX",d),a.SetAll(this.list,"scrollFactorY",p)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(d){a.Remove(this.list,d),this.exclusive&&(d.parentContainer=null,d.removedFromScene())}});e.exports=c},53584:e=>{var y=function(t,a,g,l){g.addToRenderList(a);var s=a.list;if(s.length!==0){var o=a.localTransform;l?(o.loadIdentity(),o.multiply(l),o.translate(a.x,a.y),o.rotate(a.rotation),o.scale(a.scaleX,a.scaleY)):o.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var n=a.blendMode!==-1;n||t.setBlendMode(0);var i=a._alpha,h=a.scrollFactorX,r=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(t,null,g);for(var f=0;f<s.length;f++){var c=s[f];if(c.willRender(g)){var d=c.alpha,p=c.scrollFactorX,m=c.scrollFactorY;!n&&c.blendMode!==t.currentBlendMode&&t.setBlendMode(c.blendMode),c.setScrollFactor(p*h,m*r),c.setAlpha(d*i),c.renderCanvas(t,c,g,o),c.setAlpha(d),c.setScrollFactor(p,m)}}a.mask&&a.mask.postRenderCanvas(t)}};e.exports=y},77143:(e,y,t)=>{var a=t(25305),g=t(31559),l=t(44603),s=t(23568),o=t(95540);l.register("container",function(n,i){n===void 0&&(n={});var h=s(n,"x",0),r=s(n,"y",0),f=o(n,"children",null),c=new g(this.scene,h,r,f);return i!==void 0&&(n.add=i),a(this.scene,c,n),c})},24961:(e,y,t)=>{var a=t(31559),g=t(39429);g.register("container",function(l,s,o){return this.displayList.add(new a(this.scene,l,s,o))})},29959:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(72249),l=t(53584),e.exports={renderWebGL:g,renderCanvas:l}},72249:e=>{var y=function(t,a,g,l){g.addToRenderList(a);var s=a.list,o=s.length;if(o!==0){var n=a.localTransform;l?(n.loadIdentity(),n.multiply(l),n.translate(a.x,a.y),n.rotate(a.rotation),n.scale(a.scaleX,a.scaleY)):n.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),t.pipelines.preBatch(a);var i=a.blendMode!==-1;i||t.setBlendMode(0);for(var h=a.alpha,r=a.scrollFactorX,f=a.scrollFactorY,c=0;c<o;c++){var d=s[c];if(d.willRender(g)){var p,m,C,S;if(d.alphaTopLeft!==void 0)p=d.alphaTopLeft,m=d.alphaTopRight,C=d.alphaBottomLeft,S=d.alphaBottomRight;else{var E=d.alpha;p=E,m=E,C=E,S=E}var D=d.scrollFactorX,M=d.scrollFactorY;!i&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode);var w=d.mask;w&&w.preRenderWebGL(t,d,g);var A=d.type;A!==t.currentType&&(t.newType=!0,t.currentType=A),t.nextTypeMatch=c<o-1?s[c+1].type===t.currentType:!1,d.setScrollFactor(D*r,M*f),d.setAlpha(p*h,m*h,C*h,S*h),d.renderWebGL(t,d,g,n,a),d.setAlpha(p,m,C,S),d.setScrollFactor(D,M),w&&w.postRenderWebGL(t,g),t.newType=!1}}t.pipelines.postBatch(a)}};e.exports=y},47407:e=>{e.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(e,y,t)=>{var a=t(83419),g=t(31401),l=t(441),s=t(95643),o=t(41212),n=t(35846),i=t(44594),h=t(61369),r=new a({Extends:s,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Origin,g.ScrollFactor,g.Transform,g.Visible,l],initialize:function(c,d,p,m,C,S){s.call(this,c,"DOMElement"),this.parent=c.sys.game.domContainer,this.cache=c.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new h,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(d,p),typeof m=="string"?m[0]==="#"?this.setElement(m.substr(1),C,S):this.createElement(m,C,S):m&&this.setElement(m,C,S),c.sys.events.on(i.SLEEP,this.handleSceneEvent,this),c.sys.events.on(i.WAKE,this.handleSceneEvent,this),c.sys.events.on(i.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(f){var c=this.node,d=c.style;c&&(d.display=f.settings.visible?"block":"none")},setSkew:function(f,c){return f===void 0&&(f=0),c===void 0&&(c=f),this.skewX=f,this.skewY=c,this},setPerspective:function(f){return this.parent.style.perspective=f+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(f){this.parent.style.perspective=f+"px"}},addListener:function(f){if(this.node){f=f.split(" ");for(var c=0;c<f.length;c++)this.node.addEventListener(f[c],this.handler,!1)}return this},removeListener:function(f){if(this.node){f=f.split(" ");for(var c=0;c<f.length;c++)this.node.removeEventListener(f[c],this.handler)}return this},dispatchNativeEvent:function(f){this.emit(f.type,f)},createElement:function(f,c,d){return this.setElement(document.createElement(f),c,d)},setElement:function(f,c,d){this.removeElement();var p;if(typeof f=="string"?(f[0]==="#"&&(f=f.substr(1)),p=document.getElementById(f)):typeof f=="object"&&f.nodeType===1&&(p=f),!p)return this;if(this.node=p,c&&o(c))for(var m in c)p.style[m]=c[m];else typeof c=="string"&&(p.style=c);return p.style.zIndex="0",p.style.display="inline",p.style.position="absolute",p.phaser=this,this.parent&&this.parent.appendChild(p),d&&(p.innerText=d),this.updateSize()},createFromCache:function(f,c){var d=this.cache.get(f);return d&&this.createFromHTML(d,c),this},createFromHTML:function(f,c){c===void 0&&(c="div"),this.removeElement();var d=document.createElement(c);return this.node=d,d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),d.innerHTML=f,this.updateSize()},removeElement:function(){return this.node&&(n(this.node),this.node=null),this},updateSize:function(){var f=this.node,c=f.getBoundingClientRect();return this.width=f.clientWidth,this.height=f.clientHeight,this.displayWidth=c.width||0,this.displayHeight=c.height||0,this},getChildByProperty:function(f,c){if(this.node){for(var d=this.node.querySelectorAll("*"),p=0;p<d.length;p++)if(d[p][f]===c)return d[p]}return null},getChildByID:function(f){return this.getChildByProperty("id",f)},getChildByName:function(f){return this.getChildByProperty("name",f)},setClassName:function(f){return this.node&&(this.node.className=f,this.updateSize()),this},setText:function(f){return this.node&&(this.node.innerText=f,this.updateSize()),this},setHTML:function(f){return this.node&&(this.node.innerHTML=f,this.updateSize()),this},preRender:function(){var f=this.parentContainer,c=this.node;c&&f&&!f.willRender()&&(c.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(i.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(i.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(i.PRE_RENDER,this.preRender,this)}});e.exports=r},49381:(e,y,t)=>{var a=t(47407),g=t(95643),l=t(61340),s=new l,o=new l,n=new l,i=function(h,r,f,c){if(r.node){var d=r.node.style,p=r.scene.sys.settings;if(!d||!p.visible||g.RENDER_MASK!==r.renderFlags||r.cameraFilter!==0&&r.cameraFilter&f.id||r.parentContainer&&!r.parentContainer.willRender()){d.display="none";return}var m=r.parentContainer,C=f.alpha*r.alpha;m&&(C*=m.alpha);var S=s,E=o,D=n,M=0,w=0,A="0%",R="0%";c?(M=r.width*r.scaleX*r.originX,w=r.height*r.scaleY*r.originY,E.applyITRS(r.x-M,r.y-w,r.rotation,r.scaleX,r.scaleY),S.copyFrom(f.matrix),S.multiplyWithOffset(c,-f.scrollX*r.scrollFactorX,-f.scrollY*r.scrollFactorY),E.e=r.x-M,E.f=r.y-w,S.multiply(E,D)):(M=r.width*r.originX,w=r.height*r.originY,E.applyITRS(r.x-M,r.y-w,r.rotation,r.scaleX,r.scaleY),S.copyFrom(f.matrix),A=100*r.originX+"%",R=100*r.originY+"%",E.e-=f.scrollX*r.scrollFactorX,E.f-=f.scrollY*r.scrollFactorY,S.multiply(E,D)),r.transformOnly||(d.display="block",d.opacity=C,d.zIndex=r._depth,d.pointerEvents=r.pointerEvents,d.mixBlendMode=a[r._blendMode]),d.transform=D.getCSSMatrix()+" skew("+r.skewX+"rad, "+r.skewY+"rad) rotate3d("+r.rotate3d.x+","+r.rotate3d.y+","+r.rotate3d.z+","+r.rotate3d.w+r.rotate3dAngle+")",d.transformOrigin=A+" "+R}};e.exports=i},2611:(e,y,t)=>{var a=t(3069),g=t(39429);g.register("dom",function(l,s,o,n,i){var h=new a(this.scene,l,s,o,n,i);return this.displayList.add(h),h})},441:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(49381),l=t(49381),e.exports={renderWebGL:g,renderCanvas:l}},62980:e=>{e.exports="addedtoscene"},41337:e=>{e.exports="destroy"},44947:e=>{e.exports="removedfromscene"},49358:e=>{e.exports="complete"},35163:e=>{e.exports="created"},97249:e=>{e.exports="error"},19483:e=>{e.exports="locked"},56059:e=>{e.exports="loop"},26772:e=>{e.exports="metadata"},64437:e=>{e.exports="playing"},83411:e=>{e.exports="play"},75780:e=>{e.exports="seeked"},67799:e=>{e.exports="seeking"},63500:e=>{e.exports="stalled"},55541:e=>{e.exports="stop"},53208:e=>{e.exports="textureready"},4992:e=>{e.exports="unlocked"},12:e=>{e.exports="unsupported"},51708:(e,y,t)=>{e.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(e,y,t)=>{var a=t(83419),g=t(31401),l=t(95643),s=t(64993),o=new a({Extends:l,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.Origin,g.ScrollFactor,g.Size,g.Texture,g.Tint,g.Transform,g.Visible,s],initialize:function(i){l.call(this,i,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});e.exports=o},70217:()=>{},56315:(e,y,t)=>{var a=t(42421),g=t(39429);g.register("extern",function(){var l=new a(this.scene);return this.displayList.add(l),l})},64993:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(80287),l=t(70217),e.exports={renderWebGL:g,renderCanvas:l}},80287:(e,y,t)=>{var a=t(91296),g=function(l,s,o,n){l.pipelines.clear();var i=a(s,o,n).calc;s.render.call(s,l,o,i),l.pipelines.rebind()};e.exports=g},85592:e=>{e.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(e,y,t)=>{var a=t(71911),g=t(83419),l=t(85592),s=t(31401),o=t(8497),n=t(95643),i=t(95540),h=t(35154),r=t(36383),f=t(84503),c=new g({Extends:n,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,f],initialize:function(p,m){var C=h(m,"x",0),S=h(m,"y",0);n.call(this,p,"Graphics"),this.setPosition(C,S),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(m)},setDefaultStyles:function(d){return h(d,"lineStyle",null)&&(this.defaultStrokeWidth=h(d,"lineStyle.width",1),this.defaultStrokeColor=h(d,"lineStyle.color",16777215),this.defaultStrokeAlpha=h(d,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),h(d,"fillStyle",null)&&(this.defaultFillColor=h(d,"fillStyle.color",16777215),this.defaultFillAlpha=h(d,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(d,p,m){return m===void 0&&(m=1),this.commandBuffer.push(l.LINE_STYLE,d,p,m),this._lineWidth=d,this},fillStyle:function(d,p){return p===void 0&&(p=1),this.commandBuffer.push(l.FILL_STYLE,d,p),this},fillGradientStyle:function(d,p,m,C,S,E,D,M){return S===void 0&&(S=1),E===void 0&&(E=S),D===void 0&&(D=S),M===void 0&&(M=S),this.commandBuffer.push(l.GRADIENT_FILL_STYLE,S,E,D,M,d,p,m,C),this},lineGradientStyle:function(d,p,m,C,S,E){return E===void 0&&(E=1),this.commandBuffer.push(l.GRADIENT_LINE_STYLE,d,E,p,m,C,S),this},beginPath:function(){return this.commandBuffer.push(l.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(l.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(l.FILL_PATH),this},fill:function(){return this.commandBuffer.push(l.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(l.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(l.STROKE_PATH),this},fillCircleShape:function(d){return this.fillCircle(d.x,d.y,d.radius)},strokeCircleShape:function(d){return this.strokeCircle(d.x,d.y,d.radius)},fillCircle:function(d,p,m){return this.beginPath(),this.arc(d,p,m,0,r.PI2),this.fillPath(),this},strokeCircle:function(d,p,m){return this.beginPath(),this.arc(d,p,m,0,r.PI2),this.strokePath(),this},fillRectShape:function(d){return this.fillRect(d.x,d.y,d.width,d.height)},strokeRectShape:function(d){return this.strokeRect(d.x,d.y,d.width,d.height)},fillRect:function(d,p,m,C){return this.commandBuffer.push(l.FILL_RECT,d,p,m,C),this},strokeRect:function(d,p,m,C){var S=this._lineWidth/2,E=d-S,D=d+S;return this.beginPath(),this.moveTo(d,p),this.lineTo(d,p+C),this.strokePath(),this.beginPath(),this.moveTo(d+m,p),this.lineTo(d+m,p+C),this.strokePath(),this.beginPath(),this.moveTo(E,p),this.lineTo(D+m,p),this.strokePath(),this.beginPath(),this.moveTo(E,p+C),this.lineTo(D+m,p+C),this.strokePath(),this},fillRoundedRect:function(d,p,m,C,S){S===void 0&&(S=20);var E=S,D=S,M=S,w=S;typeof S!="number"&&(E=i(S,"tl",20),D=i(S,"tr",20),M=i(S,"bl",20),w=i(S,"br",20));var A=E>=0,R=D>=0,P=M>=0,O=w>=0;return E=Math.abs(E),D=Math.abs(D),M=Math.abs(M),w=Math.abs(w),this.beginPath(),this.moveTo(d+E,p),this.lineTo(d+m-D,p),R?this.arc(d+m-D,p+D,D,-r.TAU,0):this.arc(d+m,p,D,Math.PI,r.TAU,!0),this.lineTo(d+m,p+C-w),O?this.arc(d+m-w,p+C-w,w,0,r.TAU):this.arc(d+m,p+C,w,-r.TAU,Math.PI,!0),this.lineTo(d+M,p+C),P?this.arc(d+M,p+C-M,M,r.TAU,Math.PI):this.arc(d,p+C,M,0,-r.TAU,!0),this.lineTo(d,p+E),A?this.arc(d+E,p+E,E,-Math.PI,-r.TAU):this.arc(d,p,E,r.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(d,p,m,C,S){S===void 0&&(S=20);var E=S,D=S,M=S,w=S,A=Math.min(m,C)/2;typeof S!="number"&&(E=i(S,"tl",20),D=i(S,"tr",20),M=i(S,"bl",20),w=i(S,"br",20));var R=E>=0,P=D>=0,O=M>=0,b=w>=0;return E=Math.min(Math.abs(E),A),D=Math.min(Math.abs(D),A),M=Math.min(Math.abs(M),A),w=Math.min(Math.abs(w),A),this.beginPath(),this.moveTo(d+E,p),this.lineTo(d+m-D,p),this.moveTo(d+m-D,p),P?this.arc(d+m-D,p+D,D,-r.TAU,0):this.arc(d+m,p,D,Math.PI,r.TAU,!0),this.lineTo(d+m,p+C-w),this.moveTo(d+m,p+C-w),b?this.arc(d+m-w,p+C-w,w,0,r.TAU):this.arc(d+m,p+C,w,-r.TAU,Math.PI,!0),this.lineTo(d+M,p+C),this.moveTo(d+M,p+C),O?this.arc(d+M,p+C-M,M,r.TAU,Math.PI):this.arc(d,p+C,M,0,-r.TAU,!0),this.lineTo(d,p+E),this.moveTo(d,p+E),R?this.arc(d+E,p+E,E,-Math.PI,-r.TAU):this.arc(d,p,E,r.TAU,0,!0),this.strokePath(),this},fillPointShape:function(d,p){return this.fillPoint(d.x,d.y,p)},fillPoint:function(d,p,m){return!m||m<1?m=1:(d-=m/2,p-=m/2),this.commandBuffer.push(l.FILL_RECT,d,p,m,m),this},fillTriangleShape:function(d){return this.fillTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},strokeTriangleShape:function(d){return this.strokeTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},fillTriangle:function(d,p,m,C,S,E){return this.commandBuffer.push(l.FILL_TRIANGLE,d,p,m,C,S,E),this},strokeTriangle:function(d,p,m,C,S,E){return this.commandBuffer.push(l.STROKE_TRIANGLE,d,p,m,C,S,E),this},strokeLineShape:function(d){return this.lineBetween(d.x1,d.y1,d.x2,d.y2)},lineBetween:function(d,p,m,C){return this.beginPath(),this.moveTo(d,p),this.lineTo(m,C),this.strokePath(),this},lineTo:function(d,p){return this.commandBuffer.push(l.LINE_TO,d,p),this},moveTo:function(d,p){return this.commandBuffer.push(l.MOVE_TO,d,p),this},strokePoints:function(d,p,m,C){p===void 0&&(p=!1),m===void 0&&(m=!1),C===void 0&&(C=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var S=1;S<C;S++)this.lineTo(d[S].x,d[S].y);return p&&this.lineTo(d[0].x,d[0].y),m&&this.closePath(),this.strokePath(),this},fillPoints:function(d,p,m,C){p===void 0&&(p=!1),m===void 0&&(m=!1),C===void 0&&(C=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var S=1;S<C;S++)this.lineTo(d[S].x,d[S].y);return p&&this.lineTo(d[0].x,d[0].y),m&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(d,p){p===void 0&&(p=32);var m=d.getPoints(p);return this.strokePoints(m,!0)},strokeEllipse:function(d,p,m,C,S){S===void 0&&(S=32);var E=new o(d,p,m,C),D=E.getPoints(S);return this.strokePoints(D,!0)},fillEllipseShape:function(d,p){p===void 0&&(p=32);var m=d.getPoints(p);return this.fillPoints(m,!0)},fillEllipse:function(d,p,m,C,S){S===void 0&&(S=32);var E=new o(d,p,m,C),D=E.getPoints(S);return this.fillPoints(D,!0)},arc:function(d,p,m,C,S,E,D){return E===void 0&&(E=!1),D===void 0&&(D=0),this.commandBuffer.push(l.ARC,d,p,m,C,S,E,D),this},slice:function(d,p,m,C,S,E,D){return E===void 0&&(E=!1),D===void 0&&(D=0),this.commandBuffer.push(l.BEGIN_PATH),this.commandBuffer.push(l.MOVE_TO,d,p),this.commandBuffer.push(l.ARC,d,p,m,C,S,E,D),this.commandBuffer.push(l.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(l.SAVE),this},restore:function(){return this.commandBuffer.push(l.RESTORE),this},translateCanvas:function(d,p){return this.commandBuffer.push(l.TRANSLATE,d,p),this},scaleCanvas:function(d,p){return this.commandBuffer.push(l.SCALE,d,p),this},rotateCanvas:function(d){return this.commandBuffer.push(l.ROTATE,d),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(d,p,m){var C=this.scene.sys,S=C.game.renderer;p===void 0&&(p=C.scale.width),m===void 0&&(m=C.scale.height),c.TargetCamera.setScene(this.scene),c.TargetCamera.setViewport(0,0,p,m),c.TargetCamera.scrollX=this.x,c.TargetCamera.scrollY=this.y;var E,D,M={willReadFrequently:!0};if(typeof d=="string")if(C.textures.exists(d)){E=C.textures.get(d);var w=E.getSourceImage();w instanceof HTMLCanvasElement&&(D=w.getContext("2d",M))}else E=C.textures.createCanvas(d,p,m),D=E.getSourceImage().getContext("2d",M);else d instanceof HTMLCanvasElement&&(D=d.getContext("2d",M));return D&&(this.renderCanvas(S,this,c.TargetCamera,null,D,!1),E&&E.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});c.TargetCamera=new a,e.exports=c},32768:(e,y,t)=>{var a=t(85592),g=t(20926),l=function(s,o,n,i,h,r){var f=o.commandBuffer,c=f.length,d=h||s.currentContext;if(!(c===0||!g(s,d,o,n,i))){n.addToRenderList(o);var p=1,m=1,C=0,S=0,E=1,D=0,M=0,w=0;d.beginPath();for(var A=0;A<c;++A){var R=f[A];switch(R){case a.ARC:d.arc(f[A+1],f[A+2],f[A+3],f[A+4],f[A+5],f[A+6]),A+=7;break;case a.LINE_STYLE:E=f[A+1],C=f[A+2],p=f[A+3],D=(C&16711680)>>>16,M=(C&65280)>>>8,w=C&255,d.strokeStyle="rgba("+D+","+M+","+w+","+p+")",d.lineWidth=E,A+=3;break;case a.FILL_STYLE:S=f[A+1],m=f[A+2],D=(S&16711680)>>>16,M=(S&65280)>>>8,w=S&255,d.fillStyle="rgba("+D+","+M+","+w+","+m+")",A+=2;break;case a.BEGIN_PATH:d.beginPath();break;case a.CLOSE_PATH:d.closePath();break;case a.FILL_PATH:r||d.fill();break;case a.STROKE_PATH:r||d.stroke();break;case a.FILL_RECT:r?d.rect(f[A+1],f[A+2],f[A+3],f[A+4]):d.fillRect(f[A+1],f[A+2],f[A+3],f[A+4]),A+=4;break;case a.FILL_TRIANGLE:d.beginPath(),d.moveTo(f[A+1],f[A+2]),d.lineTo(f[A+3],f[A+4]),d.lineTo(f[A+5],f[A+6]),d.closePath(),r||d.fill(),A+=6;break;case a.STROKE_TRIANGLE:d.beginPath(),d.moveTo(f[A+1],f[A+2]),d.lineTo(f[A+3],f[A+4]),d.lineTo(f[A+5],f[A+6]),d.closePath(),r||d.stroke(),A+=6;break;case a.LINE_TO:d.lineTo(f[A+1],f[A+2]),A+=2;break;case a.MOVE_TO:d.moveTo(f[A+1],f[A+2]),A+=2;break;case a.LINE_FX_TO:d.lineTo(f[A+1],f[A+2]),A+=5;break;case a.MOVE_FX_TO:d.moveTo(f[A+1],f[A+2]),A+=5;break;case a.SAVE:d.save();break;case a.RESTORE:d.restore();break;case a.TRANSLATE:d.translate(f[A+1],f[A+2]),A+=2;break;case a.SCALE:d.scale(f[A+1],f[A+2]),A+=2;break;case a.ROTATE:d.rotate(f[A+1]),A+=1;break;case a.GRADIENT_FILL_STYLE:A+=5;break;case a.GRADIENT_LINE_STYLE:A+=6;break}}d.restore()}};e.exports=l},87079:(e,y,t)=>{var a=t(44603),g=t(43831);a.register("graphics",function(l,s){l===void 0&&(l={}),s!==void 0&&(l.add=s);var o=new g(this.scene,l);return l.add&&this.scene.sys.displayList.add(o),o})},1201:(e,y,t)=>{var a=t(43831),g=t(39429);g.register("graphics",function(l){return this.displayList.add(new a(this.scene,l))})},84503:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(77545),l=t(32768),l=t(32768),e.exports={renderWebGL:g,renderCanvas:l}},77545:(e,y,t)=>{var a=t(85592),g=t(91296),l=t(61340),s=t(70554),o=function(f,c,d){this.x=f,this.y=c,this.width=d},n=function(f,c,d){this.points=[],this.pointsLength=1,this.points[0]=new o(f,c,d)},i=[],h=new l,r=function(f,c,d,p){if(c.commandBuffer.length!==0){d.addToRenderList(c);var m=f.pipelines.set(c.pipeline,c);f.pipelines.preBatch(c);for(var C=g(c,d,p).calc,S=h.loadIdentity(),E=c.commandBuffer,D=d.alpha*c.alpha,M=1,w=m.fillTint,A=m.strokeTint,R=0,P=0,O=0,b=.01,F=Math.PI*2,L,G=[],z=0,X=!0,B=null,U=s.getTintAppendFloatAlpha,I=0;I<E.length;I++)switch(L=E[I],L){case a.BEGIN_PATH:{G.length=0,B=null,X=!0;break}case a.CLOSE_PATH:{X=!1,B&&B.points.length&&B.points.push(B.points[0]);break}case a.FILL_PATH:{for(z=0;z<G.length;z++)m.batchFillPath(G[z].points,S,C);break}case a.STROKE_PATH:{for(z=0;z<G.length;z++)m.batchStrokePath(G[z].points,M,X,S,C);break}case a.LINE_STYLE:{M=E[++I];var N=E[++I],V=E[++I]*D,H=U(N,V);A.TL=H,A.TR=H,A.BL=H,A.BR=H;break}case a.FILL_STYLE:{var W=E[++I],Y=E[++I]*D,j=U(W,Y);w.TL=j,w.TR=j,w.BL=j,w.BR=j;break}case a.GRADIENT_FILL_STYLE:{var k=E[++I]*D,$=E[++I]*D,Z=E[++I]*D,K=E[++I]*D;w.TL=U(E[++I],k),w.TR=U(E[++I],$),w.BL=U(E[++I],Z),w.BR=U(E[++I],K);break}case a.GRADIENT_LINE_STYLE:{M=E[++I];var J=E[++I]*D;A.TL=U(E[++I],J),A.TR=U(E[++I],J),A.BL=U(E[++I],J),A.BR=U(E[++I],J);break}case a.ARC:{var Q=0,_=E[++I],rt=E[++I],ut=E[++I],ot=E[++I],q=E[++I],it=E[++I],nt=E[++I];for(q-=ot,it?q<-F?q=-F:q>0&&(q=-F+q%F):q>F?q=F:q<0&&(q=F+q%F),B===null&&(B=new n(_+Math.cos(ot)*ut,rt+Math.sin(ot)*ut,M),G.push(B),Q+=b);Q<1+nt;)O=q*Q+ot,R=_+Math.cos(O)*ut,P=rt+Math.sin(O)*ut,B.points.push(new o(R,P,M)),Q+=b;O=q+ot,R=_+Math.cos(O)*ut,P=rt+Math.sin(O)*ut,B.points.push(new o(R,P,M));break}case a.FILL_RECT:{m.batchFillRect(E[++I],E[++I],E[++I],E[++I],S,C);break}case a.FILL_TRIANGLE:{m.batchFillTriangle(E[++I],E[++I],E[++I],E[++I],E[++I],E[++I],S,C);break}case a.STROKE_TRIANGLE:{m.batchStrokeTriangle(E[++I],E[++I],E[++I],E[++I],E[++I],E[++I],M,S,C);break}case a.LINE_TO:{B!==null?B.points.push(new o(E[++I],E[++I],M)):(B=new n(E[++I],E[++I],M),G.push(B));break}case a.MOVE_TO:{B=new n(E[++I],E[++I],M),G.push(B);break}case a.SAVE:{i.push(S.copyToArray());break}case a.RESTORE:{S.copyFromArray(i.pop());break}case a.TRANSLATE:{_=E[++I],rt=E[++I],S.translate(_,rt);break}case a.SCALE:{_=E[++I],rt=E[++I],S.scale(_,rt);break}case a.ROTATE:{S.rotate(E[++I]);break}}f.pipelines.postBatch(c)}};e.exports=r},26479:(e,y,t)=>{var a=t(61061),g=t(83419),l=t(51708),s=t(50792),o=t(46710),n=t(95540),i=t(35154),h=t(97022),r=t(41212),f=t(88492),c=t(35072),d=t(68287),p=new g({Extends:s,initialize:function(C,S,E){s.call(this),E?S&&!Array.isArray(S)&&(S=[S]):Array.isArray(S)?r(S[0])&&(E=S,S=null):r(S)&&(E=S,S=null),this.scene=C,this.children=new c,this.isParent=!0,this.type="Group",this.classType=n(E,"classType",d),this.name=n(E,"name",""),this.active=n(E,"active",!0),this.maxSize=n(E,"maxSize",-1),this.defaultKey=n(E,"defaultKey",null),this.defaultFrame=n(E,"defaultFrame",null),this.runChildUpdate=n(E,"runChildUpdate",!1),this.createCallback=n(E,"createCallback",null),this.removeCallback=n(E,"removeCallback",null),this.createMultipleCallback=n(E,"createMultipleCallback",null),this.internalCreateCallback=n(E,"internalCreateCallback",null),this.internalRemoveCallback=n(E,"internalRemoveCallback",null),S&&this.addMultiple(S),E&&this.createMultiple(E),this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(m,C,S,E,D,M){if(m===void 0&&(m=0),C===void 0&&(C=0),S===void 0&&(S=this.defaultKey),E===void 0&&(E=this.defaultFrame),D===void 0&&(D=!0),M===void 0&&(M=!0),this.isFull())return null;var w=new this.classType(this.scene,m,C,S,E);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=D,w.setActive(M),this.add(w),w},createMultiple:function(m){if(this.isFull())return[];Array.isArray(m)||(m=[m]);var C=[];if(m[0].key)for(var S=0;S<m.length;S++){var E=this.createFromConfig(m[S]);C=C.concat(E)}return C},createFromConfig:function(m){if(this.isFull())return[];this.classType=n(m,"classType",this.classType);var C=n(m,"key",void 0),S=n(m,"frame",null),E=n(m,"visible",!0),D=n(m,"active",!0),M=[];if(C===void 0)return M;Array.isArray(C)||(C=[C]),Array.isArray(S)||(S=[S]);var w=n(m,"repeat",0),A=n(m,"randomKey",!1),R=n(m,"randomFrame",!1),P=n(m,"yoyo",!1),O=n(m,"quantity",!1),b=n(m,"frameQuantity",1),F=n(m,"max",0),L=f(C,S,{max:F,qty:O||b,random:A,randomB:R,repeat:w,yoyo:P});m.createCallback&&(this.createCallback=m.createCallback),m.removeCallback&&(this.removeCallback=m.removeCallback),m.internalCreateCallback&&(this.internalCreateCallback=m.internalCreateCallback),m.internalRemoveCallback&&(this.internalRemoveCallback=m.internalRemoveCallback);for(var G=0;G<L.length;G++){var z=this.create(0,0,L[G].a,L[G].b,E,D);if(!z)break;M.push(z)}if(h(m,"setXY")){var X=i(m,"setXY.x",0),B=i(m,"setXY.y",0),U=i(m,"setXY.stepX",0),I=i(m,"setXY.stepY",0);a.SetXY(M,X,B,U,I)}if(h(m,"setRotation")){var N=i(m,"setRotation.value",0),V=i(m,"setRotation.step",0);a.SetRotation(M,N,V)}if(h(m,"setScale")){var H=i(m,"setScale.x",1),W=i(m,"setScale.y",H),Y=i(m,"setScale.stepX",0),j=i(m,"setScale.stepY",0);a.SetScale(M,H,W,Y,j)}if(h(m,"setOrigin")){var k=i(m,"setOrigin.x",.5),$=i(m,"setOrigin.y",k),Z=i(m,"setOrigin.stepX",0),K=i(m,"setOrigin.stepY",0);a.SetOrigin(M,k,$,Z,K)}if(h(m,"setAlpha")){var J=i(m,"setAlpha.value",1),Q=i(m,"setAlpha.step",0);a.SetAlpha(M,J,Q)}if(h(m,"setDepth")){var _=i(m,"setDepth.value",0),rt=i(m,"setDepth.step",0);a.SetDepth(M,_,rt)}if(h(m,"setScrollFactor")){var ut=i(m,"setScrollFactor.x",1),ot=i(m,"setScrollFactor.y",ut),q=i(m,"setScrollFactor.stepX",0),it=i(m,"setScrollFactor.stepY",0);a.SetScrollFactor(M,ut,ot,q,it)}var nt=n(m,"hitArea",null),xt=n(m,"hitAreaCallback",null);nt&&a.SetHitArea(M,nt,xt);var Tt=n(m,"gridAlign",!1);return Tt&&a.GridAlign(M,Tt),this.createMultipleCallback&&this.createMultipleCallback.call(this,M),M},preUpdate:function(m,C){if(!(!this.runChildUpdate||this.children.size===0))for(var S=this.children.entries.slice(),E=0;E<S.length;E++){var D=S[E];D.active&&D.update(m,C)}},add:function(m,C){return C===void 0&&(C=!1),this.isFull()?this:(this.children.set(m),this.internalCreateCallback&&this.internalCreateCallback.call(this,m),this.createCallback&&this.createCallback.call(this,m),C&&(m.addToDisplayList(this.scene.sys.displayList),m.addToUpdateList()),m.on(l.DESTROY,this.remove,this),this)},addMultiple:function(m,C){if(C===void 0&&(C=!1),Array.isArray(m))for(var S=0;S<m.length;S++)this.add(m[S],C);return this},remove:function(m,C,S){return C===void 0&&(C=!1),S===void 0&&(S=!1),this.children.contains(m)?(this.children.delete(m),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,m),this.removeCallback&&this.removeCallback.call(this,m),m.off(l.DESTROY,this.remove,this),S?m.destroy():C&&(m.removeFromDisplayList(),m.removeFromUpdateList()),this):this},clear:function(m,C){m===void 0&&(m=!1),C===void 0&&(C=!1);for(var S=this.children,E=0;E<S.size;E++){var D=S.entries[E];D.off(l.DESTROY,this.remove,this),C?D.destroy():m&&(D.removeFromDisplayList(),D.removeFromUpdateList())}return this.children.clear(),this},contains:function(m){return this.children.contains(m)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(m,C,S,E){return o(this.children.entries,m,C,S,E)},getFirst:function(m,C,S,E,D,M,w){return this.getHandler(!0,1,m,C,S,E,D,M,w)},getFirstNth:function(m,C,S,E,D,M,w,A){return this.getHandler(!0,m,C,S,E,D,M,w,A)},getLast:function(m,C,S,E,D,M,w){return this.getHandler(!1,1,m,C,S,E,D,M,w)},getLastNth:function(m,C,S,E,D,M,w,A){return this.getHandler(!1,m,C,S,E,D,M,w,A)},getHandler:function(m,C,S,E,D,M,w,A,R){S===void 0&&(S=!1),E===void 0&&(E=!1);var P,O,b=0,F=this.children.entries;if(m)for(O=0;O<F.length;O++)if(P=F[O],P.active===S){if(b++,b===C)break}else P=null;else for(O=F.length-1;O>=0;O--)if(P=F[O],P.active===S){if(b++,b===C)break}else P=null;return P?(typeof D=="number"&&(P.x=D),typeof M=="number"&&(P.y=M),P):E?this.create(D,M,w,A,R):null},get:function(m,C,S,E,D){return this.getFirst(!1,!0,m,C,S,E,D)},getFirstAlive:function(m,C,S,E,D,M){return this.getFirst(!0,m,C,S,E,D,M)},getFirstDead:function(m,C,S,E,D,M){return this.getFirst(!1,m,C,S,E,D,M)},playAnimation:function(m,C){return a.PlayAnimation(this.children.entries,m,C),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(m){m===void 0&&(m=!0);for(var C=0,S=0;S<this.children.size;S++)this.children.entries[S].active===m&&C++;return C},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var m=this.getTotalUsed(),C=this.maxSize===-1?999999999999:this.maxSize;return C-m},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},propertyValueSet:function(m,C,S,E,D){return a.PropertyValueSet(this.children.entries,m,C,S,E,D),this},propertyValueInc:function(m,C,S,E,D){return a.PropertyValueInc(this.children.entries,m,C,S,E,D),this},setX:function(m,C){return a.SetX(this.children.entries,m,C),this},setY:function(m,C){return a.SetY(this.children.entries,m,C),this},setXY:function(m,C,S,E){return a.SetXY(this.children.entries,m,C,S,E),this},incX:function(m,C){return a.IncX(this.children.entries,m,C),this},incY:function(m,C){return a.IncY(this.children.entries,m,C),this},incXY:function(m,C,S,E){return a.IncXY(this.children.entries,m,C,S,E),this},shiftPosition:function(m,C,S){return a.ShiftPosition(this.children.entries,m,C,S),this},angle:function(m,C){return a.Angle(this.children.entries,m,C),this},rotate:function(m,C){return a.Rotate(this.children.entries,m,C),this},rotateAround:function(m,C){return a.RotateAround(this.children.entries,m,C),this},rotateAroundDistance:function(m,C,S){return a.RotateAroundDistance(this.children.entries,m,C,S),this},setAlpha:function(m,C){return a.SetAlpha(this.children.entries,m,C),this},setTint:function(m,C,S,E){return a.SetTint(this.children.entries,m,C,S,E),this},setOrigin:function(m,C,S,E){return a.SetOrigin(this.children.entries,m,C,S,E),this},scaleX:function(m,C){return a.ScaleX(this.children.entries,m,C),this},scaleY:function(m,C){return a.ScaleY(this.children.entries,m,C),this},scaleXY:function(m,C,S,E){return a.ScaleXY(this.children.entries,m,C,S,E),this},setDepth:function(m,C){return a.SetDepth(this.children.entries,m,C),this},setBlendMode:function(m){return a.SetBlendMode(this.children.entries,m),this},setHitArea:function(m,C){return a.SetHitArea(this.children.entries,m,C),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(m){this.children.contains(m)&&m.setActive(!1)},killAndHide:function(m){this.children.contains(m)&&(m.setActive(!1),m.setVisible(!1))},setVisible:function(m,C,S){return a.SetVisible(this.children.entries,m,C,S),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(m,C){m===void 0&&(m=!1),C===void 0&&(C=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(l.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(C,m),this.scene=void 0,this.children=void 0)}});e.exports=p},94975:(e,y,t)=>{var a=t(44603),g=t(26479);a.register("group",function(l){return new g(this.scene,null,l)})},3385:(e,y,t)=>{var a=t(26479),g=t(39429);g.register("group",function(l,s){return this.updateList.add(new a(this.scene,l,s))})},88571:(e,y,t)=>{var a=t(83419),g=t(31401),l=t(95643),s=t(59819),o=new a({Extends:l,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.TextureCrop,g.Tint,g.Transform,g.Visible,s],initialize:function(i,h,r,f,c){l.call(this,i,"Image"),this._crop=this.resetCropObject(),this.setTexture(f,c),this.setPosition(h,r),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});e.exports=o},40652:e=>{var y=function(t,a,g,l){g.addToRenderList(a),t.batchSprite(a,a.frame,g,l)};e.exports=y},82459:(e,y,t)=>{var a=t(25305),g=t(44603),l=t(23568),s=t(88571);g.register("image",function(o,n){o===void 0&&(o={});var i=l(o,"key",null),h=l(o,"frame",null),r=new s(this.scene,0,0,i,h);return n!==void 0&&(o.add=n),a(this.scene,r,o),r})},2117:(e,y,t)=>{var a=t(88571),g=t(39429);g.register("image",function(l,s,o,n){return this.displayList.add(new a(this.scene,l,s,o,n))})},59819:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(99517),l=t(40652),e.exports={renderWebGL:g,renderCanvas:l}},99517:e=>{var y=function(t,a,g,l){g.addToRenderList(a),this.pipeline.batchSprite(a,g,l)};e.exports=y},77856:(e,y,t)=>{var a={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};a.Shader=t(20071),a.Mesh=t(4703),a.NineSlice=t(28103),a.PointLight=t(80321),a.Plane=t(33663),a.Factories.Shader=t(74177),a.Factories.Mesh=t(9225),a.Factories.NineSlice=t(47521),a.Factories.PointLight=t(71255),a.Factories.Plane=t(30985),a.Creators.Shader=t(54935),a.Creators.Mesh=t(20527),a.Creators.NineSlice=t(28279),a.Creators.PointLight=t(39829),a.Creators.Plane=t(56015),a.Light=t(41432),a.LightsManager=t(61356),a.LightsPlugin=t(88992),e.exports=a},93595:(e,y,t)=>{var a=t(10312),g=t(83419),l=t(31401),s=t(53774),o=t(45893),n=t(50792),i=t(51708),h=t(73162),r=t(33963),f=t(44594),c=t(19186),d=new g({Extends:h,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.PostPipeline,l.Visible,n,r],initialize:function(m,C){h.call(this,m),n.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),C&&this.add(C),m.sys.queueDepthSort()},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},setState:function(p){return this.state=p,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(p,m){return this.data||(this.data=new o(this)),this.data.set(p,m),this},incData:function(p,m){return this.data||(this.data=new o(this)),this.data.inc(p,m),this},toggleData:function(p){return this.data||(this.data=new o(this)),this.data.toggle(p),this},getData:function(p){return this.data||(this.data=new o(this)),this.data.get(p)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return s(this)},willRender:function(p){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&p.id)},getIndexList:function(){for(var p=this,m=this.parentContainer,C=[];m&&(C.unshift(m.getIndex(p)),p=m,m.parentContainer);)m=m.parentContainer;return C.unshift(this.displayList.getIndex(p)),C},addChildCallback:function(p){var m=p.displayList;m&&m!==this&&p.removeFromDisplayList(),p.displayList||(this.queueDepthSort(),p.displayList=this,p.emit(i.ADDED_TO_SCENE,p,this.scene),this.events.emit(f.ADDED_TO_SCENE,p,this.scene))},removeChildCallback:function(p){this.queueDepthSort(),p.displayList=null,p.emit(i.REMOVED_FROM_SCENE,p,this.scene),this.events.emit(f.REMOVED_FROM_SCENE,p,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(c(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(p,m){return p._depth-m._depth},getChildren:function(){return this.list},addToDisplayList:function(p){return p===void 0&&(p=this.scene.sys.displayList),this.displayList&&this.displayList!==p&&this.removeFromDisplayList(),p.exists(this)||(this.displayList=p,p.add(this,!0),p.queueDepthSort(),this.emit(i.ADDED_TO_SCENE,this,this.scene),p.events.emit(f.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var p=this.displayList||this.scene.sys.displayList;return p.exists(this)&&(p.remove(this,!0),p.queueDepthSort(),this.displayList=null,this.emit(i.REMOVED_FROM_SCENE,this,this.scene),p.events.emit(f.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(p){if(!(!this.scene||this.ignoreDestroy)){this.emit(i.DESTROY,this);for(var m=this.list;m.length;)m[0].destroy(p);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});e.exports=d},2956:e=>{var y=function(t,a,g){var l=a.list;if(l.length!==0){a.depthSort();var s=a.blendMode!==-1;s||t.setBlendMode(0);var o=a._alpha;a.mask&&a.mask.preRenderCanvas(t,null,g);for(var n=0;n<l.length;n++){var i=l[n];if(i.willRender(g)){var h=i.alpha;!s&&i.blendMode!==t.currentBlendMode&&t.setBlendMode(i.blendMode),i.setAlpha(h*o),i.renderCanvas(t,i,g),i.setAlpha(h)}}a.mask&&a.mask.postRenderCanvas(t)}};e.exports=y},25179:(e,y,t)=>{var a=t(25305),g=t(93595),l=t(44603),s=t(23568);l.register("layer",function(o,n){o===void 0&&(o={});var i=s(o,"children",null),h=new g(this.scene,i);return n!==void 0&&(o.add=n),a(this.scene,h,o),h})},20005:(e,y,t)=>{var a=t(93595),g=t(39429);g.register("layer",function(l){return this.displayList.add(new a(this.scene,l))})},33963:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(15869),l=t(2956),e.exports={renderWebGL:g,renderCanvas:l}},15869:e=>{var y=function(t,a,g){var l=a.list,s=l.length;if(s!==0){a.depthSort(),t.pipelines.preBatch(a);var o=a.blendMode!==-1;o||t.setBlendMode(0);for(var n=a.alpha,i=0;i<s;i++){var h=l[i];if(h.willRender(g)){var r,f,c,d;if(h.alphaTopLeft!==void 0)r=h.alphaTopLeft,f=h.alphaTopRight,c=h.alphaBottomLeft,d=h.alphaBottomRight;else{var p=h.alpha;r=p,f=p,c=p,d=p}!o&&h.blendMode!==t.currentBlendMode&&t.setBlendMode(h.blendMode);var m=h.mask;m&&m.preRenderWebGL(t,h,g);var C=h.type;C!==t.currentType&&(t.newType=!0,t.currentType=C),t.nextTypeMatch=i<s-1?l[i+1].type===t.currentType:!1,h.setAlpha(r*n,f*n,c*n,d*n),h.renderWebGL(t,h,g),h.setAlpha(r,f,c,d),m&&m.postRenderWebGL(t,g),t.newType=!1}}t.pipelines.postBatch(a)}};e.exports=y},41432:(e,y,t)=>{var a=t(96503),g=t(83419),l=t(31401),s=t(51767),o=t(70554),n=new g({Extends:a,Mixins:[l.Origin,l.ScrollFactor,l.Visible],initialize:function(h,r,f,c,d,p,m){a.call(this,h,r,f),this.color=new s(c,d,p),this.intensity=m,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(f)},displayWidth:{get:function(){return this.diameter},set:function(i){this.diameter=i}},displayHeight:{get:function(){return this.diameter},set:function(i){this.diameter=i}},width:{get:function(){return this.diameter},set:function(i){this.diameter=i}},height:{get:function(){return this.diameter},set:function(i){this.diameter=i}},willRender:function(i){return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&i.id)},setColor:function(i){var h=o.getFloatsFromUintRGB(i);return this.color.set(h[0],h[1],h[2]),this},setIntensity:function(i){return this.intensity=i,this},setRadius:function(i){return this.radius=i,this}});n.RENDER_MASK=15,e.exports=n},61356:(e,y,t)=>{var a=t(81491),g=t(83419),l=t(20339),s=t(41432),o=t(80321),n=t(51767),i=t(19133),h=t(19186),r=t(70554),f=new g({initialize:function(){this.lights=[],this.ambientColor=new n(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(c,d,p,m,C,S){return this.systems.displayList.add(new o(this.scene,c,d,p,m,C,S))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(c){for(var d=this.lights,p=c.worldView,m=[],C=0;C<d.length;C++){var S=d[C];S.willRender(c)&&a(S,p)&&m.push({light:S,distance:l(S.x,S.y,p.centerX,p.centerY)})}return m.length>this.maxLights&&(h(m,this.sortByDistance),m=m.slice(0,this.maxLights)),this.visibleLights=m.length,m},sortByDistance:function(c,d){return c.distance>=d.distance},setAmbientColor:function(c){var d=r.getFloatsFromUintRGB(c);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(c,d,p,m,C){c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=128),m===void 0&&(m=16777215),C===void 0&&(C=1);var S=r.getFloatsFromUintRGB(m),E=new s(c,d,p,S[0],S[1],S[2],C);return this.lights.push(E),E},removeLight:function(c){var d=this.lights.indexOf(c);return d>=0&&i(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});e.exports=f},88992:(e,y,t)=>{var a=t(83419),g=t(61356),l=t(37277),s=t(44594),o=new a({Extends:g,initialize:function(i){this.scene=i,this.systems=i.sys,i.sys.settings.isBooted||i.sys.events.once(s.BOOT,this.boot,this),g.call(this)},boot:function(){var n=this.systems.events;n.on(s.SHUTDOWN,this.shutdown,this),n.on(s.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});l.register("LightsPlugin",o,"lights"),e.exports=o},4703:(e,y,t)=>{var a=t(83419),g=t(31401),l=t(39506),s=t(83997),o=t(95643),n=t(34684),i=t(92515),h=t(91296),r=t(37867),f=t(29807),c=t(43396),d=t(19186),p=t(25836),m=t(39318),C=new a({Extends:o,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.Texture,g.Transform,g.Visible,f],initialize:function(E,D,M,w,A,R,P,O,b,F,L,G){D===void 0&&(D=0),M===void 0&&(M=0),w===void 0&&(w="__WHITE"),o.call(this,E,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new p,this.modelScale=new p(1,1,1),this.modelRotation=new p,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new r,this.viewPosition=new p,this.viewMatrix=new r,this.projectionMatrix=new r,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var z=E.sys.renderer;this.setPosition(D,M),this.setTexture(w,A),this.setSize(z.width,z.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(z.width,z.height),R&&this.addVertices(R,P,O,b,F,L,G)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(S){return this.viewPosition.addScale(p.LEFT,S),this.dirtyCache[10]=1,this},panY:function(S){return this.viewPosition.y+=p.DOWN.y*S,this.dirtyCache[10]=1,this},panZ:function(S){return this.viewPosition.z+=S,this.dirtyCache[10]=1,this},setPerspective:function(S,E,D,M,w){return D===void 0&&(D=45),M===void 0&&(M=.01),w===void 0&&(w=1e3),this.fov=D,this.projectionMatrix.perspective(l(D),S/E,M,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(S,E,D,M){return S===void 0&&(S=this.scene.sys.renderer.getAspectRatio()),E===void 0&&(E=1),D===void 0&&(D=-1e3),M===void 0&&(M=1e3),this.fov=0,this.projectionMatrix.ortho(-S,S,-E,E,D,M),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(S){S.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(S,E,D,M,w,A,R,P,O){var b=this.scene.sys.cache.obj.get(S),F;return b&&(F=n(b,this,E,D,M,w,A,R,P,O)),(!F||F.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",S),this},sortByDepth:function(S,E){return S.depth-E.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(S,E,D,M,w,A,R){var P=new m(S,E,D,M,w,A,R);return this.vertices.push(P),P},addFace:function(S,E,D){var M=new s(S,E,D);return this.faces.push(M),this.dirtyCache[9]=-1,M},addVertices:function(S,E,D,M,w,A,R){var P=i(S,E,D,M,w,A,R);return P?(this.faces=this.faces.concat(P.faces),this.vertices=this.vertices.concat(P.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(S){return this.faces[S]},hasFaceAt:function(S,E,D){D===void 0&&(D=this.scene.sys.cameras.main);for(var M=h(this,D).calc,w=this.faces,A=0;A<w.length;A++){var R=w[A];if(R.contains(S,E,M))return!0}return!1},getFaceAt:function(S,E,D){D===void 0&&(D=this.scene.sys.cameras.main);for(var M=h(this,D).calc,w=this.faces,A=[],R=0;R<w.length;R++){var P=w[R];P.contains(S,E,M)&&A.push(P)}return d(A,this.sortByDepth)},setDebug:function(S,E){return this.debugGraphic=S,!S&&!E?this.debugCallback=null:E?this.debugCallback=E:this.debugCallback=this.renderDebug,this},isDirty:function(){var S=this.modelPosition,E=this.modelRotation,D=this.modelScale,M=this.dirtyCache,w=S.x,A=S.y,R=S.z,P=E.x,O=E.y,b=E.z,F=D.x,L=D.y,G=D.z,z=this.getFaceCount(),X=M[0],B=M[1],U=M[2],I=M[3],N=M[4],V=M[5],H=M[6],W=M[7],Y=M[8],j=M[9];return M[0]=w,M[1]=A,M[2]=R,M[3]=P,M[4]=O,M[5]=b,M[6]=F,M[7]=L,M[8]=G,M[9]=z,X!==w||B!==A||U!==R||I!==P||N!==O||V!==b||H!==F||W!==L||Y!==G||j!==z},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var S=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!S[10]&&!this.isDirty())){var E=this.width,D=this.height,M=this.viewMatrix,w=this.viewPosition;S[10]&&(M.identity(),M.translate(w),M.invert(),S[10]=0);var A=this.transformMatrix;A.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var R=w.z,P=this.faces,O=0;O<P.length;O++)P[O].transformCoordinatesLocal(A,E,D,R);this.depthSort()}},renderDebug:function(S,E){for(var D=S.debugGraphic,M=0;M<E.length;M++){var w=E[M],A=w.vertex1.tx,R=w.vertex1.ty,P=w.vertex2.tx,O=w.vertex2.ty,b=w.vertex3.tx,F=w.vertex3.ty;D.strokeTriangle(A,R,P,O,b,F)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(S){S===void 0&&(S={});var E=(function(D,M,w){for(var A=this.faces,R=0;R<A.length;R++){var P=A[R];if(P.contains(M,w))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,S,E),this},setTint:function(S){S===void 0&&(S=16777215);for(var E=this.vertices,D=0;D<E.length;D++)E[D].color=S;return this},uvScroll:function(S,E){for(var D=this.faces,M=0;M<D.length;M++)D[M].scrollUV(S,E);return this},uvScale:function(S,E){for(var D=this.faces,M=0;M<D.length;M++)D[M].scaleUV(S,E);return this},tint:{set:function(S){this.setTint(S)}},rotateX:{get:function(){return c(this.modelRotation.x)},set:function(S){this.modelRotation.x=l(S)}},rotateY:{get:function(){return c(this.modelRotation.y)},set:function(S){this.modelRotation.y=l(S)}},rotateZ:{get:function(){return c(this.modelRotation.z)},set:function(S){this.modelRotation.z=l(S)}}});e.exports=C},36488:e=>{var y=function(){};e.exports=y},20527:(e,y,t)=>{var a=t(25305),g=t(44603),l=t(23568),s=t(35154),o=t(4703);g.register("mesh",function(n,i){n===void 0&&(n={});var h=l(n,"key",null),r=l(n,"frame",null),f=s(n,"vertices",[]),c=s(n,"uvs",[]),d=s(n,"indicies",[]),p=s(n,"containsZ",!1),m=s(n,"normals",[]),C=s(n,"colors",16777215),S=s(n,"alphas",1),E=new o(this.scene,0,0,h,r,f,c,d,p,m,C,S);return i!==void 0&&(n.add=i),a(this.scene,E,n),E})},9225:(e,y,t)=>{var a=t(4703),g=t(39429);g.register("mesh",function(l,s,o,n,i,h,r,f,c,d,p){return this.displayList.add(new a(this.scene,l,s,o,n,i,h,r,f,c,d,p))})},29807:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(48833),l=t(36488),e.exports={renderWebGL:g,renderCanvas:l}},48833:(e,y,t)=>{var a=t(91296),g=function(l,s,o,n){var i=s.faces,h=i.length;if(h!==0){o.addToRenderList(s);var r=l.pipelines.set(s.pipeline,s),f=a(s,o,n).calc;l.pipelines.preBatch(s);for(var c=r.setGameObject(s),d=r.vertexViewF32,p=r.vertexViewU32,m=r.vertexCount*r.currentShader.vertexComponentCount-1,C=s.tintFill,S=[],E=s.debugCallback,D=f.a,M=f.b,w=f.c,A=f.d,R=f.e,P=f.f,O=s.viewPosition.z,b=s.hideCCW,F=o.roundPixels,L=o.alpha*s.alpha,G=0,z=0;z<h;z++){var X=i[z];X.isInView(o,b,O,L,D,M,w,A,R,P,F)&&(r.shouldFlush(3)&&(r.flush(),c=r.setGameObject(s),m=0),m=X.load(d,p,m,c,C),G++,r.vertexCount+=3,r.currentBatch.count=r.vertexCount-r.currentBatch.start,E&&S.push(X))}s.totalFrame+=G,E&&E.call(s,s,S),l.pipelines.postBatch(s)}};e.exports=g},28103:(e,y,t)=>{var a=t(83419),g=t(31401),l=t(95643),s=t(78023),o=t(39318),n=new a({Extends:l,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,s],initialize:function(h,r,f,c,d,p,m,C,S,E,D){l.call(this,h,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var M=h.textures.getFrame(c,d);this.is3Slice=!E&&!D,M.scale9&&(this.is3Slice=M.is3Slice);for(var w=this.is3Slice?18:54,A=0;A<w;A++)this.vertices.push(new o);this.setPosition(r,f),this.setTexture(c,d),this.setSlices(p,m,C,S,E,D,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(i,h,r,f,c,d,p){r===void 0&&(r=10),f===void 0&&(f=10),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=!1);var m=this.frame,C=!1;if(this.is3Slice&&p&&c!==0&&d!==0&&(C=!0),C)console.warn("Cannot change 9 slice to 3 slice");else{if(m.scale9&&!p){var S=m.data.scale9Borders,E=S.x,D=S.y;r=E,f=m.width-S.w-E,c=D,d=m.height-S.h-D,i===void 0&&(i=m.width),h===void 0&&(h=m.height)}else i===void 0&&(i=256),h===void 0&&(h=256);this._width=i,this._height=h,this.leftWidth=r,this.rightWidth=f,this.topHeight=c,this.bottomHeight=d,this.is3Slice&&(h=m.height,this._height=h,this.topHeight=h,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var i=this.leftWidth,h=this.rightWidth,r=this.topHeight,f=this.bottomHeight,c=this.frame.width,d=this.frame.height;this.updateQuadUVs(0,0,0,i/c,r/d),this.updateQuadUVs(6,i/c,0,1-h/c,r/d),this.updateQuadUVs(12,1-h/c,0,1,r/d),this.is3Slice||(this.updateQuadUVs(18,0,r/d,i/c,1-f/d),this.updateQuadUVs(24,i/c,r/d,1-h/c,1-f/d),this.updateQuadUVs(30,1-h/c,r/d,1,1-f/d),this.updateQuadUVs(36,0,1-f/d,i/c,1),this.updateQuadUVs(42,i/c,1-f/d,1-h/c,1),this.updateQuadUVs(48,1-h/c,1-f/d,1,1))},updateVertices:function(){var i=this.leftWidth,h=this.rightWidth,r=this.topHeight,f=this.bottomHeight,c=this.width,d=this.height;this.updateQuad(0,-.5,.5,-.5+i/c,.5-r/d),this.updateQuad(6,-.5+i/c,.5,.5-h/c,.5-r/d),this.updateQuad(12,.5-h/c,.5,.5,.5-r/d),this.is3Slice||(this.updateQuad(18,-.5,.5-r/d,-.5+i/c,-.5+f/d),this.updateQuad(24,-.5+i/c,.5-r/d,.5-h/c,-.5+f/d),this.updateQuad(30,.5-h/c,.5-r/d,.5,-.5+f/d),this.updateQuad(36,-.5,-.5+f/d,-.5+i/c,-.5),this.updateQuad(42,-.5+i/c,-.5+f/d,.5-h/c,-.5),this.updateQuad(48,.5-h/c,-.5+f/d,.5,-.5))},updateQuad:function(i,h,r,f,c){var d=this.width,p=this.height,m=this.originX,C=this.originY,S=this.vertices;S[i+0].resize(h,r,d,p,m,C),S[i+1].resize(h,c,d,p,m,C),S[i+2].resize(f,r,d,p,m,C),S[i+3].resize(h,c,d,p,m,C),S[i+4].resize(f,c,d,p,m,C),S[i+5].resize(f,r,d,p,m,C)},updateQuadUVs:function(i,h,r,f,c){var d=this.vertices,p=this.frame,m=p.u0,C=p.v0,S=p.u1,E=p.v1;if(m!==0||S!==1){var D=S-m;h=m+h*D,f=m+f*D}if(C!==0||E!==1){var M=E-C;r=C+r*M,c=C+c*M}d[i+0].setUVs(h,r),d[i+1].setUVs(h,c),d[i+2].setUVs(f,r),d[i+3].setUVs(h,c),d[i+4].setUVs(f,c),d[i+5].setUVs(f,r)},clearTint:function(){return this.setTint(16777215),this},setTint:function(i){return i===void 0&&(i=16777215),this.tint=i,this.tintFill=!1,this},setTintFill:function(i){return this.setTint(i),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(i){this._width=Math.max(i,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(i){this.is3Slice||(this._height=Math.max(i,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}},setSize:function(i,h){this.width=i,this.height=h,this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=this.width,r.hitArea.height=this.height),this},setDisplaySize:function(i,h){return this.displayWidth=i,this.displayHeight=h,this},originX:{get:function(){return this._originX},set:function(i){this._originX=i,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(i){this._originY=i,this.updateVertices()}},setOrigin:function(i,h){return i===void 0&&(i=.5),h===void 0&&(h=i),this._originX=i,this._originY=h,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var i=this.frame.height;this._height=i,this.topHeight=i,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});e.exports=n},28279:(e,y,t)=>{var a=t(25305),g=t(44603),l=t(23568),s=t(35154),o=t(28103);g.register("nineslice",function(n,i){n===void 0&&(n={});var h=l(n,"key",null),r=l(n,"frame",null),f=s(n,"width",256),c=s(n,"height",256),d=s(n,"leftWidth",10),p=s(n,"rightWidth",10),m=s(n,"topHeight",0),C=s(n,"bottomHeight",0),S=new o(this.scene,0,0,h,r,f,c,d,p,m,C);return i!==void 0&&(n.add=i),a(this.scene,S,n),S})},47521:(e,y,t)=>{var a=t(28103),g=t(39429);g.register("nineslice",function(l,s,o,n,i,h,r,f,c,d){return this.displayList.add(new a(this.scene,l,s,o,n,i,h,r,f,c,d))})},78023:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(52230),e.exports={renderWebGL:g,renderCanvas:l}},52230:(e,y,t)=>{var a=t(91296),g=t(70554),l=function(s,o,n,i){var h=o.vertices,r=h.length;if(r!==0){n.addToRenderList(o);var f=s.pipelines.set(o.pipeline,o),c=a(o,n,i,!1).calc;s.pipelines.preBatch(o);var d=f.setGameObject(o),p=f.vertexViewF32,m=f.vertexViewU32,C=f.vertexCount*f.currentShader.vertexComponentCount-1,S=n.roundPixels,E=o.tintFill,D=n.alpha*o.alpha,M=g.getTintAppendFloatAlpha(o.tint,D),w=f.vertexAvailable(),A=-1;w<r&&(A=w);for(var R=0;R<r;R++){var P=h[R];R===A&&(f.flush(),d=f.setGameObject(o),C=0),p[++C]=c.getXRound(P.vx,P.vy,S),p[++C]=c.getYRound(P.vx,P.vy,S),p[++C]=P.u,p[++C]=P.v,p[++C]=d,p[++C]=E,m[++C]=M,f.vertexCount++,f.currentBatch.count=f.vertexCount-f.currentBatch.start}s.pipelines.postBatch(o)}};e.exports=l},76472:(e,y,t)=>{var a=t(83419),g=t(44777),l=t(37589),s=t(6113),o=t(91389),n=t(90664),i=new a({Extends:g,initialize:function(r){g.call(this,r,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var h=this.propertyValue,r=h,f=this.defaultEmit,c=this.defaultUpdate;if(this.method===9){this.start=h[0],this.ease=s("Linear"),this.interpolation=o("linear"),f=this.easedValueEmit,c=this.easeValueUpdate,r=h[0],this.active=!0;for(var d=0;d<h.length;d++){var p=n(h[d]);this.r.push(p.r),this.g.push(p.g),this.b.push(p.b)}}return this.onEmit=f,this.onUpdate=c,this.current=r,this},setEase:function(h){this.easeName=h,this.ease=s(h)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(h,r,f){var c=this.ease(f),d=this.interpolation(this.r,c),p=this.interpolation(this.g,c),m=this.interpolation(this.b,c),C=l(d,p,m);return this.current=C,C}});e.exports=i},44777:(e,y,t)=>{var a=t(30976),g=t(45319),l=t(83419),s=t(99472),o=t(6113),n=t(95540),i=t(91389),h=t(77720),r=t(15994),f=new l({initialize:function(d,p,m){m===void 0&&(m=!1),this.propertyKey=d,this.propertyValue=p,this.defaultValue=p,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=m,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(c,d){c===void 0&&(c={}),d&&(this.propertyKey=d),this.propertyValue=n(c,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(c){var d;switch(this.method){case 1:case 3:case 8:d=c;break;case 2:this.propertyValue.indexOf(c)>=0&&(d=c);break;case 4:var p=(this.end-this.start)/this.steps;d=h(c,p),this.counter=d;break;case 5:case 6:case 7:d=g(c,this.start,this.end);break;case 9:d=this.start[0];break}return this.current=d,this},getMethod:function(){var c=this.propertyValue;if(c===null)return 0;var d=typeof c;if(d==="number")return 1;if(Array.isArray(c))return 2;if(d==="function")return 3;if(d==="object"){if(this.hasBoth(c,"start","end"))return this.has(c,"steps")?4:5;if(this.hasBoth(c,"min","max"))return 6;if(this.has(c,"random"))return 7;if(this.hasEither(c,"onEmit","onUpdate"))return 8;if(this.hasEither(c,"values","interpolation"))return 9}return 0},setMethods:function(){var c=this.propertyValue,d=c,p=this.defaultEmit,m=this.defaultUpdate;switch(this.method){case 1:p=this.staticValueEmit;break;case 2:p=this.randomStaticValueEmit,d=c[0];break;case 3:this._onEmit=c,p=this.proxyEmit;break;case 4:this.start=c.start,this.end=c.end,this.steps=c.steps,this.counter=this.start,this.yoyo=this.has(c,"yoyo")?c.yoyo:!1,this.direction=0,p=this.steppedEmit,d=this.start;break;case 5:this.start=c.start,this.end=c.end;var C=this.has(c,"ease")?c.ease:"Linear";this.ease=o(C,c.easeParams),p=this.has(c,"random")&&c.random?this.randomRangedValueEmit:this.easedValueEmit,m=this.easeValueUpdate,d=this.start;break;case 6:this.start=c.min,this.end=c.max,p=this.has(c,"int")&&c.int?this.randomRangedIntEmit:this.randomRangedValueEmit,d=this.start;break;case 7:var S=c.random;Array.isArray(S)&&(this.start=S[0],this.end=S[1]),p=this.randomRangedIntEmit,d=this.start;break;case 8:this._onEmit=this.has(c,"onEmit")?c.onEmit:this.defaultEmit,this._onUpdate=this.has(c,"onUpdate")?c.onUpdate:this.defaultUpdate,p=this.proxyEmit,m=this.proxyUpdate;break;case 9:this.start=c.values;var E=this.has(c,"ease")?c.ease:"Linear";this.ease=o(E,c.easeParams),this.interpolation=i(c.interpolation),p=this.easedValueEmit,m=this.easeValueUpdate,d=this.start[0];break}return this.onEmit=p,this.onUpdate=m,this.current=d,this},has:function(c,d){return c.hasOwnProperty(d)},hasBoth:function(c,d,p){return c.hasOwnProperty(d)&&c.hasOwnProperty(p)},hasEither:function(c,d,p){return c.hasOwnProperty(d)||c.hasOwnProperty(p)},defaultEmit:function(c,d,p){return p},defaultUpdate:function(c,d,p,m){return m},proxyEmit:function(c,d,p){var m=this._onEmit(c,d,p);return this.current=m,m},proxyUpdate:function(c,d,p,m){var C=this._onUpdate(c,d,p,m);return this.current=C,C},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var c=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[c],this.current},randomRangedValueEmit:function(c,d){var p=s(this.start,this.end);return c&&c.data[d]&&(c.data[d].min=p,c.data[d].max=this.end),this.current=p,p},randomRangedIntEmit:function(c,d){var p=a(this.start,this.end);return c&&c.data[d]&&(c.data[d].min=p,c.data[d].max=this.end),this.current=p,p},steppedEmit:function(){var c=this.counter,d=c,p=(this.end-this.start)/this.steps;if(this.yoyo){var m;this.direction===0?(d+=p,d>=this.end&&(m=d-this.end,d=this.end-m,this.direction=1)):(d-=p,d<=this.start&&(m=this.start-d,d=this.start+m,this.direction=0)),this.counter=d}else this.counter=r(d+p,this.start,this.end);return this.current=c,c},easedValueEmit:function(c,d){if(c&&c.data[d]){var p=c.data[d];p.min=this.start,p.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(c,d,p){var m=c.data[d],C,S=this.ease(p);return this.interpolation?C=this.interpolation(this.start,S):C=(m.max-m.min)*S+m.min,this.current=C,C},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});e.exports=f},24502:(e,y,t)=>{var a=t(83419),g=t(95540),l=t(20286),s=new a({Extends:l,initialize:function(n,i,h,r,f){if(typeof n=="object"){var c=n;n=g(c,"x",0),i=g(c,"y",0),h=g(c,"power",0),r=g(c,"epsilon",100),f=g(c,"gravity",50)}else n===void 0&&(n=0),i===void 0&&(i=0),h===void 0&&(h=0),r===void 0&&(r=100),f===void 0&&(f=50);l.call(this,n,i,!0),this._gravity=f,this._power=h*f,this._epsilon=r*r},update:function(o,n){var i=this.x-o.x,h=this.y-o.y,r=i*i+h*h;if(r!==0){var f=Math.sqrt(r);r<this._epsilon&&(r=this._epsilon);var c=this._power*n/(r*f)*100;o.velocityX+=i*c,o.velocityY+=h*c}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(o){this._epsilon=o*o}},power:{get:function(){return this._power/this._gravity},set:function(o){this._power=o*this._gravity}},gravity:{get:function(){return this._gravity},set:function(o){var n=this.power;this._gravity=o,this.power=n}}});e.exports=s},56480:(e,y,t)=>{var a=t(9674),g=t(45319),l=t(83419),s=t(39506),o=t(87841),n=t(11520),i=t(26099),h=new l({initialize:function(f){this.emitter=f,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new i,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=f.scene,this.anims=new a(this),this.bounds=new o},emit:function(r,f,c,d,p,m){return this.emitter.emit(r,f,c,d,p,m)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(r,f){r===void 0&&(r=0),f===void 0&&(f=0),this.x=r,this.y=f},fire:function(r,f){var c=this.emitter,d=c.ops,p=c.getAnim();if(p?this.anims.play(p):(this.frame=c.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(c.getEmitZone(this),r===void 0?this.x+=d.x.onEmit(this,"x"):d.x.steps>0?this.x+=r+d.x.onEmit(this,"x"):this.x+=r,f===void 0?this.y+=d.y.onEmit(this,"y"):d.y.steps>0?this.y+=f+d.y.onEmit(this,"y"):this.y+=f,this.life=d.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=d.delay.onEmit(this,"delay"),this.holdCurrent=d.hold.onEmit(this,"hold"),this.scaleX=d.scaleX.onEmit(this,"scaleX"),this.scaleY=d.scaleY.active?d.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=d.rotate.onEmit(this,"rotate"),this.rotation=s(this.angle),c.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&c.getDeathZone(this))return this.lifeCurrent=0,!1;var m=d.speedX.onEmit(this,"speedX"),C=d.speedY.active?d.speedY.onEmit(this,"speedY"):m;if(c.radial){var S=s(d.angle.onEmit(this,"angle"));this.velocityX=Math.cos(S)*Math.abs(m),this.velocityY=Math.sin(S)*Math.abs(C)}else if(c.moveTo){var E=d.moveToX.onEmit(this,"moveToX"),D=d.moveToY.onEmit(this,"moveToY"),M=this.life/1e3;this.velocityX=(E-this.x)/M,this.velocityY=(D-this.y)/M}else this.velocityX=m,this.velocityY=C;return c.acceleration&&(this.accelerationX=d.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=d.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=d.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=d.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=d.bounce.onEmit(this,"bounce"),this.alpha=d.alpha.onEmit(this,"alpha"),d.color.active?this.tint=d.color.onEmit(this,"tint"):this.tint=d.tint.onEmit(this,"tint"),!0},update:function(r,f,c){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=r,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=r,!1;this.anims.update(0,r);var d=this.emitter,p=d.ops,m=1-this.lifeCurrent/this.life;if(this.lifeT=m,this.x=p.x.onUpdate(this,"x",m,this.x),this.y=p.y.onUpdate(this,"y",m,this.y),d.moveTo){var C=p.moveToX.onUpdate(this,"moveToX",m,d.moveToX),S=p.moveToY.onUpdate(this,"moveToY",m,d.moveToY),E=this.lifeCurrent/1e3;this.velocityX=(C-this.x)/E,this.velocityY=(S-this.y)/E}return this.computeVelocity(d,r,f,c,m),this.scaleX=p.scaleX.onUpdate(this,"scaleX",m,this.scaleX),p.scaleY.active?this.scaleY=p.scaleY.onUpdate(this,"scaleY",m,this.scaleY):this.scaleY=this.scaleX,this.angle=p.rotate.onUpdate(this,"rotate",m,this.angle),this.rotation=s(this.angle),d.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=g(p.alpha.onUpdate(this,"alpha",m,this.alpha),0,1),p.color.active?this.tint=p.color.onUpdate(this,"color",m,this.tint):this.tint=p.tint.onUpdate(this,"tint",m,this.tint),this.lifeCurrent-=r,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(r,f,c,d,p){var m=r.ops,C=this.velocityX,S=this.velocityY,E=m.accelerationX.onUpdate(this,"accelerationX",p,this.accelerationX),D=m.accelerationY.onUpdate(this,"accelerationY",p,this.accelerationY),M=m.maxVelocityX.onUpdate(this,"maxVelocityX",p,this.maxVelocityX),w=m.maxVelocityY.onUpdate(this,"maxVelocityY",p,this.maxVelocityY);this.bounce=m.bounce.onUpdate(this,"bounce",p,this.bounce),C+=r.gravityX*c+E*c,S+=r.gravityY*c+D*c,C=g(C,-M,M),S=g(S,-w,w),this.velocityX=C,this.velocityY=S,this.x+=C*c,this.y+=S*c,r.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var A=0;A<d.length;A++){var R=d[A];R.active&&R.update(this,f,c,p)}},setSizeToFrame:function(){},getBounds:function(r){r===void 0&&(r=this.emitter.getWorldTransformMatrix());var f=Math.abs(r.scaleX)*this.scaleX,c=Math.abs(r.scaleY)*this.scaleY,d=this.x,p=this.y,m=this.rotation,C=this.frame.width*f/2,S=this.frame.height*c/2,E=this.bounds,D=new i(d-C,p-S),M=new i(d+C,p-S),w=new i(d-C,p+S),A=new i(d+C,p+S);return m!==0&&(n(D,d,p,m),n(M,d,p,m),n(w,d,p,m),n(A,d,p,m)),r.transformPoint(D.x,D.y,D),r.transformPoint(M.x,M.y,M),r.transformPoint(w.x,w.y,w),r.transformPoint(A.x,A.y,A),E.x=Math.min(D.x,M.x,w.x,A.x),E.y=Math.min(D.y,M.y,w.y,A.y),E.width=Math.max(D.x,M.x,w.x,A.x)-E.x,E.height=Math.max(D.y,M.y,w.y,A.y)-E.y,E},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});e.exports=h},69601:(e,y,t)=>{var a=t(83419),g=t(20286),l=t(87841),s=new a({Extends:g,initialize:function(n,i,h,r,f,c,d,p){f===void 0&&(f=!0),c===void 0&&(c=!0),d===void 0&&(d=!0),p===void 0&&(p=!0),g.call(this,n,i,!0),this.bounds=new l(n,i,h,r),this.collideLeft=f,this.collideRight=c,this.collideTop=d,this.collideBottom=p},update:function(o){var n=this.bounds,i=-o.bounce,h=o.worldPosition;h.x<n.x&&this.collideLeft?(o.x+=n.x-h.x,o.velocityX*=i):h.x>n.right&&this.collideRight&&(o.x-=h.x-n.right,o.velocityX*=i),h.y<n.y&&this.collideTop?(o.y+=n.y-h.y,o.velocityY*=i):h.y>n.bottom&&this.collideBottom&&(o.y-=h.y-n.bottom,o.velocityY*=i)}});e.exports=s},31600:(e,y,t)=>{var a=t(83419),g=t(31401),l=t(53774),s=t(43459),o=t(26388),n=t(19909),i=t(76472),h=t(44777),r=t(20696),f=t(95643),c=t(95540),d=t(26546),p=t(24502),m=t(1985),C=t(97022),S=t(86091),E=t(73162),D=t(20074),M=t(56480),w=t(68875),A=t(87841),R=t(59996),P=t(72905),O=t(90668),b=t(19186),F=t(61340),L=t(26099),G=t(15994),z=t(69601),X=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],B=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],U=new a({Extends:f,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,O],initialize:function(N,V,H,W,Y){f.call(this,N,"ParticleEmitter"),this.particleClass=M,this.ops={accelerationX:new h("accelerationX",0),accelerationY:new h("accelerationY",0),alpha:new h("alpha",1),angle:new h("angle",{min:0,max:360},!0),bounce:new h("bounce",0),color:new i("color"),delay:new h("delay",0,!0),hold:new h("hold",0,!0),lifespan:new h("lifespan",1e3,!0),maxVelocityX:new h("maxVelocityX",1e4),maxVelocityY:new h("maxVelocityY",1e4),moveToX:new h("moveToX",0),moveToY:new h("moveToY",0),quantity:new h("quantity",1,!0),rotate:new h("rotate",0),scaleX:new h("scaleX",1),scaleY:new h("scaleY",1),speedX:new h("speedX",0,!0),speedY:new h("speedY",0,!0),tint:new h("tint",16777215),x:new h("x",0),y:new h("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new L,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new F,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new E(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(V,H),this.setTexture(W),Y&&this.setConfig(Y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(I){if(!I)return this;var N=0,V="",H=this.ops;for(N=0;N<B.length;N++)V=B[N],H[V].loadConfig(I);for(N=0;N<X.length;N++)V=X[N],C(I,V)&&(this[V]=c(I,V));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,C(I,"speed")&&(H.speedX.loadConfig(I,"speed"),H.speedY.active=!1),(m(I,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),C(I,"scale")&&(H.scaleX.loadConfig(I,"scale"),H.scaleY.active=!1),C(I,"callbackScope")){var W=c(I,"callbackScope",null);this.emitCallbackScope=W,this.deathCallbackScope=W}if(C(I,"emitZone")&&this.addEmitZone(I.emitZone),C(I,"deathZone")&&this.addDeathZone(I.deathZone),C(I,"bounds")){var Y=this.addParticleBounds(I.bounds);Y.collideLeft=c(I,"collideLeft",!0),Y.collideRight=c(I,"collideRight",!0),Y.collideTop=c(I,"collideTop",!0),Y.collideBottom=c(I,"collideBottom",!0)}return C(I,"followOffset")&&this.followOffset.setFromObject(c(I,"followOffset",0)),C(I,"texture")&&this.setTexture(I.texture),C(I,"frame")?this.setEmitterFrame(I.frame):C(I,"anim")&&this.setAnim(I.anim),C(I,"reserve")&&this.reserve(I.reserve),C(I,"advance")&&this.fastForward(I.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(r.START,this),this},toJSON:function(){var I=l(this),N=0,V="";for(N=0;N<X.length;N++)V=X[N],I[V]=this[V];var H=this.ops;for(N=0;N<B.length;N++)V=B[N],H[V]&&(I[V]=H[V].toJSON());return H.speedY.active||(delete I.speedX,I.speed=H.speedX.toJSON()),this.scaleX===this.scaleY&&(delete I.scaleX,delete I.scaleY,I.scale=H.scaleX.toJSON()),I},resetCounters:function(I,N){var V=this.counters;V.fill(0),V[0]=I,N&&(V[5]=1)},startFollow:function(I,N,V,H){return N===void 0&&(N=0),V===void 0&&(V=0),H===void 0&&(H=!1),this.follow=I,this.followOffset.set(N,V),this.trackVisible=H,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var I=this.frames,N=I.length,V;return N===1?V=I[0]:this.randomFrame?V=d(I):(V=I[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===N&&(this.currentFrame=0))),this.texture.get(V)},setEmitterFrame:function(I,N,V){N===void 0&&(N=!0),V===void 0&&(V=1),this.randomFrame=N,this.frameQuantity=V,this.currentFrame=0;var H=typeof I;if(this.frames.length=0,Array.isArray(I))this.frames=this.frames.concat(I);else if(H==="string"||H==="number")this.frames.push(I);else if(H==="object"){var W=I;I=c(W,"frames",null),I&&(this.frames=this.frames.concat(I));var Y=c(W,"cycle",!1);this.randomFrame=!Y,this.frameQuantity=c(W,"quantity",V)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var I=this.anims,N=I.length;if(N===0)return null;if(N===1)return I[0];if(this.randomAnim)return d(I);var V=I[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=G(this.currentAnim+1,0,N)),V},setAnim:function(I,N,V){N===void 0&&(N=!0),V===void 0&&(V=1),this.randomAnim=N,this.animQuantity=V,this.currentAnim=0;var H=typeof I;if(this.anims.length=0,Array.isArray(I))this.anims=this.anims.concat(I);else if(H==="string")this.anims.push(I);else if(H==="object"){var W=I;I=c(W,"anims",null),I&&(this.anims=this.anims.concat(I));var Y=c(W,"cycle",!1);this.randomAnim=!Y,this.animQuantity=c(W,"quantity",V)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(I){return I===void 0&&(I=!0),this.radial=I,this},addParticleBounds:function(I,N,V,H,W,Y,j,k){if(typeof I=="object"){var $=I;I=$.x,N=$.y,V=C($,"w")?$.w:$.width,H=C($,"h")?$.h:$.height}return this.addParticleProcessor(new z(I,N,V,H,W,Y,j,k))},setParticleSpeed:function(I,N){return N===void 0&&(N=I),this.ops.speedX.onChange(I),I===N?this.ops.speedY.active=!1:this.ops.speedY.onChange(N),this.radial=!0,this},setParticleScale:function(I,N){return I===void 0&&(I=1),N===void 0&&(N=I),this.ops.scaleX.onChange(I),this.ops.scaleY.onChange(N),this},setParticleGravity:function(I,N){return this.gravityX=I,this.gravityY=N,this},setParticleAlpha:function(I){return this.ops.alpha.onChange(I),this},setParticleTint:function(I){return this.ops.tint.onChange(I),this},setEmitterAngle:function(I){return this.ops.angle.onChange(I),this},setParticleLifespan:function(I){return this.ops.lifespan.onChange(I),this},setQuantity:function(I){return this.quantity=I,this},setFrequency:function(I,N){return this.frequency=I,this.flowCounter=I>0?I:0,N&&(this.quantity=N),this},addDeathZone:function(I){Array.isArray(I)||(I=[I]);for(var N,V=[],H=0;H<I.length;H++)if(N=I[H],N instanceof o)V.push(N);else if(typeof N.contains=="function")N=new o(N,!0),V.push(N);else{var W=c(N,"type","onEnter"),Y=c(N,"source",null);if(Y&&typeof Y.contains=="function"){var j=W==="onEnter";N=new o(Y,j),V.push(N)}}return this.deathZones=this.deathZones.concat(V),V},removeDeathZone:function(I){return P(this.deathZones,I),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(I){Array.isArray(I)||(I=[I]);for(var N,V=[],H=0;H<I.length;H++)if(N=I[H],N instanceof w||N instanceof n)V.push(N);else{var W=c(N,"source",null);if(W){var Y=c(N,"type","random");if(Y==="random"&&typeof W.getRandomPoint=="function")N=new w(W),V.push(N);else if(Y==="edge"&&typeof W.getPoints=="function"){var j=c(N,"quantity",1),k=c(N,"stepRate",0),$=c(N,"yoyo",!1),Z=c(N,"seamless",!0),K=c(N,"total",-1);N=new n(W,j,k,$,Z,K),V.push(N)}}}return this.emitZones=this.emitZones.concat(V),V},removeEmitZone:function(I){return P(this.emitZones,I),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(I){var N=this.emitZones,V=N.length;if(V!==0){var H=N[this.zoneIndex];H.getPoint(I),H.total>-1&&(this.zoneTotal++,this.zoneTotal===H.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===V&&(this.zoneIndex=0)))}},getDeathZone:function(I){for(var N=this.deathZones,V=0;V<N.length;V++){var H=N[V];if(H.willKill(I))return this.emit(r.DEATH_ZONE,this,I,H),!0}return!1},setEmitZone:function(I){var N;return isFinite(I)?N=I:N=this.emitZones.indexOf(I),N>=0&&(this.zoneIndex=N),this},addParticleProcessor:function(I){return this.processors.exists(I)||(I.emitter&&I.emitter.removeParticleProcessor(I),this.processors.add(I),I.emitter=this),I},removeParticleProcessor:function(I){return this.processors.exists(I)&&(this.processors.remove(I,!0),I.emitter=null),I},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(I){return this.addParticleProcessor(new p(I))},reserve:function(I){var N=this.dead;if(this.maxParticles>0){var V=this.getParticleCount();V+I>this.maxParticles&&(I=this.maxParticles-(V+I))}for(var H=0;H<I;H++)N.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(I,N){return I===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof I=="function"&&(this.emitCallback=I,N&&(this.emitCallbackScope=N)),this},onParticleDeath:function(I,N){return I===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof I=="function"&&(this.deathCallback=I,N&&(this.deathCallbackScope=N)),this},killAll:function(){for(var I=this.dead,N=this.alive;N.length>0;)I.push(N.pop());return this},forEachAlive:function(I,N){for(var V=this.alive,H=V.length,W=0;W<H;W++)I.call(N,V[W],this);return this},forEachDead:function(I,N){for(var V=this.dead,H=V.length,W=0;W<H;W++)I.call(N,V[W],this);return this},start:function(I,N){return I===void 0&&(I=0),this.emitting||(I>0&&this.fastForward(I),this.emitting=!0,this.resetCounters(this.frequency,!0),N!==void 0&&(this.duration=Math.abs(N)),this.emit(r.START,this)),this},stop:function(I){return I===void 0&&(I=!1),this.emitting&&(this.emitting=!1,I&&this.killAll(),this.emit(r.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(I,N){return I===void 0&&(I=""),N===void 0&&(N=this.true),this.sortProperty=I,this.sortOrderAsc=N,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(I){return this.sortProperty!==""?I=this.depthSortCallback:I=null,this.sortCallback=I,this},depthSort:function(){return b(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(I,N){var V=this.sortProperty;return this.sortOrderAsc?I[V]-N[V]:N[V]-I[V]},flow:function(I,N,V){return N===void 0&&(N=1),this.emitting=!1,this.frequency=I,this.quantity=N,V!==void 0&&(this.stopAfter=V),this.start()},explode:function(I,N,V){this.frequency=-1,this.resetCounters(-1,!0);var H=this.emitParticle(I,N,V);return this.emit(r.EXPLODE,this,H),H},emitParticleAt:function(I,N,V){return this.emitParticle(V,I,N)},emitParticle:function(I,N,V){if(!this.atLimit()){I===void 0&&(I=this.ops.quantity.onEmit());for(var H=this.dead,W=this.stopAfter,Y=this.follow?this.follow.x+this.followOffset.x:N,j=this.follow?this.follow.y+this.followOffset.y:V,k=0;k<I;k++){var $=H.pop();if($||($=new this.particleClass(this)),$.fire(Y,j)?(this.particleBringToTop?this.alive.push($):this.alive.unshift($),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,$,this)):this.dead.push($),W>0&&(this.stopCounter++,this.stopCounter>=W)||this.atLimit())break}return $}},fastForward:function(I,N){N===void 0&&(N=1e3/60);var V=0;for(this.skipping=!0;V<Math.abs(I);)this.preUpdate(0,N),V+=N;return this.skipping=!1,this},preUpdate:function(I,N){N*=this.timeScale;var V=N/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var H=this.getProcessors(),W=this.alive,Y=this.dead,j=0,k=[],$=W.length;for(j=0;j<$;j++){var Z=W[j];Z.update(N,V,H)&&k.push({index:j,particle:Z})}if($=k.length,$>0){var K=this.deathCallback,J=this.deathCallbackScope;for(j=$-1;j>=0;j--){var Q=k[j];W.splice(Q.index,1),Y.push(Q.particle),K&&K.call(J,Q.particle),Q.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&W.length===0&&(this.completeFlag=0,this.emit(r.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=N;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=N,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(I){for(var N=this.getWorldTransformMatrix(),V=this.alive,H=V.length,W=[],Y=0;Y<H;Y++){var j=V[Y];R(I,j.getBounds(N))&&W.push(j)}return W},getBounds:function(I,N,V,H){I===void 0&&(I=0),N===void 0&&(N=0),V===void 0&&(V=1e3/60),H===void 0&&(H=new A);var W=this.getWorldTransformMatrix(),Y,j,k=this.alive,$=!1;if(H.setTo(0,0,0,0),N>0){var Z=0;for(this.skipping=!0;Z<Math.abs(N);){for(this.preUpdate(0,V),Y=0;Y<k.length;Y++)j=k[Y].getBounds(W),$?D(H,j):($=!0,s(j,H));Z+=V}this.skipping=!1}else for(Y=0;Y<k.length;Y++)j=k[Y].getBounds(W),$?D(H,j):($=!0,s(j,H));return I>0&&S(H,I,I),H},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(I){this.ops.x.onChange(I)}},particleY:{get:function(){return this.ops.y.current},set:function(I){this.ops.y.onChange(I)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(I){this.ops.accelerationX.onChange(I)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(I){this.ops.accelerationY.onChange(I)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(I){this.ops.maxVelocityX.onChange(I)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(I){this.ops.maxVelocityY.onChange(I)}},speed:{get:function(){return this.ops.speedX.current},set:function(I){this.ops.speedX.onChange(I),this.ops.speedY.onChange(I)}},speedX:{get:function(){return this.ops.speedX.current},set:function(I){this.ops.speedX.onChange(I)}},speedY:{get:function(){return this.ops.speedY.current},set:function(I){this.ops.speedY.onChange(I)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(I){this.ops.moveToX.onChange(I)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(I){this.ops.moveToY.onChange(I)}},bounce:{get:function(){return this.ops.bounce.current},set:function(I){this.ops.bounce.onChange(I)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(I){this.ops.scaleX.onChange(I)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(I){this.ops.scaleY.onChange(I)}},particleColor:{get:function(){return this.ops.color.current},set:function(I){this.ops.color.onChange(I)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(I){this.ops.color.setEase(I)}},particleTint:{get:function(){return this.ops.tint.current},set:function(I){this.ops.tint.onChange(I)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(I){this.ops.alpha.onChange(I)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(I){this.ops.lifespan.onChange(I)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(I){this.ops.angle.onChange(I)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(I){this.ops.rotate.onChange(I)}},quantity:{get:function(){return this.ops.quantity.current},set:function(I){this.ops.quantity.onChange(I)}},delay:{get:function(){return this.ops.delay.current},set:function(I){this.ops.delay.onChange(I)}},hold:{get:function(){return this.ops.hold.current},set:function(I){this.ops.hold.onChange(I)}},flowCounter:{get:function(){return this.counters[0]},set:function(I){this.counters[0]=I}},frameCounter:{get:function(){return this.counters[1]},set:function(I){this.counters[1]=I}},animCounter:{get:function(){return this.counters[2]},set:function(I){this.counters[2]=I}},elapsed:{get:function(){return this.counters[3]},set:function(I){this.counters[3]=I}},stopCounter:{get:function(){return this.counters[4]},set:function(I){this.counters[4]=I}},completeFlag:{get:function(){return this.counters[5]},set:function(I){this.counters[5]=I}},zoneIndex:{get:function(){return this.counters[6]},set:function(I){this.counters[6]=I}},zoneTotal:{get:function(){return this.counters[7]},set:function(I){this.counters[7]=I}},currentFrame:{get:function(){return this.counters[8]},set:function(I){this.counters[8]=I}},currentAnim:{get:function(){return this.counters[9]},set:function(I){this.counters[9]=I}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var I,N=this.ops;for(I=0;I<B.length;I++){var V=B[I];N[V].destroy()}for(I=0;I<this.alive.length;I++)this.alive[I].destroy();for(I=0;I<this.dead.length;I++)this.dead[I].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});e.exports=U},9871:(e,y,t)=>{var a=t(59996),g=t(61340),l=new g,s=new g,o=new g,n=new g,i=function(h,r,f,c){var d=l,p=s,m=o,C=n;c?(C.loadIdentity(),C.multiply(c),C.translate(r.x,r.y),C.rotate(r.rotation),C.scale(r.scaleX,r.scaleY)):C.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY);var S=h.currentContext,E=f.roundPixels,D=f.alpha,M=r.alpha,w=r.alive,A=w.length,R=r.viewBounds;if(!(!r.visible||A===0||R&&!a(R,f.worldView))){r.sortCallback&&r.depthSort(),f.addToRenderList(r);var P=r.scrollFactorX,O=r.scrollFactorY;S.save(),S.globalCompositeOperation=h.blendModes[r.blendMode];for(var b=0;b<A;b++){var F=w[b],L=F.alpha*M*D;if(!(L<=0||F.scaleX===0||F.scaleY===0)){m.applyITRS(F.x,F.y,F.rotation,F.scaleX,F.scaleY),d.copyFrom(f.matrix),d.multiplyWithOffset(C,-f.scrollX*P,-f.scrollY*O),m.e=F.x,m.f=F.y,d.multiply(m,p);var G=F.frame,z=G.canvasData;if(z.width>0&&z.height>0){var X=-G.halfWidth,B=-G.halfHeight;S.globalAlpha=L,S.save(),p.setToContext(S),E&&(X=Math.round(X),B=Math.round(B)),S.imageSmoothingEnabled=!G.source.scaleMode,S.drawImage(G.source.image,z.x,z.y,z.width,z.height,X,B,z.width,z.height),S.restore()}}}S.restore()}};e.exports=i},92730:(e,y,t)=>{var a=t(25305),g=t(44603),l=t(23568),s=t(95540),o=t(31600);g.register("particles",function(n,i){n===void 0&&(n={});var h=l(n,"key",null),r=s(n,"config",null),f=new o(this.scene,0,0,h);return i!==void 0&&(n.add=i),a(this.scene,f,n),r&&f.setConfig(r),f})},676:(e,y,t)=>{var a=t(39429),g=t(31600);a.register("particles",function(l,s,o,n){return l!==void 0&&typeof l=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new g(this.scene,l,s,o,n))})},90668:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(21188),l=t(9871),e.exports={renderWebGL:g,renderCanvas:l}},21188:(e,y,t)=>{var a=t(59996),g=t(61340),l=t(70554),s=new g,o=new g,n=new g,i=new g,h=function(r,f,c,d){var p=r.pipelines.set(f.pipeline),m=s,C=o,S=n,E=i;d?(E.loadIdentity(),E.multiply(d),E.translate(f.x,f.y),E.rotate(f.rotation),E.scale(f.scaleX,f.scaleY)):E.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var D=l.getTintAppendFloatAlpha,M=c.alpha,w=f.alpha;r.pipelines.preBatch(f);var A=f.alive,R=A.length,P=f.viewBounds;if(!(R===0||P&&!a(P,c.worldView))){f.sortCallback&&f.depthSort(),c.addToRenderList(f),m.copyFrom(c.matrix),m.multiplyWithOffset(E,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),r.setBlendMode(f.blendMode),f.mask&&(f.mask.preRenderWebGL(r,f,c),r.pipelines.set(f.pipeline));for(var O=f.tintFill,b,F,L=0;L<R;L++){var G=A[L],z=G.alpha*w*M;if(!(z<=0||G.scaleX===0||G.scaleY===0)){S.applyITRS(G.x,G.y,G.rotation,G.scaleX,G.scaleY),S.e=G.x,S.f=G.y,m.multiply(S,C);var X=G.frame;X.glTexture!==F&&(F=X.glTexture,b=p.setGameObject(f,X));var B=-X.halfWidth,U=-X.halfHeight,I=C.setQuad(B,U,B+X.width,U+X.height),N=D(G.tint,z);p.shouldFlush(6)&&(p.flush(),b=p.setGameObject(f,X)),p.batchQuad(f,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],X.u0,X.v0,X.u1,X.v1,N,N,N,N,O,F,b)}}f.mask&&f.mask.postRenderWebGL(r,c),r.pipelines.postBatch(f)}};e.exports=h},20286:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o,n){s===void 0&&(s=0),o===void 0&&(o=0),n===void 0&&(n=!0),this.emitter,this.x=s,this.y=o,this.active=n},update:function(){},destroy:function(){this.emitter=null}});e.exports=g},9774:e=>{e.exports="complete"},812:e=>{e.exports="deathzone"},30522:e=>{e.exports="explode"},96695:e=>{e.exports="start"},18677:e=>{e.exports="stop"},20696:(e,y,t)=>{e.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(e,y,t)=>{e.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o){this.source=s,this.killOnEnter=o},willKill:function(l){var s=l.worldPosition,o=this.source.contains(s.x,s.y);return o&&this.killOnEnter||!o&&!this.killOnEnter}});e.exports=g},19909:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o,n,i,h,r){i===void 0&&(i=!1),h===void 0&&(h=!0),r===void 0&&(r=-1),this.source=s,this.points=[],this.quantity=o,this.stepRate=n,this.yoyo=i,this.counter=-1,this.seamless=h,this._length=0,this._direction=0,this.total=r,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var l=this.points[0],s=this.points[this.points.length-1];l.x===s.x&&l.y===s.y&&this.points.pop()}var o=this._length;return this._length=this.points.length,this._length<o&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(l){return this.source=l,this.updateSource()},getPoint:function(l){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var s=this.points[this.counter];s&&(l.x=s.x,l.y=s.y)}});e.exports=g},68875:(e,y,t)=>{var a=t(83419),g=t(26099),l=new a({initialize:function(o){this.source=o,this._tempVec=new g,this.total=-1},getPoint:function(s){var o=this._tempVec;this.source.getRandomPoint(o),s.x=o.x,s.y=o.y}});e.exports=l},21024:(e,y,t)=>{e.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(e,y,t)=>{var a=t(83419),g=t(31401),l=t(68287),s=new a({Extends:l,Mixins:[g.PathFollower],initialize:function(n,i,h,r,f,c){l.call(this,n,h,r,f,c),this.path=i},preUpdate:function(o,n){this.anims.update(o,n),this.pathUpdate(o)}});e.exports=s},90145:(e,y,t)=>{var a=t(39429),g=t(1159);a.register("follower",function(l,s,o,n,i){var h=new g(this.scene,l,s,o,n,i);return this.displayList.add(h),this.updateList.add(h),h})},33663:(e,y,t)=>{var a=t(9674),g=t(83419),l=t(48803),s=t(90664),o=t(4703),n=t(45650),i=new g({Extends:o,initialize:function(r,f,c,d,p,m,C,S){d||(d="__DEFAULT"),o.call(this,r,f,c,d,p),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(m,C,S),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(h,r,f){h===void 0&&(h=8),r===void 0&&(r=8),f===void 0&&(f=!1);var c=!1;return f&&(c=!0),this.gridWidth=h,this.gridHeight=r,this.isTiled=f,this.clear(),l({mesh:this,widthSegments:h,heightSegments:r,isOrtho:!1,tile:f,flipY:c}),this},setSizeToFrame:function(h){h===void 0&&(h=!0);var r=this.frame;if(this.setPerspective(this.width/r.width,this.height/r.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!h)return this;var f=this.gridWidth,c=this.gridHeight,d=this.vertices,p=r.u0,m=r.u1,C=r.v0,S=r.v1,E,D,M=0;if(this.isTiled)for(C=r.v1,S=r.v0,D=0;D<c;D++)for(E=0;E<f;E++)d[M++].setUVs(p,S),d[M++].setUVs(p,C),d[M++].setUVs(m,S),d[M++].setUVs(p,C),d[M++].setUVs(m,C),d[M++].setUVs(m,S);else{var w=f+1,A=c+1,R=m-p,P=S-C,O=[];for(D=0;D<A;D++)for(E=0;E<w;E++){var b=p+R*(E/f),F=C+P*(D/c);O.push(b,F)}for(D=0;D<c;D++)for(E=0;E<f;E++){var L=(E+w*D)*2,G=(E+w*(D+1))*2,z=(E+1+w*(D+1))*2,X=(E+1+w*D)*2;d[M++].setUVs(O[L],O[L+1]),d[M++].setUVs(O[G],O[G+1]),d[M++].setUVs(O[X],O[X+1]),d[M++].setUVs(O[G],O[G+1]),d[M++].setUVs(O[z],O[z+1]),d[M++].setUVs(O[X],O[X+1])}}return this},setViewHeight:function(h){h===void 0&&(h=this.frame.height);var r=this.fov*(Math.PI/180);this.viewPosition.z=this.height/h/Math.tan(r/2),this.dirtyCache[10]=1},createCheckerboard:function(h,r,f,c,d){h===void 0&&(h=16777215),r===void 0&&(r=255),f===void 0&&(f=255),c===void 0&&(c=255),d===void 0&&(d=128);for(var p=s(h),m=s(r),C=[],S=0;S<16;S++)for(var E=0;E<16;E++)S<8&&E<8||S>7&&E>7?C.push(p.r,p.g,p.b,f):C.push(m.r,m.g,m.b,c);var D=this.scene.sys.textures.addUint8Array(n(),new Uint8Array(C),16,16);return this.removeCheckerboard(),this.setTexture(D),this.setSizeToFrame(),this.setViewHeight(d),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(h,r){return this.anims.play(h,r)},playReverse:function(h,r){return this.anims.playReverse(h,r)},playAfterDelay:function(h,r){return this.anims.playAfterDelay(h,r)},playAfterRepeat:function(h,r){return this.anims.playAfterRepeat(h,r)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},stopOnFrame:function(h){return this.anims.stopOnFrame(h)},preUpdate:function(h,r){o.prototype.preUpdate.call(this,h,r),this.anims.update(h,r)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});e.exports=i},56015:(e,y,t)=>{var a=t(25305),g=t(13059),l=t(44603),s=t(23568),o=t(35154),n=t(33663);l.register("plane",function(i,h){i===void 0&&(i={});var r=s(i,"key",null),f=s(i,"frame",null),c=o(i,"width",8),d=o(i,"height",8),p=o(i,"tile",!1),m=new n(this.scene,0,0,r,f,c,d,p);h!==void 0&&(i.add=h);var C=o(i,"checkerboard",null);if(C){var S=o(C,"color1",16777215),E=o(C,"color2",255),D=o(C,"alpha1",255),M=o(C,"alpha2",255),w=o(C,"height",128);m.createCheckerboard(S,E,D,M,w)}return a(this.scene,m,i),g(m,i),m})},30985:(e,y,t)=>{var a=t(33663),g=t(39429);g.register("plane",function(l,s,o,n,i,h,r){return this.displayList.add(new a(this.scene,l,s,o,n,i,h,r))})},80321:(e,y,t)=>{var a=t(83419),g=t(31401),l=t(95643),s=t(30100),o=t(36060),n=t(67277),i=new a({Extends:l,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible,n],initialize:function(r,f,c,d,p,m,C){d===void 0&&(d=16777215),p===void 0&&(p=128),m===void 0&&(m=1),C===void 0&&(C=.1),l.call(this,r,"PointLight"),this.initPipeline(o.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(f,c),this.color=s(d),this.intensity=m,this.attenuation=C,this.width=p*2,this.height=p*2,this._radius=p},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this.width=h*2,this.height=h*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});e.exports=i},39829:(e,y,t)=>{var a=t(25305),g=t(44603),l=t(23568),s=t(80321);g.register("pointlight",function(o,n){o===void 0&&(o={});var i=l(o,"color",16777215),h=l(o,"radius",128),r=l(o,"intensity",1),f=l(o,"attenuation",.1),c=new s(this.scene,0,0,i,h,r,f);return n!==void 0&&(o.add=n),a(this.scene,c,o),c})},71255:(e,y,t)=>{var a=t(39429),g=t(80321);a.register("pointlight",function(l,s,o,n,i,h){return this.displayList.add(new g(this.scene,l,s,o,n,i,h))})},67277:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(57787),e.exports={renderWebGL:g,renderCanvas:l}},57787:(e,y,t)=>{var a=t(91296),g=function(l,s,o,n){o.addToRenderList(s);var i=l.pipelines.set(s.pipeline),h=a(s,o,n).calc,r=s.width,f=s.height,c=-s._radius,d=-s._radius,p=c+r,m=d+f,C=h.getX(0,0),S=h.getY(0,0),E=h.getX(c,d),D=h.getY(c,d),M=h.getX(c,m),w=h.getY(c,m),A=h.getX(p,m),R=h.getY(p,m),P=h.getX(p,d),O=h.getY(p,d);l.pipelines.preBatch(s),i.batchPointLight(s,o,E,D,M,w,A,R,P,O,C,S),l.pipelines.postBatch(s)};e.exports=g},591:(e,y,t)=>{var a=t(83419),g=t(81320),l=t(88571),s=new a({Extends:l,initialize:function(n,i,h,r,f){i===void 0&&(i=0),h===void 0&&(h=0),r===void 0&&(r=32),f===void 0&&(f=32);var c=new g(n.sys.textures,"",r,f);l.call(this,n,i,h,c),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(o,n){this.width=o,this.height=n,this.texture.setSize(o,n),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=o,i.hitArea.height=n),this},resize:function(o,n){return this.setSize(o,n),this},saveTexture:function(o){var n=this.texture;return n.key=o,n.manager.addDynamicTexture(n)&&(this._saved=!0),n},fill:function(o,n,i,h,r,f){return this.texture.fill(o,n,i,h,r,f),this},clear:function(){return this.texture.clear(),this},stamp:function(o,n,i,h,r){return this.texture.stamp(o,n,i,h,r),this},erase:function(o,n,i){return this.texture.erase(o,n,i),this},draw:function(o,n,i,h,r){return this.texture.draw(o,n,i,h,r),this},drawFrame:function(o,n,i,h,r,f){return this.texture.drawFrame(o,n,i,h,r,f),this},repeat:function(o,n,i,h,r,f,c,d,p){return this.texture.repeat(o,n,i,h,r,f,c,d,p),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(o,n,i,h,r){return this.texture.batchDraw(o,n,i,h,r),this},batchDrawFrame:function(o,n,i,h,r,f){return this.texture.batchDrawFrame(o,n,i,h,r,f),this},endDraw:function(o){return this.texture.endDraw(o),this},snapshotArea:function(o,n,i,h,r,f,c){return this.texture.snapshotArea(o,n,i,h,r,f,c),this},snapshot:function(o,n,i){return this.snapshotArea(0,0,this.width,this.height,o,n,i)},snapshotPixel:function(o,n,i){return this.snapshotArea(o,n,1,1,i,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});e.exports=s},34495:(e,y,t)=>{var a=t(25305),g=t(44603),l=t(23568),s=t(591);g.register("renderTexture",function(o,n){o===void 0&&(o={});var i=l(o,"x",0),h=l(o,"y",0),r=l(o,"width",32),f=l(o,"height",32),c=new s(this.scene,i,h,r,f);return n!==void 0&&(o.add=n),a(this.scene,c,o),c})},60505:(e,y,t)=>{var a=t(39429),g=t(591);a.register("renderTexture",function(l,s,o,n){return this.displayList.add(new g(this.scene,l,s,o,n))})},77757:(e,y,t)=>{var a=t(9674),g=t(83419),l=t(31401),s=t(95643),o=t(36060),n=t(38745),i=t(26099),h=new g({Extends:s,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Flip,l.Mask,l.Pipeline,l.PostPipeline,l.Size,l.Texture,l.Transform,l.Visible,l.ScrollFactor,n],initialize:function(f,c,d,p,m,C,S,E,D){p===void 0&&(p="__DEFAULT"),C===void 0&&(C=2),S===void 0&&(S=!0),s.call(this,f,"Rope"),this.anims=new a(this),this.points=C,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=p==="__DEFAULT",this.dirty=!1,this.horizontal=S,this._flipX=!1,this._flipY=!1,this._perp=new i,this.debugCallback=null,this.debugGraphic=null,this.setTexture(p,m),this.setPosition(c,d),this.setSizeToFrame(),this.initPipeline(o.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(C)&&this.resizeArrays(C.length),this.setPoints(C,E,D),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,f){var c=this.anims.currentFrame;this.anims.update(r,f),this.anims.currentFrame!==c&&(this.updateUVs(),this.updateVertices())},play:function(r,f,c){return this.anims.play(r,f,c),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(r,f,c){return r===void 0&&(r=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(r,f,c))},setVertical:function(r,f,c){return r===void 0&&(r=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(r,f,c)):this},setTintFill:function(r){return r===void 0&&(r=!1),this.tintFill=r,this},setAlphas:function(r,f){var c=this.points.length;if(c<1)return this;var d=this.alphas;r===void 0?r=[1]:!Array.isArray(r)&&f===void 0&&(r=[r]);var p,m=0;if(f!==void 0)for(p=0;p<c;p++)m=p*2,d[m]=r,d[m+1]=f;else if(r.length===c)for(p=0;p<c;p++)m=p*2,d[m]=r[p],d[m+1]=r[p];else{var C=r[0];for(p=0;p<c;p++)m=p*2,r.length>m&&(C=r[m]),d[m]=C,r.length>m+1&&(C=r[m+1]),d[m+1]=C}return this},setColors:function(r){var f=this.points.length;if(f<1)return this;var c=this.colors;r===void 0?r=[16777215]:Array.isArray(r)||(r=[r]);var d,p=0;if(r.length===f)for(d=0;d<f;d++)p=d*2,c[p]=r[d],c[p+1]=r[d];else{var m=r[0];for(d=0;d<f;d++)p=d*2,r.length>p&&(m=r[p]),c[p]=m,r.length>p+1&&(m=r[p+1]),c[p+1]=m}return this},setPoints:function(r,f,c){if(r===void 0&&(r=2),typeof r=="number"){var d=r;d<2&&(d=2),r=[];var p,m,C;if(this.horizontal)for(C=-this.frame.halfWidth,m=this.frame.width/(d-1),p=0;p<d;p++)r.push({x:C+p*m,y:0});else for(C=-this.frame.halfHeight,m=this.frame.height/(d-1),p=0;p<d;p++)r.push({x:0,y:C+p*m})}var S=r.length,E=this.points.length;return S<1?(console.warn("Rope: Not enough points given"),this):(S===1&&(r.unshift({x:0,y:0}),S++),E!==S&&this.resizeArrays(S),this.dirty=!0,this.points=r,this.updateUVs(),f!=null&&this.setColors(f),c!=null&&this.setAlphas(c),this)},updateUVs:function(){for(var r=this.uv,f=this.points.length,c=this.frame.u0,d=this.frame.v0,p=this.frame.u1,m=this.frame.v1,C=(p-c)/(f-1),S=(m-d)/(f-1),E=0;E<f;E++){var D=E*4,M,w,A,R;this.horizontal?(this._flipX?(M=p-E*C,A=p-E*C):(M=c+E*C,A=c+E*C),this._flipY?(w=m,R=d):(w=d,R=m)):(this._flipX?(M=c,A=p):(M=p,A=c),this._flipY?(w=m-E*S,R=m-E*S):(w=d+E*S,R=d+E*S)),r[D+0]=M,r[D+1]=w,r[D+2]=A,r[D+3]=R}return this},resizeArrays:function(r){var f=this.colors,c=this.alphas;this.vertices=new Float32Array(r*4),this.uv=new Float32Array(r*4),f=new Uint32Array(r*2),c=new Float32Array(r*2);for(var d=0;d<r*2;d++)f[d]=16777215,c[d]=1;return this.colors=f,this.alphas=c,this.dirty=!0,this},updateVertices:function(){var r=this._perp,f=this.points,c=this.vertices,d=f.length;if(this.dirty=!1,!(d<1)){for(var p,m=f[0],C=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,S=0;S<d;S++){var E=f[S],D=S*4;S<d-1?p=f[S+1]:p=E,r.x=p.y-m.y,r.y=-(p.x-m.x);var M=r.length();r.x/=M,r.y/=M,r.x*=C,r.y*=C,c[D]=E.x+r.x,c[D+1]=E.y+r.y,c[D+2]=E.x-r.x,c[D+3]=E.y-r.y,m=E}return this}},setDebug:function(r,f){return this.debugGraphic=r,!r&&!f?this.debugCallback=null:f?this.debugCallback=f:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(r,f,c){var d=r.debugGraphic,p=c[0],m=c[1],C=c[2],S=c[3];d.lineBetween(p,m,C,S);for(var E=4;E<f;E+=4){var D=c[E+0],M=c[E+1],w=c[E+2],A=c[E+3];d.lineBetween(p,m,D,M),d.lineBetween(C,S,w,A),d.lineBetween(C,S,D,M),d.lineBetween(D,M,w,A),p=D,m=M,C=w,S=A}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(r){return this._flipX=r,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(r){return this._flipY=r,this.updateUVs()}}});e.exports=h},95262:e=>{var y=function(){};e.exports=y},26209:(e,y,t)=>{var a=t(25305),g=t(44603),l=t(23568),s=t(35154),o=t(77757);g.register("rope",function(n,i){n===void 0&&(n={});var h=l(n,"key",null),r=l(n,"frame",null),f=l(n,"horizontal",!0),c=s(n,"points",void 0),d=s(n,"colors",void 0),p=s(n,"alphas",void 0),m=new o(this.scene,0,0,h,r,c,f,d,p);return i!==void 0&&(n.add=i),a(this.scene,m,n),m})},96819:(e,y,t)=>{var a=t(77757),g=t(39429);g.register("rope",function(l,s,o,n,i,h,r,f){return this.displayList.add(new a(this.scene,l,s,o,n,i,h,r,f))})},38745:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(20439),l=t(95262),e.exports={renderWebGL:g,renderCanvas:l}},20439:(e,y,t)=>{var a=t(91296),g=t(70554),l=function(s,o,n,i){n.addToRenderList(o);var h=s.pipelines.set(o.pipeline,o),r=a(o,n,i).calc,f=o.vertices,c=o.uv,d=o.colors,p=o.alphas,m=o.alpha,C=g.getTintAppendFloatAlpha,S=n.roundPixels,E=f.length,D=Math.floor(E*.5);h.flush(),s.pipelines.preBatch(o);var M=h.setGameObject(o),w=h.vertexViewF32,A=h.vertexViewU32,R=h.vertexCount*h.currentShader.vertexComponentCount-1,P=0,O=o.tintFill;o.dirty&&o.updateVertices();for(var b=o.debugCallback,F=[],L=0;L<E;L+=2){var G=f[L+0],z=f[L+1],X=G*r.a+z*r.c+r.e,B=G*r.b+z*r.d+r.f;S&&(X=Math.round(X),B=Math.round(B)),w[++R]=X,w[++R]=B,w[++R]=c[L+0],w[++R]=c[L+1],w[++R]=M,w[++R]=O,A[++R]=C(d[P],n.alpha*(p[P]*m)),P++,b&&(F[L+0]=X,F[L+1]=B)}b&&b.call(o,o,E,F),h.vertexCount+=D,h.currentBatch.count=h.vertexCount-h.currentBatch.start,s.pipelines.postBatch(o)};e.exports=l},20071:(e,y,t)=>{var a=t(83419),g=t(31401),l=t(95643),s=t(95540),o=t(79291),n=t(61622),i=t(25479),h=t(61340),r=t(95428),f=t(92503),c=new a({Extends:l,Mixins:[g.ComputedSize,g.Depth,g.GetBounds,g.Mask,g.Origin,g.ScrollFactor,g.Transform,g.Visible,i],initialize:function(p,m,C,S,E,D,M,w){C===void 0&&(C=0),S===void 0&&(S=0),E===void 0&&(E=128),D===void 0&&(D=128),l.call(this,p,"Shader"),this.blendMode=-1,this.shader;var A=p.sys.renderer;this.renderer=A,this.gl=A.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=A.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=A.width,this._rendererHeight=A.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(C,S),this.setSize(E,D),this.setOrigin(.5,.5),this.setShader(m,M,w),this.renderer.on(f.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(d){return this.renderToTexture?!0:!(l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setRenderToTexture:function(d,p){if(p===void 0&&(p=!1),!this.renderToTexture){var m=this.width,C=this.height,S=this.renderer;this.glTexture=S.createTextureFromSource(null,m,C,0),this.framebuffer=S.createFramebuffer(m,C,this.glTexture,!1),this._rendererWidth=m,this._rendererHeight=C,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),d&&(this.texture=this.scene.sys.textures.addGLTexture(d,this.glTexture))}return this.shader&&(S.pipelines.clear(),this.load(),this.flush(),S.pipelines.rebind()),this},setShader:function(d,p,m){if(this.renderer.contextLost)return this._deferSetShader={key:d,textures:p,textureData:m},this;if(p===void 0&&(p=[]),typeof d=="string"){var C=this.scene.sys.cache.shader;if(!C.has(d))return console.warn("Shader missing: "+d),this;this.shader=C.get(d)}else this.shader=d;var S=this.gl,E=this.renderer;this.program&&E.deleteProgram(this.program);var D=E.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);S.uniformMatrix4fv(S.getUniformLocation(D.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),S.uniformMatrix4fv(S.getUniformLocation(D.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),S.uniform2f(S.getUniformLocation(D.webGLProgram,"uResolution"),this.width,this.height),this.program=D;var M=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[M.getFullYear(),M.getMonth(),M.getDate(),M.getHours()*60*60+M.getMinutes()*60+M.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=o(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var A=0;A<4;A++)p[A]&&this.setSampler2D("iChannel"+A,p[A],A,m);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(d){return this.pointer=d,this},projOrtho:function(d,p,m,C){if(this.renderer.contextLost){this._deferProjOrtho={left:d,right:p,bottom:m,top:C};return}var S=-1e3,E=1e3,D=1/(d-p),M=1/(m-C),w=1/(S-E),A=this.projectionMatrix;A[0]=-2*D,A[5]=-2*M,A[10]=2*w,A[12]=(d+p)*D,A[13]=(C+m)*M,A[14]=(E+S)*w;var R=this.program,P=this.gl,O=this.renderer;O.setProgram(R),P.uniformMatrix4fv(P.getUniformLocation(R.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=p,this._rendererHeight=m},initUniforms:function(){var d=this.renderer.glFuncMap,p=this.program;this._textureCount=0;for(var m in this.uniforms){var C=this.uniforms[m],S=C.type,E=d[S];C.uniformLocation=this.renderer.createUniformLocation(p,m),S!=="sampler2D"&&(C.glMatrix=E.matrix,C.glValueLength=E.length,C.glFunc=E.func)}},setSampler2DBuffer:function(d,p,m,C,S,E){S===void 0&&(S=0),E===void 0&&(E={});var D=this.uniforms[d];return D.value=p,E.width=m,E.height=C,D.textureData=E,this._textureCount=S,this.initSampler2D(D),this},setSampler2D:function(d,p,m,C){m===void 0&&(m=0);var S=this.scene.sys.textures;if(S.exists(p)){var E=S.getFrame(p);if(E.glTexture&&E.glTexture.isRenderTexture)return this.setSampler2DBuffer(d,E.glTexture,E.width,E.height,m,C);var D=this.uniforms[d],M=E.source;D.textureKey=p,D.source=M.image,D.value=E.glTexture,M.isGLTexture&&(C||(C={}),C.width=M.width,C.height=M.height),C&&(D.textureData=C),this._textureCount=m,this.initSampler2D(D)}return this},setUniform:function(d,p){return n(this.uniforms,d,p),this},getUniform:function(d){return s(this.uniforms,d,null)},setChannel0:function(d,p){return this.setSampler2D("iChannel0",d,0,p)},setChannel1:function(d,p){return this.setSampler2D("iChannel1",d,1,p)},setChannel2:function(d,p){return this.setSampler2D("iChannel2",d,2,p)},setChannel3:function(d,p){return this.setSampler2D("iChannel3",d,3,p)},initSampler2D:function(d){if(d.value){var p=d.textureData;if(p&&!d.value.isRenderTexture){var m=this.gl,C=d.value,S=m[s(p,"magFilter","linear").toUpperCase()],E=m[s(p,"minFilter","linear").toUpperCase()],D=m[s(p,"wrapS","repeat").toUpperCase()],M=m[s(p,"wrapT","repeat").toUpperCase()],w=m[s(p,"format","rgba").toUpperCase()],A=s(p,"flipY",!1),R=s(p,"width",C.width),P=s(p,"height",C.height),O=s(p,"source",C.pixels);p.repeat&&(D=m.REPEAT,M=m.REPEAT),p.width&&(O=null),C.update(O,R,P,A,D,M,E,S,w)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var d=this.gl,p=this.uniforms,m,C,S,E,D,M=0;for(var w in p)m=p[w],S=m.glFunc,C=m.glValueLength,E=m.uniformLocation,D=m.value,D!==null&&(C===1?m.glMatrix?S.call(d,E.webGLUniformLocation,m.transpose,D):S.call(d,E.webGLUniformLocation,D):C===2?S.call(d,E.webGLUniformLocation,D.x,D.y):C===3?S.call(d,E.webGLUniformLocation,D.x,D.y,D.z):C===4?S.call(d,E.webGLUniformLocation,D.x,D.y,D.z,D.w):m.type==="sampler2D"&&(d.activeTexture(d.TEXTURE0+M),d.bindTexture(d.TEXTURE_2D,D.webGLTexture),d.uniform1i(E.webGLUniformLocation,M),M++))},load:function(d){var p=this.gl,m=this.width,C=this.height,S=this.renderer,E=this.program,D=this.viewMatrix;if(!this.renderToTexture){var M=-this._displayOriginX,w=-this._displayOriginY;D[0]=d[0],D[1]=d[1],D[4]=d[2],D[5]=d[3],D[8]=d[4],D[9]=d[5],D[12]=D[0]*M+D[4]*w,D[13]=D[1]*M+D[5]*w}p.useProgram(E.webGLProgram),p.uniformMatrix4fv(p.getUniformLocation(E.webGLProgram,"uViewMatrix"),!1,D),p.uniformMatrix4fv(p.getUniformLocation(E.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),p.uniform2f(p.getUniformLocation(E.webGLProgram,"uResolution"),this.width,this.height);var A=this.uniforms,R=A.resolution;R.value.x=m,R.value.y=C,A.time.value=S.game.loop.getDuration();var P=this.pointer;if(P){var O=A.mouse,b=P.x/m,F=1-P.y/C;O.value.x=b.toFixed(2),O.value.y=F.toFixed(2)}this.syncUniforms()},flush:function(){var d=this.width,p=this.height,m=this.program,C=this.gl,S=this.vertexBuffer,E=this.renderer,D=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(E.setFramebuffer(this.framebuffer),C.clearColor(0,0,0,0),C.clear(C.COLOR_BUFFER_BIT)),C.bindBuffer(C.ARRAY_BUFFER,S.webGLBuffer);var M=C.getAttribLocation(m.webGLProgram,"inPosition");M!==-1&&(C.enableVertexAttribArray(M),C.vertexAttribPointer(M,2,C.FLOAT,!1,D,0));var w=this.vertexViewF32;w[3]=p,w[4]=d,w[5]=p,w[8]=d,w[9]=p,w[10]=d;var A=6;C.bufferSubData(C.ARRAY_BUFFER,0,this.bytes.subarray(0,A*D)),C.drawArrays(C.TRIANGLES,0,A),this.renderToTexture&&E.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var d=this._deferSetShader.key,p=this._deferSetShader.textures,m=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(d,p,m)}if(this._deferProjOrtho!==null){var C=this._deferProjOrtho.left,S=this._deferProjOrtho.right,E=this._deferProjOrtho.bottom,D=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(C,S,E,D)}},preDestroy:function(){var d=this.renderer;d.off(f.RESTORE_WEBGL,this.onContextRestored,this),d.deleteProgram(this.program),d.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(d.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),r(this.uniforms,function(p){d.deleteUniformLocation(p.uniformLocation),p.uniformLocation=null})}});e.exports=c},80464:e=>{var y=function(){};e.exports=y},54935:(e,y,t)=>{var a=t(25305),g=t(44603),l=t(23568),s=t(20071);g.register("shader",function(o,n){o===void 0&&(o={});var i=l(o,"key",null),h=l(o,"x",0),r=l(o,"y",0),f=l(o,"width",128),c=l(o,"height",128),d=new s(this.scene,i,h,r,f,c);return n!==void 0&&(o.add=n),a(this.scene,d,o),d})},74177:(e,y,t)=>{var a=t(20071),g=t(39429);g.register("shader",function(l,s,o,n,i,h,r){return this.displayList.add(new a(this.scene,l,s,o,n,i,h,r))})},25479:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(19257),l=t(80464),e.exports={renderWebGL:g,renderCanvas:l}},19257:(e,y,t)=>{var a=t(91296),g=function(l,s,o,n){if(s.shader){if(o.addToRenderList(s),l.pipelines.clear(),s.renderToTexture)s.load(),s.flush();else{var i=a(s,o,n).calc;(l.width!==s._rendererWidth||l.height!==s._rendererHeight)&&s.projOrtho(0,l.width,l.height,0),s.load(i.matrix),s.flush()}l.pipelines.rebind()}};e.exports=g},10441:(e,y,t)=>{var a=t(70554),g=function(l,s,o,n,i,h){for(var r=a.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*n),f=o.pathData,c=o.pathIndexes,d=0;d<c.length;d+=3){var p=c[d]*2,m=c[d+1]*2,C=c[d+2]*2,S=f[p+0]-i,E=f[p+1]-h,D=f[m+0]-i,M=f[m+1]-h,w=f[C+0]-i,A=f[C+1]-h,R=s.getX(S,E),P=s.getY(S,E),O=s.getX(D,M),b=s.getY(D,M),F=s.getX(w,A),L=s.getY(w,A);l.batchTri(o,R,P,O,b,F,L,0,0,1,1,r,r,r,2)}};e.exports=g},65960:e=>{var y=function(t,a,g,l){var s=g||a.fillColor,o=l||a.fillAlpha,n=(s&16711680)>>>16,i=(s&65280)>>>8,h=s&255;t.fillStyle="rgba("+n+","+i+","+h+","+o+")"};e.exports=y},75177:e=>{var y=function(t,a,g,l){var s=g||a.strokeColor,o=l||a.strokeAlpha,n=(s&16711680)>>>16,i=(s&65280)>>>8,h=s&255;t.strokeStyle="rgba("+n+","+i+","+h+","+o+")",t.lineWidth=a.lineWidth};e.exports=y},17803:(e,y,t)=>{var a=t(83419),g=t(31401),l=t(95643),s=t(23031),o=new a({Extends:l,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible],initialize:function(i,h,r){h===void 0&&(h="Shape"),l.call(this,i,h),this.geom=r,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new s,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(n,i){return i===void 0&&(i=1),n===void 0?this.isFilled=!1:(this.fillColor=n,this.fillAlpha=i,this.isFilled=!0),this},setStrokeStyle:function(n,i,h){return h===void 0&&(h=1),n===void 0?this.isStroked=!1:(this.lineWidth=n,this.strokeColor=i,this.strokeAlpha=h,this.isStroked=!0),this},setClosePath:function(n){return this.closePath=n,this},setSize:function(n,i){return this.width=n,this.height=i,this},setDisplaySize:function(n,i){return this.displayWidth=n,this.displayHeight=i,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}}});e.exports=o},34682:(e,y,t)=>{var a=t(70554),g=function(l,s,o,n,i){var h=l.strokeTint,r=a.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*o);h.TL=r,h.TR=r,h.BL=r,h.BR=r;var f=s.pathData,c=f.length-1,d=s.lineWidth,p=d/2,m=f[0]-n,C=f[1]-i;s.closePath||(c-=2);for(var S=2;S<c;S+=2){var E=f[S]-n,D=f[S+1]-i;l.batchLine(m,C,E,D,p,p,d,S-2,s.closePath?S===c-1:!1),m=E,C=D}};e.exports=g},23629:(e,y,t)=>{var a=t(13609),g=t(83419),l=t(39506),s=t(94811),o=t(96503),n=t(36383),i=t(17803),h=new g({Extends:i,Mixins:[a],initialize:function(f,c,d,p,m,C,S,E,D){c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=128),m===void 0&&(m=0),C===void 0&&(C=360),S===void 0&&(S=!1),i.call(this,f,"Arc",new o(0,0,p)),this._startAngle=m,this._endAngle=C,this._anticlockwise=S,this._iterations=.01,this.setPosition(c,d);var M=this.geom.radius*2;this.setSize(M,M),E!==void 0&&this.setFillStyle(E,D),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(r){this._iterations=r,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(r){this.geom.radius=r;var f=r*2;this.setSize(f,f),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(r){this._startAngle=r,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(r){this._endAngle=r,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(r){this._anticlockwise=r,this.updateData()}},setRadius:function(r){return this.radius=r,this},setIterations:function(r){return r===void 0&&(r=.01),this.iterations=r,this},setStartAngle:function(r,f){return this._startAngle=r,f!==void 0&&(this._anticlockwise=f),this.updateData()},setEndAngle:function(r,f){return this._endAngle=r,f!==void 0&&(this._anticlockwise=f),this.updateData()},updateData:function(){var r=this._iterations,f=r,c=this.geom.radius,d=l(this._startAngle),p=l(this._endAngle),m=this._anticlockwise,C=c,S=c;p-=d,m?p<-n.PI2?p=-n.PI2:p>0&&(p=-n.PI2+p%n.PI2):p>n.PI2?p=n.PI2:p<0&&(p=n.PI2+p%n.PI2);for(var E=[C+Math.cos(d)*c,S+Math.sin(d)*c],D;f<1;)D=p*f+d,E.push(C+Math.cos(D)*c,S+Math.sin(D)*c),f+=r;return D=p+d,E.push(C+Math.cos(D)*c,S+Math.sin(D)*c),E.push(C+Math.cos(d)*c,S+Math.sin(d)*c),this.pathIndexes=s(E),this.pathData=E,this}});e.exports=h},42542:(e,y,t)=>{var a=t(39506),g=t(65960),l=t(75177),s=t(20926),o=function(n,i,h,r){h.addToRenderList(i);var f=n.currentContext;if(s(n,f,i,h,r)){var c=i.radius;f.beginPath(),f.arc(c-i.originX*(c*2),c-i.originY*(c*2),c,a(i._startAngle),a(i._endAngle),i.anticlockwise),i.closePath&&f.closePath(),i.isFilled&&(g(f,i),f.fill()),i.isStroked&&(l(f,i),f.stroke()),f.restore()}};e.exports=o},42563:(e,y,t)=>{var a=t(23629),g=t(39429);g.register("arc",function(l,s,o,n,i,h,r,f){return this.displayList.add(new a(this.scene,l,s,o,n,i,h,r,f))}),g.register("circle",function(l,s,o,n,i){return this.displayList.add(new a(this.scene,l,s,o,0,360,!1,n,i))})},13609:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(41447),l=t(42542),e.exports={renderWebGL:g,renderCanvas:l}},41447:(e,y,t)=>{var a=t(91296),g=t(10441),l=t(34682),s=function(o,n,i,h){i.addToRenderList(n);var r=o.pipelines.set(n.pipeline),f=a(n,i,h),c=r.calcMatrix.copyFrom(f.calc),d=n._displayOriginX,p=n._displayOriginY,m=i.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&g(r,c,n,m,d,p),n.isStroked&&l(r,n,m,d,p),o.pipelines.postBatch(n)};e.exports=s},89:(e,y,t)=>{var a=t(83419),g=t(33141),l=t(94811),s=t(87841),o=t(17803),n=new a({Extends:o,Mixins:[g],initialize:function(h,r,f,c,d,p){r===void 0&&(r=0),f===void 0&&(f=0),o.call(this,h,"Curve",c),this._smoothness=32,this._curveBounds=new s,this.closePath=!1,this.setPosition(r,f),d!==void 0&&this.setFillStyle(d,p),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(i){this._smoothness=i,this.updateData()}},setSmoothness:function(i){return this._smoothness=i,this.updateData()},updateData:function(){var i=this._curveBounds,h=this._smoothness;this.geom.getBounds(i,h),this.setSize(i.width,i.height),this.updateDisplayOrigin();for(var r=[],f=this.geom.getPoints(h),c=0;c<f.length;c++)r.push(f[c].x,f[c].y);return r.push(f[0].x,f[0].y),this.pathIndexes=l(r),this.pathData=r,this}});e.exports=n},3170:(e,y,t)=>{var a=t(65960),g=t(75177),l=t(20926),s=function(o,n,i,h){i.addToRenderList(n);var r=o.currentContext;if(l(o,r,n,i,h)){var f=n._displayOriginX+n._curveBounds.x,c=n._displayOriginY+n._curveBounds.y,d=n.pathData,p=d.length-1,m=d[0]-f,C=d[1]-c;r.beginPath(),r.moveTo(m,C),n.closePath||(p-=2);for(var S=2;S<p;S+=2){var E=d[S]-f,D=d[S+1]-c;r.lineTo(E,D)}n.closePath&&r.closePath(),n.isFilled&&(a(r,n),r.fill()),n.isStroked&&(g(r,n),r.stroke()),r.restore()}};e.exports=s},40511:(e,y,t)=>{var a=t(39429),g=t(89);a.register("curve",function(l,s,o,n,i){return this.displayList.add(new g(this.scene,l,s,o,n,i))})},33141:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(53987),l=t(3170),e.exports={renderWebGL:g,renderCanvas:l}},53987:(e,y,t)=>{var a=t(10441),g=t(91296),l=t(34682),s=function(o,n,i,h){i.addToRenderList(n);var r=o.pipelines.set(n.pipeline),f=g(n,i,h),c=r.calcMatrix.copyFrom(f.calc),d=n._displayOriginX+n._curveBounds.x,p=n._displayOriginY+n._curveBounds.y,m=i.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&a(r,c,n,m,d,p),n.isStroked&&l(r,n,m,d,p),o.pipelines.postBatch(n)};e.exports=s},19921:(e,y,t)=>{var a=t(83419),g=t(94811),l=t(54205),s=t(8497),o=t(17803),n=new a({Extends:o,Mixins:[l],initialize:function(h,r,f,c,d,p,m){r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c=128),d===void 0&&(d=128),o.call(this,h,"Ellipse",new s(c/2,d/2,c,d)),this._smoothness=64,this.setPosition(r,f),this.width=c,this.height=d,p!==void 0&&this.setFillStyle(p,m),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(i){this._smoothness=i,this.updateData()}},setSize:function(i,h){return this.width=i,this.height=h,this.geom.setPosition(i/2,h/2),this.geom.setSize(i,h),this.updateData()},setSmoothness:function(i){return this._smoothness=i,this.updateData()},updateData:function(){for(var i=[],h=this.geom.getPoints(this._smoothness),r=0;r<h.length;r++)i.push(h[r].x,h[r].y);return i.push(h[0].x,h[0].y),this.pathIndexes=g(i),this.pathData=i,this}});e.exports=n},7930:(e,y,t)=>{var a=t(65960),g=t(75177),l=t(20926),s=function(o,n,i,h){i.addToRenderList(n);var r=o.currentContext;if(l(o,r,n,i,h)){var f=n._displayOriginX,c=n._displayOriginY,d=n.pathData,p=d.length-1,m=d[0]-f,C=d[1]-c;r.beginPath(),r.moveTo(m,C),n.closePath||(p-=2);for(var S=2;S<p;S+=2){var E=d[S]-f,D=d[S+1]-c;r.lineTo(E,D)}r.closePath(),n.isFilled&&(a(r,n),r.fill()),n.isStroked&&(g(r,n),r.stroke()),r.restore()}};e.exports=s},1543:(e,y,t)=>{var a=t(19921),g=t(39429);g.register("ellipse",function(l,s,o,n,i,h){return this.displayList.add(new a(this.scene,l,s,o,n,i,h))})},54205:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(19467),l=t(7930),e.exports={renderWebGL:g,renderCanvas:l}},19467:(e,y,t)=>{var a=t(10441),g=t(91296),l=t(34682),s=function(o,n,i,h){i.addToRenderList(n);var r=o.pipelines.set(n.pipeline),f=g(n,i,h),c=r.calcMatrix.copyFrom(f.calc),d=n._displayOriginX,p=n._displayOriginY,m=i.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&a(r,c,n,m,d,p),n.isStroked&&l(r,n,m,d,p),o.pipelines.postBatch(n)};e.exports=s},30479:(e,y,t)=>{var a=t(83419),g=t(17803),l=t(26015),s=new a({Extends:g,Mixins:[l],initialize:function(n,i,h,r,f,c,d,p,m,C,S){i===void 0&&(i=0),h===void 0&&(h=0),r===void 0&&(r=128),f===void 0&&(f=128),c===void 0&&(c=32),d===void 0&&(d=32),g.call(this,n,"Grid",null),this.cellWidth=c,this.cellHeight=d,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(i,h),this.setSize(r,f),this.setFillStyle(p,m),C!==void 0&&this.setOutlineStyle(C,S),this.updateDisplayOrigin()},setFillStyle:function(o,n){return n===void 0&&(n=1),o===void 0?this.showCells=!1:(this.fillColor=o,this.fillAlpha=n,this.showCells=!0),this},setAltFillStyle:function(o,n){return n===void 0&&(n=1),o===void 0?this.showAltCells=!1:(this.altFillColor=o,this.altFillAlpha=n,this.showAltCells=!0),this},setOutlineStyle:function(o,n){return n===void 0&&(n=1),o===void 0?this.showOutline=!1:(this.outlineFillColor=o,this.outlineFillAlpha=n,this.showOutline=!0),this}});e.exports=s},49912:(e,y,t)=>{var a=t(65960),g=t(75177),l=t(20926),s=function(o,n,i,h){i.addToRenderList(n);var r=o.currentContext;if(l(o,r,n,i,h)){var f=-n._displayOriginX,c=-n._displayOriginY,d=i.alpha*n.alpha,p=n.width,m=n.height,C=n.cellWidth,S=n.cellHeight,E=Math.ceil(p/C),D=Math.ceil(m/S),M=C,w=S,A=C-(E*C-p),R=S-(D*S-m),P=n.showCells,O=n.showAltCells,b=n.showOutline,F=0,L=0,G=0,z=0,X=0;if(b&&(M--,w--,A===C&&A--,R===S&&R--),P&&n.fillAlpha>0)for(a(r,n),L=0;L<D;L++)for(O&&(G=L%2),F=0;F<E;F++){if(O&&G){G=0;continue}G++,z=F<E-1?M:A,X=L<D-1?w:R,r.fillRect(f+F*C,c+L*S,z,X)}if(O&&n.altFillAlpha>0)for(a(r,n,n.altFillColor,n.altFillAlpha*d),L=0;L<D;L++)for(O&&(G=L%2),F=0;F<E;F++){if(O&&!G){G=1;continue}G=0,z=F<E-1?M:A,X=L<D-1?w:R,r.fillRect(f+F*C,c+L*S,z,X)}if(b&&n.outlineFillAlpha>0){for(g(r,n,n.outlineFillColor,n.outlineFillAlpha*d),F=1;F<E;F++){var B=F*C;r.beginPath(),r.moveTo(B+f,c),r.lineTo(B+f,m+c),r.stroke()}for(L=1;L<D;L++){var U=L*S;r.beginPath(),r.moveTo(f,U+c),r.lineTo(f+p,U+c),r.stroke()}}r.restore()}};e.exports=s},34137:(e,y,t)=>{var a=t(39429),g=t(30479);a.register("grid",function(l,s,o,n,i,h,r,f,c,d){return this.displayList.add(new g(this.scene,l,s,o,n,i,h,r,f,c,d))})},26015:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(46161),l=t(49912),e.exports={renderWebGL:g,renderCanvas:l}},46161:(e,y,t)=>{var a=t(91296),g=t(70554),l=function(s,o,n,i){n.addToRenderList(o);var h=s.pipelines.set(o.pipeline),r=a(o,n,i),f=h.calcMatrix.copyFrom(r.calc);f.translate(-o._displayOriginX,-o._displayOriginY);var c=n.alpha*o.alpha,d=o.width,p=o.height,m=o.cellWidth,C=o.cellHeight,S=Math.ceil(d/m),E=Math.ceil(p/C),D=m,M=C,w=m-(S*m-d),A=C-(E*C-p),R,P,O=o.showCells,b=o.showAltCells,F=o.showOutline,L=0,G=0,z=0,X=0,B=0;if(F&&(D--,M--,w===m&&w--,A===C&&A--),s.pipelines.preBatch(o),O&&o.fillAlpha>0)for(R=h.fillTint,P=g.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*c),R.TL=P,R.TR=P,R.BL=P,R.BR=P,G=0;G<E;G++)for(b&&(z=G%2),L=0;L<S;L++){if(b&&z){z=0;continue}z++,X=L<S-1?D:w,B=G<E-1?M:A,h.batchFillRect(L*m,G*C,X,B)}if(b&&o.altFillAlpha>0)for(R=h.fillTint,P=g.getTintAppendFloatAlpha(o.altFillColor,o.altFillAlpha*c),R.TL=P,R.TR=P,R.BL=P,R.BR=P,G=0;G<E;G++)for(b&&(z=G%2),L=0;L<S;L++){if(b&&!z){z=1;continue}z=0,X=L<S-1?D:w,B=G<E-1?M:A,h.batchFillRect(L*m,G*C,X,B)}if(F&&o.outlineFillAlpha>0){var U=h.strokeTint,I=g.getTintAppendFloatAlpha(o.outlineFillColor,o.outlineFillAlpha*c);for(U.TL=I,U.TR=I,U.BL=I,U.BR=I,L=1;L<S;L++){var N=L*m;h.batchLine(N,0,N,p,1,1,1,0,!1)}for(G=1;G<E;G++){var V=G*C;h.batchLine(0,V,d,V,1,1,1,0,!1)}}s.pipelines.postBatch(o)};e.exports=l},61475:(e,y,t)=>{var a=t(99651),g=t(83419),l=t(17803),s=new g({Extends:l,Mixins:[a],initialize:function(n,i,h,r,f,c,d,p){i===void 0&&(i=0),h===void 0&&(h=0),r===void 0&&(r=48),f===void 0&&(f=32),c===void 0&&(c=15658734),d===void 0&&(d=10066329),p===void 0&&(p=13421772),l.call(this,n,"IsoBox",null),this.projection=4,this.fillTop=c,this.fillLeft=d,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(i,h),this.setSize(r,f),this.updateDisplayOrigin()},setProjection:function(o){return this.projection=o,this},setFaces:function(o,n,i){return o===void 0&&(o=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),this.showTop=o,this.showLeft=n,this.showRight=i,this},setFillStyle:function(o,n,i){return this.fillTop=o,this.fillLeft=n,this.fillRight=i,this.isFilled=!0,this}});e.exports=s},11508:(e,y,t)=>{var a=t(65960),g=t(20926),l=function(s,o,n,i){n.addToRenderList(o);var h=s.currentContext;if(g(s,h,o,n,i)&&o.isFilled){var r=o.width,f=o.height,c=r/2,d=r/o.projection;o.showTop&&(a(h,o,o.fillTop),h.beginPath(),h.moveTo(-c,-f),h.lineTo(0,-d-f),h.lineTo(c,-f),h.lineTo(c,-1),h.lineTo(0,d-1),h.lineTo(-c,-1),h.lineTo(-c,-f),h.fill()),o.showLeft&&(a(h,o,o.fillLeft),h.beginPath(),h.moveTo(-c,0),h.lineTo(0,d),h.lineTo(0,d-f),h.lineTo(-c,-f),h.lineTo(-c,0),h.fill()),o.showRight&&(a(h,o,o.fillRight),h.beginPath(),h.moveTo(c,0),h.lineTo(0,d),h.lineTo(0,d-f),h.lineTo(c,-f),h.lineTo(c,0),h.fill()),h.restore()}};e.exports=l},3933:(e,y,t)=>{var a=t(39429),g=t(61475);a.register("isobox",function(l,s,o,n,i,h,r){return this.displayList.add(new g(this.scene,l,s,o,n,i,h,r))})},99651:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(68149),l=t(11508),e.exports={renderWebGL:g,renderCanvas:l}},68149:(e,y,t)=>{var a=t(91296),g=t(70554),l=function(s,o,n,i){n.addToRenderList(o);var h=s.pipelines.set(o.pipeline),r=a(o,n,i),f=h.calcMatrix.copyFrom(r.calc),c=o.width,d=o.height,p=c/2,m=c/o.projection,C=n.alpha*o.alpha;if(o.isFilled){var S,E,D,M,w,A,R,P,O;s.pipelines.preBatch(o),o.showTop&&(S=g.getTintAppendFloatAlpha(o.fillTop,C),E=f.getX(-p,-d),D=f.getY(-p,-d),M=f.getX(0,-m-d),w=f.getY(0,-m-d),A=f.getX(p,-d),R=f.getY(p,-d),P=f.getX(0,m-d),O=f.getY(0,m-d),h.batchQuad(o,E,D,M,w,A,R,P,O,0,0,1,1,S,S,S,S,2)),o.showLeft&&(S=g.getTintAppendFloatAlpha(o.fillLeft,C),E=f.getX(-p,0),D=f.getY(-p,0),M=f.getX(0,m),w=f.getY(0,m),A=f.getX(0,m-d),R=f.getY(0,m-d),P=f.getX(-p,-d),O=f.getY(-p,-d),h.batchQuad(o,E,D,M,w,A,R,P,O,0,0,1,1,S,S,S,S,2)),o.showRight&&(S=g.getTintAppendFloatAlpha(o.fillRight,C),E=f.getX(p,0),D=f.getY(p,0),M=f.getX(0,m),w=f.getY(0,m),A=f.getX(0,m-d),R=f.getY(0,m-d),P=f.getX(p,-d),O=f.getY(p,-d),h.batchQuad(o,E,D,M,w,A,R,P,O,0,0,1,1,S,S,S,S,2)),s.pipelines.postBatch(o)}};e.exports=l},16933:(e,y,t)=>{var a=t(83419),g=t(60561),l=t(17803),s=new a({Extends:l,Mixins:[g],initialize:function(n,i,h,r,f,c,d,p,m){i===void 0&&(i=0),h===void 0&&(h=0),r===void 0&&(r=48),f===void 0&&(f=32),c===void 0&&(c=!1),d===void 0&&(d=15658734),p===void 0&&(p=10066329),m===void 0&&(m=13421772),l.call(this,n,"IsoTriangle",null),this.projection=4,this.fillTop=d,this.fillLeft=p,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=c,this.isFilled=!0,this.setPosition(i,h),this.setSize(r,f),this.updateDisplayOrigin()},setProjection:function(o){return this.projection=o,this},setReversed:function(o){return this.isReversed=o,this},setFaces:function(o,n,i){return o===void 0&&(o=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),this.showTop=o,this.showLeft=n,this.showRight=i,this},setFillStyle:function(o,n,i){return this.fillTop=o,this.fillLeft=n,this.fillRight=i,this.isFilled=!0,this}});e.exports=s},79590:(e,y,t)=>{var a=t(65960),g=t(20926),l=function(s,o,n,i){n.addToRenderList(o);var h=s.currentContext;if(g(s,h,o,n,i)&&o.isFilled){var r=o.width,f=o.height,c=r/2,d=r/o.projection,p=o.isReversed;o.showTop&&p&&(a(h,o,o.fillTop),h.beginPath(),h.moveTo(-c,-f),h.lineTo(0,-d-f),h.lineTo(c,-f),h.lineTo(0,d-f),h.fill()),o.showLeft&&(a(h,o,o.fillLeft),h.beginPath(),p?(h.moveTo(-c,-f),h.lineTo(0,d),h.lineTo(0,d-f)):(h.moveTo(-c,0),h.lineTo(0,d),h.lineTo(0,d-f)),h.fill()),o.showRight&&(a(h,o,o.fillRight),h.beginPath(),p?(h.moveTo(c,-f),h.lineTo(0,d),h.lineTo(0,d-f)):(h.moveTo(c,0),h.lineTo(0,d),h.lineTo(0,d-f)),h.fill()),h.restore()}};e.exports=l},49803:(e,y,t)=>{var a=t(39429),g=t(16933);a.register("isotriangle",function(l,s,o,n,i,h,r,f){return this.displayList.add(new g(this.scene,l,s,o,n,i,h,r,f))})},60561:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(51503),l=t(79590),e.exports={renderWebGL:g,renderCanvas:l}},51503:(e,y,t)=>{var a=t(91296),g=t(70554),l=function(s,o,n,i){n.addToRenderList(o);var h=s.pipelines.set(o.pipeline),r=a(o,n,i),f=h.calcMatrix.copyFrom(r.calc),c=o.width,d=o.height,p=c/2,m=c/o.projection,C=o.isReversed,S=n.alpha*o.alpha;if(o.isFilled){s.pipelines.preBatch(o);var E,D,M,w,A,R,P;if(o.showTop&&C){E=g.getTintAppendFloatAlpha(o.fillTop,S),D=f.getX(-p,-d),M=f.getY(-p,-d),w=f.getX(0,-m-d),A=f.getY(0,-m-d),R=f.getX(p,-d),P=f.getY(p,-d);var O=f.getX(0,m-d),b=f.getY(0,m-d);h.batchQuad(o,D,M,w,A,R,P,O,b,0,0,1,1,E,E,E,E,2)}o.showLeft&&(E=g.getTintAppendFloatAlpha(o.fillLeft,S),C?(D=f.getX(-p,-d),M=f.getY(-p,-d),w=f.getX(0,m),A=f.getY(0,m),R=f.getX(0,m-d),P=f.getY(0,m-d)):(D=f.getX(-p,0),M=f.getY(-p,0),w=f.getX(0,m),A=f.getY(0,m),R=f.getX(0,m-d),P=f.getY(0,m-d)),h.batchTri(o,D,M,w,A,R,P,0,0,1,1,E,E,E,2)),o.showRight&&(E=g.getTintAppendFloatAlpha(o.fillRight,S),C?(D=f.getX(p,-d),M=f.getY(p,-d),w=f.getX(0,m),A=f.getY(0,m),R=f.getX(0,m-d),P=f.getY(0,m-d)):(D=f.getX(p,0),M=f.getY(p,0),w=f.getX(0,m),A=f.getY(0,m),R=f.getX(0,m-d),P=f.getY(0,m-d)),h.batchTri(o,D,M,w,A,R,P,0,0,1,1,E,E,E,2)),s.pipelines.postBatch(o)}};e.exports=l},57847:(e,y,t)=>{var a=t(83419),g=t(17803),l=t(23031),s=t(36823),o=new a({Extends:g,Mixins:[s],initialize:function(i,h,r,f,c,d,p,m,C){h===void 0&&(h=0),r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=128),p===void 0&&(p=0),g.call(this,i,"Line",new l(f,c,d,p));var S=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(h,r),this.setSize(S,E),m!==void 0&&this.setStrokeStyle(1,m,C),this.updateDisplayOrigin()},setLineWidth:function(n,i){return i===void 0&&(i=n),this._startWidth=n,this._endWidth=i,this.lineWidth=n,this},setTo:function(n,i,h,r){return this.geom.setTo(n,i,h,r),this}});e.exports=o},17440:(e,y,t)=>{var a=t(75177),g=t(20926),l=function(s,o,n,i){n.addToRenderList(o);var h=s.currentContext;if(g(s,h,o,n,i)){var r=o._displayOriginX,f=o._displayOriginY;o.isStroked&&(a(h,o),h.beginPath(),h.moveTo(o.geom.x1-r,o.geom.y1-f),h.lineTo(o.geom.x2-r,o.geom.y2-f),h.stroke()),h.restore()}};e.exports=l},2481:(e,y,t)=>{var a=t(39429),g=t(57847);a.register("line",function(l,s,o,n,i,h,r,f){return this.displayList.add(new g(this.scene,l,s,o,n,i,h,r,f))})},36823:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(77385),l=t(17440),e.exports={renderWebGL:g,renderCanvas:l}},77385:(e,y,t)=>{var a=t(91296),g=t(70554),l=function(s,o,n,i){n.addToRenderList(o);var h=s.pipelines.set(o.pipeline),r=a(o,n,i);h.calcMatrix.copyFrom(r.calc);var f=o._displayOriginX,c=o._displayOriginY,d=n.alpha*o.alpha;if(s.pipelines.preBatch(o),o.isStroked){var p=h.strokeTint,m=g.getTintAppendFloatAlpha(o.strokeColor,o.strokeAlpha*d);p.TL=m,p.TR=m,p.BL=m,p.BR=m,h.batchLine(o.geom.x1-f,o.geom.y1-c,o.geom.x2-f,o.geom.y2-c,o._startWidth/2,o._endWidth/2,1,0,!1,r.sprite,r.camera)}s.pipelines.postBatch(o)};e.exports=l},24949:(e,y,t)=>{var a=t(90273),g=t(83419),l=t(94811),s=t(13829),o=t(25717),n=t(17803),i=t(5469),h=new g({Extends:n,Mixins:[a],initialize:function(f,c,d,p,m,C){c===void 0&&(c=0),d===void 0&&(d=0),n.call(this,f,"Polygon",new o(p));var S=s(this.geom);this.setPosition(c,d),this.setSize(S.width,S.height),m!==void 0&&this.setFillStyle(m,C),this.updateDisplayOrigin(),this.updateData()},smooth:function(r){r===void 0&&(r=1);for(var f=0;f<r;f++)i(this.geom);return this.updateData()},setTo:function(r){this.geom.setTo(r);var f=s(this.geom);return this.setSize(f.width,f.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var r=[],f=this.geom.points,c=0;c<f.length;c++)r.push(f[c].x,f[c].y);return r.push(f[0].x,f[0].y),this.pathIndexes=l(r),this.pathData=r,this}});e.exports=h},38710:(e,y,t)=>{var a=t(65960),g=t(75177),l=t(20926),s=function(o,n,i,h){i.addToRenderList(n);var r=o.currentContext;if(l(o,r,n,i,h)){var f=n._displayOriginX,c=n._displayOriginY,d=n.pathData,p=d.length-1,m=d[0]-f,C=d[1]-c;r.beginPath(),r.moveTo(m,C),n.closePath||(p-=2);for(var S=2;S<p;S+=2){var E=d[S]-f,D=d[S+1]-c;r.lineTo(E,D)}n.closePath&&r.closePath(),n.isFilled&&(a(r,n),r.fill()),n.isStroked&&(g(r,n),r.stroke()),r.restore()}};e.exports=s},64827:(e,y,t)=>{var a=t(39429),g=t(24949);a.register("polygon",function(l,s,o,n,i){return this.displayList.add(new g(this.scene,l,s,o,n,i))})},90273:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(73695),l=t(38710),e.exports={renderWebGL:g,renderCanvas:l}},73695:(e,y,t)=>{var a=t(10441),g=t(91296),l=t(34682),s=function(o,n,i,h){i.addToRenderList(n);var r=o.pipelines.set(n.pipeline),f=g(n,i,h),c=r.calcMatrix.copyFrom(f.calc),d=n._displayOriginX,p=n._displayOriginY,m=i.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&a(r,c,n,m,d,p),n.isStroked&&l(r,n,m,d,p),o.pipelines.postBatch(n)};e.exports=s},74561:(e,y,t)=>{var a=t(83419),g=t(87841),l=t(17803),s=t(95597),o=new a({Extends:l,Mixins:[s],initialize:function(i,h,r,f,c,d,p){h===void 0&&(h=0),r===void 0&&(r=0),f===void 0&&(f=128),c===void 0&&(c=128),l.call(this,i,"Rectangle",new g(0,0,f,c)),this.setPosition(h,r),this.setSize(f,c),d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},setSize:function(n,i){this.width=n,this.height=i,this.geom.setSize(n,i),this.updateData(),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=n,h.hitArea.height=i),this},updateData:function(){var n=[],i=this.geom,h=this._tempLine;return i.getLineA(h),n.push(h.x1,h.y1,h.x2,h.y2),i.getLineB(h),n.push(h.x2,h.y2),i.getLineC(h),n.push(h.x2,h.y2),i.getLineD(h),n.push(h.x2,h.y2),this.pathData=n,this}});e.exports=o},48682:(e,y,t)=>{var a=t(65960),g=t(75177),l=t(20926),s=function(o,n,i,h){i.addToRenderList(n);var r=o.currentContext;if(l(o,r,n,i,h)){var f=n._displayOriginX,c=n._displayOriginY;n.isFilled&&(a(r,n),r.fillRect(-f,-c,n.width,n.height)),n.isStroked&&(g(r,n),r.beginPath(),r.rect(-f,-c,n.width,n.height),r.stroke()),r.restore()}};e.exports=s},87959:(e,y,t)=>{var a=t(39429),g=t(74561);a.register("rectangle",function(l,s,o,n,i,h){return this.displayList.add(new g(this.scene,l,s,o,n,i,h))})},95597:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(52059),l=t(48682),e.exports={renderWebGL:g,renderCanvas:l}},52059:(e,y,t)=>{var a=t(91296),g=t(34682),l=t(70554),s=function(o,n,i,h){i.addToRenderList(n);var r=o.pipelines.set(n.pipeline),f=a(n,i,h);r.calcMatrix.copyFrom(f.calc);var c=n._displayOriginX,d=n._displayOriginY,p=i.alpha*n.alpha;if(o.pipelines.preBatch(n),n.isFilled){var m=r.fillTint,C=l.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*p);m.TL=C,m.TR=C,m.BL=C,m.BR=C,r.batchFillRect(-c,-d,n.width,n.height)}n.isStroked&&g(r,n,p,c,d),o.pipelines.postBatch(n)};e.exports=s},55911:(e,y,t)=>{var a=t(81991),g=t(83419),l=t(94811),s=t(17803),o=new g({Extends:s,Mixins:[a],initialize:function(i,h,r,f,c,d,p,m){h===void 0&&(h=0),r===void 0&&(r=0),f===void 0&&(f=5),c===void 0&&(c=32),d===void 0&&(d=64),s.call(this,i,"Star",null),this._points=f,this._innerRadius=c,this._outerRadius=d,this.setPosition(h,r),this.setSize(d*2,d*2),p!==void 0&&this.setFillStyle(p,m),this.updateDisplayOrigin(),this.updateData()},setPoints:function(n){return this._points=n,this.updateData()},setInnerRadius:function(n){return this._innerRadius=n,this.updateData()},setOuterRadius:function(n){return this._outerRadius=n,this.updateData()},points:{get:function(){return this._points},set:function(n){this._points=n,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(n){this._innerRadius=n,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(n){this._outerRadius=n,this.updateData()}},updateData:function(){var n=[],i=this._points,h=this._innerRadius,r=this._outerRadius,f=Math.PI/2*3,c=Math.PI/i,d=r,p=r;n.push(d,p+-r);for(var m=0;m<i;m++)n.push(d+Math.cos(f)*r,p+Math.sin(f)*r),f+=c,n.push(d+Math.cos(f)*h,p+Math.sin(f)*h),f+=c;return n.push(d,p+-r),this.pathIndexes=l(n),this.pathData=n,this}});e.exports=o},64272:(e,y,t)=>{var a=t(65960),g=t(75177),l=t(20926),s=function(o,n,i,h){i.addToRenderList(n);var r=o.currentContext;if(l(o,r,n,i,h)){var f=n._displayOriginX,c=n._displayOriginY,d=n.pathData,p=d.length-1,m=d[0]-f,C=d[1]-c;r.beginPath(),r.moveTo(m,C),n.closePath||(p-=2);for(var S=2;S<p;S+=2){var E=d[S]-f,D=d[S+1]-c;r.lineTo(E,D)}r.closePath(),n.isFilled&&(a(r,n),r.fill()),n.isStroked&&(g(r,n),r.stroke()),r.restore()}};e.exports=s},93697:(e,y,t)=>{var a=t(55911),g=t(39429);g.register("star",function(l,s,o,n,i,h,r){return this.displayList.add(new a(this.scene,l,s,o,n,i,h,r))})},81991:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(57017),l=t(64272),e.exports={renderWebGL:g,renderCanvas:l}},57017:(e,y,t)=>{var a=t(10441),g=t(91296),l=t(34682),s=function(o,n,i,h){i.addToRenderList(n);var r=o.pipelines.set(n.pipeline),f=g(n,i,h),c=r.calcMatrix.copyFrom(f.calc),d=n._displayOriginX,p=n._displayOriginY,m=i.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&a(r,c,n,m,d,p),n.isStroked&&l(r,n,m,d,p),o.pipelines.postBatch(n)};e.exports=s},36931:(e,y,t)=>{var a=t(83419),g=t(17803),l=t(16483),s=t(96195),o=new a({Extends:g,Mixins:[s],initialize:function(i,h,r,f,c,d,p,m,C,S,E){h===void 0&&(h=0),r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c=128),d===void 0&&(d=64),p===void 0&&(p=0),m===void 0&&(m=128),C===void 0&&(C=128),g.call(this,i,"Triangle",new l(f,c,d,p,m,C));var D=this.geom.right-this.geom.left,M=this.geom.bottom-this.geom.top;this.setPosition(h,r),this.setSize(D,M),S!==void 0&&this.setFillStyle(S,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(n,i,h,r,f,c){return this.geom.setTo(n,i,h,r,f,c),this.updateData()},updateData:function(){var n=[],i=this.geom,h=this._tempLine;return i.getLineA(h),n.push(h.x1,h.y1,h.x2,h.y2),i.getLineB(h),n.push(h.x2,h.y2),i.getLineC(h),n.push(h.x2,h.y2),this.pathData=n,this}});e.exports=o},85172:(e,y,t)=>{var a=t(65960),g=t(75177),l=t(20926),s=function(o,n,i,h){i.addToRenderList(n);var r=o.currentContext;if(l(o,r,n,i,h)){var f=n._displayOriginX,c=n._displayOriginY,d=n.geom.x1-f,p=n.geom.y1-c,m=n.geom.x2-f,C=n.geom.y2-c,S=n.geom.x3-f,E=n.geom.y3-c;r.beginPath(),r.moveTo(d,p),r.lineTo(m,C),r.lineTo(S,E),r.closePath(),n.isFilled&&(a(r,n),r.fill()),n.isStroked&&(g(r,n),r.stroke()),r.restore()}};e.exports=s},45245:(e,y,t)=>{var a=t(39429),g=t(36931);a.register("triangle",function(l,s,o,n,i,h,r,f,c,d){return this.displayList.add(new g(this.scene,l,s,o,n,i,h,r,f,c,d))})},96195:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(83253),l=t(85172),e.exports={renderWebGL:g,renderCanvas:l}},83253:(e,y,t)=>{var a=t(91296),g=t(34682),l=t(70554),s=function(o,n,i,h){i.addToRenderList(n);var r=o.pipelines.set(n.pipeline),f=a(n,i,h);r.calcMatrix.copyFrom(f.calc);var c=n._displayOriginX,d=n._displayOriginY,p=i.alpha*n.alpha;if(o.pipelines.preBatch(n),n.isFilled){var m=r.fillTint,C=l.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*p);m.TL=C,m.TR=C,m.BL=C,m.BR=C;var S=n.geom.x1-c,E=n.geom.y1-d,D=n.geom.x2-c,M=n.geom.y2-d,w=n.geom.x3-c,A=n.geom.y3-d;r.batchFillTriangle(S,E,D,M,w,A,f.sprite,f.camera)}n.isStroked&&g(r,n,p,c,d),o.pipelines.postBatch(n)};e.exports=s},68287:(e,y,t)=>{var a=t(9674),g=t(83419),l=t(31401),s=t(95643),o=t(92751),n=new g({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.TextureCrop,l.Tint,l.Transform,l.Visible,o],initialize:function(h,r,f,c,d){s.call(this,h,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(c,d),this.setPosition(r,f),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,h){this.anims.update(i,h)},play:function(i,h){return this.anims.play(i,h)},playReverse:function(i,h){return this.anims.playReverse(i,h)},playAfterDelay:function(i,h){return this.anims.playAfterDelay(i,h)},playAfterRepeat:function(i,h){return this.anims.playAfterRepeat(i,h)},chain:function(i){return this.anims.chain(i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(i){return this.anims.stopAfterDelay(i)},stopAfterRepeat:function(i){return this.anims.stopAfterRepeat(i)},stopOnFrame:function(i){return this.anims.stopOnFrame(i)},toJSON:function(){return l.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});e.exports=n},76552:e=>{var y=function(t,a,g,l){g.addToRenderList(a),t.batchSprite(a,a.frame,g,l)};e.exports=y},15567:(e,y,t)=>{var a=t(25305),g=t(13059),l=t(44603),s=t(23568),o=t(68287);l.register("sprite",function(n,i){n===void 0&&(n={});var h=s(n,"key",null),r=s(n,"frame",null),f=new o(this.scene,0,0,h,r);return i!==void 0&&(n.add=i),a(this.scene,f,n),g(f,n),f})},46409:(e,y,t)=>{var a=t(39429),g=t(68287);a.register("sprite",function(l,s,o,n){return this.displayList.add(new g(this.scene,l,s,o,n))})},92751:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(9409),l=t(76552),e.exports={renderWebGL:g,renderCanvas:l}},9409:e=>{var y=function(t,a,g,l){g.addToRenderList(a),a.pipeline.batchSprite(a,g,l)};e.exports=y},14220:e=>{var y=function(t,a,g){var l=t.canvas,s=t.context,o=t.style,n=[],i=0,h=g.length;o.maxLines>0&&o.maxLines<g.length&&(h=o.maxLines),o.syncFont(l,s);for(var r=0;r<h;r++){var f=o.strokeThickness;f+=s.measureText(g[r]).width,g[r].length>1&&(f+=t.letterSpacing*(g[r].length-1)),o.wordWrap&&(f-=s.measureText(" ").width),n[r]=Math.ceil(f),i=Math.max(i,n[r])}var c=a.fontSize+o.strokeThickness,d=c*h,p=t.lineSpacing;return h>1&&(d+=p*(h-1)),{width:i,height:d,lines:h,lineWidths:n,lineSpacing:p,lineHeight:c}};e.exports=y},79557:(e,y,t)=>{var a=t(27919),g=function(l){var s=a.create(this),o=s.getContext("2d",{willReadFrequently:!0});l.syncFont(s,o);var n=o.measureText(l.testString);if("actualBoundingBoxAscent"in n){var i=n.actualBoundingBoxAscent,h=n.actualBoundingBoxDescent;return a.remove(s),{ascent:i,descent:h,fontSize:i+h}}var r=Math.ceil(n.width*l.baselineX),f=r,c=2*f;f=f*l.baselineY|0,s.width=r,s.height=c,o.fillStyle="#f00",o.fillRect(0,0,r,c),o.font=l._font,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(l.testString,0,f);var d={ascent:0,descent:0,fontSize:0},p=o.getImageData(0,0,r,c);if(!p)return d.ascent=f,d.descent=f+6,d.fontSize=d.ascent+d.descent,a.remove(s),d;var m=p.data,C=m.length,S=r*4,E,D,M=0,w=!1;for(E=0;E<f;E++){for(D=0;D<S;D+=4)if(m[M+D]!==255){w=!0;break}if(!w)M+=S;else break}for(d.ascent=f-E,M=C-S,w=!1,E=c;E>f;E--){for(D=0;D<S;D+=4)if(m[M+D]!==255){w=!0;break}if(!w)M-=S;else break}return d.descent=E-f,d.fontSize=d.ascent+d.descent,a.remove(s),d};e.exports=g},50171:(e,y,t)=>{var a=t(40366),g=t(27919),l=t(83419),s=t(31401),o=t(95643),n=t(14220),i=t(35154),h=t(35846),r=t(61771),f=t(35762),c=t(45650),d=new l({Extends:o,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,r],initialize:function(m,C,S,E,D){C===void 0&&(C=0),S===void 0&&(S=0),o.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(C,S),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=g.create(this),this.context,this.style=new f(this,D),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=c(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(E),D&&D.padding&&this.setPadding(D.padding),D&&D.lineSpacing&&this.setLineSpacing(D.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(p){var m=this.style;if(m.wordWrapCallback){var C=m.wordWrapCallback.call(m.wordWrapCallbackScope,p,this);return Array.isArray(C)&&(C=C.join(`
`)),C}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(p,this.context,this.style.wordWrapWidth):this.basicWordWrap(p,this.context,this.style.wordWrapWidth):p},advancedWordWrap:function(p,m,C){for(var S="",E=p.replace(/ +/gi," ").split(this.splitRegExp),D=E.length,M=0;M<D;M++){var w=E[M],A="";w=w.replace(/^ *|\s*$/gi,"");var R=m.measureText(w).width;if(R<C){S+=w+`
`;continue}for(var P=C,O=w.split(" "),b=0;b<O.length;b++){var F=O[b],L=F+" ",G=m.measureText(L).width;if(G>P){if(b===0){for(var z=L;z.length&&(z=z.slice(0,-1),G=m.measureText(z).width,!(G<=P)););if(!z.length)throw new Error("wordWrapWidth < a single character");var X=F.substr(z.length);O[b]=X,A+=z}var B=O[b].length?b:b+1,U=O.slice(B).join(" ").replace(/[ \n]*$/gi,"");E.splice(M+1,0,U),D=E.length;break}else A+=L,P-=G}S+=A.replace(/[ \n]*$/gi,"")+`
`}return S=S.replace(/[\s|\n]*$/gi,""),S},basicWordWrap:function(p,m,C){for(var S="",E=p.split(this.splitRegExp),D=E.length-1,M=m.measureText(" ").width,w=0;w<=D;w++){for(var A=C,R=E[w].split(" "),P=R.length-1,O=0;O<=P;O++){var b=R[O],F=m.measureText(b).width,L=F;O<P&&(L+=M),L>A&&O>0&&(S+=`
`,A=C),S+=b,O<P?(S+=" ",A-=L):A-=F}w<D&&(S+=`
`)}return S},getWrappedText:function(p){p===void 0&&(p=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(p);return m.split(this.splitRegExp)},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this._text&&(this._text=p.toString(),this.updateText()),this},appendText:function(p,m){m===void 0&&(m=!0),!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p=p.toString();var C=this._text.concat(m?`
`+p:p);return C!==this._text&&(this._text=C,this.updateText()),this},setStyle:function(p){return this.style.setStyle(p)},setFont:function(p){return this.style.setFont(p)},setFontFamily:function(p){return this.style.setFontFamily(p)},setFontSize:function(p){return this.style.setFontSize(p)},setFontStyle:function(p){return this.style.setFontStyle(p)},setFixedSize:function(p,m){return this.style.setFixedSize(p,m)},setBackgroundColor:function(p){return this.style.setBackgroundColor(p)},setFill:function(p){return this.style.setFill(p)},setColor:function(p){return this.style.setColor(p)},setStroke:function(p,m){return this.style.setStroke(p,m)},setShadow:function(p,m,C,S,E,D){return this.style.setShadow(p,m,C,S,E,D)},setShadowOffset:function(p,m){return this.style.setShadowOffset(p,m)},setShadowColor:function(p){return this.style.setShadowColor(p)},setShadowBlur:function(p){return this.style.setShadowBlur(p)},setShadowStroke:function(p){return this.style.setShadowStroke(p)},setShadowFill:function(p){return this.style.setShadowFill(p)},setWordWrapWidth:function(p,m){return this.style.setWordWrapWidth(p,m)},setWordWrapCallback:function(p,m){return this.style.setWordWrapCallback(p,m)},setAlign:function(p){return this.style.setAlign(p)},setResolution:function(p){return this.style.setResolution(p)},setLineSpacing:function(p){return this.lineSpacing=p,this.updateText()},setLetterSpacing:function(p){return this.letterSpacing=p,this.updateText()},setPadding:function(p,m,C,S){if(typeof p=="object"){var E=p,D=i(E,"x",null);D!==null?(p=D,C=D):(p=i(E,"left",0),C=i(E,"right",p));var M=i(E,"y",null);M!==null?(m=M,S=M):(m=i(E,"top",0),S=i(E,"bottom",m))}else p===void 0&&(p=0),m===void 0&&(m=p),C===void 0&&(C=p),S===void 0&&(S=m);return this.padding.left=p,this.padding.top=m,this.padding.right=C,this.padding.bottom=S,this.updateText()},setMaxLines:function(p){return this.style.setMaxLines(p)},setRTL:function(p){p===void 0&&(p=!0);var m=this.style;return m.rtl===p?this:(m.rtl=p,p?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),m.align==="left"?m.align="right":m.align==="right"&&(m.align="left"),this)},updateText:function(){var p=this.canvas,m=this.context,C=this.style,S=C.resolution,E=C.metrics;C.syncFont(p,m);var D=this._text;(C.wordWrapWidth||C.wordWrapCallback)&&(D=this.runWordWrap(this._text));var M=D.split(this.splitRegExp),w=n(this,E,M),A=this.padding,R;C.fixedWidth===0?(this.width=w.width+A.left+A.right,R=w.width):(this.width=C.fixedWidth,R=this.width-A.left-A.right,R<w.width&&(R=w.width)),C.fixedHeight===0?this.height=w.height+A.top+A.bottom:this.height=C.fixedHeight;var P=this.width,O=this.height;this.updateDisplayOrigin(),P*=S,O*=S,P=Math.max(P,1),O=Math.max(O,1),p.width!==P||p.height!==O?(p.width=P,p.height=O,this.frame.setSize(P,O),C.syncFont(p,m),C.rtl&&(m.direction="rtl")):m.clearRect(0,0,P,O),m.save(),m.scale(S,S),C.backgroundColor&&(m.fillStyle=C.backgroundColor,m.fillRect(0,0,P,O)),C.syncStyle(p,m),m.translate(A.left,A.top);for(var b,F,L=0;L<w.lines;L++){if(b=C.strokeThickness/2,F=C.strokeThickness/2+L*w.lineHeight+E.ascent,L>0&&(F+=w.lineSpacing*L),C.rtl)b=P-b-A.left-A.right;else if(C.align==="right")b+=R-w.lineWidths[L];else if(C.align==="center")b+=(R-w.lineWidths[L])/2;else if(C.align==="justify"){var G=.85;if(w.lineWidths[L]/w.width>=G){var z=w.width-w.lineWidths[L],X=m.measureText(" ").width,B=M[L].trim(),U=B.split(" ");z+=(M[L].length-B.length)*X;for(var I=Math.floor(z/X),N=0;I>0;)U[N]+=" ",N=(N+1)%(U.length-1||1),--I;M[L]=U.join(" ")}}if(this.autoRound&&(b=Math.round(b),F=Math.round(F)),C.strokeThickness&&(C.syncShadow(m,C.shadowStroke),m.strokeText(M[L],b,F)),C.color){C.syncShadow(m,C.shadowFill);var V=this.letterSpacing;if(V!==0)for(var H=0,W=M[L].split(""),Y=0;Y<W.length;Y++)m.fillText(W[Y],b+H,F),H+=m.measureText(W[Y]).width+V;else m.fillText(M[L],b,F)}}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(p,this.frame.source.glTexture,!0));var j=this.input;return j&&!j.customHitArea&&(j.hitArea.width=this.width,j.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(p){this.setText(p)}},toJSON:function(){var p=s.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return p.data=m,p},preDestroy:function(){h(this.canvas),g.remove(this.canvas);var p=this.texture;p&&p.destroy()}});e.exports=d},79724:e=>{var y=function(t,a,g,l){a.width===0||a.height===0||(g.addToRenderList(a),t.batchSprite(a,a.frame,g,l))};e.exports=y},71259:(e,y,t)=>{var a=t(25305),g=t(44603),l=t(23568),s=t(50171);g.register("text",function(o,n){o===void 0&&(o={});var i=l(o,"text",""),h=l(o,"style",null),r=l(o,"padding",null);r!==null&&(h.padding=r);var f=new s(this.scene,0,0,i,h);return n!==void 0&&(o.add=n),a(this.scene,f,o),f.autoRound=l(o,"autoRound",!0),f.resolution=l(o,"resolution",1),f})},68005:(e,y,t)=>{var a=t(50171),g=t(39429);g.register("text",function(l,s,o,n){return this.displayList.add(new a(this.scene,l,s,o,n))})},61771:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(34397),l=t(79724),e.exports={renderWebGL:g,renderCanvas:l}},35762:(e,y,t)=>{var a=t(83419),g=t(23568),l=t(35154),s=t(79557),o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},n=new a({initialize:function(h,r){this.parent=h,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(r,!1,!0)},setStyle:function(i,h,r){h===void 0&&(h=!0),r===void 0&&(r=!1),i&&i.hasOwnProperty("fontSize")&&typeof i.fontSize=="number"&&(i.fontSize=i.fontSize.toString()+"px");for(var f in o){var c=r?o[f][1]:this[f];f==="wordWrapCallback"||f==="wordWrapCallbackScope"?this[f]=l(i,o[f][0],c):this[f]=g(i,o[f][0],c)}var d=l(i,"font",null);d!==null&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var p=l(i,"fill",null);p!==null&&(this.color=p);var m=l(i,"metrics",!1);return m?this.metrics={ascent:l(m,"ascent",0),descent:l(m,"descent",0),fontSize:l(m,"fontSize",0)}:(h||!this.metrics)&&(this.metrics=s(this)),h?this.parent.updateText():this.parent},syncFont:function(i,h){h.font=this._font},syncStyle:function(i,h){h.textBaseline="alphabetic",h.fillStyle=this.color,h.strokeStyle=this.stroke,h.lineWidth=this.strokeThickness,h.lineCap="round",h.lineJoin="round"},syncShadow:function(i,h){h?(i.shadowOffsetX=this.shadowOffsetX,i.shadowOffsetY=this.shadowOffsetY,i.shadowColor=this.shadowColor,i.shadowBlur=this.shadowBlur):(i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowColor=0,i.shadowBlur=0)},update:function(i){return i&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=s(this)),this.parent.updateText()},setFont:function(i,h){h===void 0&&(h=!0);var r=i,f="",c="";if(typeof i!="string")r=l(i,"fontFamily","Courier"),f=l(i,"fontSize","16px"),c=l(i,"fontStyle","");else{var d=i.split(" "),p=0;c=d.length>2?d[p++]:"",f=d[p++]||"16px",r=d[p++]||"Courier"}return(r!==this.fontFamily||f!==this.fontSize||c!==this.fontStyle)&&(this.fontFamily=r,this.fontSize=f,this.fontStyle=c,h&&this.update(!0)),this.parent},setFontFamily:function(i){return this.fontFamily!==i&&(this.fontFamily=i,this.update(!0)),this.parent},setFontStyle:function(i){return this.fontStyle!==i&&(this.fontStyle=i,this.update(!0)),this.parent},setFontSize:function(i){return typeof i=="number"&&(i=i.toString()+"px"),this.fontSize!==i&&(this.fontSize=i,this.update(!0)),this.parent},setTestString:function(i){return this.testString=i,this.update(!0)},setFixedSize:function(i,h){return this.fixedWidth=i,this.fixedHeight=h,i&&(this.parent.width=i),h&&(this.parent.height=h),this.update(!1)},setBackgroundColor:function(i){return this.backgroundColor=i,this.update(!1)},setFill:function(i){return this.color=i,this.update(!1)},setColor:function(i){return this.color=i,this.update(!1)},setResolution:function(i){return this.resolution=i,this.update(!1)},setStroke:function(i,h){return h===void 0&&(h=this.strokeThickness),i===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==i||this.strokeThickness!==h)&&(this.stroke=i,this.strokeThickness=h,this.update(!0)),this.parent},setShadow:function(i,h,r,f,c,d){return i===void 0&&(i=0),h===void 0&&(h=0),r===void 0&&(r="#000"),f===void 0&&(f=0),c===void 0&&(c=!1),d===void 0&&(d=!0),this.shadowOffsetX=i,this.shadowOffsetY=h,this.shadowColor=r,this.shadowBlur=f,this.shadowStroke=c,this.shadowFill=d,this.update(!1)},setShadowOffset:function(i,h){return i===void 0&&(i=0),h===void 0&&(h=i),this.shadowOffsetX=i,this.shadowOffsetY=h,this.update(!1)},setShadowColor:function(i){return i===void 0&&(i="#000"),this.shadowColor=i,this.update(!1)},setShadowBlur:function(i){return i===void 0&&(i=0),this.shadowBlur=i,this.update(!1)},setShadowStroke:function(i){return this.shadowStroke=i,this.update(!1)},setShadowFill:function(i){return this.shadowFill=i,this.update(!1)},setWordWrapWidth:function(i,h){return h===void 0&&(h=!1),this.wordWrapWidth=i,this.wordWrapUseAdvanced=h,this.update(!1)},setWordWrapCallback:function(i,h){return h===void 0&&(h=null),this.wordWrapCallback=i,this.wordWrapCallbackScope=h,this.update(!1)},setAlign:function(i){return i===void 0&&(i="left"),this.align=i,this.update(!1)},setMaxLines:function(i){return i===void 0&&(i=0),this.maxLines=i,this.update(!1)},getTextMetrics:function(){var i=this.metrics;return{ascent:i.ascent,descent:i.descent,fontSize:i.fontSize}},toJSON:function(){var i={};for(var h in o)i[h]=this[h];return i.metrics=this.getTextMetrics(),i},destroy:function(){this.parent=void 0}});e.exports=n},34397:(e,y,t)=>{var a=t(70554),g=function(l,s,o,n){if(!(s.width===0||s.height===0)){o.addToRenderList(s);var i=s.frame,h=i.width,r=i.height,f=a.getTintAppendFloatAlpha,c=l.pipelines.set(s.pipeline,s),d=c.setTexture2D(i.glTexture,s);c.batchTexture(s,i.glTexture,h,r,s.x,s.y,h/s.style.resolution,r/s.style.resolution,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.displayOriginX,s.displayOriginY,0,0,h,r,f(s.tintTopLeft,o.alpha*s._alphaTL),f(s.tintTopRight,o.alpha*s._alphaTR),f(s.tintBottomLeft,o.alpha*s._alphaBL),f(s.tintBottomRight,o.alpha*s._alphaBR),s.tintFill,0,0,o,n,!1,d)}};e.exports=g},20839:(e,y,t)=>{var a=t(27919),g=t(83419),l=t(31401),s=t(95643),o=t(98439),n=t(68703),i=t(56295),h=t(45650),r=t(26099),f=8,c=new g({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,i],initialize:function(p,m,C,S,E,D,M){var w=p.sys.renderer;s.call(this,p,"TileSprite");var A=p.sys.textures.get(D),R=A.get(M);R.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),A=p.sys.textures.get("__MISSING"),R=A.get()),A.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),A=p.sys.textures.get("__MISSING"),R=A.get()),!S||!E?(S=R.width,E=R.height):(S=Math.floor(S),E=Math.floor(E)),this._tilePosition=new r,this._tileScale=new r(1,1),this.dirty=!1,this.renderer=w,this.canvas=a.create(this,S,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=A,this.displayFrame=R,this._crop=this.resetCropObject(),this._textureKey=h(),this.texture=p.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=o(R.width),this.potHeight=o(R.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(m,C),this.setSize(S,E),this.setFrame(M),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(d,p){return this.displayTexture=this.scene.sys.textures.get(d),this.setFrame(p)},setFrame:function(d){var p=this.displayTexture.get(d);return this.potWidth=o(p.width),this.potHeight=o(p.height),this.canvas.width=0,!p.cutWidth||!p.cutHeight?this.renderFlags&=~f:this.renderFlags|=f,this.displayFrame=p,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(d,p){return d!==void 0&&(this.tilePositionX=d),p!==void 0&&(this.tilePositionY=p),this},setTileScale:function(d,p){return d===void 0&&(d=this.tileScaleX),p===void 0&&(p=d),this.tileScaleX=d,this.tileScaleY=p,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var d=this.displayFrame;if(d.source.isRenderTexture||d.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var p=this.fillContext,m=this.fillCanvas,C=this.potWidth,S=this.potHeight;(!this.renderer||!this.renderer.gl)&&(C=d.cutWidth,S=d.cutHeight),p.clearRect(0,0,C,S),m.width=C,m.height=S,p.drawImage(d.source.image,d.cutX,d.cutY,d.cutWidth,d.cutHeight,0,0,C,S),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=p.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var d=this.canvas;if((d.width!==this.width||d.height!==this.height)&&(d.width=this.width,d.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var p=this.context;this.scene.sys.game.config.antialias||n.disable(p);var m=this._tileScale.x,C=this._tileScale.y,S=this._tilePosition.x,E=this._tilePosition.y;p.clearRect(0,0,this.width,this.height),p.save(),p.scale(m,C),p.translate(-S,-E),p.fillStyle=this.fillPattern,p.fillRect(S,E,this.width/m,this.height/C),p.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var d=this.texture;d&&d.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(d){this._tilePosition.x=d,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(d){this._tilePosition.y=d,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(d){this._tileScale.x=d,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(d){this._tileScale.y=d,this.dirty=!0}}});e.exports=c},46992:e=>{var y=function(t,a,g,l){a.updateCanvas(),g.addToRenderList(a),t.batchSprite(a,a.frame,g,l)};e.exports=y},14167:(e,y,t)=>{var a=t(25305),g=t(44603),l=t(23568),s=t(20839);g.register("tileSprite",function(o,n){o===void 0&&(o={});var i=l(o,"x",0),h=l(o,"y",0),r=l(o,"width",512),f=l(o,"height",512),c=l(o,"key",""),d=l(o,"frame",""),p=new s(this.scene,i,h,r,f,c,d);return n!==void 0&&(o.add=n),a(this.scene,p,o),p})},91681:(e,y,t)=>{var a=t(20839),g=t(39429);g.register("tileSprite",function(l,s,o,n,i,h){return this.displayList.add(new a(this.scene,l,s,o,n,i,h))})},56295:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(18553),l=t(46992),e.exports={renderWebGL:g,renderCanvas:l}},18553:(e,y,t)=>{var a=t(70554),g=function(l,s,o,n){s.updateCanvas();var i=s.width,h=s.height;if(!(i===0||h===0)){o.addToRenderList(s);var r=a.getTintAppendFloatAlpha,f=l.pipelines.set(s.pipeline,s),c=f.setTexture2D(s.fillPattern,s);f.batchTexture(s,s.fillPattern,s.displayFrame.width*s.tileScaleX,s.displayFrame.height*s.tileScaleY,s.x,s.y,i,h,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.originX*i,s.originY*h,0,0,i,h,r(s.tintTopLeft,o.alpha*s._alphaTL),r(s.tintTopRight,o.alpha*s._alphaTR),r(s.tintBottomLeft,o.alpha*s._alphaBL),r(s.tintBottomRight,o.alpha*s._alphaBR),s.tintFill,s.tilePositionX%s.displayFrame.width/s.displayFrame.width,s.tilePositionY%s.displayFrame.height/s.displayFrame.height,o,n,!1,c)}};e.exports=g},18471:(e,y,t)=>{var a=t(45319),g=t(83419),l=t(31401),s=t(51708),o=t(8443),n=t(95643),i=t(36383),h=t(14463),r=t(45650),f=t(10247),c=new g({Extends:n,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.TextureCrop,l.Tint,l.Transform,l.Visible,f],initialize:function(p,m,C,S){n.call(this,p,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=r(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var E=p.sys.game;this._device=E.device.video,this.setPosition(m,C),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),E.events.on(o.PAUSE,this.globalPause,this),E.events.on(o.RESUME,this.globalResume,this);var D=p.sys.sound;D&&D.on(h.GLOBAL_MUTE,this.globalMute,this),S&&this.load(S)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(d){var p=this.scene.sys.cache.video.get(d);return p?(this.cacheKey=d,this.loadHandler(p.url,p.noAudio,p.crossOrigin)):console.warn("No video in cache for key: "+d),this},changeSource:function(d,p,m,C,S){p===void 0&&(p=!0),m===void 0&&(m=!1),this.cacheKey!==d&&(this.load(d),p&&this.play(m,C,S))},getVideoKey:function(){return this.cacheKey},loadURL:function(d,p,m){p===void 0&&(p=!1);var C=this._device.getVideoURL(d);return C?(this.cacheKey="",this.loadHandler(C.url,p,m)):console.warn("No supported video format found for "+d),this},loadMediaStream:function(d,p,m){return this.loadHandler(null,p,m,d)},loadHandler:function(d,p,m,C){p||(p=!1);var S=this.video;if(S?(this.removeLoadEventHandlers(),this.stop()):(S=document.createElement("video"),S.controls=!1,S.setAttribute("playsinline","playsinline"),S.setAttribute("preload","auto"),S.setAttribute("disablePictureInPicture","true")),p?(S.muted=!0,S.defaultMuted=!0,S.setAttribute("autoplay","autoplay")):(S.muted=!1,S.defaultMuted=!1,S.removeAttribute("autoplay")),m?S.setAttribute("crossorigin",m):S.removeAttribute("crossorigin"),C)if("srcObject"in S)try{S.srcObject=C}catch(D){if(D.name!=="TypeError")throw D;S.src=URL.createObjectURL(C)}else S.src=URL.createObjectURL(C);else S.src=d;this.retry=0,this.video=S,this._playCalled=!1,S.load(),this.addLoadEventHandlers();var E=this.scene.sys.textures.get(this._key);return this.setTexture(E),this},requestVideoFrame:function(d,p){var m=this.video;if(m){var C=p.width,S=p.height,E=this.videoTexture,D=this.videoTextureSource,M=!E||D.source!==m;M?(this._codePaused=m.paused,this._codeMuted=m.muted,E?(D.source=m,D.width=C,D.height=S,E.get().setSize(C,S)):(E=this.scene.sys.textures.create(this._key,m,C,S),E.add("__BASE",0,0,0,C,S),this.setTexture(E),this.videoTexture=E,this.videoTextureSource=E.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(s.VIDEO_TEXTURE,this,E)),this.setSizeToFrame(),this.updateDisplayOrigin()):D.update(),this.isStalled=!1,this.metadata=p;var w=p.mediaTime;M&&(this._lastUpdate=w,this.emit(s.VIDEO_CREATED,this,C,S),this.frameReady||(this.frameReady=!0,this.emit(s.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(m.loop?(m.currentTime=this._markerIn,this.emit(s.VIDEO_LOOP,this)):(this.stop(!1),this.emit(s.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(s.VIDEO_LOOP,this),this._lastUpdate=w,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(d,p,m){p===void 0&&(p=-1),m===void 0&&(m=i.MAX_SAFE_INTEGER);var C=this.video;return!C||this.isPlaying()?(C||console.warn("Video not loaded"),this):(d===void 0&&(d=C.loop),C.loop=d,this._markerIn=p,this._markerOut=m,this._playingMarker=p>-1&&m>p&&m<i.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=C.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var d=this.video;d&&(d.addEventListener("error",this._loadCallbackHandler),d.addEventListener("abort",this._loadCallbackHandler),d.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var d=this.video;d&&(d.removeEventListener("error",this._loadCallbackHandler),d.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var d=this.video;if(d){var p=this._callbacks;for(var m in p)d.addEventListener(m,p[m])}},removeEventHandlers:function(){var d=this.video;if(d){var p=this._callbacks;for(var m in p)d.removeEventListener(m,p[m])}},createPlayPromise:function(d){d===void 0&&(d=!0);var p=this.video,m=p.play();if(m!==void 0){var C=this.playSuccess.bind(this),S=this.playError.bind(this);if(!d){var E=this;S=function(){E.failedPlayAttempts++}}m.then(C).catch(S)}else p.addEventListener("playing",this._callbacks.legacy),d||this.failedPlayAttempts++},addMarker:function(d,p,m){return!isNaN(p)&&p>=0&&!isNaN(m)&&m>p&&(this.markers[d]=[p,m]),this},playMarker:function(d,p){var m=this.markers[d];return m&&this.play(p,m[0],m[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,p){return d===void 0&&(d=this.width),p===void 0&&(p=this.height),this.snapshotArea(0,0,this.width,this.height,d,p)},snapshotArea:function(d,p,m,C,S,E){d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=this.width),C===void 0&&(C=this.height),S===void 0&&(S=m),E===void 0&&(E=C);var D=this.video,M=this.snapshotTexture;return M?(M.setSize(S,E),D&&M.context.drawImage(D,d,p,m,C,0,0,S,E)):(M=this.scene.sys.textures.createCanvas(r(),S,E),this.snapshotTexture=M,D&&M.context.drawImage(D,d,p,m,C,0,0,S,E)),M.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(s.VIDEO_UNLOCKED,this));var d=this.scene.sys.sound;d&&d.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(d){var p=d.name;p==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(s.VIDEO_LOCKED,this)):p==="NotSupportedError"?(this.stop(!1),this.emit(s.VIDEO_UNSUPPORTED,this,d)):(this.stop(!1),this.emit(s.VIDEO_ERROR,this,d))},legacyPlayHandler:function(){var d=this.video;d&&(this.playSuccess(),d.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(s.VIDEO_PLAYING,this)},loadErrorHandler:function(d){this.stop(!1),this.emit(s.VIDEO_ERROR,this,d)},metadataHandler:function(d){this.emit(s.VIDEO_METADATA,this,d)},setSizeToFrame:function(d){d||(d=this.frame),this.width=d.realWidth,this.height=d.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var p=this.input;return p&&!p.customHitArea&&(p.hitArea.width=this.width,p.hitArea.height=this.height),this},stalledHandler:function(d){this.isStalled=!0,this.emit(s.VIDEO_STALLED,this,d)},completeHandler:function(){this._playCalled=!1,this.emit(s.VIDEO_COMPLETE,this)},preUpdate:function(d,p){var m=this.video;!m||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=p,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(d){var p=this.video;if(p){var m=p.duration;if(m!==1/0&&!isNaN(m)){var C=m*d;this.setCurrentTime(C)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var p=this.video;if(p){if(typeof d=="string"){var m=d[0],C=parseFloat(d.substr(1));m==="+"?d=p.currentTime+C:m==="-"&&(d=p.currentTime-C)}p.currentTime=d}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(s.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(s.VIDEO_SEEKED,this)},getProgress:function(){var d=this.video;if(d){var p=d.duration;if(p!==1/0&&!isNaN(p))return d.currentTime/p}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){d===void 0&&(d=!0),this._codeMuted=d;var p=this.video;return p&&(p.muted=this._systemMuted?!0:d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,p){this._systemMuted=p;var m=this.video;m&&(m.muted=this._codeMuted?!0:p)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(d){d===void 0&&(d=!0);var p=this.video;return this._codePaused=d,p&&!p.ended&&(d?p.paused||(this.removeEventHandlers(),p.pause()):d||(this._playCalled?p.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return d===void 0&&(d=1),this.video&&(this.video.volume=a(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(d){return d===void 0&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,p){return p===void 0&&(p=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,d),this.videoTextureSource.setFlipY(p)),this._key=d,this.flipY=p,!!this.videoTexture},stop:function(d){d===void 0&&(d=!0);var p=this.video;return p&&(this.removeEventHandlers(),p.cancelVideoFrameCallback(this._rfvCallbackId),p.pause()),this.retry=0,this._playCalled=!1,d&&this.emit(s.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var d=this.scene.sys.game.events;d.off(o.PAUSE,this.globalPause,this),d.off(o.RESUME,this.globalResume,this);var p=this.scene.sys.sound;p&&p.off(h.GLOBAL_MUTE,this.globalMute,this)}});e.exports=c},58352:e=>{var y=function(t,a,g,l){a.videoTexture&&(g.addToRenderList(a),t.batchSprite(a,a.frame,g,l))};e.exports=y},11511:(e,y,t)=>{var a=t(25305),g=t(44603),l=t(23568),s=t(18471);g.register("video",function(o,n){o===void 0&&(o={});var i=l(o,"key",null),h=new s(this.scene,0,0,i);return n!==void 0&&(o.add=n),a(this.scene,h,o),h})},89025:(e,y,t)=>{var a=t(18471),g=t(39429);g.register("video",function(l,s,o){return this.displayList.add(new a(this.scene,l,s,o))})},10247:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(29849),l=t(58352),e.exports={renderWebGL:g,renderCanvas:l}},29849:e=>{var y=function(t,a,g,l){a.videoTexture&&(g.addToRenderList(a),a.pipeline.batchSprite(a,g,l))};e.exports=y},41481:(e,y,t)=>{var a=t(10312),g=t(96503),l=t(87902),s=t(83419),o=t(31401),n=t(95643),i=t(87841),h=t(37303),r=new s({Extends:n,Mixins:[o.Depth,o.GetBounds,o.Origin,o.Transform,o.ScrollFactor,o.Visible],initialize:function(c,d,p,m,C){m===void 0&&(m=1),C===void 0&&(C=m),n.call(this,c,"Zone"),this.setPosition(d,p),this.width=m,this.height=C,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(f){this.scaleX=f/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(f){this.scaleY=f/this.height}},setSize:function(f,c,d){d===void 0&&(d=!0),this.width=f,this.height=c,this.updateDisplayOrigin();var p=this.input;return d&&p&&!p.customHitArea&&(p.hitArea.width=f,p.hitArea.height=c),this},setDisplaySize:function(f,c){return this.displayWidth=f,this.displayHeight=c,this},setCircleDropZone:function(f){return this.setDropZone(new g(0,0,f),l)},setRectangleDropZone:function(f,c){return this.setDropZone(new i(0,0,f,c),h)},setDropZone:function(f,c){return this.input||this.setInteractive(f,c,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(f,c,d){d.addToRenderList(c)},renderWebGL:function(f,c,d){d.addToRenderList(c)}});e.exports=r},95261:(e,y,t)=>{var a=t(44603),g=t(23568),l=t(41481);a.register("zone",function(s){var o=g(s,"x",0),n=g(s,"y",0),i=g(s,"width",1),h=g(s,"height",i);return new l(this.scene,o,n,i,h)})},84175:(e,y,t)=>{var a=t(41481),g=t(39429);g.register("zone",function(l,s,o,n){return this.displayList.add(new a(this.scene,l,s,o,n))})},95166:e=>{var y=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};e.exports=y},96503:(e,y,t)=>{var a=t(83419),g=t(87902),l=t(26241),s=t(79124),o=t(23777),n=t(28176),i=new a({initialize:function(r,f,c){r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c=0),this.type=o.CIRCLE,this.x=r,this.y=f,this._radius=c,this._diameter=c*2},contains:function(h,r){return g(this,h,r)},getPoint:function(h,r){return l(this,h,r)},getPoints:function(h,r,f){return s(this,h,r,f)},getRandomPoint:function(h){return n(this,h)},setTo:function(h,r,f){return this.x=h,this.y=r,this._radius=f,this._diameter=f*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(h,r){return r===void 0&&(r=h),this.x=h,this.y=r,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this._diameter=h*2}},diameter:{get:function(){return this._diameter},set:function(h){this._diameter=h,this._radius=h*.5}},left:{get:function(){return this.x-this._radius},set:function(h){this.x=h+this._radius}},right:{get:function(){return this.x+this._radius},set:function(h){this.x=h-this._radius}},top:{get:function(){return this.y-this._radius},set:function(h){this.y=h+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(h){this.y=h-this._radius}}});e.exports=i},71562:e=>{var y=function(t){return 2*(Math.PI*t.radius)};e.exports=y},92110:(e,y,t)=>{var a=t(2141),g=function(l,s,o){return o===void 0&&(o=new a),o.x=l.x+l.radius*Math.cos(s),o.y=l.y+l.radius*Math.sin(s),o};e.exports=g},42250:(e,y,t)=>{var a=t(96503),g=function(l){return new a(l.x,l.y,l.radius)};e.exports=g},87902:e=>{var y=function(t,a,g){if(t.radius>0&&a>=t.left&&a<=t.right&&g>=t.top&&g<=t.bottom){var l=(t.x-a)*(t.x-a),s=(t.y-g)*(t.y-g);return l+s<=t.radius*t.radius}else return!1};e.exports=y},5698:(e,y,t)=>{var a=t(87902),g=function(l,s){return a(l,s.x,s.y)};e.exports=g},70588:(e,y,t)=>{var a=t(87902),g=function(l,s){return a(l,s.x,s.y)&&a(l,s.right,s.y)&&a(l,s.x,s.bottom)&&a(l,s.right,s.bottom)};e.exports=g},26394:e=>{var y=function(t,a){return a.setTo(t.x,t.y,t.radius)};e.exports=y},76278:e=>{var y=function(t,a){return t.x===a.x&&t.y===a.y&&t.radius===a.radius};e.exports=y},2074:(e,y,t)=>{var a=t(87841),g=function(l,s){return s===void 0&&(s=new a),s.x=l.left,s.y=l.top,s.width=l.diameter,s.height=l.diameter,s};e.exports=g},26241:(e,y,t)=>{var a=t(92110),g=t(62945),l=t(36383),s=t(2141),o=function(n,i,h){h===void 0&&(h=new s);var r=g(i,0,l.PI2);return a(n,r,h)};e.exports=o},79124:(e,y,t)=>{var a=t(71562),g=t(92110),l=t(62945),s=t(36383),o=function(n,i,h,r){r===void 0&&(r=[]),!i&&h>0&&(i=a(n)/h);for(var f=0;f<i;f++){var c=l(f/i,0,s.PI2);r.push(g(n,c))}return r};e.exports=o},50884:e=>{var y=function(t,a,g){return t.x+=a,t.y+=g,t};e.exports=y},39212:e=>{var y=function(t,a){return t.x+=a.x,t.y+=a.y,t};e.exports=y},28176:(e,y,t)=>{var a=t(2141),g=function(l,s){s===void 0&&(s=new a);var o=2*Math.PI*Math.random(),n=Math.random()+Math.random(),i=n>1?2-n:n,h=i*Math.cos(o),r=i*Math.sin(o);return s.x=l.x+h*l.radius,s.y=l.y+r*l.radius,s};e.exports=g},88911:(e,y,t)=>{var a=t(96503);a.Area=t(95166),a.Circumference=t(71562),a.CircumferencePoint=t(92110),a.Clone=t(42250),a.Contains=t(87902),a.ContainsPoint=t(5698),a.ContainsRect=t(70588),a.CopyFrom=t(26394),a.Equals=t(76278),a.GetBounds=t(2074),a.GetPoint=t(26241),a.GetPoints=t(79124),a.Offset=t(50884),a.OffsetPoint=t(39212),a.Random=t(28176),e.exports=a},23777:e=>{var y={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};e.exports=y},78874:e=>{var y=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};e.exports=y},92990:e=>{var y=function(t){var a=t.width/2,g=t.height/2,l=Math.pow(a-g,2)/Math.pow(a+g,2);return Math.PI*(a+g)*(1+3*l/(10+Math.sqrt(4-3*l)))};e.exports=y},79522:(e,y,t)=>{var a=t(2141),g=function(l,s,o){o===void 0&&(o=new a);var n=l.width/2,i=l.height/2;return o.x=l.x+n*Math.cos(s),o.y=l.y+i*Math.sin(s),o};e.exports=g},58102:(e,y,t)=>{var a=t(8497),g=function(l){return new a(l.x,l.y,l.width,l.height)};e.exports=g},81154:e=>{var y=function(t,a,g){if(t.width<=0||t.height<=0)return!1;var l=(a-t.x)/t.width,s=(g-t.y)/t.height;return l*=l,s*=s,l+s<.25};e.exports=y},46662:(e,y,t)=>{var a=t(81154),g=function(l,s){return a(l,s.x,s.y)};e.exports=g},1632:(e,y,t)=>{var a=t(81154),g=function(l,s){return a(l,s.x,s.y)&&a(l,s.right,s.y)&&a(l,s.x,s.bottom)&&a(l,s.right,s.bottom)};e.exports=g},65534:e=>{var y=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};e.exports=y},8497:(e,y,t)=>{var a=t(83419),g=t(81154),l=t(90549),s=t(48320),o=t(23777),n=t(24820),i=new a({initialize:function(r,f,c,d){r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),this.type=o.ELLIPSE,this.x=r,this.y=f,this.width=c,this.height=d},contains:function(h,r){return g(this,h,r)},getPoint:function(h,r){return l(this,h,r)},getPoints:function(h,r,f){return s(this,h,r,f)},getRandomPoint:function(h){return n(this,h)},setTo:function(h,r,f,c){return this.x=h,this.y=r,this.width=f,this.height=c,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(h,r){return r===void 0&&(r=h),this.x=h,this.y=r,this},setSize:function(h,r){return r===void 0&&(r=h),this.width=h,this.height=r,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(h){this.x=h+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(h){this.y=h+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});e.exports=i},36146:e=>{var y=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};e.exports=y},23694:(e,y,t)=>{var a=t(87841),g=function(l,s){return s===void 0&&(s=new a),s.x=l.left,s.y=l.top,s.width=l.width,s.height=l.height,s};e.exports=g},90549:(e,y,t)=>{var a=t(79522),g=t(62945),l=t(36383),s=t(2141),o=function(n,i,h){h===void 0&&(h=new s);var r=g(i,0,l.PI2);return a(n,r,h)};e.exports=o},48320:(e,y,t)=>{var a=t(92990),g=t(79522),l=t(62945),s=t(36383),o=function(n,i,h,r){r===void 0&&(r=[]),!i&&h>0&&(i=a(n)/h);for(var f=0;f<i;f++){var c=l(f/i,0,s.PI2);r.push(g(n,c))}return r};e.exports=o},73424:e=>{var y=function(t,a,g){return t.x+=a,t.y+=g,t};e.exports=y},44808:e=>{var y=function(t,a){return t.x+=a.x,t.y+=a.y,t};e.exports=y},24820:(e,y,t)=>{var a=t(2141),g=function(l,s){s===void 0&&(s=new a);var o=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return s.x=l.x+n*Math.cos(o)*l.width/2,s.y=l.y+n*Math.sin(o)*l.height/2,s};e.exports=g},49203:(e,y,t)=>{var a=t(8497);a.Area=t(78874),a.Circumference=t(92990),a.CircumferencePoint=t(79522),a.Clone=t(58102),a.Contains=t(81154),a.ContainsPoint=t(46662),a.ContainsRect=t(1632),a.CopyFrom=t(65534),a.Equals=t(36146),a.GetBounds=t(23694),a.GetPoint=t(90549),a.GetPoints=t(48320),a.Offset=t(73424),a.OffsetPoint=t(44808),a.Random=t(24820),e.exports=a},55738:(e,y,t)=>{var a=t(23777),g=t(79291),l={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};l=g(!1,l,a),e.exports=l},2044:(e,y,t)=>{var a=t(20339),g=function(l,s){return a(l.x,l.y,s.x,s.y)<=l.radius+s.radius};e.exports=g},81491:e=>{var y=function(t,a){var g=a.width/2,l=a.height/2,s=Math.abs(t.x-a.x-g),o=Math.abs(t.y-a.y-l),n=g+t.radius,i=l+t.radius;if(s>n||o>i)return!1;if(s<=g||o<=l)return!0;var h=s-g,r=o-l,f=h*h,c=r*r,d=t.radius*t.radius;return f+c<=d};e.exports=y},63376:(e,y,t)=>{var a=t(2141),g=t(2044),l=function(s,o,n){if(n===void 0&&(n=[]),g(s,o)){var i=s.x,h=s.y,r=s.radius,f=o.x,c=o.y,d=o.radius,p,m,C,S,E;if(h===c)E=(d*d-r*r-f*f+i*i)/(2*(i-f)),p=1,m=-2*c,C=f*f+E*E-2*f*E+c*c-d*d,S=m*m-4*p*C,S===0?n.push(new a(E,-m/(2*p))):S>0&&(n.push(new a(E,(-m+Math.sqrt(S))/(2*p))),n.push(new a(E,(-m-Math.sqrt(S))/(2*p))));else{var D=(i-f)/(h-c),M=(d*d-r*r-f*f+i*i-c*c+h*h)/(2*(h-c));p=D*D+1,m=2*h*D-2*M*D-2*i,C=i*i+h*h+M*M-r*r-2*h*M,S=m*m-4*p*C,S===0?(E=-m/(2*p),n.push(new a(E,M-E*D))):S>0&&(E=(-m+Math.sqrt(S))/(2*p),n.push(new a(E,M-E*D)),E=(-m-Math.sqrt(S))/(2*p),n.push(new a(E,M-E*D)))}}return n};e.exports=l},97439:(e,y,t)=>{var a=t(4042),g=t(81491),l=function(s,o,n){if(n===void 0&&(n=[]),g(s,o)){var i=o.getLineA(),h=o.getLineB(),r=o.getLineC(),f=o.getLineD();a(i,s,n),a(h,s,n),a(r,s,n),a(f,s,n)}return n};e.exports=l},4042:(e,y,t)=>{var a=t(2141),g=t(80462),l=function(s,o,n){if(n===void 0&&(n=[]),g(s,o)){var i=s.x1,h=s.y1,r=s.x2,f=s.y2,c=o.x,d=o.y,p=o.radius,m=r-i,C=f-h,S=i-c,E=h-d,D=m*m+C*C,M=2*(m*S+C*E),w=S*S+E*E-p*p,A=M*M-4*D*w,R,P;if(A===0){var O=-M/(2*D);R=i+O*m,P=h+O*C,O>=0&&O<=1&&n.push(new a(R,P))}else if(A>0){var b=(-M-Math.sqrt(A))/(2*D);R=i+b*m,P=h+b*C,b>=0&&b<=1&&n.push(new a(R,P));var F=(-M+Math.sqrt(A))/(2*D);R=i+F*m,P=h+F*C,F>=0&&F<=1&&n.push(new a(R,P))}}return n};e.exports=l},36100:(e,y,t)=>{var a=t(25836),g=function(l,s,o,n){o===void 0&&(o=!1);var i=l.x1,h=l.y1,r=l.x2,f=l.y2,c=s.x1,d=s.y1,p=s.x2,m=s.y2,C=r-i,S=f-h,E=p-c,D=m-d,M=C*D-S*E;if(M===0)return null;var w,A,R;if(o){if(w=(C*(d-h)+S*(i-c))/(E*S-D*C),A=(c+E*w-i)/C,A<0||w<0||w>1)return null;R=A}else{if(w=((c-i)*D-(d-h)*E)/M,A=((h-d)*C-(i-c)*S)/M,w<0||w>1||A<0||A>1)return null;R=w}return n===void 0&&(n=new a),n.set(i+C*R,h+S*R,R)};e.exports=g},3073:(e,y,t)=>{var a=t(36100),g=t(23031),l=t(25836),s=new g,o=new l,n=function(i,h,r,f){r===void 0&&(r=!1),f===void 0&&(f=new l);var c=!1;f.set(),o.set();for(var d=h[h.length-1],p=0;p<h.length;p++){var m=h[p];s.setTo(d.x,d.y,m.x,m.y),d=m,a(i,s,r,o)&&(!c||o.z<f.z)&&(f.copy(o),c=!0)}return c?f:null};e.exports=n},56362:(e,y,t)=>{var a=t(25836),g=t(61369),l=t(3073),s=new a,o=function(n,i,h,r){r===void 0&&(r=new g),Array.isArray(i)||(i=[i]);var f=!1;r.set(),s.set();for(var c=0;c<i.length;c++)l(n,i[c].points,h,s)&&(!f||s.z<r.z)&&(r.set(s.x,s.y,s.z,c),f=!0);return f?r:null};e.exports=o},60646:(e,y,t)=>{var a=t(2141),g=t(76112),l=t(92773),s=function(o,n,i){if(i===void 0&&(i=[]),l(o,n))for(var h=n.getLineA(),r=n.getLineB(),f=n.getLineC(),c=n.getLineD(),d=[new a,new a,new a,new a],p=[g(h,o,d[0]),g(r,o,d[1]),g(f,o,d[2]),g(c,o,d[3])],m=0;m<4;m++)p[m]&&i.push(d[m]);return i};e.exports=s},71147:(e,y,t)=>{var a=t(61369),g=t(56362),l=t(23031),s=new l;function o(h,r,f,c,d){var p=Math.cos(h),m=Math.sin(h);s.setTo(r,f,r+p,f+m);var C=g(s,c,!0);C&&d.push(new a(C.x,C.y,h,C.w))}function n(h,r){return h.z-r.z}var i=function(h,r,f){Array.isArray(f)||(f=[f]);for(var c=[],d=[],p=0;p<f.length;p++)for(var m=f[p].points,C=0;C<m.length;C++){var S=Math.atan2(m[C].y-r,m[C].x-h);d.indexOf(S)===-1&&(o(S,h,r,f,c),o(S-1e-5,h,r,f,c),o(S+1e-5,h,r,f,c),d.push(S))}return c.sort(n)};e.exports=i},68389:(e,y,t)=>{var a=t(87841),g=t(59996),l=function(s,o,n){return n===void 0&&(n=new a),g(s,o)&&(n.x=Math.max(s.x,o.x),n.y=Math.max(s.y,o.y),n.width=Math.min(s.right,o.right)-n.x,n.height=Math.min(s.bottom,o.bottom)-n.y),n};e.exports=l},52784:(e,y,t)=>{var a=t(60646),g=t(59996),l=function(s,o,n){if(n===void 0&&(n=[]),g(s,o)){var i=s.getLineA(),h=s.getLineB(),r=s.getLineC(),f=s.getLineD();a(i,o,n),a(h,o,n),a(r,o,n),a(f,o,n)}return n};e.exports=l},26341:(e,y,t)=>{var a=t(89265),g=t(60646),l=function(s,o,n){if(n===void 0&&(n=[]),a(s,o)){var i=o.getLineA(),h=o.getLineB(),r=o.getLineC();g(i,s,n),g(h,s,n),g(r,s,n)}return n};e.exports=l},38720:(e,y,t)=>{var a=t(4042),g=t(67636),l=function(s,o,n){if(n===void 0&&(n=[]),g(s,o)){var i=s.getLineA(),h=s.getLineB(),r=s.getLineC();a(i,o,n),a(h,o,n),a(r,o,n)}return n};e.exports=l},13882:(e,y,t)=>{var a=t(2141),g=t(2822),l=t(76112),s=function(o,n,i){if(i===void 0&&(i=[]),g(o,n))for(var h=o.getLineA(),r=o.getLineB(),f=o.getLineC(),c=[new a,new a,new a],d=[l(h,n,c[0]),l(r,n,c[1]),l(f,n,c[2])],p=0;p<3;p++)d[p]&&i.push(c[p]);return i};e.exports=s},75636:(e,y,t)=>{var a=t(82944),g=t(13882),l=function(s,o,n){if(n===void 0&&(n=[]),a(s,o)){var i=o.getLineA(),h=o.getLineB(),r=o.getLineC();g(s,i,n),g(s,h,n),g(s,r,n)}return n};e.exports=l},80462:(e,y,t)=>{var a=t(87902),g=t(2141),l=new g,s=function(o,n,i){if(i===void 0&&(i=l),a(n,o.x1,o.y1))return i.x=o.x1,i.y=o.y1,!0;if(a(n,o.x2,o.y2))return i.x=o.x2,i.y=o.y2,!0;var h=o.x2-o.x1,r=o.y2-o.y1,f=n.x-o.x1,c=n.y-o.y1,d=h*h+r*r,p=h,m=r;if(d>0){var C=(f*h+c*r)/d;p*=C,m*=C}i.x=o.x1+p,i.y=o.y1+m;var S=p*p+m*m;return S<=d&&p*h+m*r>=0&&a(n,i.x,i.y)};e.exports=s},76112:e=>{var y=function(t,a,g){var l=t.x1,s=t.y1,o=t.x2,n=t.y2,i=a.x1,h=a.y1,r=a.x2,f=a.y2;if(l===o&&s===n||i===r&&h===f)return!1;var c=(f-h)*(o-l)-(r-i)*(n-s);if(c===0)return!1;var d=((r-i)*(s-h)-(f-h)*(l-i))/c,p=((o-l)*(s-h)-(n-s)*(l-i))/c;return d<0||d>1||p<0||p>1?!1:(g&&(g.x=l+d*(o-l),g.y=s+d*(n-s)),!0)};e.exports=y},92773:e=>{var y=function(t,a){var g=t.x1,l=t.y1,s=t.x2,o=t.y2,n=a.x,i=a.y,h=a.right,r=a.bottom,f=0;if(g>=n&&g<=h&&l>=i&&l<=r||s>=n&&s<=h&&o>=i&&o<=r)return!0;if(g<n&&s>=n){if(f=l+(o-l)*(n-g)/(s-g),f>i&&f<=r)return!0}else if(g>h&&s<=h&&(f=l+(o-l)*(h-g)/(s-g),f>=i&&f<=r))return!0;if(l<i&&o>=i){if(f=g+(s-g)*(i-l)/(o-l),f>=n&&f<=h)return!0}else if(l>r&&o<=r&&(f=g+(s-g)*(r-l)/(o-l),f>=n&&f<=h))return!0;return!1};e.exports=y},16204:e=>{var y=function(t,a,g){g===void 0&&(g=1);var l=a.x1,s=a.y1,o=a.x2,n=a.y2,i=t.x,h=t.y,r=(o-l)*(o-l)+(n-s)*(n-s);if(r===0)return!1;var f=((i-l)*(o-l)+(h-s)*(n-s))/r;if(f<0)return Math.sqrt((l-i)*(l-i)+(s-h)*(s-h))<=g;if(f>=0&&f<=1){var c=((s-h)*(o-l)-(l-i)*(n-s))/r;return Math.abs(c)*Math.sqrt(r)<=g}else return Math.sqrt((o-i)*(o-i)+(n-h)*(n-h))<=g};e.exports=y},14199:(e,y,t)=>{var a=t(16204),g=function(l,s){if(!a(l,s))return!1;var o=Math.min(s.x1,s.x2),n=Math.max(s.x1,s.x2),i=Math.min(s.y1,s.y2),h=Math.max(s.y1,s.y2);return l.x>=o&&l.x<=n&&l.y>=i&&l.y<=h};e.exports=g},59996:e=>{var y=function(t,a){return t.width<=0||t.height<=0||a.width<=0||a.height<=0?!1:!(t.right<a.x||t.bottom<a.y||t.x>a.right||t.y>a.bottom)};e.exports=y},89265:(e,y,t)=>{var a=t(76112),g=t(37303),l=t(48653),s=t(77493),o=function(n,i){if(i.left>n.right||i.right<n.left||i.top>n.bottom||i.bottom<n.top)return!1;var h=i.getLineA(),r=i.getLineB(),f=i.getLineC();if(g(n,h.x1,h.y1)||g(n,h.x2,h.y2)||g(n,r.x1,r.y1)||g(n,r.x2,r.y2)||g(n,f.x1,f.y1)||g(n,f.x2,f.y2))return!0;var c=n.getLineA(),d=n.getLineB(),p=n.getLineC(),m=n.getLineD();if(a(h,c)||a(h,d)||a(h,p)||a(h,m)||a(r,c)||a(r,d)||a(r,p)||a(r,m)||a(f,c)||a(f,d)||a(f,p)||a(f,m))return!0;var C=s(n),S=l(i,C,!0);return S.length>0};e.exports=o},84411:e=>{var y=function(t,a,g,l,s,o){return o===void 0&&(o=0),!(a>t.right+o||g<t.left-o||l>t.bottom+o||s<t.top-o)};e.exports=y},67636:(e,y,t)=>{var a=t(80462),g=t(10690),l=function(s,o){return s.left>o.right||s.right<o.left||s.top>o.bottom||s.bottom<o.top?!1:!!(g(s,o.x,o.y)||a(s.getLineA(),o)||a(s.getLineB(),o)||a(s.getLineC(),o))};e.exports=l},2822:(e,y,t)=>{var a=t(76112),g=function(l,s){return!!(l.contains(s.x1,s.y1)||l.contains(s.x2,s.y2)||a(l.getLineA(),s)||a(l.getLineB(),s)||a(l.getLineC(),s))};e.exports=g},82944:(e,y,t)=>{var a=t(48653),g=t(71694),l=t(76112),s=function(o,n){if(o.left>n.right||o.right<n.left||o.top>n.bottom||o.bottom<n.top)return!1;var i=o.getLineA(),h=o.getLineB(),r=o.getLineC(),f=n.getLineA(),c=n.getLineB(),d=n.getLineC();if(l(i,f)||l(i,c)||l(i,d)||l(h,f)||l(h,c)||l(h,d)||l(r,f)||l(r,c)||l(r,d))return!0;var p=g(o),m=a(n,p,!0);return m.length>0||(p=g(n),m=a(o,p,!0),m.length>0)};e.exports=s},91865:(e,y,t)=>{e.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:e=>{var y=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};e.exports=y},84993:e=>{var y=function(t,a,g){a===void 0&&(a=1),g===void 0&&(g=[]);var l=Math.round(t.x1),s=Math.round(t.y1),o=Math.round(t.x2),n=Math.round(t.y2),i=Math.abs(o-l),h=Math.abs(n-s),r=l<o?1:-1,f=s<n?1:-1,c=i-h;g.push({x:l,y:s});for(var d=1;!(l===o&&s===n);){var p=c<<1;p>-h&&(c-=h,l+=r),p<i&&(c+=i,s+=f),d%a===0&&g.push({x:l,y:s}),d++}return g};e.exports=y},36469:e=>{var y=function(t,a,g){var l=a-(t.x1+t.x2)/2,s=g-(t.y1+t.y2)/2;return t.x1+=l,t.y1+=s,t.x2+=l,t.y2+=s,t};e.exports=y},31116:(e,y,t)=>{var a=t(23031),g=function(l){return new a(l.x1,l.y1,l.x2,l.y2)};e.exports=g},59944:e=>{var y=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2)};e.exports=y},59220:e=>{var y=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2};e.exports=y},78177:(e,y,t)=>{var a=t(35001),g=function(l,s,o){o===void 0&&(o=s);var n=a(l),i=l.x2-l.x1,h=l.y2-l.y1;return s&&(l.x1=l.x1-i/n*s,l.y1=l.y1-h/n*s),o&&(l.x2=l.x2+i/n*o,l.y2=l.y2+h/n*o),l};e.exports=g},26708:(e,y,t)=>{var a=t(52816),g=t(6113),l=t(2141),s=function(o,n,i,h,r){h===void 0&&(h=0),r===void 0&&(r=[]);var f=[],c=o.x1,d=o.y1,p=o.x2-c,m=o.y2-d,C=g(n,r),S,E,D=i-1;for(S=0;S<D;S++)E=C(S/D),f.push(new l(c+p*E,d+m*E));if(E=C(1),f.push(new l(c+p*E,d+m*E)),h>0){var M=f[0],w=[M];for(S=1;S<f.length-1;S++){var A=f[S];a(M,A)>=h&&(w.push(A),M=A)}var R=f[f.length-1];return a(M,R)<h&&w.pop(),w.push(R),w}else return f};e.exports=s},32125:(e,y,t)=>{var a=t(2141),g=function(l,s){return s===void 0&&(s=new a),s.x=(l.x1+l.x2)/2,s.y=(l.y1+l.y2)/2,s};e.exports=g},99569:(e,y,t)=>{var a=t(2141),g=function(l,s,o){o===void 0&&(o=new a);var n=l.x1,i=l.y1,h=l.x2,r=l.y2,f=(h-n)*(h-n)+(r-i)*(r-i);if(f===0)return o;var c=((s.x-n)*(h-n)+(s.y-i)*(r-i))/f;return o.x=n+c*(h-n),o.y=i+c*(r-i),o};e.exports=g},34638:(e,y,t)=>{var a=t(36383),g=t(91938),l=t(2141),s=function(o,n){n===void 0&&(n=new l);var i=g(o)-a.TAU;return n.x=Math.cos(i),n.y=Math.sin(i),n};e.exports=s},13151:(e,y,t)=>{var a=t(2141),g=function(l,s,o){return o===void 0&&(o=new a),o.x=l.x1+(l.x2-l.x1)*s,o.y=l.y1+(l.y2-l.y1)*s,o};e.exports=g},15258:(e,y,t)=>{var a=t(35001),g=t(2141),l=function(s,o,n,i){i===void 0&&(i=[]),!o&&n>0&&(o=a(s)/n);for(var h=s.x1,r=s.y1,f=s.x2,c=s.y2,d=0;d<o;d++){var p=d/o,m=h+(f-h)*p,C=r+(c-r)*p;i.push(new g(m,C))}return i};e.exports=l},26408:e=>{var y=function(t,a){var g=t.x1,l=t.y1,s=t.x2,o=t.y2,n=(s-g)*(s-g)+(o-l)*(o-l);if(n===0)return!1;var i=((l-a.y)*(s-g)-(g-a.x)*(o-l))/n;return Math.abs(i)*Math.sqrt(n)};e.exports=y},98770:e=>{var y=function(t){return Math.abs(t.y1-t.y2)};e.exports=y},35001:e=>{var y=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};e.exports=y},23031:(e,y,t)=>{var a=t(83419),g=t(13151),l=t(15258),s=t(23777),o=t(65822),n=t(26099),i=new a({initialize:function(r,f,c,d){r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),this.type=s.LINE,this.x1=r,this.y1=f,this.x2=c,this.y2=d},getPoint:function(h,r){return g(this,h,r)},getPoints:function(h,r,f){return l(this,h,r,f)},getRandomPoint:function(h){return o(this,h)},setTo:function(h,r,f,c){return h===void 0&&(h=0),r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c=0),this.x1=h,this.y1=r,this.x2=f,this.y2=c,this},setFromObjects:function(h,r){return this.x1=h.x,this.y1=h.y,this.x2=r.x,this.y2=r.y,this},getPointA:function(h){return h===void 0&&(h=new n),h.set(this.x1,this.y1),h},getPointB:function(h){return h===void 0&&(h=new n),h.set(this.x2,this.y2),h},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(h){this.x1<=this.x2?this.x1=h:this.x2=h}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(h){this.x1>this.x2?this.x1=h:this.x2=h}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(h){this.y1<=this.y2?this.y1=h:this.y2=h}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(h){this.y1>this.y2?this.y1=h:this.y2=h}}});e.exports=i},64795:(e,y,t)=>{var a=t(36383),g=t(15994),l=t(91938),s=function(o){var n=l(o)-a.TAU;return g(n,-Math.PI,Math.PI)};e.exports=s},52616:(e,y,t)=>{var a=t(36383),g=t(91938),l=function(s){return Math.cos(g(s)-a.TAU)};e.exports=l},87231:(e,y,t)=>{var a=t(36383),g=t(91938),l=function(s){return Math.sin(g(s)-a.TAU)};e.exports=l},89662:e=>{var y=function(t,a,g){return t.x1+=a,t.y1+=g,t.x2+=a,t.y2+=g,t};e.exports=y},71165:e=>{var y=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};e.exports=y},65822:(e,y,t)=>{var a=t(2141),g=function(l,s){s===void 0&&(s=new a);var o=Math.random();return s.x=l.x1+o*(l.x2-l.x1),s.y=l.y1+o*(l.y2-l.y1),s};e.exports=g},69777:(e,y,t)=>{var a=t(91938),g=t(64795),l=function(s,o){return 2*g(o)-Math.PI-a(s)};e.exports=l},39706:(e,y,t)=>{var a=t(64400),g=function(l,s){var o=(l.x1+l.x2)/2,n=(l.y1+l.y2)/2;return a(l,o,n,s)};e.exports=g},82585:(e,y,t)=>{var a=t(64400),g=function(l,s,o){return a(l,s.x,s.y,o)};e.exports=g},64400:e=>{var y=function(t,a,g,l){var s=Math.cos(l),o=Math.sin(l),n=t.x1-a,i=t.y1-g;return t.x1=n*s-i*o+a,t.y1=n*o+i*s+g,n=t.x2-a,i=t.y2-g,t.x2=n*s-i*o+a,t.y2=n*o+i*s+g,t};e.exports=y},62377:e=>{var y=function(t,a,g,l,s){return t.x1=a,t.y1=g,t.x2=a+Math.cos(l)*s,t.y2=g+Math.sin(l)*s,t};e.exports=y},71366:e=>{var y=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};e.exports=y},10809:e=>{var y=function(t){return Math.abs(t.x1-t.x2)};e.exports=y},2529:(e,y,t)=>{var a=t(23031);a.Angle=t(91938),a.BresenhamPoints=t(84993),a.CenterOn=t(36469),a.Clone=t(31116),a.CopyFrom=t(59944),a.Equals=t(59220),a.Extend=t(78177),a.GetEasedPoints=t(26708),a.GetMidPoint=t(32125),a.GetNearestPoint=t(99569),a.GetNormal=t(34638),a.GetPoint=t(13151),a.GetPoints=t(15258),a.GetShortestDistance=t(26408),a.Height=t(98770),a.Length=t(35001),a.NormalAngle=t(64795),a.NormalX=t(52616),a.NormalY=t(87231),a.Offset=t(89662),a.PerpSlope=t(71165),a.Random=t(65822),a.ReflectAngle=t(69777),a.Rotate=t(39706),a.RotateAroundPoint=t(82585),a.RotateAroundXY=t(64400),a.SetToAngle=t(62377),a.Slope=t(71366),a.Width=t(10809),e.exports=a},83997:(e,y,t)=>{var a=t(83419),g=t(87841),l=t(26099);function s(n,i,h,r){var f=n-h,c=i-r,d=f*f+c*c;return Math.sqrt(d)}var o=new a({initialize:function(i,h,r){this.vertex1=i,this.vertex2=h,this.vertex3=r,this.bounds=new g,this._inCenter=new l},getInCenter:function(n){n===void 0&&(n=!0);var i=this.vertex1,h=this.vertex2,r=this.vertex3,f,c,d,p,m,C;n?(f=i.x,c=i.y,d=h.x,p=h.y,m=r.x,C=r.y):(f=i.vx,c=i.vy,d=h.vx,p=h.vy,m=r.vx,C=r.vy);var S=s(m,C,d,p),E=s(f,c,m,C),D=s(d,p,f,c),M=S+E+D;return this._inCenter.set((f*S+d*E+m*D)/M,(c*S+p*E+C*D)/M)},contains:function(n,i,h){var r=this.vertex1,f=this.vertex2,c=this.vertex3,d=r.vx,p=r.vy,m=f.vx,C=f.vy,S=c.vx,E=c.vy;if(h){var D=h.a,M=h.b,w=h.c,A=h.d,R=h.e,P=h.f;d=r.vx*D+r.vy*w+R,p=r.vx*M+r.vy*A+P,m=f.vx*D+f.vy*w+R,C=f.vx*M+f.vy*A+P,S=c.vx*D+c.vy*w+R,E=c.vx*M+c.vy*A+P}var O=S-d,b=E-p,F=m-d,L=C-p,G=n-d,z=i-p,X=O*O+b*b,B=O*F+b*L,U=O*G+b*z,I=F*F+L*L,N=F*G+L*z,V=X*I-B*B,H=V===0?0:1/V,W=(I*U-B*N)*H,Y=(X*N-B*U)*H;return W>=0&&Y>=0&&W+Y<1},isCounterClockwise:function(n){var i=this.vertex1,h=this.vertex2,r=this.vertex3,f=(h.vx-i.vx)*(r.vy-i.vy)-(h.vy-i.vy)*(r.vx-i.vx);return n<=0?f>=0:f<0},load:function(n,i,h,r,f){return h=this.vertex1.load(n,i,h,r,f),h=this.vertex2.load(n,i,h,r,f),h=this.vertex3.load(n,i,h,r,f),h},transformCoordinatesLocal:function(n,i,h,r){return this.vertex1.transformCoordinatesLocal(n,i,h,r),this.vertex2.transformCoordinatesLocal(n,i,h,r),this.vertex3.transformCoordinatesLocal(n,i,h,r),this},updateBounds:function(){var n=this.vertex1,i=this.vertex2,h=this.vertex3,r=this.bounds;return r.x=Math.min(n.vx,i.vx,h.vx),r.y=Math.min(n.vy,i.vy,h.vy),r.width=Math.max(n.vx,i.vx,h.vx)-r.x,r.height=Math.max(n.vy,i.vy,h.vy)-r.y,this},isInView:function(n,i,h,r,f,c,d,p,m,C,S){this.update(r,f,c,d,p,m,C,S);var E=this.vertex1,D=this.vertex2,M=this.vertex3;if(E.ta<=0&&D.ta<=0&&M.ta<=0||i&&!this.isCounterClockwise(h))return!1;var w=this.bounds;w.x=Math.min(E.tx,D.tx,M.tx),w.y=Math.min(E.ty,D.ty,M.ty),w.width=Math.max(E.tx,D.tx,M.tx)-w.x,w.height=Math.max(E.ty,D.ty,M.ty)-w.y;var A=n.x+n.width,R=n.y+n.height;return w.width<=0||w.height<=0||n.width<=0||n.height<=0?!1:!(w.right<n.x||w.bottom<n.y||w.x>A||w.y>R)},scrollUV:function(n,i){return this.vertex1.scrollUV(n,i),this.vertex2.scrollUV(n,i),this.vertex3.scrollUV(n,i),this},scaleUV:function(n,i){return this.vertex1.scaleUV(n,i),this.vertex2.scaleUV(n,i),this.vertex3.scaleUV(n,i),this},setColor:function(n){return this.vertex1.color=n,this.vertex2.color=n,this.vertex3.color=n,this},update:function(n,i,h,r,f,c,d,p){return this.vertex1.update(i,h,r,f,c,d,p,n),this.vertex2.update(i,h,r,f,c,d,p,n),this.vertex3.update(i,h,r,f,c,d,p,n),this},translate:function(n,i){i===void 0&&(i=0);var h=this.vertex1,r=this.vertex2,f=this.vertex3;return h.x+=n,h.y+=i,r.x+=n,r.y+=i,f.x+=n,f.y+=i,this},x:{get:function(){return this.getInCenter().x},set:function(n){var i=this.getInCenter();this.translate(n-i.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(n){var i=this.getInCenter();this.translate(0,n-i.y)}},alpha:{get:function(){var n=this.vertex1,i=this.vertex2,h=this.vertex3;return(n.alpha+i.alpha+h.alpha)/3},set:function(n){this.vertex1.alpha=n,this.vertex2.alpha=n,this.vertex3.alpha=n}},depth:{get:function(){var n=this.vertex1,i=this.vertex2,h=this.vertex3;return(n.vz+i.vz+h.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});e.exports=o},48803:(e,y,t)=>{var a=t(83997),g=t(95540),l=t(37867),s=t(25836),o=t(39318),n=new s,i=new s,h=new l,r=function(f){var c=g(f,"mesh"),d=g(f,"texture",null),p=g(f,"frame"),m=g(f,"width",1),C=g(f,"height",m),S=g(f,"widthSegments",1),E=g(f,"heightSegments",S),D=g(f,"x",0),M=g(f,"y",0),w=g(f,"z",0),A=g(f,"rotateX",0),R=g(f,"rotateY",0),P=g(f,"rotateZ",0),O=g(f,"zIsUp",!0),b=g(f,"isOrtho",c?c.dirtyCache[11]:!1),F=g(f,"colors",[16777215]),L=g(f,"alphas",[1]),G=g(f,"tile",!1),z=g(f,"flipY",!1),X=g(f,"width",null),B={faces:[],verts:[]};n.set(D,M,w),i.set(A,R,P),h.fromRotationXYTranslation(i,n,O);var U;if(!d&&c)d=c.texture,p||(U=c.frame);else if(c&&typeof d=="string")d=c.scene.sys.textures.get(d);else if(!d)return B;U||(U=d.get(p)),!X&&b&&d&&c&&(m=U.width/c.height,C=U.height/c.height);var I=m/2,N=C/2,V=Math.floor(S),H=Math.floor(E),W=V+1,Y=H+1,j=m/V,k=C/H,$=[],Z=[],K,J,Q=0,_=1,rt=0,ut=1;U&&(Q=U.u0,_=U.u1,z?(rt=U.v1,ut=U.v0):(rt=U.v0,ut=U.v1));var ot=_-Q,q=ut-rt;for(J=0;J<Y;J++){var it=J*k-N;for(K=0;K<W;K++){var nt=K*j-I;Z.push(nt,-it);var xt=Q+ot*(K/V),Tt=rt+q*(J/H);$.push(xt,Tt)}}Array.isArray(F)||(F=[F]),Array.isArray(L)||(L=[L]);var Wt=0,Ut=0;for(J=0;J<H;J++)for(K=0;K<V;K++){var Rt=(K+W*J)*2,Dt=(K+W*(J+1))*2,$t=(K+1+W*(J+1))*2,Bt=(K+1+W*J)*2,re=F[Ut],oe=L[Wt],Ce=new o(Z[Rt],Z[Rt+1],0,$[Rt],$[Rt+1],re,oe).transformMat4(h),oi=new o(Z[Dt],Z[Dt+1],0,$[Dt],$[Dt+1],re,oe).transformMat4(h),ai=new o(Z[Bt],Z[Bt+1],0,$[Bt],$[Bt+1],re,oe).transformMat4(h),li=new o(Z[Dt],Z[Dt+1],0,$[Dt],$[Dt+1],re,oe).transformMat4(h),ui=new o(Z[$t],Z[$t+1],0,$[$t],$[$t+1],re,oe).transformMat4(h),hi=new o(Z[Bt],Z[Bt+1],0,$[Bt],$[Bt+1],re,oe).transformMat4(h);G&&(Ce.setUVs(Q,ut),oi.setUVs(Q,rt),ai.setUVs(_,ut),li.setUVs(Q,rt),ui.setUVs(_,rt),hi.setUVs(_,ut)),Ut++,Ut===F.length&&(Ut=0),Wt++,Wt===L.length&&(Wt=0),B.verts.push(Ce,oi,ai,li,ui,hi),B.faces.push(new a(Ce,oi,ai),new a(li,ui,hi))}return c&&(c.faces=c.faces.concat(B.faces),c.vertices=c.vertices.concat(B.verts)),B};e.exports=r},34684:(e,y,t)=>{var a=t(83997),g=t(37867),l=t(25836),s=t(39318),o=new l,n=new l,i=new g,h=function(r,f,c,d,p,m,C,S,E,D){c===void 0&&(c=1),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=0),C===void 0&&(C=0),S===void 0&&(S=0),E===void 0&&(E=0),D===void 0&&(D=!0);var M={faces:[],verts:[]},w=r.materials;o.set(d,p,m),n.set(C,S,E),i.fromRotationXYTranslation(n,o,D);for(var A=0;A<r.models.length;A++)for(var R=r.models[A],P=R.vertices,O=R.textureCoords,b=R.faces,F=0;F<b.length;F++){var L=b[F],G=L.vertices[0],z=L.vertices[1],X=L.vertices[2],B=P[G.vertexIndex],U=P[z.vertexIndex],I=P[X.vertexIndex],N=G.textureCoordsIndex,V=z.textureCoordsIndex,H=X.textureCoordsIndex,W=N===-1?{u:0,v:1}:O[N],Y=V===-1?{u:0,v:0}:O[V],j=H===-1?{u:1,v:1}:O[H],k=16777215;L.material!==""&&w[L.material]&&(k=w[L.material]);var $=new s(B.x*c,B.y*c,B.z*c,W.u,W.v,k).transformMat4(i),Z=new s(U.x*c,U.y*c,U.z*c,Y.u,Y.v,k).transformMat4(i),K=new s(I.x*c,I.y*c,I.z*c,j.u,j.v,k).transformMat4(i);M.verts.push($,Z,K),M.faces.push(new a($,Z,K))}return f&&(f.faces=f.faces.concat(M.faces),f.vertices=f.vertices.concat(M.verts)),M};e.exports=h},92515:(e,y,t)=>{var a=t(83997),g=t(39318),l=function(s,o,n,i,h,r,f,c){if(i===void 0&&(i=!1),r===void 0&&(r=16777215),f===void 0&&(f=1),c===void 0&&(c=!1),s.length!==o.length&&!i){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},p,m,C,S,E,D,M,w,A,R,P,O=i?3:2,b=Array.isArray(r),F=Array.isArray(f);if(Array.isArray(n)&&n.length>0)for(p=0;p<n.length;p++){var L=n[p],G=n[p]*2,z=n[p]*O;m=s[z],C=s[z+1],S=i?s[z+2]:0,E=o[G],D=o[G+1],c&&(D=1-D),M=b?r[L]:r,w=F?f[L]:f,A=0,R=0,P=0,h&&(A=h[z],R=h[z+1],P=i?h[z+2]:0),d.vertices.push(new g(m,C,S,E,D,M,w,A,R,P))}else{var X=0,B=0;for(p=0;p<s.length;p+=O)m=s[p],C=s[p+1],S=i?s[p+2]:0,E=o[X],D=o[X+1],M=b?r[B]:r,w=F?f[B]:f,A=0,R=0,P=0,h&&(A=h[p],R=h[p+1],P=i?h[p+2]:0),d.vertices.push(new g(m,C,S,E,D,M,w,A,R,P)),X+=2,B++}for(p=0;p<d.vertices.length;p+=3){var U=d.vertices[p],I=d.vertices[p+1],N=d.vertices[p+2];d.faces.push(new a(U,I,N))}return d};e.exports=l},85048:e=>{var y=!0,t="untitled",a="",g="";function l(m){var C=m.indexOf("#");return C>-1?m.substring(0,C):m}function s(m){return m.models.length===0&&m.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),a="",m.models[m.models.length-1]}function o(m,C){var S=m.length>=2?m[1]:t;C.models.push({faces:[],name:S,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function n(m){m.length===2&&(a=m[1])}function i(m,C){var S=m.length,E=S>=2?parseFloat(m[1]):0,D=S>=3?parseFloat(m[2]):0,M=S>=4?parseFloat(m[3]):0;s(C).vertices.push({x:E,y:D,z:M})}function h(m,C){var S=m.length,E=S>=2?parseFloat(m[1]):0,D=S>=3?parseFloat(m[2]):0,M=S>=4?parseFloat(m[3]):0;isNaN(E)&&(E=0),isNaN(D)&&(D=0),isNaN(M)&&(M=0),y&&(D=1-D),s(C).textureCoords.push({u:E,v:D,w:M})}function r(m,C){var S=m.length,E=S>=2?parseFloat(m[1]):0,D=S>=3?parseFloat(m[2]):0,M=S>=4?parseFloat(m[3]):0;s(C).vertexNormals.push({x:E,y:D,z:M})}function f(m,C){var S=m.length-1;if(!(S<3)){for(var E={group:a,material:g,vertices:[]},D=0;D<S;D++){var M=m[D+1],w=M.split("/"),A=w.length;if(!(A<1||A>3)){var R=0,P=0,O=0;R=parseInt(w[0],10),A>1&&w[1]!==""&&(P=parseInt(w[1],10)),A>2&&(O=parseInt(w[2],10)),R!==0&&(R<0&&(R=s(C).vertices.length+1+R),P-=1,R-=1,O-=1,E.vertices.push({textureCoordsIndex:P,vertexIndex:R,vertexNormalIndex:O}))}}s(C).faces.push(E)}}function c(m,C){m.length>=2&&C.materialLibraries.push(m[1])}function d(m){m.length>=2&&(g=m[1])}var p=function(m,C){C===void 0&&(C=!0),y=C;var S={materials:{},materialLibraries:[],models:[]};a="",g="";for(var E=m.split(`
`),D=0;D<E.length;D++){var M=l(E[D]),w=M.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":o(w,S);break;case"g":n(w);break;case"v":i(w,S);break;case"vt":h(w,S);break;case"vn":r(w,S);break;case"f":f(w,S);break;case"mtllib":c(w,S);break;case"usemtl":d(w);break}}return S};e.exports=p},61485:(e,y,t)=>{var a=t(37589),g=function(l){for(var s={},o=l.split(`
`),n="",i=0;i<o.length;i++){var h=o[i].trim();if(!(h.indexOf("#")===0||h==="")){var r=h.replace(/\s\s+/g," ").trim().split(" ");switch(r[0].toLowerCase()){case"newmtl":{n=r[1];break}case"kd":{var f=Math.floor(r[1]*255),c=r.length>=2?Math.floor(r[2]*255):f,d=r.length>=3?Math.floor(r[3]*255):f;s[n]=a(f,c,d);break}}}}return s};e.exports=g},92570:e=>{var y=function(t,a,g,l){var s,o;if(g===void 0&&l===void 0){var n=t.getInCenter();s=n.x,o=n.y}var i=Math.cos(a),h=Math.sin(a),r=t.vertex1,f=t.vertex2,c=t.vertex3,d=r.x-s,p=r.y-o;r.set(d*i-p*h+s,d*h+p*i+o),d=f.x-s,p=f.y-o,f.set(d*i-p*h+s,d*h+p*i+o),d=c.x-s,p=c.y-o,c.set(d*i-p*h+s,d*h+p*i+o)};e.exports=y},39318:(e,y,t)=>{var a=t(83419),g=t(70554),l=t(25836),s=new a({Extends:l,initialize:function(n,i,h,r,f,c,d,p,m,C){c===void 0&&(c=16777215),d===void 0&&(d=1),p===void 0&&(p=0),m===void 0&&(m=0),C===void 0&&(C=0),l.call(this,n,i,h),this.vx=0,this.vy=0,this.vz=0,this.nx=p,this.ny=m,this.nz=C,this.u=r,this.v=f,this.color=c,this.alpha=d,this.tx=0,this.ty=0,this.ta=0,this.tu=r,this.tv=f},setUVs:function(o,n){return this.u=o,this.v=n,this.tu=o,this.tv=n,this},scrollUV:function(o,n){return this.tu+=o,this.tv+=n,this},scaleUV:function(o,n){return this.tu=this.u*o,this.tv=this.v*n,this},transformCoordinatesLocal:function(o,n,i,h){var r=this.x,f=this.y,c=this.z,d=o.val,p=r*d[0]+f*d[4]+c*d[8]+d[12],m=r*d[1]+f*d[5]+c*d[9]+d[13],C=r*d[2]+f*d[6]+c*d[10]+d[14],S=r*d[3]+f*d[7]+c*d[11]+d[15];this.vx=p/S*n,this.vy=-(m/S)*i,h<=0?this.vz=C/S:this.vz=-(C/S)},resize:function(o,n,i,h,r,f){return this.x=o,this.y=n,this.vx=this.x*i,this.vy=-this.y*h,this.vz=0,r<.5?this.vx+=i*(.5-r):r>.5&&(this.vx-=i*(r-.5)),f<.5?this.vy+=h*(.5-f):f>.5&&(this.vy-=h*(f-.5)),this},update:function(o,n,i,h,r,f,c,d){var p=this.vx*o+this.vy*i+r,m=this.vx*n+this.vy*h+f;return c&&(p=Math.round(p),m=Math.round(m)),this.tx=p,this.ty=m,this.ta=this.alpha*d,this},load:function(o,n,i,h,r){return o[++i]=this.tx,o[++i]=this.ty,o[++i]=this.tu,o[++i]=this.tv,o[++i]=h,o[++i]=r,n[++i]=g.getTintAppendFloatAlpha(this.color,this.ta),i}});e.exports=s},73090:(e,y,t)=>{var a={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};e.exports=a},96550:e=>{var y=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};e.exports=y},99706:(e,y,t)=>{var a=t(2141),g=function(l){return new a(l.x,l.y)};e.exports=g},68010:e=>{var y=function(t,a){return a.setTo(t.x,t.y)};e.exports=y},27814:e=>{var y=function(t,a){return t.x===a.x&&t.y===a.y};e.exports=y},73565:e=>{var y=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};e.exports=y},87555:(e,y,t)=>{var a=t(2141),g=function(l,s){if(s===void 0&&(s=new a),!Array.isArray(l))throw new Error("GetCentroid points argument must be an array");var o=l.length;if(o<1)throw new Error("GetCentroid points array must not be empty");if(o===1)s.x=l[0].x,s.y=l[0].y;else{for(var n=0;n<o;n++)s.x+=l[n].x,s.y+=l[n].y;s.x/=o,s.y/=o}return s};e.exports=g},28793:e=>{var y=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};e.exports=y},44405:e=>{var y=function(t){return t.x*t.x+t.y*t.y};e.exports=y},20873:(e,y,t)=>{var a=t(87841),g=function(l,s){s===void 0&&(s=new a);for(var o=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,r=0;r<l.length;r++){var f=l[r];f.x>o&&(o=f.x),f.x<n&&(n=f.x),f.y>i&&(i=f.y),f.y<h&&(h=f.y)}return s.x=n,s.y=h,s.width=o-n,s.height=i-h,s};e.exports=g},26152:(e,y,t)=>{var a=t(2141),g=function(l,s,o,n){return o===void 0&&(o=0),n===void 0&&(n=new a),n.x=l.x+(s.x-l.x)*o,n.y=l.y+(s.y-l.y)*o,n};e.exports=g},55767:e=>{var y=function(t){return t.setTo(t.y,t.x)};e.exports=y},79432:(e,y,t)=>{var a=t(2141),g=function(l,s){return s===void 0&&(s=new a),s.setTo(-l.x,-l.y)};e.exports=g},2141:(e,y,t)=>{var a=t(83419),g=t(23777),l=new a({initialize:function(o,n){o===void 0&&(o=0),n===void 0&&(n=o),this.type=g.POINT,this.x=o,this.y=n},setTo:function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this.x=s,this.y=o,this}});e.exports=l},72930:(e,y,t)=>{var a=t(2141),g=t(44405),l=function(s,o,n){n===void 0&&(n=new a);var i=s.x*o.x+s.y*o.y,h=i/g(o);return h!==0&&(n.x=h*o.x,n.y=h*o.y),n};e.exports=l},62880:(e,y,t)=>{var a=t(2141),g=function(l,s,o){o===void 0&&(o=new a);var n=l.x*s.x+l.y*s.y;return n!==0&&(o.x=n*s.x,o.y=n*s.y),o};e.exports=g},15093:(e,y,t)=>{var a=t(28793),g=function(l,s){if(l.x!==0||l.y!==0){var o=a(l);l.x/=o,l.y/=o}return l.x*=s,l.y*=s,l};e.exports=g},43711:(e,y,t)=>{var a=t(2141);a.Ceil=t(96550),a.Clone=t(99706),a.CopyFrom=t(68010),a.Equals=t(27814),a.Floor=t(73565),a.GetCentroid=t(87555),a.GetMagnitude=t(28793),a.GetMagnitudeSq=t(44405),a.GetRectangleFromPoints=t(20873),a.Interpolate=t(26152),a.Invert=t(55767),a.Negative=t(79432),a.Project=t(72930),a.ProjectUnit=t(62880),a.SetMagnitude=t(15093),e.exports=a},12306:(e,y,t)=>{var a=t(25717),g=function(l){return new a(l.points)};e.exports=g},63814:e=>{var y=function(t,a,g){for(var l=!1,s=-1,o=t.points.length-1;++s<t.points.length;o=s){var n=t.points[s].x,i=t.points[s].y,h=t.points[o].x,r=t.points[o].y;(i<=g&&g<r||r<=g&&g<i)&&a<(h-n)*(g-i)/(r-i)+n&&(l=!l)}return l};e.exports=y},99338:(e,y,t)=>{var a=t(63814),g=function(l,s){return a(l,s.x,s.y)};e.exports=g},94811:e=>{"use strict";function y(B,U,I){I=I||2;var N=U&&U.length,V=N?U[0]*I:B.length,H=t(B,0,V,I,!0),W=[];if(!H||H.next===H.prev)return W;var Y,j,k,$,Z,K,J;if(N&&(H=i(B,U,H,I)),B.length>80*I){Y=k=B[0],j=$=B[1];for(var Q=I;Q<V;Q+=I)Z=B[Q],K=B[Q+1],Z<Y&&(Y=Z),K<j&&(j=K),Z>k&&(k=Z),K>$&&($=K);J=Math.max(k-Y,$-j),J=J!==0?32767/J:0}return g(H,W,I,Y,j,J,0),W}function t(B,U,I,N,V){var H,W;if(V===X(B,U,I,N)>0)for(H=U;H<I;H+=N)W=L(H,B[H],B[H+1],W);else for(H=I-N;H>=U;H-=N)W=L(H,B[H],B[H+1],W);return W&&M(W,W.next)&&(G(W),W=W.next),W}function a(B,U){if(!B)return B;U||(U=B);var I=B,N;do if(N=!1,!I.steiner&&(M(I,I.next)||D(I.prev,I,I.next)===0)){if(G(I),I=U=I.prev,I===I.next)break;N=!0}else I=I.next;while(N||I!==U);return U}function g(B,U,I,N,V,H,W){if(B){!W&&H&&d(B,N,V,H);for(var Y=B,j,k;B.prev!==B.next;){if(j=B.prev,k=B.next,H?s(B,N,V,H):l(B)){U.push(j.i/I|0),U.push(B.i/I|0),U.push(k.i/I|0),G(B),B=k.next,Y=k.next;continue}if(B=k,B===Y){W?W===1?(B=o(a(B),U,I),g(B,U,I,N,V,H,2)):W===2&&n(B,U,I,N,V,H):g(a(B),U,I,N,V,H,1);break}}}}function l(B){var U=B.prev,I=B,N=B.next;if(D(U,I,N)>=0)return!1;for(var V=U.x,H=I.x,W=N.x,Y=U.y,j=I.y,k=N.y,$=V<H?V<W?V:W:H<W?H:W,Z=Y<j?Y<k?Y:k:j<k?j:k,K=V>H?V>W?V:W:H>W?H:W,J=Y>j?Y>k?Y:k:j>k?j:k,Q=N.next;Q!==U;){if(Q.x>=$&&Q.x<=K&&Q.y>=Z&&Q.y<=J&&S(V,Y,H,j,W,k,Q.x,Q.y)&&D(Q.prev,Q,Q.next)>=0)return!1;Q=Q.next}return!0}function s(B,U,I,N){var V=B.prev,H=B,W=B.next;if(D(V,H,W)>=0)return!1;for(var Y=V.x,j=H.x,k=W.x,$=V.y,Z=H.y,K=W.y,J=Y<j?Y<k?Y:k:j<k?j:k,Q=$<Z?$<K?$:K:Z<K?Z:K,_=Y>j?Y>k?Y:k:j>k?j:k,rt=$>Z?$>K?$:K:Z>K?Z:K,ut=m(J,Q,U,I,N),ot=m(_,rt,U,I,N),q=B.prevZ,it=B.nextZ;q&&q.z>=ut&&it&&it.z<=ot;){if(q.x>=J&&q.x<=_&&q.y>=Q&&q.y<=rt&&q!==V&&q!==W&&S(Y,$,j,Z,k,K,q.x,q.y)&&D(q.prev,q,q.next)>=0||(q=q.prevZ,it.x>=J&&it.x<=_&&it.y>=Q&&it.y<=rt&&it!==V&&it!==W&&S(Y,$,j,Z,k,K,it.x,it.y)&&D(it.prev,it,it.next)>=0))return!1;it=it.nextZ}for(;q&&q.z>=ut;){if(q.x>=J&&q.x<=_&&q.y>=Q&&q.y<=rt&&q!==V&&q!==W&&S(Y,$,j,Z,k,K,q.x,q.y)&&D(q.prev,q,q.next)>=0)return!1;q=q.prevZ}for(;it&&it.z<=ot;){if(it.x>=J&&it.x<=_&&it.y>=Q&&it.y<=rt&&it!==V&&it!==W&&S(Y,$,j,Z,k,K,it.x,it.y)&&D(it.prev,it,it.next)>=0)return!1;it=it.nextZ}return!0}function o(B,U,I){var N=B;do{var V=N.prev,H=N.next.next;!M(V,H)&&w(V,N,N.next,H)&&O(V,H)&&O(H,V)&&(U.push(V.i/I|0),U.push(N.i/I|0),U.push(H.i/I|0),G(N),G(N.next),N=B=H),N=N.next}while(N!==B);return a(N)}function n(B,U,I,N,V,H){var W=B;do{for(var Y=W.next.next;Y!==W.prev;){if(W.i!==Y.i&&E(W,Y)){var j=F(W,Y);W=a(W,W.next),j=a(j,j.next),g(W,U,I,N,V,H,0),g(j,U,I,N,V,H,0);return}Y=Y.next}W=W.next}while(W!==B)}function i(B,U,I,N){var V=[],H,W,Y,j,k;for(H=0,W=U.length;H<W;H++)Y=U[H]*N,j=H<W-1?U[H+1]*N:B.length,k=t(B,Y,j,N,!1),k===k.next&&(k.steiner=!0),V.push(C(k));for(V.sort(h),H=0;H<V.length;H++)I=r(V[H],I);return I}function h(B,U){return B.x-U.x}function r(B,U){var I=f(B,U);if(!I)return U;var N=F(I,B);return a(N,N.next),a(I,I.next)}function f(B,U){var I=U,N=B.x,V=B.y,H=-1/0,W;do{if(V<=I.y&&V>=I.next.y&&I.next.y!==I.y){var Y=I.x+(V-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(Y<=N&&Y>H&&(H=Y,W=I.x<I.next.x?I:I.next,Y===N))return W}I=I.next}while(I!==U);if(!W)return null;var j=W,k=W.x,$=W.y,Z=1/0,K;I=W;do N>=I.x&&I.x>=k&&N!==I.x&&S(V<$?N:H,V,k,$,V<$?H:N,V,I.x,I.y)&&(K=Math.abs(V-I.y)/(N-I.x),O(I,B)&&(K<Z||K===Z&&(I.x>W.x||I.x===W.x&&c(W,I)))&&(W=I,Z=K)),I=I.next;while(I!==j);return W}function c(B,U){return D(B.prev,B,U.prev)<0&&D(U.next,B,B.next)<0}function d(B,U,I,N){var V=B;do V.z===0&&(V.z=m(V.x,V.y,U,I,N)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==B);V.prevZ.nextZ=null,V.prevZ=null,p(V)}function p(B){var U,I,N,V,H,W,Y,j,k=1;do{for(I=B,B=null,H=null,W=0;I;){for(W++,N=I,Y=0,U=0;U<k&&(Y++,N=N.nextZ,!!N);U++);for(j=k;Y>0||j>0&&N;)Y!==0&&(j===0||!N||I.z<=N.z)?(V=I,I=I.nextZ,Y--):(V=N,N=N.nextZ,j--),H?H.nextZ=V:B=V,V.prevZ=H,H=V;I=N}H.nextZ=null,k*=2}while(W>1);return B}function m(B,U,I,N,V){return B=(B-I)*V|0,U=(U-N)*V|0,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,B|U<<1}function C(B){var U=B,I=B;do(U.x<I.x||U.x===I.x&&U.y<I.y)&&(I=U),U=U.next;while(U!==B);return I}function S(B,U,I,N,V,H,W,Y){return(V-W)*(U-Y)>=(B-W)*(H-Y)&&(B-W)*(N-Y)>=(I-W)*(U-Y)&&(I-W)*(H-Y)>=(V-W)*(N-Y)}function E(B,U){return B.next.i!==U.i&&B.prev.i!==U.i&&!P(B,U)&&(O(B,U)&&O(U,B)&&b(B,U)&&(D(B.prev,B,U.prev)||D(B,U.prev,U))||M(B,U)&&D(B.prev,B,B.next)>0&&D(U.prev,U,U.next)>0)}function D(B,U,I){return(U.y-B.y)*(I.x-U.x)-(U.x-B.x)*(I.y-U.y)}function M(B,U){return B.x===U.x&&B.y===U.y}function w(B,U,I,N){var V=R(D(B,U,I)),H=R(D(B,U,N)),W=R(D(I,N,B)),Y=R(D(I,N,U));return!!(V!==H&&W!==Y||V===0&&A(B,I,U)||H===0&&A(B,N,U)||W===0&&A(I,B,N)||Y===0&&A(I,U,N))}function A(B,U,I){return U.x<=Math.max(B.x,I.x)&&U.x>=Math.min(B.x,I.x)&&U.y<=Math.max(B.y,I.y)&&U.y>=Math.min(B.y,I.y)}function R(B){return B>0?1:B<0?-1:0}function P(B,U){var I=B;do{if(I.i!==B.i&&I.next.i!==B.i&&I.i!==U.i&&I.next.i!==U.i&&w(I,I.next,B,U))return!0;I=I.next}while(I!==B);return!1}function O(B,U){return D(B.prev,B,B.next)<0?D(B,U,B.next)>=0&&D(B,B.prev,U)>=0:D(B,U,B.prev)<0||D(B,B.next,U)<0}function b(B,U){var I=B,N=!1,V=(B.x+U.x)/2,H=(B.y+U.y)/2;do I.y>H!=I.next.y>H&&I.next.y!==I.y&&V<(I.next.x-I.x)*(H-I.y)/(I.next.y-I.y)+I.x&&(N=!N),I=I.next;while(I!==B);return N}function F(B,U){var I=new z(B.i,B.x,B.y),N=new z(U.i,U.x,U.y),V=B.next,H=U.prev;return B.next=U,U.prev=B,I.next=V,V.prev=I,N.next=I,I.prev=N,H.next=N,N.prev=H,N}function L(B,U,I,N){var V=new z(B,U,I);return N?(V.next=N.next,V.prev=N,N.next.prev=V,N.next=V):(V.prev=V,V.next=V),V}function G(B){B.next.prev=B.prev,B.prev.next=B.next,B.prevZ&&(B.prevZ.nextZ=B.nextZ),B.nextZ&&(B.nextZ.prevZ=B.prevZ)}function z(B,U,I){this.i=B,this.x=U,this.y=I,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}y.deviation=function(B,U,I,N){var V=U&&U.length,H=V?U[0]*I:B.length,W=Math.abs(X(B,0,H,I));if(V)for(var Y=0,j=U.length;Y<j;Y++){var k=U[Y]*I,$=Y<j-1?U[Y+1]*I:B.length;W-=Math.abs(X(B,k,$,I))}var Z=0;for(Y=0;Y<N.length;Y+=3){var K=N[Y]*I,J=N[Y+1]*I,Q=N[Y+2]*I;Z+=Math.abs((B[K]-B[Q])*(B[J+1]-B[K+1])-(B[K]-B[J])*(B[Q+1]-B[K+1]))}return W===0&&Z===0?0:Math.abs((Z-W)/W)};function X(B,U,I,N){for(var V=0,H=U,W=I-N;H<I;H+=N)V+=(B[W]-B[H])*(B[H+1]+B[W+1]),W=H;return V}y.flatten=function(B){for(var U=B[0][0].length,I={vertices:[],holes:[],dimensions:U},N=0,V=0;V<B.length;V++){for(var H=0;H<B[V].length;H++)for(var W=0;W<U;W++)I.vertices.push(B[V][H][W]);V>0&&(N+=B[V-1].length,I.holes.push(N))}return I},e.exports=y},13829:(e,y,t)=>{var a=t(87841),g=function(l,s){s===void 0&&(s=new a);for(var o=1/0,n=1/0,i=-o,h=-n,r,f=0;f<l.points.length;f++)r=l.points[f],o=Math.min(o,r.x),n=Math.min(n,r.y),i=Math.max(i,r.x),h=Math.max(h,r.y);return s.x=o,s.y=n,s.width=i-o,s.height=h-n,s};e.exports=g},26173:e=>{var y=function(t,a){a===void 0&&(a=[]);for(var g=0;g<t.points.length;g++)a.push(t.points[g].x),a.push(t.points[g].y);return a};e.exports=y},9564:(e,y,t)=>{var a=t(35001),g=t(23031),l=t(30052),s=function(o,n,i,h){h===void 0&&(h=[]);var r=o.points,f=l(o);!n&&i>0&&(n=f/i);for(var c=0;c<n;c++)for(var d=f*(c/n),p=0,m=0;m<r.length;m++){var C=r[m],S=r[(m+1)%r.length],E=new g(C.x,C.y,S.x,S.y),D=a(E);if(d<p||d>p+D){p+=D;continue}var M=E.getPoint((d-p)/D);h.push(M);break}return h};e.exports=s},30052:(e,y,t)=>{var a=t(35001),g=t(23031),l=function(s){for(var o=s.points,n=0,i=0;i<o.length;i++){var h=o[i],r=o[(i+1)%o.length],f=new g(h.x,h.y,r.x,r.y);n+=a(f)}return n};e.exports=l},25717:(e,y,t)=>{var a=t(83419),g=t(63814),l=t(9564),s=t(23777),o=new a({initialize:function(i){this.type=s.POLYGON,this.area=0,this.points=[],i&&this.setTo(i)},contains:function(n,i){return g(this,n,i)},setTo:function(n){if(this.area=0,this.points=[],typeof n=="string"&&(n=n.split(" ")),!Array.isArray(n))return this;for(var i,h=0;h<n.length;h++)i={x:0,y:0},typeof n[h]=="number"||typeof n[h]=="string"?(i.x=parseFloat(n[h]),i.y=parseFloat(n[h+1]),h++):Array.isArray(n[h])?(i.x=n[h][0],i.y=n[h][1]):(i.x=n[h].x,i.y=n[h].y),this.points.push(i);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var n=0,i,h,r=0;r<this.points.length-1;r++)i=this.points[r],h=this.points[r+1],n+=(h.x-i.x)*(i.y+h.y);return i=this.points[0],h=this.points[this.points.length-1],n+=(i.x-h.x)*(h.y+i.y),this.area=-n*.5,this.area},getPoints:function(n,i,h){return l(this,n,i,h)}});e.exports=o},8133:e=>{var y=function(t){return t.points.reverse(),t};e.exports=y},29524:e=>{function y(o,n){var i=o.x-n.x,h=o.y-n.y;return i*i+h*h}function t(o,n,i){var h=n.x,r=n.y,f=i.x-h,c=i.y-r;if(f!==0||c!==0){var d=((o.x-h)*f+(o.y-r)*c)/(f*f+c*c);d>1?(h=i.x,r=i.y):d>0&&(h+=f*d,r+=c*d)}return f=o.x-h,c=o.y-r,f*f+c*c}function a(o,n){for(var i=o[0],h=[i],r,f=1,c=o.length;f<c;f++)r=o[f],y(r,i)>n&&(h.push(r),i=r);return i!==r&&h.push(r),h}function g(o,n,i,h,r){for(var f=h,c,d=n+1;d<i;d++){var p=t(o[d],o[n],o[i]);p>f&&(c=d,f=p)}f>h&&(c-n>1&&g(o,n,c,h,r),r.push(o[c]),i-c>1&&g(o,c,i,h,r))}function l(o,n){var i=o.length-1,h=[o[0]];return g(o,0,i,n,h),h.push(o[i]),h}var s=function(o,n,i){n===void 0&&(n=1),i===void 0&&(i=!1);var h=o.points;if(h.length>2){var r=n*n;i||(h=a(h,r)),o.setTo(l(h,r))}return o};e.exports=s},5469:e=>{var y=function(a,g){return a[0]=g[0],a[1]=g[1],a},t=function(a){var g,l=[],s=a.points;for(g=0;g<s.length;g++)l.push([s[g].x,s[g].y]);var o=[];for(l.length>0&&o.push(y([0,0],l[0])),g=0;g<l.length-1;g++){var n=l[g],i=l[g+1],h=n[0],r=n[1],f=i[0],c=i[1];o.push([.85*h+.15*f,.85*r+.15*c]),o.push([.15*h+.85*f,.15*r+.85*c])}return l.length>1&&o.push(y([0,0],l[l.length-1])),a.setTo(o)};e.exports=t},24709:e=>{var y=function(t,a,g){for(var l=t.points,s=0;s<l.length;s++)l[s].x+=a,l[s].y+=g;return t};e.exports=y},58423:(e,y,t)=>{var a=t(25717);a.Clone=t(12306),a.Contains=t(63814),a.ContainsPoint=t(99338),a.Earcut=t(94811),a.GetAABB=t(13829),a.GetNumberArray=t(26173),a.GetPoints=t(9564),a.Perimeter=t(30052),a.Reverse=t(8133),a.Simplify=t(29524),a.Smooth=t(5469),a.Translate=t(24709),e.exports=a},62224:e=>{var y=function(t){return t.width*t.height};e.exports=y},98615:e=>{var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};e.exports=y},31688:e=>{var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};e.exports=y},67502:e=>{var y=function(t,a,g){return t.x=a-t.width/2,t.y=g-t.height/2,t};e.exports=y},65085:(e,y,t)=>{var a=t(87841),g=function(l){return new a(l.x,l.y,l.width,l.height)};e.exports=g},37303:e=>{var y=function(t,a,g){return t.width<=0||t.height<=0?!1:t.x<=a&&t.x+t.width>=a&&t.y<=g&&t.y+t.height>=g};e.exports=y},96553:(e,y,t)=>{var a=t(37303),g=function(l,s){return a(l,s.x,s.y)};e.exports=g},70273:e=>{var y=function(t,a){return a.width*a.height>t.width*t.height?!1:a.x>t.x&&a.x<t.right&&a.right>t.x&&a.right<t.right&&a.y>t.y&&a.y<t.bottom&&a.bottom>t.y&&a.bottom<t.bottom};e.exports=y},43459:e=>{var y=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};e.exports=y},77493:e=>{var y=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x,y:t.y}),a.push({x:t.right,y:t.y}),a.push({x:t.right,y:t.bottom}),a.push({x:t.x,y:t.bottom}),a};e.exports=y},9219:e=>{var y=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};e.exports=y},53751:(e,y,t)=>{var a=t(8249),g=function(l,s){var o=a(l);return o<a(s)?l.setSize(s.height*o,s.height):l.setSize(s.width,s.width/o),l.setPosition(s.centerX-l.width/2,s.centerY-l.height/2)};e.exports=g},16088:(e,y,t)=>{var a=t(8249),g=function(l,s){var o=a(l);return o>a(s)?l.setSize(s.height*o,s.height):l.setSize(s.width,s.width/o),l.setPosition(s.centerX-l.width/2,s.centerY-l.height/2)};e.exports=g},80774:e=>{var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};e.exports=y},83859:e=>{var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};e.exports=y},19217:(e,y,t)=>{var a=t(87841),g=t(36383),l=function(s,o){if(o===void 0&&(o=new a),s.length===0)return o;for(var n=Number.MAX_VALUE,i=Number.MAX_VALUE,h=g.MIN_SAFE_INTEGER,r=g.MIN_SAFE_INTEGER,f,c,d,p=0;p<s.length;p++)f=s[p],Array.isArray(f)?(c=f[0],d=f[1]):(c=f.x,d=f.y),n=Math.min(n,c),i=Math.min(i,d),h=Math.max(h,c),r=Math.max(r,d);return o.x=n,o.y=i,o.width=h-n,o.height=r-i,o};e.exports=l},9477:(e,y,t)=>{var a=t(87841),g=function(l,s,o,n,i){return i===void 0&&(i=new a),i.setTo(Math.min(l,o),Math.min(s,n),Math.abs(l-o),Math.abs(s-n))};e.exports=g},8249:e=>{var y=function(t){return t.height===0?NaN:t.width/t.height};e.exports=y},27165:(e,y,t)=>{var a=t(2141),g=function(l,s){return s===void 0&&(s=new a),s.x=l.centerX,s.y=l.centerY,s};e.exports=g},20812:(e,y,t)=>{var a=t(13019),g=t(2141),l=function(s,o,n){if(n===void 0&&(n=new g),o<=0||o>=1)return n.x=s.x,n.y=s.y,n;var i=a(s)*o;return o>.5?(i-=s.width+s.height,i<=s.width?(n.x=s.right-i,n.y=s.bottom):(n.x=s.x,n.y=s.bottom-(i-s.width))):i<=s.width?(n.x=s.x+i,n.y=s.y):(n.x=s.right,n.y=s.y+(i-s.width)),n};e.exports=l},34819:(e,y,t)=>{var a=t(20812),g=t(13019),l=function(s,o,n,i){i===void 0&&(i=[]),!o&&n>0&&(o=g(s)/n);for(var h=0;h<o;h++){var r=h/o;i.push(a(s,r))}return i};e.exports=l},51313:(e,y,t)=>{var a=t(2141),g=function(l,s){return s===void 0&&(s=new a),s.x=l.width,s.y=l.height,s};e.exports=g},86091:(e,y,t)=>{var a=t(67502),g=function(l,s,o){var n=l.centerX,i=l.centerY;return l.setSize(l.width+s*2,l.height+o*2),a(l,n,i)};e.exports=g},53951:(e,y,t)=>{var a=t(87841),g=t(59996),l=function(s,o,n){return n===void 0&&(n=new a),g(s,o)?(n.x=Math.max(s.x,o.x),n.y=Math.max(s.y,o.y),n.width=Math.min(s.right,o.right)-n.x,n.height=Math.min(s.bottom,o.bottom)-n.y):n.setEmpty(),n};e.exports=l},14649:(e,y,t)=>{var a=t(13019),g=t(2141),l=function(s,o,n,i){if(i===void 0&&(i=[]),!o&&!n)return i;o?n=Math.round(a(s)/o):o=a(s)/n;for(var h=s.x,r=s.y,f=0,c=0;c<n;c++)switch(i.push(new g(h,r)),f){case 0:h+=o,h>=s.right&&(f=1,r+=h-s.right,h=s.right);break;case 1:r+=o,r>=s.bottom&&(f=2,h-=r-s.bottom,r=s.bottom);break;case 2:h-=o,h<=s.left&&(f=3,r-=s.left-h,h=s.left);break;case 3:r-=o,r<=s.top&&(f=0,r=s.top);break}return i};e.exports=l},33595:e=>{var y=function(t,a){for(var g=t.x,l=t.right,s=t.y,o=t.bottom,n=0;n<a.length;n++)g=Math.min(g,a[n].x),l=Math.max(l,a[n].x),s=Math.min(s,a[n].y),o=Math.max(o,a[n].y);return t.x=g,t.y=s,t.width=l-g,t.height=o-s,t};e.exports=y},20074:e=>{var y=function(t,a){var g=Math.min(t.x,a.x),l=Math.max(t.right,a.right);t.x=g,t.width=l-g;var s=Math.min(t.y,a.y),o=Math.max(t.bottom,a.bottom);return t.y=s,t.height=o-s,t};e.exports=y},92171:e=>{var y=function(t,a,g){var l=Math.min(t.x,a),s=Math.max(t.right,a);t.x=l,t.width=s-l;var o=Math.min(t.y,g),n=Math.max(t.bottom,g);return t.y=o,t.height=n-o,t};e.exports=y},42981:e=>{var y=function(t,a,g){return t.x+=a,t.y+=g,t};e.exports=y},46907:e=>{var y=function(t,a){return t.x+=a.x,t.y+=a.y,t};e.exports=y},60170:e=>{var y=function(t,a){return t.x<a.right&&t.right>a.x&&t.y<a.bottom&&t.bottom>a.y};e.exports=y},13019:e=>{var y=function(t){return 2*(t.width+t.height)};e.exports=y},85133:(e,y,t)=>{var a=t(2141),g=t(39506),l=function(s,o,n){n===void 0&&(n=new a),o=g(o);var i=Math.sin(o),h=Math.cos(o),r=h>0?s.width/2:s.width/-2,f=i>0?s.height/2:s.height/-2;return Math.abs(r*i)<Math.abs(f*h)?f=r*i/h:r=f*h/i,n.x=r+s.centerX,n.y=f+s.centerY,n};e.exports=l},26597:(e,y,t)=>{var a=t(2141),g=function(l,s){return s===void 0&&(s=new a),s.x=l.x+Math.random()*l.width,s.y=l.y+Math.random()*l.height,s};e.exports=g},86470:(e,y,t)=>{var a=t(30976),g=t(70273),l=t(2141),s=function(o,n,i){if(i===void 0&&(i=new l),g(o,n))switch(a(0,3)){case 0:i.x=o.x+Math.random()*(n.right-o.x),i.y=o.y+Math.random()*(n.top-o.y);break;case 1:i.x=n.x+Math.random()*(o.right-n.x),i.y=n.bottom+Math.random()*(o.bottom-n.bottom);break;case 2:i.x=o.x+Math.random()*(n.x-o.x),i.y=n.y+Math.random()*(o.bottom-n.y);break;case 3:i.x=n.right+Math.random()*(o.right-n.right),i.y=o.y+Math.random()*(n.bottom-o.y);break}return i};e.exports=s},87841:(e,y,t)=>{var a=t(83419),g=t(37303),l=t(20812),s=t(34819),o=t(23777),n=t(23031),i=t(26597),h=new a({initialize:function(f,c,d,p){f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),this.type=o.RECTANGLE,this.x=f,this.y=c,this.width=d,this.height=p},contains:function(r,f){return g(this,r,f)},getPoint:function(r,f){return l(this,r,f)},getPoints:function(r,f,c){return s(this,r,f,c)},getRandomPoint:function(r){return i(this,r)},setTo:function(r,f,c,d){return this.x=r,this.y=f,this.width=c,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(r,f){return f===void 0&&(f=r),this.x=r,this.y=f,this},setSize:function(r,f){return f===void 0&&(f=r),this.width=r,this.height=f,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(r){return r===void 0&&(r=new n),r.setTo(this.x,this.y,this.right,this.y),r},getLineB:function(r){return r===void 0&&(r=new n),r.setTo(this.right,this.y,this.right,this.bottom),r},getLineC:function(r){return r===void 0&&(r=new n),r.setTo(this.right,this.bottom,this.x,this.bottom),r},getLineD:function(r){return r===void 0&&(r=new n),r.setTo(this.x,this.bottom,this.x,this.y),r},left:{get:function(){return this.x},set:function(r){r>=this.right?this.width=0:this.width=this.right-r,this.x=r}},right:{get:function(){return this.x+this.width},set:function(r){r<=this.x?this.width=0:this.width=r-this.x}},top:{get:function(){return this.y},set:function(r){r>=this.bottom?this.height=0:this.height=this.bottom-r,this.y=r}},bottom:{get:function(){return this.y+this.height},set:function(r){r<=this.y?this.height=0:this.height=r-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(r){this.x=r-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(r){this.y=r-this.height/2}}});e.exports=h},94845:e=>{var y=function(t,a){return t.width===a.width&&t.height===a.height};e.exports=y},31730:e=>{var y=function(t,a,g){return g===void 0&&(g=a),t.width*=a,t.height*=g,t};e.exports=y},36899:(e,y,t)=>{var a=t(87841),g=function(l,s,o){o===void 0&&(o=new a);var n=Math.min(l.x,s.x),i=Math.min(l.y,s.y),h=Math.max(l.right,s.right)-n,r=Math.max(l.bottom,s.bottom)-i;return o.setTo(n,i,h,r)};e.exports=g},93232:(e,y,t)=>{var a=t(87841);a.Area=t(62224),a.Ceil=t(98615),a.CeilAll=t(31688),a.CenterOn=t(67502),a.Clone=t(65085),a.Contains=t(37303),a.ContainsPoint=t(96553),a.ContainsRect=t(70273),a.CopyFrom=t(43459),a.Decompose=t(77493),a.Equals=t(9219),a.FitInside=t(53751),a.FitOutside=t(16088),a.Floor=t(80774),a.FloorAll=t(83859),a.FromPoints=t(19217),a.FromXY=t(9477),a.GetAspectRatio=t(8249),a.GetCenter=t(27165),a.GetPoint=t(20812),a.GetPoints=t(34819),a.GetSize=t(51313),a.Inflate=t(86091),a.Intersection=t(53951),a.MarchingAnts=t(14649),a.MergePoints=t(33595),a.MergeRect=t(20074),a.MergeXY=t(92171),a.Offset=t(42981),a.OffsetPoint=t(46907),a.Overlaps=t(60170),a.Perimeter=t(13019),a.PerimeterPoint=t(85133),a.Random=t(26597),a.RandomOutside=t(86470),a.SameDimensions=t(94845),a.Scale=t(31730),a.Union=t(36899),e.exports=a},41658:e=>{var y=function(t){var a=t.x1,g=t.y1,l=t.x2,s=t.y2,o=t.x3,n=t.y3;return Math.abs(((o-a)*(s-g)-(l-a)*(n-g))/2)};e.exports=y},39208:(e,y,t)=>{var a=t(16483),g=function(l,s,o){var n=o*(Math.sqrt(3)/2),i=l,h=s,r=l+o/2,f=s+n,c=l-o/2,d=s+n;return new a(i,h,r,f,c,d)};e.exports=g},39545:(e,y,t)=>{var a=t(94811),g=t(16483),l=function(s,o,n,i,h){o===void 0&&(o=null),n===void 0&&(n=1),i===void 0&&(i=1),h===void 0&&(h=[]);for(var r=a(s,o),f,c,d,p,m,C,S,E,D,M=0;M<r.length;M+=3)f=r[M],c=r[M+1],d=r[M+2],p=s[f*2]*n,m=s[f*2+1]*i,C=s[c*2]*n,S=s[c*2+1]*i,E=s[d*2]*n,D=s[d*2+1]*i,h.push(new g(p,m,C,S,E,D));return h};e.exports=l},90301:(e,y,t)=>{var a=t(16483),g=function(l,s,o,n){n===void 0&&(n=o);var i=l,h=s,r=l,f=s-n,c=l+o,d=s;return new a(i,h,r,f,c,d)};e.exports=g},23707:(e,y,t)=>{var a=t(97523),g=t(13584),l=function(s,o,n,i){i===void 0&&(i=a);var h=i(s),r=o-h.x,f=n-h.y;return g(s,r,f)};e.exports=l},97523:(e,y,t)=>{var a=t(2141),g=function(l,s){return s===void 0&&(s=new a),s.x=(l.x1+l.x2+l.x3)/3,s.y=(l.y1+l.y2+l.y3)/3,s};e.exports=g},24951:(e,y,t)=>{var a=t(26099);function g(s,o,n,i){return s*i-o*n}var l=function(s,o){o===void 0&&(o=new a);var n=s.x3,i=s.y3,h=s.x1-n,r=s.y1-i,f=s.x2-n,c=s.y2-i,d=2*g(h,r,f,c),p=g(r,h*h+r*r,c,f*f+c*c),m=g(h,h*h+r*r,f,f*f+c*c);return o.x=n-p/d,o.y=i+m/d,o};e.exports=l},85614:(e,y,t)=>{var a=t(96503),g=function(l,s){s===void 0&&(s=new a);var o=l.x1,n=l.y1,i=l.x2,h=l.y2,r=l.x3,f=l.y3,c=i-o,d=h-n,p=r-o,m=f-n,C=c*(o+i)+d*(n+h),S=p*(o+r)+m*(n+f),E=2*(c*(f-h)-d*(r-i)),D,M;if(Math.abs(E)<1e-6){var w=Math.min(o,i,r),A=Math.min(n,h,f);D=(Math.max(o,i,r)-w)*.5,M=(Math.max(n,h,f)-A)*.5,s.x=w+D,s.y=A+M,s.radius=Math.sqrt(D*D+M*M)}else s.x=(m*C-d*S)/E,s.y=(c*S-p*C)/E,D=s.x-o,M=s.y-n,s.radius=Math.sqrt(D*D+M*M);return s};e.exports=g},74422:(e,y,t)=>{var a=t(16483),g=function(l){return new a(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)};e.exports=g},10690:e=>{var y=function(t,a,g){var l=t.x3-t.x1,s=t.y3-t.y1,o=t.x2-t.x1,n=t.y2-t.y1,i=a-t.x1,h=g-t.y1,r=l*l+s*s,f=l*o+s*n,c=l*i+s*h,d=o*o+n*n,p=o*i+n*h,m=r*d-f*f,C=m===0?0:1/m,S=(d*c-f*p)*C,E=(r*p-f*c)*C;return S>=0&&E>=0&&S+E<1};e.exports=y},48653:e=>{var y=function(t,a,g,l){g===void 0&&(g=!1),l===void 0&&(l=[]);for(var s=t.x3-t.x1,o=t.y3-t.y1,n=t.x2-t.x1,i=t.y2-t.y1,h=s*s+o*o,r=s*n+o*i,f=n*n+i*i,c=h*f-r*r,d=c===0?0:1/c,p,m,C,S,E,D,M=t.x1,w=t.y1,A=0;A<a.length&&(C=a[A].x-M,S=a[A].y-w,E=s*C+o*S,D=n*C+i*S,p=(f*E-r*D)*d,m=(h*D-r*E)*d,!(p>=0&&m>=0&&p+m<1&&(l.push({x:a[A].x,y:a[A].y}),g)));A++);return l};e.exports=y},96006:(e,y,t)=>{var a=t(10690),g=function(l,s){return a(l,s.x,s.y)};e.exports=g},71326:e=>{var y=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};e.exports=y},71694:e=>{var y=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x1,y:t.y1}),a.push({x:t.x2,y:t.y2}),a.push({x:t.x3,y:t.y3}),a};e.exports=y},33522:e=>{var y=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2&&t.x3===a.x3&&t.y3===a.y3};e.exports=y},20437:(e,y,t)=>{var a=t(2141),g=t(35001),l=function(s,o,n){n===void 0&&(n=new a);var i=s.getLineA(),h=s.getLineB(),r=s.getLineC();if(o<=0||o>=1)return n.x=i.x1,n.y=i.y1,n;var f=g(i),c=g(h),d=g(r),p=f+c+d,m=p*o,C=0;return m<f?(C=m/f,n.x=i.x1+(i.x2-i.x1)*C,n.y=i.y1+(i.y2-i.y1)*C):m>f+c?(m-=f+c,C=m/d,n.x=r.x1+(r.x2-r.x1)*C,n.y=r.y1+(r.y2-r.y1)*C):(m-=f,C=m/c,n.x=h.x1+(h.x2-h.x1)*C,n.y=h.y1+(h.y2-h.y1)*C),n};e.exports=l},80672:(e,y,t)=>{var a=t(35001),g=t(2141),l=function(s,o,n,i){i===void 0&&(i=[]);var h=s.getLineA(),r=s.getLineB(),f=s.getLineC(),c=a(h),d=a(r),p=a(f),m=c+d+p;!o&&n>0&&(o=m/n);for(var C=0;C<o;C++){var S=m*(C/o),E=0,D=new g;S<c?(E=S/c,D.x=h.x1+(h.x2-h.x1)*E,D.y=h.y1+(h.y2-h.y1)*E):S>c+d?(S-=c+d,E=S/p,D.x=f.x1+(f.x2-f.x1)*E,D.y=f.y1+(f.y2-f.y1)*E):(S-=c,E=S/d,D.x=r.x1+(r.x2-r.x1)*E,D.y=r.y1+(r.y2-r.y1)*E),i.push(D)}return i};e.exports=l},39757:(e,y,t)=>{var a=t(2141);function g(s,o,n,i){var h=s-n,r=o-i,f=h*h+r*r;return Math.sqrt(f)}var l=function(s,o){o===void 0&&(o=new a);var n=s.x1,i=s.y1,h=s.x2,r=s.y2,f=s.x3,c=s.y3,d=g(f,c,h,r),p=g(n,i,f,c),m=g(h,r,n,i),C=d+p+m;return o.x=(n*d+h*p+f*m)/C,o.y=(i*d+r*p+c*m)/C,o};e.exports=l},13584:e=>{var y=function(t,a,g){return t.x1+=a,t.y1+=g,t.x2+=a,t.y2+=g,t.x3+=a,t.y3+=g,t};e.exports=y},1376:(e,y,t)=>{var a=t(35001),g=function(l){var s=l.getLineA(),o=l.getLineB(),n=l.getLineC();return a(s)+a(o)+a(n)};e.exports=g},90260:(e,y,t)=>{var a=t(2141),g=function(l,s){s===void 0&&(s=new a);var o=l.x2-l.x1,n=l.y2-l.y1,i=l.x3-l.x1,h=l.y3-l.y1,r=Math.random(),f=Math.random();return r+f>=1&&(r=1-r,f=1-f),s.x=l.x1+(o*r+i*f),s.y=l.y1+(n*r+h*f),s};e.exports=g},52172:(e,y,t)=>{var a=t(99614),g=t(39757),l=function(s,o){var n=g(s);return a(s,n.x,n.y,o)};e.exports=l},49907:(e,y,t)=>{var a=t(99614),g=function(l,s,o){return a(l,s.x,s.y,o)};e.exports=g},99614:e=>{var y=function(t,a,g,l){var s=Math.cos(l),o=Math.sin(l),n=t.x1-a,i=t.y1-g;return t.x1=n*s-i*o+a,t.y1=n*o+i*s+g,n=t.x2-a,i=t.y2-g,t.x2=n*s-i*o+a,t.y2=n*o+i*s+g,n=t.x3-a,i=t.y3-g,t.x3=n*s-i*o+a,t.y3=n*o+i*s+g,t};e.exports=y},16483:(e,y,t)=>{var a=t(83419),g=t(10690),l=t(20437),s=t(80672),o=t(23777),n=t(23031),i=t(90260),h=new a({initialize:function(f,c,d,p,m,C){f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=0),C===void 0&&(C=0),this.type=o.TRIANGLE,this.x1=f,this.y1=c,this.x2=d,this.y2=p,this.x3=m,this.y3=C},contains:function(r,f){return g(this,r,f)},getPoint:function(r,f){return l(this,r,f)},getPoints:function(r,f,c){return s(this,r,f,c)},getRandomPoint:function(r){return i(this,r)},setTo:function(r,f,c,d,p,m){return r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=0),this.x1=r,this.y1=f,this.x2=c,this.y2=d,this.x3=p,this.y3=m,this},getLineA:function(r){return r===void 0&&(r=new n),r.setTo(this.x1,this.y1,this.x2,this.y2),r},getLineB:function(r){return r===void 0&&(r=new n),r.setTo(this.x2,this.y2,this.x3,this.y3),r},getLineC:function(r){return r===void 0&&(r=new n),r.setTo(this.x3,this.y3,this.x1,this.y1),r},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(r){var f=0;this.x1<=this.x2&&this.x1<=this.x3?f=this.x1-r:this.x2<=this.x1&&this.x2<=this.x3?f=this.x2-r:f=this.x3-r,this.x1-=f,this.x2-=f,this.x3-=f}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(r){var f=0;this.x1>=this.x2&&this.x1>=this.x3?f=this.x1-r:this.x2>=this.x1&&this.x2>=this.x3?f=this.x2-r:f=this.x3-r,this.x1-=f,this.x2-=f,this.x3-=f}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(r){var f=0;this.y1<=this.y2&&this.y1<=this.y3?f=this.y1-r:this.y2<=this.y1&&this.y2<=this.y3?f=this.y2-r:f=this.y3-r,this.y1-=f,this.y2-=f,this.y3-=f}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(r){var f=0;this.y1>=this.y2&&this.y1>=this.y3?f=this.y1-r:this.y2>=this.y1&&this.y2>=this.y3?f=this.y2-r:f=this.y3-r,this.y1-=f,this.y2-=f,this.y3-=f}}});e.exports=h},84435:(e,y,t)=>{var a=t(16483);a.Area=t(41658),a.BuildEquilateral=t(39208),a.BuildFromPolygon=t(39545),a.BuildRight=t(90301),a.CenterOn=t(23707),a.Centroid=t(97523),a.CircumCenter=t(24951),a.CircumCircle=t(85614),a.Clone=t(74422),a.Contains=t(10690),a.ContainsArray=t(48653),a.ContainsPoint=t(96006),a.CopyFrom=t(71326),a.Decompose=t(71694),a.Equals=t(33522),a.GetPoint=t(20437),a.GetPoints=t(80672),a.InCenter=t(39757),a.Perimeter=t(1376),a.Offset=t(13584),a.Random=t(90260),a.Rotate=t(52172),a.RotateAroundPoint=t(49907),a.RotateAroundXY=t(99614),e.exports=a},74457:e=>{var y=function(t,a,g){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:g,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};e.exports=y},84409:e=>{var y=function(t,a){return function(g,l,s,o){var n=t.getPixelAlpha(l,s,o.texture.key,o.frame.name);return n&&n>=a}};e.exports=y},7003:(e,y,t)=>{var a=t(83419),g=t(93301),l=t(50792),s=t(8214),o=t(8443),n=t(78970),i=t(85098),h=t(42515),r=t(36210),f=t(61340),c=t(85955),d=new a({initialize:function(m,C){this.game=m,this.scaleManager,this.canvas,this.config=C,this.enabled=!0,this.events=new l,this.isOver=!0,this.defaultCursor="",this.keyboard=C.inputKeyboard?new n(this):null,this.mouse=C.inputMouse?new i(this):null,this.touch=C.inputTouch?new r(this):null,this.pointers=[],this.pointersTotal=C.inputActivePointers,C.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var S=0;S<=this.pointersTotal;S++){var E=new h(this,S);E.smoothFactor=C.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=C.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new f,this._tempMatrix2=new f,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],m.events.once(o.BOOT,this.boot,this)},boot:function(){var p=this.game,m=p.events;this.canvas=p.canvas,this.scaleManager=p.scale,this.events.emit(s.MANAGER_BOOT),m.on(o.PRE_RENDER,this.preRender,this),m.once(o.DESTROY,this.destroy,this)},setCanvasOver:function(p){this.isOver=!0,this.events.emit(s.GAME_OVER,p)},setCanvasOut:function(p){this.isOver=!1,this.events.emit(s.GAME_OUT,p)},preRender:function(){var p=this.game.loop.now,m=this.game.loop.delta,C=this.game.scene.getScenes(!0,!0);this.time=p,this.events.emit(s.MANAGER_UPDATE);for(var S=0;S<C.length;S++){var E=C[S];if(E.sys.input&&E.sys.input.updatePoll(p,m)&&this.globalTopOnly)return}},setDefaultCursor:function(p){this.defaultCursor=p,this.canvas.style.cursor!==p&&(this.canvas.style.cursor=p)},setCursor:function(p){p.cursor&&(this.canvas.style.cursor=p.cursor)},resetCursor:function(p){p.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(p){p===void 0&&(p=1);var m=[];this.pointersTotal+p>10&&(p=10-this.pointersTotal);for(var C=0;C<p;C++){var S=this.pointers.length,E=new h(this,S);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,m.push(E)}return m},updateInputPlugins:function(p,m){var C=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var S=0;S<C.length;S++){var E=C[S];if(E.sys.input){var D=E.sys.input.update(p,m);if(D&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(p){for(var m=this.pointers,C=[],S=0;S<p.changedTouches.length;S++)for(var E=p.changedTouches[S],D=1;D<this.pointersTotal;D++){var M=m[D];if(!M.active){M.touchstart(E,p),this.activePointer=M,C.push(M);break}}this.updateInputPlugins(g.TOUCH_START,C)},onTouchMove:function(p){for(var m=this.pointers,C=[],S=0;S<p.changedTouches.length;S++)for(var E=p.changedTouches[S],D=1;D<this.pointersTotal;D++){var M=m[D];if(M.active&&M.identifier===E.identifier){var w=document.elementFromPoint(E.clientX,E.clientY),A=w===this.canvas;!this.isOver&&A?this.setCanvasOver(p):this.isOver&&!A&&this.setCanvasOut(p),this.isOver&&(M.touchmove(E,p),this.activePointer=M,C.push(M));break}}this.updateInputPlugins(g.TOUCH_MOVE,C)},onTouchEnd:function(p){for(var m=this.pointers,C=[],S=0;S<p.changedTouches.length;S++)for(var E=p.changedTouches[S],D=1;D<this.pointersTotal;D++){var M=m[D];if(M.active&&M.identifier===E.identifier){M.touchend(E,p),C.push(M);break}}this.updateInputPlugins(g.TOUCH_END,C)},onTouchCancel:function(p){for(var m=this.pointers,C=[],S=0;S<p.changedTouches.length;S++)for(var E=p.changedTouches[S],D=1;D<this.pointersTotal;D++){var M=m[D];if(M.active&&M.identifier===E.identifier){M.touchcancel(E,p),C.push(M);break}}this.updateInputPlugins(g.TOUCH_CANCEL,C)},onMouseDown:function(p){var m=this.mousePointer;m.down(p),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(g.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(p){var m=this.mousePointer;m.move(p),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(g.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(p){var m=this.mousePointer;m.up(p),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(g.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(p){var m=this.mousePointer;m.wheel(p),this.activePointer=m,this.updateInputPlugins(g.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(p){var m=this.mouse.locked;this.mousePointer.locked=m,this.events.emit(s.POINTERLOCK_CHANGE,p,m)},inputCandidate:function(p,m){var C=p.input;if(!C||!C.enabled||!p.willRender(m))return!1;var S=!0,E=p.parentContainer;if(E)do{if(!E.willRender(m)){S=!1;break}E=E.parentContainer}while(E);return S},hitTest:function(p,m,C,S){S===void 0&&(S=this._tempHitTest);var E=this._tempPoint,D=C.scrollX,M=C.scrollY;S.length=0;var w=p.x,A=p.y;C.getWorldPoint(w,A,E),p.worldX=E.x,p.worldY=E.y;for(var R={x:0,y:0},P=this._tempMatrix,O=this._tempMatrix2,b=0;b<m.length;b++){var F=m[b];if(this.inputCandidate(F,C)){var L=E.x+D*F.scrollFactorX-D,G=E.y+M*F.scrollFactorY-M;F.parentContainer?(F.getWorldTransformMatrix(P,O),P.applyInverse(L,G,R)):c(L,G,F.x,F.y,F.rotation,F.scaleX,F.scaleY,R),this.pointWithinHitArea(F,R.x,R.y)&&S.push(F)}}return S},pointWithinHitArea:function(p,m,C){m+=p.displayOriginX,C+=p.displayOriginY;var S=p.input;return S&&S.hitAreaCallback(S.hitArea,m,C,p)?(S.localX=m,S.localY=C,!0):!1},pointWithinInteractiveObject:function(p,m,C){return p.hitArea?(m+=p.gameObject.displayOriginX,C+=p.gameObject.displayOriginY,p.localX=m,p.localY=C,p.hitAreaCallback(p.hitArea,m,C,p)):!1},transformPointer:function(p,m,C,S){var E=p.position,D=p.prevPosition;D.x=E.x,D.y=E.y;var M=this.scaleManager.transformX(m),w=this.scaleManager.transformY(C),A=p.smoothFactor;!S||A===0?(E.x=M,E.y=w):(E.x=M*A+D.x*(1-A),E.y=w*A+D.y*(1-A))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(o.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var p=0;p<this.pointers.length;p++)this.pointers[p].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});e.exports=d},48205:(e,y,t)=>{var a=t(96503),g=t(87902),l=t(83419),s=t(93301),o=t(74457),n=t(84409),i=t(20339),h=t(8497),r=t(81154),f=t(8214),c=t(50792),d=t(95540),p=t(23777),m=t(89639),C=t(41212),S=t(37277),E=t(87841),D=t(37303),M=t(44594),w=t(16483),A=t(10690),R=new l({Extends:c,initialize:function(O){c.call(this),this.scene=O,this.systems=O.sys,this.settings=O.sys.settings,this.manager=O.sys.game.input,this.pluginEvents=new c,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var b={cancelled:!1};this._eventContainer={stopPropagation:function(){b.cancelled=!0}},this._eventData=b,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,O.sys.events.once(M.BOOT,this.boot,this),O.sys.events.on(M.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(M.DESTROY,this.destroy,this),this.pluginEvents.emit(f.BOOT)},start:function(){var P=this.systems.events;P.on(M.TRANSITION_START,this.transitionIn,this),P.on(M.TRANSITION_OUT,this.transitionOut,this),P.on(M.TRANSITION_COMPLETE,this.transitionComplete,this),P.on(M.PRE_UPDATE,this.preUpdate,this),P.once(M.SHUTDOWN,this.shutdown,this),this.manager.events.on(f.GAME_OUT,this.onGameOut,this),this.manager.events.on(f.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(f.START)},onGameOver:function(P){this.isActive()&&this.emit(f.GAME_OVER,P.timeStamp,P)},onGameOut:function(P){this.isActive()&&this.emit(f.GAME_OUT,P.timeStamp,P)},preUpdate:function(){this.pluginEvents.emit(f.PRE_UPDATE);var P=this._pendingRemoval,O=this._pendingInsertion,b=P.length,F=O.length;if(!(b===0&&F===0)){for(var L=this._list,G=0;G<b;G++){var z=P[G],X=L.indexOf(z);X>-1&&(L.splice(X,1),this.clear(z,!0))}this._pendingRemoval.length=0,this._list=L.concat(O.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(P,O){if(!this.isActive())return!1;if(this.pluginEvents.emit(f.UPDATE,P,O),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var b,F=this.manager,L=F.pointers,G=F.pointersTotal;for(b=0;b<G;b++)L[b].updateMotion();if(this._list.length===0)return!1;var z=this.pollRate;if(z===-1)return!1;if(z>0)if(this._pollTimer-=O,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var X=!1;for(b=0;b<G;b++){var B=0,U=L[b];this._tempZones=[],this._temp=this.hitTestPointer(U),this.sortGameObjects(this._temp,U),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),B+=this.processOverOutEvents(U),this.getDragState(U)===2&&this.processDragThresholdEvent(U,P),B>0&&(X=!0)}return X},update:function(P,O){if(!this.isActive())return!1;for(var b=O.length,F=!1,L=0;L<b;L++){var G=0,z=O[L];switch(this._tempZones=[],this._temp=this.hitTestPointer(z),this.sortGameObjects(this._temp,z),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),P){case s.MOUSE_DOWN:G+=this.processDragDownEvent(z),G+=this.processDownEvents(z),G+=this.processOverOutEvents(z);break;case s.MOUSE_UP:G+=this.processDragUpEvent(z),G+=this.processUpEvents(z),G+=this.processOverOutEvents(z);break;case s.TOUCH_START:G+=this.processDragDownEvent(z),G+=this.processDownEvents(z),G+=this.processOverEvents(z);break;case s.TOUCH_END:case s.TOUCH_CANCEL:G+=this.processDragUpEvent(z),G+=this.processUpEvents(z),G+=this.processOutEvents(z);break;case s.MOUSE_MOVE:case s.TOUCH_MOVE:G+=this.processDragMoveEvent(z),G+=this.processMoveEvents(z),G+=this.processOverOutEvents(z);break;case s.MOUSE_WHEEL:G+=this.processWheelEvent(z);break}G>0&&(F=!0)}return this._updatedThisFrame=!0,F},clear:function(P,O){O===void 0&&(O=!1),this.disable(P);var b=P.input;b&&(this.removeDebug(P),this.manager.resetCursor(b),b.gameObject=void 0,b.target=void 0,b.hitArea=void 0,b.hitAreaCallback=void 0,b.callbackContext=void 0,P.input=null),O||this.queueForRemoval(P);var F=this._draggable.indexOf(P);return F>-1&&this._draggable.splice(F,1),P},disable:function(P){var O=P.input;O&&(O.enabled=!1,O.dragState=0);for(var b=this._drag,F=this._over,L=this.manager,G=0,z;G<L.pointersTotal;G++)z=b[G].indexOf(P),z>-1&&b[G].splice(z,1),z=F[G].indexOf(P),z>-1&&F[G].splice(z,1);return this},enable:function(P,O,b,F){return F===void 0&&(F=!1),P.input?P.input.enabled=!0:this.setHitArea(P,O,b),P.input&&F&&!P.input.dropZone&&(P.input.dropZone=F),this},hitTestPointer:function(P){for(var O=this.cameras.getCamerasBelowPointer(P),b=0;b<O.length;b++){for(var F=O[b],L=this.manager.hitTest(P,this._list,F),G=0;G<L.length;G++){var z=L[G];z.input.dropZone&&this._tempZones.push(z)}if(L.length>0)return P.camera=F,L}return P.camera=O[0],[]},processDownEvents:function(P){var O=0,b=this._temp,F=this._eventData,L=this._eventContainer;F.cancelled=!1;for(var G=!1,z=0;z<b.length;z++){var X=b[z];if(!(!X.input||!X.input.enabled)){if(O++,X.emit(f.GAMEOBJECT_POINTER_DOWN,P,X.input.localX,X.input.localY,L),F.cancelled||!X.input||!X.input.enabled){G=!0;break}if(this.emit(f.GAMEOBJECT_DOWN,P,X,L),F.cancelled||!X.input){G=!0;break}}}return!G&&this.manager&&(P.downElement===this.manager.game.canvas?this.emit(f.POINTER_DOWN,P,b):this.emit(f.POINTER_DOWN_OUTSIDE,P)),O},getDragState:function(P){return this._dragState[P.id]},setDragState:function(P,O){this._dragState[P.id]=O},processDragThresholdEvent:function(P,O){var b=!1,F=this.dragTimeThreshold,L=this.dragDistanceThreshold;if((L>0&&i(P.x,P.y,P.downX,P.downY)>=L||F>0&&O>=P.downTime+F)&&(b=!0),b)return this.setDragState(P,3),this.processDragStartList(P)},processDragStartList:function(P){if(this.getDragState(P)!==3)return 0;for(var O=this._drag[P.id],b=0;b<O.length;b++){var F=O[b],L=F.input;L.dragState=2,L.dragStartX=F.x,L.dragStartY=F.y,L.dragStartXGlobal=P.worldX,L.dragStartYGlobal=P.worldY,L.dragX=L.dragStartXGlobal-L.dragStartX,L.dragY=L.dragStartYGlobal-L.dragStartY,F.emit(f.GAMEOBJECT_DRAG_START,P,L.dragX,L.dragY),this.emit(f.DRAG_START,P,F)}return this.setDragState(P,4),O.length},processDragDownEvent:function(P){var O=this._temp;if(this._draggable.length===0||O.length===0||!P.primaryDown||this.getDragState(P)!==0)return 0;this.setDragState(P,1);for(var b=[],F=0;F<O.length;F++){var L=O[F];L.input.draggable&&L.input.dragState===0&&b.push(L)}return b.length===0?(this.setDragState(P,0),0):(b.length>1&&(this.sortGameObjects(b,P),this.topOnly&&b.splice(1)),this._drag[P.id]=b,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(P,3),this.processDragStartList(P)):(this.setDragState(P,2),0))},processDragMoveEvent:function(P){if(this.getDragState(P)===2&&this.processDragThresholdEvent(P,this.manager.game.loop.now),this.getDragState(P)!==4)return 0;for(var O=this._tempZones,b=this._drag[P.id],F=0;F<b.length;F++){var L=b[F],G=L.input,z=G.target;if(z){var X=O.indexOf(z);X===0?(L.emit(f.GAMEOBJECT_DRAG_OVER,P,z),this.emit(f.DRAG_OVER,P,L,z)):X>0?(L.emit(f.GAMEOBJECT_DRAG_LEAVE,P,z),this.emit(f.DRAG_LEAVE,P,L,z),G.target=O[0],z=G.target,L.emit(f.GAMEOBJECT_DRAG_ENTER,P,z),this.emit(f.DRAG_ENTER,P,L,z)):(L.emit(f.GAMEOBJECT_DRAG_LEAVE,P,z),this.emit(f.DRAG_LEAVE,P,L,z),O[0]?(G.target=O[0],z=G.target,L.emit(f.GAMEOBJECT_DRAG_ENTER,P,z),this.emit(f.DRAG_ENTER,P,L,z)):G.target=null)}else!z&&O[0]&&(G.target=O[0],z=G.target,L.emit(f.GAMEOBJECT_DRAG_ENTER,P,z),this.emit(f.DRAG_ENTER,P,L,z));var B,U;if(!L.parentContainer)B=P.worldX-G.dragX,U=P.worldY-G.dragY;else{var I=P.worldX-G.dragStartXGlobal,N=P.worldY-G.dragStartYGlobal,V=L.getParentRotation(),H=I*Math.cos(V)+N*Math.sin(V),W=N*Math.cos(V)-I*Math.sin(V);H*=1/L.parentContainer.scaleX,W*=1/L.parentContainer.scaleY,B=H+G.dragStartX,U=W+G.dragStartY}L.emit(f.GAMEOBJECT_DRAG,P,B,U),this.emit(f.DRAG,P,L,B,U)}return b.length},processDragUpEvent:function(P){for(var O=this._drag[P.id],b=0;b<O.length;b++){var F=O[b],L=F.input;if(L&&L.dragState===2){L.dragState=0,L.dragX=L.localX-F.displayOriginX,L.dragY=L.localY-F.displayOriginY;var G=!1,z=L.target;z&&(F.emit(f.GAMEOBJECT_DROP,P,z),this.emit(f.DROP,P,F,z),L.target=null,G=!0),F.input&&F.input.enabled&&(F.emit(f.GAMEOBJECT_DRAG_END,P,L.dragX,L.dragY,G),this.emit(f.DRAG_END,P,F,G))}}return this.setDragState(P,0),O.splice(0),0},processMoveEvents:function(P){var O=0,b=this._temp,F=this._eventData,L=this._eventContainer;F.cancelled=!1;for(var G=!1,z=0;z<b.length;z++){var X=b[z];if(!(!X.input||!X.input.enabled)){if(O++,X.emit(f.GAMEOBJECT_POINTER_MOVE,P,X.input.localX,X.input.localY,L),F.cancelled||!X.input||!X.input.enabled){G=!0;break}if(this.emit(f.GAMEOBJECT_MOVE,P,X,L),F.cancelled||!X.input||!X.input.enabled){G=!0;break}if(this.topOnly)break}}return G||this.emit(f.POINTER_MOVE,P,b),O},processWheelEvent:function(P){var O=0,b=this._temp,F=this._eventData,L=this._eventContainer;F.cancelled=!1;for(var G=!1,z=P.deltaX,X=P.deltaY,B=P.deltaZ,U=0;U<b.length;U++){var I=b[U];if(!(!I.input||!I.input.enabled)){if(O++,I.emit(f.GAMEOBJECT_POINTER_WHEEL,P,z,X,B,L),F.cancelled||!I.input||!I.input.enabled){G=!0;break}if(this.emit(f.GAMEOBJECT_WHEEL,P,I,z,X,B,L),F.cancelled||!I.input||!I.input.enabled){G=!0;break}}}return G||this.emit(f.POINTER_WHEEL,P,b,z,X,B),O},processOverEvents:function(P){var O=this._temp,b=0,F=O.length,L=[];if(F>0){var G=this.manager,z=this._eventData,X=this._eventContainer;z.cancelled=!1;for(var B=!1,U=0;U<F;U++){var I=O[U];if(!(!I.input||!I.input.enabled)){if(L.push(I),G.setCursor(I.input),I.emit(f.GAMEOBJECT_POINTER_OVER,P,I.input.localX,I.input.localY,X),b++,z.cancelled||!I.input||!I.input.enabled){B=!0;break}if(this.emit(f.GAMEOBJECT_OVER,P,I,X),z.cancelled||!I.input||!I.input.enabled){B=!0;break}}}B||this.emit(f.POINTER_OVER,P,L)}return this._over[P.id]=L,b},processOutEvents:function(P){var O=this._over[P.id],b=0,F=O.length;if(F>0){var L=this.manager,G=this._eventData,z=this._eventContainer;G.cancelled=!1;var X=!1;this.sortGameObjects(O,P);for(var B=0;B<F;B++){var U=O[B];if(U=O[B],!(!U.input||!U.input.enabled)){if(L.resetCursor(U.input),U.emit(f.GAMEOBJECT_POINTER_OUT,P,z),b++,G.cancelled||!U.input||!U.input.enabled){X=!0;break}if(this.emit(f.GAMEOBJECT_OUT,P,U,z),G.cancelled||!U.input||!U.input.enabled){X=!0;break}X||this.emit(f.POINTER_OUT,P,O)}}this._over[P.id]=[]}return b},processOverOutEvents:function(P){var O=this._temp,b,F,L=[],G=[],z=[],X=this._over[P.id],B=this._drag[P.id],U=this.manager;for(b=0;b<X.length;b++)F=X[b],O.indexOf(F)===-1&&B.indexOf(F)===-1?L.push(F):z.push(F);for(b=0;b<O.length;b++)F=O[b],X.indexOf(F)===-1&&G.push(F);var I=L.length,N=0,V=this._eventData,H=this._eventContainer;V.cancelled=!1;var W=!1;if(I>0){for(this.sortGameObjects(L,P),b=0;b<I;b++)if(F=L[b],!(!F.input||!F.input.enabled)){if(U.resetCursor(F.input),F.emit(f.GAMEOBJECT_POINTER_OUT,P,H),N++,V.cancelled||!F.input||!F.input.enabled){W=!0;break}if(this.emit(f.GAMEOBJECT_OUT,P,F,H),V.cancelled||!F.input||!F.input.enabled){W=!0;break}}W||this.emit(f.POINTER_OUT,P,L)}if(I=G.length,V.cancelled=!1,W=!1,I>0){for(this.sortGameObjects(G,P),b=0;b<I;b++)if(F=G[b],!(!F.input||!F.input.enabled)){if(U.setCursor(F.input),F.emit(f.GAMEOBJECT_POINTER_OVER,P,F.input.localX,F.input.localY,H),N++,V.cancelled||!F.input||!F.input.enabled){W=!0;break}if(this.emit(f.GAMEOBJECT_OVER,P,F,H),V.cancelled||!F.input||!F.input.enabled){W=!0;break}}W||this.emit(f.POINTER_OVER,P,G)}return X=z.concat(G),this._over[P.id]=this.sortGameObjects(X,P),N},processUpEvents:function(P){var O=this._temp,b=this._eventData,F=this._eventContainer;b.cancelled=!1;for(var L=!1,G=0;G<O.length;G++){var z=O[G];if(!(!z.input||!z.input.enabled)){if(z.emit(f.GAMEOBJECT_POINTER_UP,P,z.input.localX,z.input.localY,F),b.cancelled||!z.input||!z.input.enabled){L=!0;break}if(this.emit(f.GAMEOBJECT_UP,P,z,F),b.cancelled||!z.input||!z.input.enabled){L=!0;break}}}return!L&&this.manager&&(P.upElement===this.manager.game.canvas?this.emit(f.POINTER_UP,P,O):this.emit(f.POINTER_UP_OUTSIDE,P)),O.length},queueForInsertion:function(P){return this._pendingInsertion.indexOf(P)===-1&&this._list.indexOf(P)===-1&&this._pendingInsertion.push(P),this},queueForRemoval:function(P){return this._pendingRemoval.push(P),this},setDraggable:function(P,O){O===void 0&&(O=!0),Array.isArray(P)||(P=[P]);for(var b=0;b<P.length;b++){var F=P[b];F.input.draggable=O;var L=this._draggable.indexOf(F);O&&L===-1?this._draggable.push(F):!O&&L>-1&&this._draggable.splice(L,1)}return this},makePixelPerfect:function(P){P===void 0&&(P=1);var O=this.systems.textures;return n(O,P)},setHitArea:function(P,O,b){if(O===void 0)return this.setHitAreaFromTexture(P);Array.isArray(P)||(P=[P]);var F=!1,L=!1,G=!1,z=!1,X=!1,B=!0;if(C(O)&&Object.keys(O).length){var U=O,I=P.some(function(Y){return Y.hasOwnProperty("faces")});if(!I){O=d(U,"hitArea",null),b=d(U,"hitAreaCallback",null),X=d(U,"pixelPerfect",!1);var N=d(U,"alphaTolerance",1);X&&(O={},b=this.makePixelPerfect(N))}F=d(U,"draggable",!1),L=d(U,"dropZone",!1),G=d(U,"cursor",!1),z=d(U,"useHandCursor",!1),(!O||!b)&&(this.setHitAreaFromTexture(P),B=!1)}else typeof O=="function"&&!b&&(b=O,O={});for(var V=0;V<P.length;V++){var H=P[V];if(X&&H.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var W=H.input?H.input:o(H,O,b);W.customHitArea=B,W.dropZone=L,W.cursor=z?"pointer":G,H.input=W,F&&this.setDraggable(H),this.queueForInsertion(H)}return this},setHitAreaCircle:function(P,O,b,F,L){L===void 0&&(L=g);var G=new a(O,b,F);return this.setHitArea(P,G,L)},setHitAreaEllipse:function(P,O,b,F,L,G){G===void 0&&(G=r);var z=new h(O,b,F,L);return this.setHitArea(P,z,G)},setHitAreaFromTexture:function(P,O){O===void 0&&(O=D),Array.isArray(P)||(P=[P]);for(var b=0;b<P.length;b++){var F=P[b],L=F.frame,G=0,z=0;if(F.width?(G=F.width,z=F.height):L&&(G=L.realWidth,z=L.realHeight),F.type==="Container"&&(G===0||z===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}G!==0&&z!==0&&(F.input=o(F,new E(0,0,G,z),O),this.queueForInsertion(F))}return this},setHitAreaRectangle:function(P,O,b,F,L,G){G===void 0&&(G=D);var z=new E(O,b,F,L);return this.setHitArea(P,z,G)},setHitAreaTriangle:function(P,O,b,F,L,G,z,X){X===void 0&&(X=A);var B=new w(O,b,F,L,G,z);return this.setHitArea(P,B,X)},enableDebug:function(P,O){O===void 0&&(O=65280);var b=P.input;if(!b||!b.hitArea)return this;var F=b.hitArea,L=F.type,G=b.hitAreaDebug,z=this.systems.add,X=this.systems.updateList;G&&(X.remove(G),G.destroy(),G=null);var B=0,U=0;switch(L){case p.CIRCLE:G=z.arc(0,0,F.radius),B=F.x-F.radius,U=F.y-F.radius;break;case p.ELLIPSE:G=z.ellipse(0,0,F.width,F.height),B=F.x-F.width/2,U=F.y-F.height/2;break;case p.LINE:G=z.line(0,0,F.x1,F.y1,F.x2,F.y2);break;case p.POLYGON:G=z.polygon(0,0,F.points);break;case p.RECTANGLE:G=z.rectangle(0,0,F.width,F.height),B=F.x,U=F.y;break;case p.TRIANGLE:G=z.triangle(0,0,F.x1,F.y1,F.x2,F.y2,F.x3,F.y3);break}return G&&(G.isFilled=!1,G.strokeColor=O,G.preUpdate=function(){G.setVisible(P.visible),G.setStrokeStyle(1/P.scale,G.strokeColor),G.setDisplayOrigin(P.displayOriginX,P.displayOriginY);var I=P.x,N=P.y,V=P.rotation,H=P.scaleX,W=P.scaleY;if(P.parentContainer){var Y=P.getWorldTransformMatrix();I=Y.tx,N=Y.ty,V=Y.rotation,H=Y.scaleX,W=Y.scaleY}G.setRotation(V),G.setScale(H,W),G.setPosition(I+B*H,N+U*W),G.setScrollFactor(P.scrollFactorX,P.scrollFactorY),G.setDepth(P.depth)},X.add(G),b.hitAreaDebug=G),this},removeDebug:function(P){var O=P.input;if(O&&O.hitAreaDebug){var b=O.hitAreaDebug;b.destroy(),O.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(P){return this.pollRate=P,this._pollTimer=0,this},setGlobalTopOnly:function(P){return this.manager.globalTopOnly=P,this},setTopOnly:function(P){return this.topOnly=P,this},sortGameObjects:function(P,O){if(P.length<2||!O.camera)return P;var b=O.camera.renderList;return P.sort(function(F,L){var G=Math.max(b.indexOf(F),0),z=Math.max(b.indexOf(L),0);return z-G})},sortDropZones:function(P){return P.length<2?P:(this.scene.sys.depthSort(),P.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(P,O){if(!P.parentContainer&&!O.parentContainer)return this.displayList.getIndex(O)-this.displayList.getIndex(P);if(P.parentContainer===O.parentContainer)return O.parentContainer.getIndex(O)-P.parentContainer.getIndex(P);if(P.parentContainer===O)return-1;if(O.parentContainer===P)return 1;for(var b=P.getIndexList(),F=O.getIndexList(),L=Math.min(b.length,F.length),G=0;G<L;G++){var z=b[G],X=F[G];if(z!==X)return X-z}return F.length-b.length;return 0},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(P){return this.manager.addPointer(P)},setDefaultCursor:function(P){return this.manager.setDefaultCursor(P),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(f.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var P=0;P<10;P++)this._drag[P]=[],this._over[P]=[];this.removeAllListeners();var O=this.manager;O.canvas.style.cursor=O.defaultCursor;var b=this.systems.events;b.off(M.TRANSITION_START,this.transitionIn,this),b.off(M.TRANSITION_OUT,this.transitionOut,this),b.off(M.TRANSITION_COMPLETE,this.transitionComplete,this),b.off(M.PRE_UPDATE,this.preUpdate,this),O.events.off(f.GAME_OUT,this.onGameOut,this),O.events.off(f.GAME_OVER,this.onGameOver,this),b.off(M.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var P=this.manager.pointers,O=0;O<P.length;O++)P[O].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(f.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(M.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});S.register("InputPlugin",R,"input"),e.exports=R},89639:(e,y,t)=>{var a=t(35154),g={},l={};l.register=function(s,o,n,i,h){g[s]={plugin:o,mapping:n,settingsKey:i,configKey:h}},l.getPlugin=function(s){return g[s]},l.install=function(s){var o=s.scene.sys,n=o.settings.input,i=o.game.config;for(var h in g){var r=g[h].plugin,f=g[h].mapping,c=g[h].settingsKey,d=g[h].configKey;a(n,c,i[d])&&(s[f]=new r(s))}},l.remove=function(s){g.hasOwnProperty(s)&&delete g[s]},e.exports=l},42515:(e,y,t)=>{var a=t(31040),g=t(83419),l=t(20339),s=t(43855),o=t(47235),n=t(26099),i=t(25892),h=new g({initialize:function(f,c){this.manager=f,this.id=c,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new n,this.prevPosition=new n,this.midPoint=new n(-1,-1),this.velocity=new n,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=c===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(r){var f=r.getWorldPoint(this.x,this.y);return this.worldX=f.x,this.worldY=f.y,this},positionToCamera:function(r,f){return r.getWorldPoint(this.x,this.y,f)},updateMotion:function(){var r=this.position.x,f=this.position.y,c=this.midPoint.x,d=this.midPoint.y;if(!(r===c&&f===d)){var p=o(this.motionFactor,c,r),m=o(this.motionFactor,d,f);s(p,r,.1)&&(p=r),s(m,f,.1)&&(m=f),this.midPoint.set(p,m);var C=r-p,S=f-m;this.velocity.set(C,S),this.angle=a(p,m,r,f),this.distance=Math.sqrt(C*C+S*S)}},up:function(r){"buttons"in r&&(this.buttons=r.buttons),this.event=r,this.button=r.button,this.upElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),r.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=r.timeStamp,this.wasTouch=!1)},down:function(r){"buttons"in r&&(this.buttons=r.buttons),this.event=r,this.button=r.button,this.downElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),r.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),i.macOS&&r.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=r.timeStamp),this.wasTouch=!1},move:function(r){"buttons"in r&&(this.buttons=r.buttons),this.event=r,this.manager.transformPointer(this,r.pageX,r.pageY,!0),this.locked&&(this.movementX=r.movementX||r.mozMovementX||r.webkitMovementX||0,this.movementY=r.movementY||r.mozMovementY||r.webkitMovementY||0),this.moveTime=r.timeStamp,this.wasTouch=!1},wheel:function(r){"buttons"in r&&(this.buttons=r.buttons),this.event=r,this.manager.transformPointer(this,r.pageX,r.pageY,!1),this.deltaX=r.deltaX,this.deltaY=r.deltaY,this.deltaZ=r.deltaZ,this.wasTouch=!1},touchstart:function(r,f){r.pointerId&&(this.pointerId=r.pointerId),this.identifier=r.identifier,this.target=r.target,this.active=!0,this.buttons=1,this.event=f,this.downElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=f.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(r,f){this.event=f,this.manager.transformPointer(this,r.pageX,r.pageY,!0),this.moveTime=f.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(r,f){this.buttons=0,this.event=f,this.upElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=f.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(r,f){this.buttons=0,this.event=f,this.upElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=f.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(r,f){r===void 0&&(r=10),f===void 0&&(f=[]);for(var c=this.prevPosition.x,d=this.prevPosition.y,p=this.position.x,m=this.position.y,C=0;C<r;C++){var S=1/r*C;f[C]={x:o(S,c,p),y:o(S,d,m)}}return f},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(r){this.position.x=r}},y:{get:function(){return this.position.y},set:function(r){this.position.y=r}},time:{get:function(){return this.event?this.event.timeStamp:0}}});e.exports=h},93301:e=>{var y={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};e.exports=y},7179:e=>{e.exports="boot"},85375:e=>{e.exports="destroy"},39843:e=>{e.exports="dragend"},23388:e=>{e.exports="dragenter"},16133:e=>{e.exports="drag"},27829:e=>{e.exports="dragleave"},53904:e=>{e.exports="dragover"},56058:e=>{e.exports="dragstart"},2642:e=>{e.exports="drop"},88171:e=>{e.exports="gameobjectdown"},36147:e=>{e.exports="dragend"},71692:e=>{e.exports="dragenter"},96149:e=>{e.exports="drag"},81285:e=>{e.exports="dragleave"},74048:e=>{e.exports="dragover"},21322:e=>{e.exports="dragstart"},49378:e=>{e.exports="drop"},86754:e=>{e.exports="gameobjectmove"},86433:e=>{e.exports="gameobjectout"},60709:e=>{e.exports="gameobjectover"},24081:e=>{e.exports="pointerdown"},11172:e=>{e.exports="pointermove"},18907:e=>{e.exports="pointerout"},95579:e=>{e.exports="pointerover"},35368:e=>{e.exports="pointerup"},26972:e=>{e.exports="wheel"},47078:e=>{e.exports="gameobjectup"},73802:e=>{e.exports="gameobjectwheel"},56718:e=>{e.exports="gameout"},25936:e=>{e.exports="gameover"},27503:e=>{e.exports="boot"},50852:e=>{e.exports="process"},96438:e=>{e.exports="update"},59152:e=>{e.exports="pointerlockchange"},47777:e=>{e.exports="pointerdown"},27957:e=>{e.exports="pointerdownoutside"},19444:e=>{e.exports="pointermove"},54251:e=>{e.exports="pointerout"},18667:e=>{e.exports="pointerover"},27192:e=>{e.exports="pointerup"},24652:e=>{e.exports="pointerupoutside"},45132:e=>{e.exports="wheel"},44512:e=>{e.exports="preupdate"},15757:e=>{e.exports="shutdown"},41637:e=>{e.exports="start"},93802:e=>{e.exports="update"},8214:(e,y,t)=>{e.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o){this.pad=s,this.events=s.events,this.index=o,this.value=0,this.threshold=.1},update:function(l){this.value=l},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});e.exports=g},28884:(e,y,t)=>{var a=t(83419),g=t(92734),l=new a({initialize:function(o,n){this.pad=o,this.events=o.manager,this.index=n,this.value=0,this.threshold=1,this.pressed=!1},update:function(s){this.value=s;var o=this.pad,n=this.index;s>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(g.BUTTON_DOWN,o,this,s),this.pad.emit(g.GAMEPAD_BUTTON_DOWN,n,s,this)):this.pressed&&(this.pressed=!1,this.events.emit(g.BUTTON_UP,o,this,s),this.pad.emit(g.GAMEPAD_BUTTON_UP,n,s,this))},destroy:function(){this.pad=null,this.events=null}});e.exports=l},99125:(e,y,t)=>{var a=t(97421),g=t(28884),l=t(83419),s=t(50792),o=t(26099),n=new l({Extends:s,initialize:function(h,r){s.call(this),this.manager=h,this.pad=r,this.id=r.id,this.index=r.index;for(var f=[],c=0;c<r.buttons.length;c++)f.push(new g(this,c));this.buttons=f;var d=[];for(c=0;c<r.axes.length;c++)d.push(new a(this,c));this.axes=d,this.vibration=r.vibrationActuator;var p={value:0,pressed:!1};this._LCLeft=f[14]?f[14]:p,this._LCRight=f[15]?f[15]:p,this._LCTop=f[12]?f[12]:p,this._LCBottom=f[13]?f[13]:p,this._RCLeft=f[2]?f[2]:p,this._RCRight=f[1]?f[1]:p,this._RCTop=f[3]?f[3]:p,this._RCBottom=f[0]?f[0]:p,this._FBLeftTop=f[4]?f[4]:p,this._FBLeftBottom=f[6]?f[6]:p,this._FBRightTop=f[5]?f[5]:p,this._FBRightBottom=f[7]?f[7]:p;var m={value:0};this._HAxisLeft=d[0]?d[0]:m,this._VAxisLeft=d[1]?d[1]:m,this._HAxisRight=d[2]?d[2]:m,this._VAxisRight=d[3]?d[3]:m,this.leftStick=new o,this.rightStick=new o,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(i){return this.axes[i].getValue()},setAxisThreshold:function(i){for(var h=0;h<this.axes.length;h++)this.axes[h].threshold=i},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(i){return this.buttons[i].value},isButtonDown:function(i){return this.buttons[i].pressed},update:function(i){if(!(i.timestamp<this._created)){var h,r=this.buttons,f=i.buttons,c=r.length;for(h=0;h<c;h++)r[h].update(f[h].value);var d=this.axes,p=i.axes;for(c=d.length,h=0;h<c;h++)d[h].update(p[h]);c>=2&&(this.leftStick.set(d[0].getValue(),d[1].getValue()),c>=4&&this.rightStick.set(d[2].getValue(),d[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var i;for(i=0;i<this.buttons.length;i++)this.buttons[i].destroy();for(i=0;i<this.axes.length;i++)this.axes[i].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});e.exports=n},56654:(e,y,t)=>{var a=t(83419),g=t(50792),l=t(92734),s=t(99125),o=t(35154),n=t(89639),i=t(8214),h=new a({Extends:g,initialize:function(f){g.call(this),this.scene=f.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=f,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,f.pluginEvents.once(i.BOOT,this.boot,this),f.pluginEvents.on(i.START,this.start,this)},boot:function(){var r=this.scene.sys.game,f=this.settings.input,c=r.config;this.enabled=o(f,"gamepad",c.inputGamepad)&&r.device.input.gamepads,this.target=o(f,"gamepad.target",c.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var r=this,f=this.target,c=function(d){d.defaultPrevented||!r.isActive()||(r.refreshPads(),r.queue.push(d))};this.onGamepadHandler=c,f.addEventListener("gamepadconnected",c,!1),f.addEventListener("gamepaddisconnected",c,!1),this.sceneInputPlugin.pluginEvents.on(i.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(i.UPDATE,this.update);for(var r=0;r<this.gamepads.length;r++)this.gamepads[r].removeAllListeners()},disconnectAll:function(){for(var r=0;r<this.gamepads.length;r++)this.gamepads[r].pad.connected=!1},refreshPads:function(){var r=navigator.getGamepads();if(!r)this.disconnectAll();else for(var f=this.gamepads,c=0;c<r.length;c++){var d=r[c];if(d){var p=d.id,m=d.index,C=f[m];if(C)C.id!==p?(C.destroy(),f[m]=new s(this,d)):C.update(d);else{var S=new s(this,d);f[m]=S,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=S):this._pad3=S:this._pad2=S:this._pad1=S}}}},getAll:function(){for(var r=[],f=this.gamepads,c=0;c<f.length;c++)f[c]&&r.push(f[c]);return r},getPad:function(r){for(var f=this.gamepads,c=0;c<f.length;c++)if(f[c]&&f[c].index===r)return f[c]},update:function(){if(this.enabled){this.refreshPads();var r=this.queue.length;if(r!==0)for(var f=this.queue.splice(0,r),c=0;c<r;c++){var d=f[c],p=this.getPad(d.gamepad.index);d.type==="gamepadconnected"?this.emit(l.CONNECTED,p,d):d.type==="gamepaddisconnected"&&this.emit(l.DISCONNECTED,p,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var r=0;r<this.gamepads.length;r++)this.gamepads[r]&&this.gamepads[r].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});n.register("GamepadPlugin",h,"gamepad","gamepad","inputGamepad"),e.exports=h},89651:e=>{e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:e=>{e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:e=>{e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(e,y,t)=>{e.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:e=>{e.exports="down"},7629:e=>{e.exports="up"},42206:e=>{e.exports="connected"},86544:e=>{e.exports="disconnected"},94784:e=>{e.exports="down"},14325:e=>{e.exports="up"},92734:(e,y,t)=>{e.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(e,y,t)=>{e.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(e,y,t)=>{var a=t(93301),g=t(79291),l={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};l=g(!1,l,a),e.exports=l},78970:(e,y,t)=>{var a=t(72905),g=t(83419),l=t(8443),s=t(8214),o=t(46032),n=t(29747),i=new g({initialize:function(r){this.manager=r,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=n,this.onKeyUp=n,r.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputKeyboard,this.target=h.inputKeyboardEventTarget,this.addCapture(h.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(l.POST_STEP,this.postUpdate,this)},startListeners:function(){var h=this;this.onKeyDown=function(f){if(!(f.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(f),h.manager.events.emit(s.MANAGER_PROCESS);var c=f.altKey||f.ctrlKey||f.shiftKey||f.metaKey;h.preventDefault&&!c&&h.captures.indexOf(f.keyCode)>-1&&f.preventDefault()}},this.onKeyUp=function(f){if(!(f.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(f),h.manager.events.emit(s.MANAGER_PROCESS);var c=f.altKey||f.ctrlKey||f.shiftKey||f.metaKey;h.preventDefault&&!c&&h.captures.indexOf(f.keyCode)>-1&&f.preventDefault()}};var r=this.target;r&&(r.addEventListener("keydown",this.onKeyDown,!1),r.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var h=this.target;h.removeEventListener("keydown",this.onKeyDown,!1),h.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var r=this.captures,f=0;f<h.length;f++){var c=h[f];typeof c=="string"&&(c=o[c.trim().toUpperCase()]),r.indexOf(c)===-1&&r.push(c)}this.preventDefault=r.length>0},removeCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var r=this.captures,f=0;f<h.length;f++){var c=h[f];typeof c=="string"&&(c=o[c.toUpperCase()]),a(r,c)}this.preventDefault=r.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(l.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});e.exports=i},28846:(e,y,t)=>{var a=t(83419),g=t(50792),l=t(95922),s=t(8443),o=t(35154),n=t(8214),i=t(89639),h=t(30472),r=t(46032),f=t(87960),c=t(74600),d=t(44594),p=t(56583),m=new a({Extends:g,initialize:function(S){g.call(this),this.game=S.systems.game,this.scene=S.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=S,this.manager=S.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,S.pluginEvents.once(n.BOOT,this.boot,this),S.pluginEvents.on(n.START,this.start,this)},boot:function(){var C=this.settings.input;this.enabled=o(C,"keyboard",!0);var S=o(C,"keyboard.capture",null);S&&this.addCaptures(S),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(n.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this),this.game.events.on(s.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(C){return this.manager.addCapture(C),this},removeCapture:function(C){return this.manager.removeCapture(C),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:r.UP,down:r.DOWN,left:r.LEFT,right:r.RIGHT,space:r.SPACE,shift:r.SHIFT})},addKeys:function(C,S,E){S===void 0&&(S=!0),E===void 0&&(E=!1);var D={};if(typeof C=="string"){C=C.split(",");for(var M=0;M<C.length;M++){var w=C[M].trim();w&&(D[w]=this.addKey(w,S,E))}}else for(var A in C)D[A]=this.addKey(C[A],S,E);return D},addKey:function(C,S,E){S===void 0&&(S=!0),E===void 0&&(E=!1);var D=this.keys;if(C instanceof h){var M=D.indexOf(C);return M>-1?D[M]=C:D[C.keyCode]=C,S&&this.addCapture(C.keyCode),C.setEmitOnRepeat(E),C}return typeof C=="string"&&(C=r[C.toUpperCase()]),D[C]||(D[C]=new h(this,C),S&&this.addCapture(C),D[C].setEmitOnRepeat(E)),D[C]},removeKey:function(C,S,E){S===void 0&&(S=!1),E===void 0&&(E=!1);var D=this.keys,M;if(C instanceof h){var w=D.indexOf(C);w>-1&&(M=this.keys[w],this.keys[w]=void 0)}else typeof C=="string"&&(C=r[C.toUpperCase()]);return D[C]&&(M=D[C],D[C]=void 0),M&&(M.plugin=null,E&&this.removeCapture(M.keyCode),S&&M.destroy()),this},removeAllKeys:function(C,S){C===void 0&&(C=!1),S===void 0&&(S=!1);for(var E=this.keys,D=0;D<E.length;D++){var M=E[D];M&&(E[D]=void 0,S&&this.removeCapture(M.keyCode),C&&M.destroy())}return this},createCombo:function(C,S){return new f(this,C,S)},checkDown:function(C,S){if(S===void 0&&(S=0),this.enabled&&C.isDown){var E=p(this.time-C.timeDown,S);if(E>C._tick)return C._tick=E,!0}return!1},update:function(){var C=this.manager.queue,S=C.length;if(!(!this.isActive()||S===0))for(var E=this.keys,D=0;D<S;D++){var M=C[D],w=M.keyCode,A=E[w],R=!1;M.cancelled===void 0&&(M.cancelled=0,M.stopImmediatePropagation=function(){M.cancelled=1},M.stopPropagation=function(){M.cancelled=-1}),M.cancelled!==-1&&(w===this.prevCode&&M.timeStamp===this.prevTime&&M.type===this.prevType||(this.prevCode=w,this.prevTime=M.timeStamp,this.prevType=M.type,M.type==="keydown"?(A&&(R=A.isDown,A.onDown(M)),!M.cancelled&&(!A||!R)&&(c[w]&&this.emit(l.KEY_DOWN+c[w],M),M.cancelled||this.emit(l.ANY_KEY_DOWN,M))):(A&&A.onUp(M),M.cancelled||(c[w]&&this.emit(l.KEY_UP+c[w],M),M.cancelled||this.emit(l.ANY_KEY_UP,M))),M.cancelled===1&&(M.cancelled=0)))}},resetKeys:function(){for(var C=this.keys,S=0;S<C.length;S++)C[S]&&C[S].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(n.MANAGER_PROCESS,this.update,this),this.game.events.off(s.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var C=this.keys,S=0;S<C.length;S++)C[S]&&C[S].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});i.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),e.exports=m},66970:e=>{var y=function(t,a){return a.timeLastMatched=t.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};e.exports=y},87960:(e,y,t)=>{var a=t(83419),g=t(95922),l=t(95540),s=t(68769),o=t(92803),n=new a({initialize:function(h,r,f){if(f===void 0&&(f={}),r.length<2)return!1;this.manager=h,this.enabled=!0,this.keyCodes=[];for(var c=0;c<r.length;c++){var d=r[c];typeof d=="string"?this.keyCodes.push(d.toUpperCase().charCodeAt(0)):typeof d=="number"?this.keyCodes.push(d):d.hasOwnProperty("keyCode")&&this.keyCodes.push(d.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=l(f,"resetOnWrongKey",!0),this.maxKeyDelay=l(f,"maxKeyDelay",0),this.resetOnMatch=l(f,"resetOnMatch",!1),this.deleteOnMatch=l(f,"deleteOnMatch",!1);var p=this,m=function(C){if(!(p.matched||!p.enabled)){var S=s(C,p);S&&(p.manager.emit(g.COMBO_MATCH,p,C),p.resetOnMatch?o(p):p.deleteOnMatch&&p.destroy())}};this.onKeyDown=m,this.manager.on(g.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(g.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});e.exports=n},68769:(e,y,t)=>{var a=t(66970),g=function(l,s){if(s.matched)return!0;var o=!1,n=!1;if(l.keyCode===s.current)if(s.index>0&&s.maxKeyDelay>0){var i=s.timeLastMatched+s.maxKeyDelay;l.timeStamp<=i&&(n=!0,o=a(l,s))}else n=!0,o=a(l,s);return!n&&s.resetOnWrongKey&&(s.index=0,s.current=s.keyCodes[0]),o&&(s.timeLastMatched=l.timeStamp,s.matched=!0,s.timeMatched=l.timeStamp),o};e.exports=g},92803:e=>{var y=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};e.exports=y},92612:e=>{e.exports="keydown"},23345:e=>{e.exports="keyup"},21957:e=>{e.exports="keycombomatch"},44743:e=>{e.exports="down"},3771:e=>{e.exports="keydown-"},46358:e=>{e.exports="keyup-"},75674:e=>{e.exports="up"},95922:(e,y,t)=>{e.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(e,y,t)=>{e.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:e=>{var y=function(t,a){a===void 0&&(a=50);var g=t.plugin.game.loop.time-t.timeDown;return t.isDown&&g<a};e.exports=y},90229:e=>{var y=function(t){return t._justDown?(t._justDown=!1,!0):!1};e.exports=y},38796:e=>{var y=function(t){return t._justUp?(t._justUp=!1,!0):!1};e.exports=y},30472:(e,y,t)=>{var a=t(83419),g=t(50792),l=t(95922),s=new a({Extends:g,initialize:function(n,i){g.call(this),this.plugin=n,this.keyCode=i,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(o){return this.emitOnRepeat=o,this},onDown:function(o){this.originalEvent=o,this.enabled&&(this.altKey=o.altKey,this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.location=o.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(l.DOWN,this,o):(this.isDown=!0,this.isUp=!1,this.timeDown=o.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(l.DOWN,this,o)))},onUp:function(o){this.originalEvent=o,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=o.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(l.UP,this,o))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});e.exports=s},46032:e=>{var y={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};e.exports=y},74600:(e,y,t)=>{var a=t(46032),g={};for(var l in a)g[a[l]]=l;e.exports=g},41170:e=>{var y=function(t,a){a===void 0&&(a=50);var g=t.plugin.game.loop.time-t.timeUp;return t.isUp&&g<a};e.exports=y},85098:(e,y,t)=>{var a=t(83419),g=t(89357),l=t(8214),s=t(29747),o=new a({initialize:function(i){this.manager=i,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=s,this.onMouseDown=s,this.onMouseUp=s,this.onMouseDownWindow=s,this.onMouseUpWindow=s,this.onMouseOver=s,this.onMouseOut=s,this.onMouseWheel=s,this.pointerLockChange=s,this.isTop=!0,i.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputMouse,this.target=n.inputMouseEventTarget,this.passive=n.inputMousePassive,this.preventDefaultDown=n.inputMousePreventDefaultDown,this.preventDefaultUp=n.inputMousePreventDefaultUp,this.preventDefaultMove=n.inputMousePreventDefaultMove,this.preventDefaultWheel=n.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},requestPointerLock:function(){if(g.pointerLock){var n=this.target;n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.requestPointerLock()}},releasePointerLock:function(){g.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var n=this.target;if(n){var i=this,h=this.manager,r=h.canvas,f=window&&window.focus&&h.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&i.enabled&&h&&h.enabled&&(h.onMouseMove(d),i.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){f&&window.focus(),!d.defaultPrevented&&i.enabled&&h&&h.enabled&&(h.onMouseDown(d),i.preventDefaultDown&&d.target===r&&d.preventDefault())},this.onMouseDownWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&i.enabled&&h&&h.enabled&&d.target!==r&&h.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&i.enabled&&h&&h.enabled&&(h.onMouseUp(d),i.preventDefaultUp&&d.target===r&&d.preventDefault())},this.onMouseUpWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&i.enabled&&h&&h.enabled&&d.target!==r&&h.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&i.enabled&&h&&h.enabled&&h.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&i.enabled&&h&&h.enabled&&h.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&i.enabled&&h&&h.enabled&&h.onMouseWheel(d),i.preventDefaultWheel&&d.target===r&&d.preventDefault()};var c={passive:!0};if(n.addEventListener("mousemove",this.onMouseMove),n.addEventListener("mousedown",this.onMouseDown),n.addEventListener("mouseup",this.onMouseUp),n.addEventListener("mouseover",this.onMouseOver,c),n.addEventListener("mouseout",this.onMouseOut,c),this.preventDefaultWheel?n.addEventListener("wheel",this.onMouseWheel,{passive:!1}):n.addEventListener("wheel",this.onMouseWheel,c),window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,c),window.top.addEventListener("mouseup",this.onMouseUpWindow,c)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,c),window.addEventListener("mouseup",this.onMouseUpWindow,c),this.isTop=!1}g.pointerLock&&(this.pointerLockChange=function(d){var p=i.target;i.locked=document.pointerLockElement===p||document.mozPointerLockElement===p||document.webkitPointerLockElement===p,h.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("mousemove",this.onMouseMove),n.removeEventListener("mousedown",this.onMouseDown),n.removeEventListener("mouseup",this.onMouseUp),n.removeEventListener("mouseover",this.onMouseOver),n.removeEventListener("mouseout",this.onMouseOut),window&&(n=this.isTop?window.top:window,n.removeEventListener("mousedown",this.onMouseDownWindow),n.removeEventListener("mouseup",this.onMouseUpWindow)),g.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});e.exports=o},87078:(e,y,t)=>{e.exports={MouseManager:t(85098)}},36210:(e,y,t)=>{var a=t(83419),g=t(8214),l=t(29747),s=new a({initialize:function(n){this.manager=n,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=l,this.onTouchStartWindow=l,this.onTouchMove=l,this.onTouchEnd=l,this.onTouchEndWindow=l,this.onTouchCancel=l,this.onTouchCancelWindow=l,this.isTop=!0,n.events.once(g.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputTouch,this.target=o.inputTouchEventTarget,this.capture=o.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},startListeners:function(){var o=this.target;if(o){var n=this,i=this.manager,h=i.canvas,r=window&&window.focus&&i.game.config.autoFocus;this.onTouchMove=function(p){!p.defaultPrevented&&n.enabled&&i&&i.enabled&&(i.onTouchMove(p),n.capture&&p.cancelable&&p.preventDefault())},this.onTouchStart=function(p){r&&window.focus(),!p.defaultPrevented&&n.enabled&&i&&i.enabled&&(i.onTouchStart(p),n.capture&&p.cancelable&&p.target===h&&p.preventDefault())},this.onTouchStartWindow=function(p){!p.defaultPrevented&&n.enabled&&i&&i.enabled&&p.target!==h&&i.onTouchStart(p)},this.onTouchEnd=function(p){!p.defaultPrevented&&n.enabled&&i&&i.enabled&&(i.onTouchEnd(p),n.capture&&p.cancelable&&p.target===h&&p.preventDefault())},this.onTouchEndWindow=function(p){!p.defaultPrevented&&n.enabled&&i&&i.enabled&&p.target!==h&&i.onTouchEnd(p)},this.onTouchCancel=function(p){!p.defaultPrevented&&n.enabled&&i&&i.enabled&&(i.onTouchCancel(p),n.capture&&p.preventDefault())},this.onTouchCancelWindow=function(p){!p.defaultPrevented&&n.enabled&&i&&i.enabled&&i.onTouchCancel(p)};var f=this.capture,c={passive:!0},d={passive:!1};if(o.addEventListener("touchstart",this.onTouchStart,f?d:c),o.addEventListener("touchmove",this.onTouchMove,f?d:c),o.addEventListener("touchend",this.onTouchEnd,f?d:c),o.addEventListener("touchcancel",this.onTouchCancel,f?d:c),window&&i.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,d),window.top.addEventListener("touchend",this.onTouchEndWindow,d),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,d)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,d),window.addEventListener("touchend",this.onTouchEndWindow,d),window.addEventListener("touchcancel",this.onTouchCancelWindow,d),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("touchstart",this.onTouchStart),o.removeEventListener("touchmove",this.onTouchMove),o.removeEventListener("touchend",this.onTouchEnd),o.removeEventListener("touchcancel",this.onTouchCancel),window&&(o=this.isTop?window.top:window,o.removeEventListener("touchstart",this.onTouchStartWindow),o.removeEventListener("touchend",this.onTouchEndWindow),o.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});e.exports=s},95618:(e,y,t)=>{e.exports={TouchManager:t(36210)}},41299:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(54899),s=t(95540),o=t(98356),n=t(3374),i=t(84376),h=t(92638),r=new a({initialize:function(c,d){if(this.loader=c,this.cache=s(d,"cache",!1),this.type=s(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=s(d,"key",!1);var p=this.key;if(c.prefix&&c.prefix!==""&&(this.key=c.prefix+p),!this.key)throw new Error("Invalid File key: "+this.key);var m=s(d,"url");m===void 0?m=c.path+p+"."+s(d,"extension",""):typeof m=="string"&&!m.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(m=c.path+m),this.url=m,this.src="",this.xhrSettings=h(s(d,"responseType",void 0)),s(d,"xhrSettings",!1)&&(this.xhrSettings=n(this.xhrSettings,s(d,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?g.FILE_POPULATED:g.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=s(d,"config",{}),this.multiFile,this.linkFile,this.base64=typeof m=="string"&&m.indexOf("data:")===0},setLink:function(f){this.linkFile=f,f.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===g.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=g.FILE_LOADING,this.src=o(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=i(this,this.loader.xhr))},onLoad:function(f,c){var d=f.responseURL&&this.loader.localSchemes.some(function(C){return f.responseURL.indexOf(C)===0}),p=d&&c.target.status===0,m=!(c.target&&c.target.status!==200)||p;f.readyState===4&&f.status>=400&&f.status<=599&&(m=!1),this.state=g.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,m)},onBase64Load:function(f){this.xhrLoader=f,this.state=g.FILE_LOADED,this.percentComplete=1,this.loader.emit(l.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(f){f.lengthComputable&&(this.bytesLoaded=f.loaded,this.bytesTotal=f.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(l.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=g.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=g.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=g.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(f){if(this.state!==g.FILE_PENDING_DESTROY){f===void 0&&(f=this.data);var c=this.key,d=this.type;this.loader.emit(l.FILE_COMPLETE,c,d,f),this.loader.emit(l.FILE_KEY_COMPLETE+d+"-"+c,c,d,f),this.loader.flagForRemoval(this),this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});r.createObjectURL=function(f,c,d){if(typeof URL=="function")f.src=URL.createObjectURL(c);else{var p=new FileReader;p.onload=function(){f.removeAttribute("crossOrigin"),f.src="data:"+(c.type||d)+";base64,"+p.result.split(",")[1]},p.onerror=f.onerror,p.readAsDataURL(c)}},r.revokeObjectURL=function(f){typeof URL=="function"&&URL.revokeObjectURL(f.src)},e.exports=r},74099:e=>{var y={},t={install:function(a){for(var g in y)a[g]=y[g]},register:function(a,g){y[a]=g},destroy:function(){y={}}};e.exports=t},98356:e=>{var y=function(t,a){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:a+t.url:!1};e.exports=y},74261:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(35072),s=t(50792),o=t(54899),n=t(74099),i=t(95540),h=t(35154),r=t(37277),f=t(44594),c=t(92638),d=new a({Extends:s,initialize:function(m){s.call(this);var C=m.sys.game.config,S=m.sys.settings.loader;this.scene=m,this.systems=m.sys,this.cacheManager=m.sys.cache,this.textureManager=m.sys.textures,this.sceneManager=m.sys.game.scene,n.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(i(S,"baseURL",C.loaderBaseURL)),this.setPath(i(S,"path",C.loaderPath)),this.setPrefix(i(S,"prefix",C.loaderPrefix)),this.maxParallelDownloads=i(S,"maxParallelDownloads",C.loaderMaxParallelDownloads),this.xhr=c(i(S,"responseType",C.loaderResponseType),i(S,"async",C.loaderAsync),i(S,"user",C.loaderUser),i(S,"password",C.loaderPassword),i(S,"timeout",C.loaderTimeout),i(S,"withCredentials",C.loaderWithCredentials)),this.crossOrigin=i(S,"crossOrigin",C.loaderCrossOrigin),this.imageLoadType=i(S,"imageLoadType",C.loaderImageLoadType),this.localSchemes=i(S,"localScheme",C.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new l,this.inflight=new l,this.queue=new l,this._deleteQueue=new l,this.totalFailed=0,this.totalComplete=0,this.state=g.LOADER_IDLE,this.multiKeyIndex=0,m.sys.events.once(f.BOOT,this.boot,this),m.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},setBaseURL:function(p){return p===void 0&&(p=""),p!==""&&p.substr(-1)!=="/"&&(p=p.concat("/")),this.baseURL=p,this},setPath:function(p){return p===void 0&&(p=""),p!==""&&p.substr(-1)!=="/"&&(p=p.concat("/")),this.path=p,this},setPrefix:function(p){return p===void 0&&(p=""),this.prefix=p,this},setCORS:function(p){return this.crossOrigin=p,this},addFile:function(p){Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++){var C=p[m];this.keyExists(C)||(this.list.set(C),this.emit(o.ADD,C.key,C.type,this,C),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(p){var m=p.hasCacheConflict();return m||this.list.iterate(function(C){if(C.type===p.type&&C.key===p.key)return m=!0,!1}),!m&&this.isLoading()&&(this.inflight.iterate(function(C){if(C.type===p.type&&C.key===p.key)return m=!0,!1}),this.queue.iterate(function(C){if(C.type===p.type&&C.key===p.key)return m=!0,!1})),m},addPack:function(p,m){if(typeof m=="string"){var C=h(p,m);C&&(p={packKey:C})}var S=0,E=this.baseURL,D=this.path,M=this.prefix;for(var w in p)if(Object.prototype.hasOwnProperty.call(p,w)){var A=p[w],R=i(A,"baseURL",E),P=i(A,"path",D),O=i(A,"prefix",M),b=i(A,"files",null),F=i(A,"defaultType","void");if(Array.isArray(b)){this.setBaseURL(R),this.setPath(P),this.setPrefix(O);for(var L=0;L<b.length;L++){var G=b[L],z=G.hasOwnProperty("type")?G.type:F;this[z]&&(this[z](G),S++)}}}return this.setBaseURL(E),this.setPath(D),this.setPrefix(M),S>0},isLoading:function(){return this.state===g.LOADER_LOADING||this.state===g.LOADER_PROCESSING},isReady:function(){return this.state===g.LOADER_IDLE||this.state===g.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(o.START,this),this.list.size===0?this.loadComplete():(this.state=g.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(f.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(o.PROGRESS,this.progress)},update:function(){this.state===g.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(p){if((p.state===g.FILE_POPULATED||p.state===g.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(p),this.list.delete(p),p.crossOrigin||(p.crossOrigin=this.crossOrigin),p.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(p,m){this.inflight&&(this.inflight.delete(p),this.updateProgress(),m?(this.totalComplete++,this.queue.set(p),this.emit(o.FILE_LOAD,p),p.onProcess()):(this.totalFailed++,this._deleteQueue.set(p),this.emit(o.FILE_LOAD_ERROR,p),this.fileProcessComplete(p)))},fileProcessComplete:function(p){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(p.state===g.FILE_ERRORED?p.multiFile&&p.multiFile.onFileFailed(p):p.state===g.FILE_COMPLETE&&(p.multiFile?p.multiFile.isReadyToProcess()&&(p.multiFile.addToCache(),p.multiFile.pendingDestroy()):(p.addToCache(),p.pendingDestroy())),this.queue.delete(p),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(o.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=g.LOADER_COMPLETE,this.systems.events.off(f.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(o.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(p){this._deleteQueue.set(p)},saveJSON:function(p,m){return this.save(JSON.stringify(p),m)},save:function(p,m,C){m===void 0&&(m="file.json"),C===void 0&&(C="application/json");var S=new Blob([p],{type:C}),E=URL.createObjectURL(S),D=document.createElement("a");return D.download=m,D.textContent="Download "+m,D.href=E,D.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var p=this.systems.game.config,m=this.systems.settings.loader;this.setBaseURL(i(m,"baseURL",p.loaderBaseURL)),this.setPath(i(m,"path",p.loaderPath)),this.setPrefix(i(m,"prefix",p.loaderPrefix)),this.state=g.LOADER_IDLE},shutdown:function(){this.reset(),this.state=g.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=g.LOADER_DESTROYED,this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});r.register("Loader",d,"load"),e.exports=d},3374:(e,y,t)=>{var a=t(79291),g=t(92638),l=function(s,o){var n=s===void 0?g():a({},s);if(o)for(var i in o)o[i]!==void 0&&(n[i]=o[i]);return n};e.exports=l},26430:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(54899),s=new a({initialize:function(n,i,h,r){var f=[];r.forEach(function(p){p&&f.push(p)}),this.loader=n,this.type=i,this.key=h;var c=this.key;n.prefix&&n.prefix!==""&&(this.key=n.prefix+c),this.multiKeyIndex=n.multiKeyIndex++,this.files=f,this.state=g.FILE_PENDING,this.complete=!1,this.pending=f.length,this.failed=0,this.config={},this.baseURL=n.baseURL,this.path=n.path,this.prefix=n.prefix;for(var d=0;d<f.length;d++)f[d].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(o){return this.files.push(o),o.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(o){var n=this.files.indexOf(o);n!==-1&&this.pending--},onFileFailed:function(o){var n=this.files.indexOf(o);n!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,o.type,o.key))},pendingDestroy:function(){if(this.state!==g.FILE_PENDING_DESTROY){var o=this.key,n=this.type;this.loader.emit(l.FILE_COMPLETE,o,n),this.loader.emit(l.FILE_KEY_COMPLETE+n+"-"+o,o,n),this.loader.flagForRemoval(this);for(var i=0;i<this.files.length;i++)this.files[i].pendingDestroy();this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});e.exports=s},84376:(e,y,t)=>{var a=t(3374),g=function(l,s){var o=a(s,l.xhrSettings);if(l.base64){var n=l.url.split(";base64,").pop()||l.url.split(",").pop(),i={responseText:atob(n)};l.onBase64Load(i);return}var h=new XMLHttpRequest;if(h.open("GET",l.src,o.async,o.user,o.password),h.responseType=l.xhrSettings.responseType,h.timeout=o.timeout,o.headers)for(var r in o.headers)h.setRequestHeader(r,o.headers[r]);return o.header&&o.headerValue&&h.setRequestHeader(o.header,o.headerValue),o.requestedWith&&h.setRequestHeader("X-Requested-With",o.requestedWith),o.overrideMimeType&&h.overrideMimeType(o.overrideMimeType),o.withCredentials&&(h.withCredentials=!0),h.onload=l.onLoad.bind(l,h),h.onerror=l.onError.bind(l,h),h.onprogress=l.onProgress.bind(l),h.ontimeout=l.onError.bind(l,h),h.send(),h};e.exports=g},92638:e=>{var y=function(t,a,g,l,s,o){return t===void 0&&(t=""),a===void 0&&(a=!0),g===void 0&&(g=""),l===void 0&&(l=""),s===void 0&&(s=0),o===void 0&&(o=!1),{responseType:t,async:a,user:g,password:l,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:o}};e.exports=y},23906:e=>{var y={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};e.exports=y},42155:e=>{e.exports="addfile"},38991:e=>{e.exports="complete"},27540:e=>{e.exports="filecomplete"},87464:e=>{e.exports="filecomplete-"},94486:e=>{e.exports="loaderror"},13035:e=>{e.exports="load"},38144:e=>{e.exports="fileprogress"},97520:e=>{e.exports="postprocess"},85595:e=>{e.exports="progress"},55680:e=>{e.exports="start"},54899:(e,y,t)=>{e.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(e,y,t)=>{var a=t(83419),g=t(74099),l=t(518),s=t(54899),o=new a({Extends:l,initialize:function(i,h,r,f,c){l.call(this,i,h,r,f,c),this.type="animationJSON"},onProcess:function(){this.loader.once(s.POST_PROCESS,this.onLoadComplete,this),l.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});g.register("animation",function(n,i,h,r){if(Array.isArray(n))for(var f=0;f<n.length;f++)this.addFile(new o(this,n[f]));else this.addFile(new o(this,n,i,r,h));return this}),e.exports=o},76272:(e,y,t)=>{var a=t(83419),g=t(74099),l=t(95540),s=t(19550),o=t(41212),n=t(518),i=t(26430),h=new a({Extends:i,initialize:function(f,c,d,p,m,C){var S,E;if(o(c)){var D=c;c=l(D,"key"),S=new s(f,{key:c,url:l(D,"textureURL"),extension:l(D,"textureExtension","png"),normalMap:l(D,"normalMap"),xhrSettings:l(D,"textureXhrSettings")}),E=new n(f,{key:c,url:l(D,"atlasURL"),extension:l(D,"atlasExtension","json"),xhrSettings:l(D,"atlasXhrSettings")})}else S=new s(f,c,d,m),E=new n(f,c,p,C);S.linkFile?i.call(this,f,"atlasjson",c,[S,E,S.linkFile]):i.call(this,f,"atlasjson",c,[S,E])},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0],f=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(r.key,r.data,f.data,c),f.addToCache(),this.complete=!0}}});g.register("aseprite",function(r,f,c,d,p){var m;if(Array.isArray(r))for(var C=0;C<r.length;C++)m=new h(this,r[C]),this.addFile(m.files);else m=new h(this,r,f,c,d,p),this.addFile(m.files);return this}),e.exports=h},38734:(e,y,t)=>{var a=t(83419),g=t(74099),l=t(95540),s=t(19550),o=t(41212),n=t(518),i=t(26430),h=new a({Extends:i,initialize:function(f,c,d,p,m,C){var S,E;if(o(c)){var D=c;c=l(D,"key"),S=new s(f,{key:c,url:l(D,"textureURL"),extension:l(D,"textureExtension","png"),normalMap:l(D,"normalMap"),xhrSettings:l(D,"textureXhrSettings")}),E=new n(f,{key:c,url:l(D,"atlasURL"),extension:l(D,"atlasExtension","json"),xhrSettings:l(D,"atlasXhrSettings")})}else S=new s(f,c,d,m),E=new n(f,c,p,C);S.linkFile?i.call(this,f,"atlasjson",c,[S,E,S.linkFile]):i.call(this,f,"atlasjson",c,[S,E])},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0],f=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(r.key,r.data,f.data,c),this.complete=!0}}});g.register("atlas",function(r,f,c,d,p){var m;if(Array.isArray(r))for(var C=0;C<r.length;C++)m=new h(this,r[C]),this.addFile(m.files);else m=new h(this,r,f,c,d,p),this.addFile(m.files);return this}),e.exports=h},74599:(e,y,t)=>{var a=t(83419),g=t(74099),l=t(95540),s=t(19550),o=t(41212),n=t(26430),i=t(57318),h=new a({Extends:n,initialize:function(f,c,d,p,m,C){var S,E;if(o(c)){var D=c;c=l(D,"key"),S=new s(f,{key:c,url:l(D,"textureURL"),extension:l(D,"textureExtension","png"),normalMap:l(D,"normalMap"),xhrSettings:l(D,"textureXhrSettings")}),E=new i(f,{key:c,url:l(D,"atlasURL"),extension:l(D,"atlasExtension","xml"),xhrSettings:l(D,"atlasXhrSettings")})}else S=new s(f,c,d,m),E=new i(f,c,p,C);S.linkFile?n.call(this,f,"atlasxml",c,[S,E,S.linkFile]):n.call(this,f,"atlasxml",c,[S,E])},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0],f=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(r.key,r.data,f.data,c),this.complete=!0}}});g.register("atlasXML",function(r,f,c,d,p){var m;if(Array.isArray(r))for(var C=0;C<r.length;C++)m=new h(this,r[C]),this.addFile(m.files);else m=new h(this,r,f,c,d,p),this.addFile(m.files);return this}),e.exports=h},21097:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(89749),i=t(41212),h=new a({Extends:l,initialize:function(f,c,d,p,m){if(i(c)){var C=c;c=o(C,"key"),p=o(C,"xhrSettings"),m=o(C,"context",m)}var S={type:"audio",cache:f.cacheManager.audio,extension:d.type,responseType:"arraybuffer",key:c,url:d.url,xhrSettings:p,config:{context:m}};l.call(this,f,S)},onProcess:function(){this.state=g.FILE_PROCESSING;var r=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(f){r.data=f,r.onProcessComplete()},function(f){console.error("Error decoding audio: "+r.key+" - ",f?f.message:null),r.onProcessError()}),this.config.context=null}});h.create=function(r,f,c,d,p){var m=r.systems.game,C=m.config.audio,S=m.device.audio;i(f)&&(c=o(f,"url",[]),d=o(f,"config",{}));var E=h.getAudioURL(m,c);return E?S.webAudio&&!C.disableWebAudio?new h(r,f,E,p,m.sound.context):new n(r,f,E,d):(console.warn('No audio URLs for "%s" matched this device',f),null)},h.getAudioURL=function(r,f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var d=o(f[c],"url",f[c]);if(d.indexOf("blob:")===0||d.indexOf("data:")===0)return{url:d,type:""};var p=d.match(/\.([a-zA-Z0-9]+)($|\?)/);if(p=o(f[c],"type",p?p[1]:"").toLowerCase(),r.device.audio[p])return{url:d,type:p}}return null},s.register("audio",function(r,f,c,d){var p=this.systems.game,m=p.config.audio,C=p.device.audio;if(m.noAudio||!C.webAudio&&!C.audioData)return this;var S;if(Array.isArray(r))for(var E=0;E<r.length;E++)S=h.create(this,r[E]),S&&this.addFile(S);else S=h.create(this,r,f,c,d),S&&this.addFile(S);return this}),e.exports=h},89524:(e,y,t)=>{var a=t(21097),g=t(83419),l=t(74099),s=t(95540),o=t(41212),n=t(518),i=t(26430),h=new g({Extends:i,initialize:function(f,c,d,p,m,C,S){if(o(c)){var E=c;c=s(E,"key"),d=s(E,"jsonURL"),p=s(E,"audioURL"),m=s(E,"audioConfig"),C=s(E,"audioXhrSettings"),S=s(E,"jsonXhrSettings")}var D;if(!p)D=new n(f,c,d,S),i.call(this,f,"audiosprite",c,[D]),this.config.resourceLoad=!0,this.config.audioConfig=m,this.config.audioXhrSettings=C;else{var M=a.create(f,c,p,m,C);M&&(D=new n(f,c,d,S),i.call(this,f,"audiosprite",c,[M,D]),this.config.resourceLoad=!1)}},onFileComplete:function(r){var f=this.files.indexOf(r);if(f!==-1&&(this.pending--,this.config.resourceLoad&&r.type==="json"&&r.data.hasOwnProperty("resources"))){var c=r.data.resources,d=s(this.config,"audioConfig"),p=s(this.config,"audioXhrSettings"),m=a.create(this.loader,r.key,c,d,p);m&&(this.addToMultiFile(m),this.loader.addFile(m))}},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0],f=this.files[1];r.addToCache(),f.addToCache(),this.complete=!0}}});l.register("audioSprite",function(r,f,c,d,p,m){var C=this.systems.game,S=C.config.audio,E=C.device.audio;if(S&&S.noAudio||!E.webAudio&&!E.audioData)return this;var D;if(Array.isArray(r))for(var M=0;M<r.length;M++)D=new h(this,r[M]),D.files&&this.addFile(D.files);else D=new h(this,r,f,c,d,p,m),D.files&&this.addFile(D.files);return this})},85722:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=new a({Extends:l,initialize:function(r,f,c,d,p){var m="bin";if(n(f)){var C=f;f=o(C,"key"),c=o(C,"url"),d=o(C,"xhrSettings"),m=o(C,"extension",m),p=o(C,"dataType",p)}var S={type:"binary",cache:r.cacheManager.binary,extension:m,responseType:"arraybuffer",key:f,url:c,xhrSettings:d,config:{dataType:p}};l.call(this,r,S)},onProcess:function(){this.state=g.FILE_PROCESSING;var h=this.config.dataType;this.data=h?new h(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});s.register("binary",function(h,r,f,c){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new i(this,h[d]));else this.addFile(new i(this,h,r,c,f));return this}),e.exports=i},97025:(e,y,t)=>{var a=t(83419),g=t(74099),l=t(95540),s=t(19550),o=t(41212),n=t(26430),i=t(21859),h=t(57318),r=new a({Extends:n,initialize:function(c,d,p,m,C,S){var E,D;if(o(d)){var M=d;d=l(M,"key"),E=new s(c,{key:d,url:l(M,"textureURL"),extension:l(M,"textureExtension","png"),normalMap:l(M,"normalMap"),xhrSettings:l(M,"textureXhrSettings")}),D=new h(c,{key:d,url:l(M,"fontDataURL"),extension:l(M,"fontDataExtension","xml"),xhrSettings:l(M,"fontDataXhrSettings")})}else E=new s(c,d,p,C),D=new h(c,d,m,S);E.linkFile?n.call(this,c,"bitmapfont",d,[E,D,E.linkFile]):n.call(this,c,"bitmapfont",d,[E,D])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],c=this.files[1];f.addToCache();var d=f.cache.get(f.key),p=i(c.data,f.cache.getFrame(f.key),0,0,d);this.loader.cacheManager.bitmapFont.add(f.key,{data:p,texture:f.key,frame:null}),this.complete=!0}}});g.register("bitmapFont",function(f,c,d,p,m){var C;if(Array.isArray(f))for(var S=0;S<f.length;S++)C=new r(this,f[S]),this.addFile(C.files);else C=new r(this,f,c,d,p,m),this.addFile(C.files);return this}),e.exports=r},16024:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=new a({Extends:l,initialize:function(r,f,c,d){var p="css";if(n(f)){var m=f;f=o(m,"key"),c=o(m,"url"),d=o(m,"xhrSettings"),p=o(m,"extension",p)}var C={type:"script",cache:!1,extension:p,responseType:"text",key:f,url:c,xhrSettings:d};l.call(this,r,C)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("css",function(h,r,f){if(Array.isArray(h))for(var c=0;c<h.length;c++)this.addFile(new i(this,h[c]));else this.addFile(new i(this,h,r,f));return this}),e.exports=i},69559:(e,y,t)=>{var a=t(38734),g=t(85722),l=t(83419),s=t(74099),o=t(95540),n=t(19550),i=t(41212),h=t(518),r=t(31403),f=t(46975),c=t(59327),d=t(26430),p=t(82038),m=t(55222),C=new l({Extends:d,initialize:function(E,D,M,w){if(M.multiAtlasURL){var A=new h(E,{key:D,url:M.multiAtlasURL,xhrSettings:w,config:M});d.call(this,E,"texture",D,[A])}else{var R=M.textureURL.substr(M.textureURL.length-3);M.type||(M.type=R.toLowerCase()==="ktx"?"KTX":"PVR");var P=new g(E,{key:D,url:M.textureURL,extension:R,xhrSettings:w,config:M});if(M.atlasURL){var O=new h(E,{key:D,url:M.atlasURL,xhrSettings:w,config:M});d.call(this,E,"texture",D,[P,O])}else d.call(this,E,"texture",D,[P])}this.config=M},onFileComplete:function(S){var E=this.files.indexOf(S);if(E!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(S.type==="json"&&S.data.hasOwnProperty("textures")){var D=S.data.textures,M=this.config,w=this.loader,A=w.baseURL,R=w.path,P=w.prefix,O=o(M,"multiBaseURL",this.baseURL),b=o(M,"multiPath",this.path),F=o(M,"prefix",this.prefix),L=o(M,"textureXhrSettings");O&&w.setBaseURL(O),b&&w.setPath(b),F&&w.setPrefix(F);for(var G=0;G<D.length;G++){var z=D[G].image,X="CMA"+this.multiKeyIndex+"_"+z,B=new g(w,X,z,L);if(this.addToMultiFile(B),w.addFile(B),D[G].normalMap){var U=new g(w,X,D[G].normalMap,L);U.type="normalMap",B.setLink(U),this.addToMultiFile(U),w.addFile(U)}}w.setBaseURL(A),w.setPath(R),w.setPrefix(P)}}},addToCache:function(){function S(O){console.warn('Compressed Texture Invalid: "'+A.key+'". '+O)}if(this.isReadyToProcess()){var E=this.config;if(E.multiAtlasURL)this.addMultiToCache();else{var D=this.loader.systems.renderer,M=this.loader.textureManager,w,A=this.files[0],R=this.files[1];if(E.type==="PVR"?w=p(A.data):E.type==="KTX"&&(w=r(A.data),w||S("KTX file contains unsupported format.")),w&&!m(w)&&(S("Texture dimensions failed verification. Check the texture format specifications for "+E.format+" 0x"+w.internalFormat.toString(16)+"."),w=null),w&&!D.supportsCompressedTexture(E.format,w.internalFormat)&&(S("Texture format "+E.format+" with internal format "+w.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),w=null),w){w.format=D.getCompressedTextureName(E.format,w.internalFormat);var P=R&&R.data?R.data:null;M.addCompressedTexture(A.key,w,P)}}this.complete=!0}},addMultiToCache:function(){for(var S=this.config,E=this.files[0],D=[],M=[],w=[],A=this.loader.systems.renderer,R=this.loader.textureManager,P,O=1;O<this.files.length;O++){var b=this.files[O];if(b.type!=="normalMap")for(var F=b.key.indexOf("_"),L=b.key.substr(F+1),G=b.data,z=0;z<E.data.textures.length;z++){var X=E.data.textures[z];if(X.image===L){S.type==="PVR"?P=p(G):S.type==="KTX"&&(P=r(G)),P&&A.supportsCompressedTexture(S.format,P.internalFormat)&&(P.format=A.getCompressedTextureName(S.format,P.internalFormat),M.push(P),D.push(X),b.linkFile&&w.push(b.linkFile.data));break}}}w.length===0&&(w=void 0),R.addAtlasJSONArray(this.key,M,D,w),this.complete=!0}});s.register("texture",function(S,E,D){var M=this.systems.renderer,w=function(R,P,O,b){var F={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(i(P)){var L=P;P=o(L,"key"),O=o(L,"url"),b=o(L,"xhrSettings")}var G=!1;for(var z in O)if(M.supportsCompressedTexture(z)){var X=O[z];typeof X=="string"?F.textureURL=X:F=f(X,F),F.format=z.toUpperCase(),G=!0;break}if(!G)console.warn("No supported compressed texture format or IMG fallback",P);else if(F.format==="IMG"){var B,U;F.multiAtlasURL?(U=new c(R,P,F.multiAtlasURL,F.multiPath,F.multiBaseURL,b),B=U.files):F.atlasURL?(U=new a(R,P,F.textureURL,F.atlasURL,b),B=U.files):B=new n(R,P,F.textureURL,b),R.addFile(B)}else{var I=new C(R,P,F,b);R.addFile(I.files)}};if(Array.isArray(S))for(var A=0;A<S.length;A++)w(this,S[A]);else w(this,S,E,D);return this}),e.exports=C},47931:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=t(73894),h=new a({Extends:l,initialize:function(f,c,d,p,m){var C="glsl";if(n(c)){var S=c;c=o(S,"key"),d=o(S,"url"),p=o(S,"shaderType","fragment"),m=o(S,"xhrSettings"),C=o(S,"extension",C)}else p===void 0&&(p="fragment");var E={type:"glsl",cache:f.cacheManager.shader,extension:C,responseType:"text",key:c,url:d,config:{shaderType:p},xhrSettings:m};l.call(this,f,E)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var r=this.data.split(`
`),f=this.extractBlock(r,0);if(f)for(;f;){var c=this.getShaderName(f.header),d=this.getShaderType(f.header),p=this.getShaderUniforms(f.header),m=f.shader;if(this.cache.has(c)){var C=this.cache.get(c);d==="fragment"?C.fragmentSrc=m:C.vertexSrc=m,C.uniforms||(C.uniforms=p)}else d==="fragment"?this.cache.add(c,new i(c,m,"",p)):this.cache.add(c,new i(c,"",m,p));f=this.extractBlock(r,f.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new i(this.key,this.data)):this.cache.add(this.key,new i(this.key,"",this.data))},getShaderName:function(r){for(var f=0;f<r.length;f++){var c=r[f].trim();if(c.substring(0,5)==="name:")return c.substring(5).trim()}return this.key},getShaderType:function(r){for(var f=0;f<r.length;f++){var c=r[f].trim();if(c.substring(0,5)==="type:")return c.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(r){for(var f={},c=0;c<r.length;c++){var d=r[c].trim();if(d.substring(0,8)==="uniform."){var p=d.indexOf(":");if(p){var m=d.substring(8,p);try{f[m]=JSON.parse(d.substring(p+1))}catch{console.warn("Invalid uniform JSON: "+m)}}}}return f},extractBlock:function(r,f){for(var c=-1,d=-1,p=-1,m=!1,C=!1,S=[],E=[],D=f;D<r.length;D++){var M=r[D].trim();if(M==="---")if(c===-1)c=D,m=!0;else if(m)d=D,m=!1,C=!0;else{C=!1;break}else m?S.push(M):C&&(E.push(M),p=D)}return!m&&d!==-1?{header:S,shader:E.join(`
`),offset:p}:null}});s.register("glsl",function(r,f,c,d){if(Array.isArray(r))for(var p=0;p<r.length;p++)this.addFile(new h(this,r[p]));else this.addFile(new h(this,r,f,c,d));return this}),e.exports=h},89749:(e,y,t)=>{var a=t(83419),g=t(54899),l=t(41299),s=t(95540),o=t(98356),n=t(41212),i=new a({Extends:l,initialize:function(r,f,c,d){if(n(f)){var p=f;f=s(p,"key"),d=s(p,"config",d)}var m={type:"audio",cache:r.cacheManager.audio,extension:c.type,key:f,url:c.url,config:d};l.call(this,r,m),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var h=0;h<this.data.length;h++){var r=this.data[h];r.oncanplaythrough=null,r.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(h){var r=h.target;r.oncanplaythrough=null,r.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var h=this.config&&this.config.instances||1;this.filesTotal=h,this.filesLoaded=0,this.percentComplete=0;for(var r=0;r<h;r++){var f=new Audio;f.dataset||(f.dataset={}),f.dataset.name=this.key+("0"+r).slice(-2),f.dataset.used="false",this.locked?f.dataset.locked="true":(f.dataset.locked="false",f.preload="auto",f.oncanplaythrough=this.onProgress.bind(this),f.onerror=this.onError.bind(this)),this.data.push(f)}for(r=0;r<this.data.length;r++)f=this.data[r],f.src=o(this,this.loader.baseURL),this.locked||f.load();this.locked&&setTimeout(this.onLoad.bind(this))}});e.exports=i},88470:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=new a({Extends:l,initialize:function(r,f,c,d){var p="html";if(n(f)){var m=f;f=o(m,"key"),c=o(m,"url"),d=o(m,"xhrSettings"),p=o(m,"extension",p)}var C={type:"text",cache:r.cacheManager.html,extension:p,responseType:"text",key:f,url:c,xhrSettings:d};l.call(this,r,C)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("html",function(h,r,f){if(Array.isArray(h))for(var c=0;c<h.length;c++)this.addFile(new i(this,h[c]));else this.addFile(new i(this,h,r,f));return this}),e.exports=i},14643:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=new a({Extends:l,initialize:function(r,f,c,d,p,m){d===void 0&&(d=512),p===void 0&&(p=512);var C="html";if(n(f)){var S=f;f=o(S,"key"),c=o(S,"url"),m=o(S,"xhrSettings"),C=o(S,"extension",C),d=o(S,"width",d),p=o(S,"height",p)}var E={type:"html",cache:r.textureManager,extension:C,responseType:"text",key:f,url:c,xhrSettings:m,config:{width:d,height:p}};l.call(this,r,E)},onProcess:function(){this.state=g.FILE_PROCESSING;var h=this.config.width,r=this.config.height,f=[];f.push('<svg width="'+h+'px" height="'+r+'px" viewBox="0 0 '+h+" "+r+'" xmlns="http://www.w3.org/2000/svg">'),f.push('<foreignObject width="100%" height="100%">'),f.push('<body xmlns="http://www.w3.org/1999/xhtml">'),f.push(this.xhrLoader.responseText),f.push("</body>"),f.push("</foreignObject>"),f.push("</svg>");var c=[f.join(`
`)],d=this;try{var p=new window.Blob(c,{type:"image/svg+xml;charset=utf-8"})}catch{d.state=g.FILE_ERRORED,d.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){l.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){l.revokeObjectURL(d.data),d.onProcessError()},l.createObjectURL(this.data,p,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("htmlTexture",function(h,r,f,c,d){if(Array.isArray(h))for(var p=0;p<h.length;p++)this.addFile(new i(this,h[p]));else this.addFile(new i(this,h,r,f,c,d));return this}),e.exports=i},19550:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=t(98356),h=new a({Extends:l,initialize:function r(f,c,d,p,m){var C="png",S;if(n(c)){var E=c;c=o(E,"key"),d=o(E,"url"),S=o(E,"normalMap"),p=o(E,"xhrSettings"),C=o(E,"extension",C),m=o(E,"frameConfig")}Array.isArray(d)&&(S=d[1],d=d[0]);var D={type:"image",cache:f.textureManager,extension:C,responseType:"blob",key:c,url:d,xhrSettings:p,config:m};if(l.call(this,f,D),S){var M=new r(f,this.key,S,p,m);M.type="normalMap",this.setLink(M),f.addFile(M)}this.useImageElementLoad=f.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var r=this;this.data.onload=function(){l.revokeObjectURL(r.data),r.onProcessComplete()},this.data.onerror=function(){l.revokeObjectURL(r.data),r.onProcessError()},l.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var r=this.state;this.state=g.FILE_PROCESSING,r===g.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=g.FILE_LOADING,this.src=i(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var r=this;this.data.onload=function(){r.state=g.FILE_LOADED,r.loader.nextFile(r,!0)},this.data.onerror=function(){r.loader.nextFile(r,!1)},this.data.src=this.src},addToCache:function(){var r=this.linkFile;r?r.state>=g.FILE_COMPLETE&&(r.type==="spritesheet"?r.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,r.data,this.data):this.cache.addImage(this.key,this.data,r.data)):this.cache.addImage(this.key,this.data)}});s.register("image",function(r,f,c){if(Array.isArray(r))for(var d=0;d<r.length;d++)this.addFile(new h(this,r[d]));else this.addFile(new h(this,r,f,c));return this}),e.exports=h},518:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(35154),i=t(41212),h=new a({Extends:l,initialize:function(f,c,d,p,m){var C="json";if(i(c)){var S=c;c=o(S,"key"),d=o(S,"url"),p=o(S,"xhrSettings"),C=o(S,"extension",C),m=o(S,"dataKey",m)}var E={type:"json",cache:f.cacheManager.json,extension:C,responseType:"text",key:c,url:d,xhrSettings:p,config:m};l.call(this,f,E),i(d)&&(m?this.data=n(d,m):this.data=d,this.state=g.FILE_POPULATED)},onProcess:function(){if(this.state!==g.FILE_POPULATED){this.state=g.FILE_PROCESSING;try{var r=JSON.parse(this.xhrLoader.responseText)}catch(c){throw this.onProcessError(),c}var f=this.config;typeof f=="string"?this.data=n(r,f,r):this.data=r}this.onProcessComplete()}});s.register("json",function(r,f,c,d){if(Array.isArray(r))for(var p=0;p<r.length;p++)this.addFile(new h(this,r[p]));else this.addFile(new h(this,r,f,d,c));return this}),e.exports=h},59327:(e,y,t)=>{var a=t(83419),g=t(74099),l=t(95540),s=t(19550),o=t(41212),n=t(518),i=t(26430),h=new a({Extends:i,initialize:function(f,c,d,p,m,C,S){if(o(c)){var E=c;c=l(E,"key"),l(E,"url",!1)?d=l(E,"url"):d=l(E,"atlasURL"),C=l(E,"xhrSettings"),p=l(E,"path"),m=l(E,"baseURL"),S=l(E,"textureXhrSettings")}var D=new n(f,c,d,C);i.call(this,f,"multiatlas",c,[D]),this.config.path=p,this.config.baseURL=m,this.config.textureXhrSettings=S},onFileComplete:function(r){var f=this.files.indexOf(r);if(f!==-1&&(this.pending--,r.type==="json"&&r.data.hasOwnProperty("textures"))){var c=r.data.textures,d=this.config,p=this.loader,m=p.baseURL,C=p.path,S=p.prefix,E=l(d,"baseURL",this.baseURL),D=l(d,"path",this.path),M=l(d,"prefix",this.prefix),w=l(d,"textureXhrSettings");p.setBaseURL(E),p.setPath(D),p.setPrefix(M);for(var A=0;A<c.length;A++){var R=c[A].image,P="MA"+this.multiKeyIndex+"_"+R,O=new s(p,P,R,w);if(this.addToMultiFile(O),p.addFile(O),c[A].normalMap){var b=new s(p,P,c[A].normalMap,w);b.type="normalMap",O.setLink(b),this.addToMultiFile(b),p.addFile(b)}}p.setBaseURL(m),p.setPath(C),p.setPrefix(S)}},addToCache:function(){if(this.isReadyToProcess()){for(var r=this.files[0],f=[],c=[],d=[],p=1;p<this.files.length;p++){var m=this.files[p];if(m.type!=="normalMap")for(var C=m.key.indexOf("_"),S=m.key.substr(C+1),E=m.data,D=0;D<r.data.textures.length;D++){var M=r.data.textures[D];if(M.image===S){c.push(E),f.push(M),m.linkFile&&d.push(m.linkFile.data);break}}}d.length===0&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,c,f,d),this.complete=!0}}});g.register("multiatlas",function(r,f,c,d,p){var m;if(Array.isArray(r))for(var C=0;C<r.length;C++)m=new h(this,r[C]),this.addFile(m.files);else m=new h(this,r,f,c,d,p),this.addFile(m.files);return this}),e.exports=h},99297:(e,y,t)=>{var a=t(83419),g=t(74099),l=t(95540),s=t(41212),o=t(26430),n=t(34328),i=new a({Extends:o,initialize:function(r,f,c,d){var p="js",m=[];if(s(f)){var C=f;f=l(C,"key"),c=l(C,"url"),d=l(C,"xhrSettings"),p=l(C,"extension",p)}Array.isArray(c)||(c=[c]);for(var S=0;S<c.length;S++){var E=new n(r,{key:f+"_"+S.toString(),url:c[S],extension:p,xhrSettings:d});E.onProcess=function(){this.onProcessComplete()},m.push(E)}o.call(this,r,"scripts",f,m)},addToCache:function(){if(this.isReadyToProcess()){for(var h=0;h<this.files.length;h++){var r=this.files[h];r.data=document.createElement("script"),r.data.language="javascript",r.data.type="text/javascript",r.data.defer=!1,r.data.text=r.xhrLoader.responseText,document.head.appendChild(r.data)}this.complete=!0}}});g.register("scripts",function(h,r,f){var c;if(Array.isArray(h))for(var d=0;d<h.length;d++)c=new i(this,h[d]),this.addFile(c.files);else c=new i(this,h,r,f),this.addFile(c.files);return this}),e.exports=i},41846:(e,y,t)=>{var a=t(83419),g=t(74099),l=t(95540),s=t(41212),o=t(26430),n=t(85048),i=t(61485),h=t(78776),r=new a({Extends:o,initialize:function(c,d,p,m,C,S){var E,D,M=c.cacheManager.obj;if(s(d)){var w=d;d=l(w,"key"),E=new h(c,{key:d,type:"obj",cache:M,url:l(w,"url"),extension:l(w,"extension","obj"),xhrSettings:l(w,"xhrSettings"),config:{flipUV:l(w,"flipUV",C)}}),m=l(w,"matURL"),m&&(D=new h(c,{key:d,type:"mat",cache:M,url:m,extension:l(w,"matExtension","mat"),xhrSettings:l(w,"xhrSettings")}))}else E=new h(c,{key:d,url:p,type:"obj",cache:M,extension:"obj",xhrSettings:S,config:{flipUV:C}}),m&&(D=new h(c,{key:d,url:m,type:"mat",cache:M,extension:"mat",xhrSettings:S}));o.call(this,c,"obj",d,[E,D])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],c=this.files[1],d=n(f.data,f.config.flipUV);c&&(d.materials=i(c.data)),f.cache.add(f.key,d),this.complete=!0}}});g.register("obj",function(f,c,d,p,m){var C;if(Array.isArray(f))for(var S=0;S<f.length;S++)C=new r(this,f[S]),this.addFile(C.files);else C=new r(this,f,c,d,p,m),this.addFile(C.files);return this}),e.exports=r},58610:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(74099),s=t(518),o=new a({Extends:s,initialize:function(i,h,r,f,c){s.call(this,i,h,r,f,c),this.type="packfile"},onProcess:function(){if(this.state!==g.FILE_POPULATED&&(this.state=g.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var n={};n[this.config]=this.data,this.data=n}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});l.register("pack",function(n,i,h,r){if(Array.isArray(n))for(var f=0;f<n.length;f++)this.addFile(new o(this,n[f]));else this.addFile(new o(this,n,i,r,h));return this}),e.exports=o},48988:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=new a({Extends:l,initialize:function(r,f,c,d,p,m){var C="js";if(n(f)){var S=f;f=o(S,"key"),c=o(S,"url"),m=o(S,"xhrSettings"),C=o(S,"extension",C),d=o(S,"start"),p=o(S,"mapping")}var E={type:"plugin",cache:!1,extension:C,responseType:"text",key:f,url:c,xhrSettings:m,config:{start:d,mapping:p}};l.call(this,r,E),typeof c=="function"&&(this.data=c,this.state=g.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,r=this.config,f=o(r,"start",!1),c=o(r,"mapping",null);if(this.state===g.FILE_POPULATED)h.install(this.key,this.data,f,c);else{this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var d=h.install(this.key,window[this.key],f,c);(f||c)&&(this.loader.systems[c]=d,this.loader.scene[c]=d)}this.onProcessComplete()}});s.register("plugin",function(h,r,f,c,d){if(Array.isArray(h))for(var p=0;p<h.length;p++)this.addFile(new i(this,h[p]));else this.addFile(new i(this,h,r,f,c,d));return this}),e.exports=i},67397:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=new a({Extends:l,initialize:function(r,f,c,d,p){var m="svg";if(n(f)){var C=f;f=o(C,"key"),c=o(C,"url"),d=o(C,"svgConfig",{}),p=o(C,"xhrSettings"),m=o(C,"extension",m)}var S={type:"svg",cache:r.textureManager,extension:m,responseType:"text",key:f,url:c,xhrSettings:p,config:{width:o(d,"width"),height:o(d,"height"),scale:o(d,"scale")}};l.call(this,r,S)},onProcess:function(){this.state=g.FILE_PROCESSING;var h=this.xhrLoader.responseText,r=[h],f=this.config.width,c=this.config.height,d=this.config.scale;t:if(f&&c||d){var p=null,m=new DOMParser;p=m.parseFromString(h,"text/xml");var C=p.getElementsByTagName("svg")[0],S=C.hasAttribute("viewBox"),E=parseFloat(C.getAttribute("width")),D=parseFloat(C.getAttribute("height"));if(!S&&E&&D)C.setAttribute("viewBox","0  0 "+E+" "+D);else if(S&&!E&&!D){var M=C.getAttribute("viewBox").split(/\s+|,/);E=M[2],D=M[3]}if(d)if(E&&D)f=E*d,c=D*d;else break t;C.setAttribute("width",f.toString()+"px"),C.setAttribute("height",c.toString()+"px"),r=[new XMLSerializer().serializeToString(C)]}try{var w=new window.Blob(r,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var A=this,R=!1;this.data.onload=function(){R||l.revokeObjectURL(A.data),A.onProcessComplete()},this.data.onerror=function(){R?A.onProcessError():(R=!0,l.revokeObjectURL(A.data),A.data.src="data:image/svg+xml,"+encodeURIComponent(r.join("")))},l.createObjectURL(this.data,w,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("svg",function(h,r,f,c){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new i(this,h[d]));else this.addFile(new i(this,h,r,f,c));return this}),e.exports=i},88423:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=new a({Extends:l,initialize:function(r,f,c,d){var p="js";if(n(f)){var m=f;f=o(m,"key"),c=o(m,"url"),d=o(m,"xhrSettings"),p=o(m,"extension",p)}var C={type:"text",extension:p,responseType:"text",key:f,url:c,xhrSettings:d};l.call(this,r,C)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),r=eval;this.loader.sceneManager.add(this.key,r(h)),this.complete=!0}});s.register("sceneFile",function(h,r,f){if(Array.isArray(h))for(var c=0;c<h.length;c++)this.addFile(new i(this,h[c]));else this.addFile(new i(this,h,r,f));return this}),e.exports=i},56812:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=new a({Extends:l,initialize:function(r,f,c,d,p,m){var C="js";if(n(f)){var S=f;f=o(S,"key"),c=o(S,"url"),m=o(S,"xhrSettings"),C=o(S,"extension",C),d=o(S,"systemKey"),p=o(S,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:C,responseType:"text",key:f,url:c,xhrSettings:m,config:{systemKey:d,sceneKey:p}};l.call(this,r,E),typeof c=="function"&&(this.data=c,this.state=g.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,r=this.config,f=this.key,c=o(r,"systemKey",f),d=o(r,"sceneKey",f);this.state===g.FILE_POPULATED?h.installScenePlugin(c,this.data,d,this.loader.scene,!0):(this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),h.installScenePlugin(c,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});s.register("scenePlugin",function(h,r,f,c,d){if(Array.isArray(h))for(var p=0;p<h.length;p++)this.addFile(new i(this,h[p]));else this.addFile(new i(this,h,r,f,c,d));return this}),e.exports=i},34328:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=new a({Extends:l,initialize:function(r,f,c,d,p){var m="js";if(n(f)){var C=f;f=o(C,"key"),c=o(C,"url"),d=o(C,"type","script"),p=o(C,"xhrSettings"),m=o(C,"extension",m)}else d===void 0&&(d="script");var S={type:d,cache:!1,extension:m,responseType:"text",key:f,url:c,xhrSettings:p};l.call(this,r,S)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("script",function(h,r,f,c){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new i(this,h[d]));else this.addFile(new i(this,h,r,f,c));return this}),e.exports=i},85035:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(74099),s=t(19550),o=new a({Extends:s,initialize:function(i,h,r,f,c){s.call(this,i,h,r,c,f),this.type="spritesheet"},addToCache:function(){var n=this.linkFile;n?n.state>=g.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,n.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,n.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});l.register("spritesheet",function(n,i,h,r){if(Array.isArray(n))for(var f=0;f<n.length;f++)this.addFile(new o(this,n[f]));else this.addFile(new o(this,n,i,h,r));return this}),e.exports=o},78776:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=new a({Extends:l,initialize:function(r,f,c,d){var p="text",m="txt",C=r.cacheManager.text;if(n(f)){var S=f;f=o(S,"key"),c=o(S,"url"),d=o(S,"xhrSettings"),m=o(S,"extension",m),p=o(S,"type",p),C=o(S,"cache",C)}var E={type:p,cache:C,extension:m,responseType:"text",key:f,url:c,xhrSettings:d};l.call(this,r,E)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("text",function(h,r,f){if(Array.isArray(h))for(var c=0;c<h.length;c++)this.addFile(new i(this,h[c]));else this.addFile(new i(this,h,r,f));return this}),e.exports=i},49477:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=t(80341),h=new a({Extends:l,initialize:function(f,c,d,p){var m="csv";if(n(c)){var C=c;c=o(C,"key"),d=o(C,"url"),p=o(C,"xhrSettings"),m=o(C,"extension",m)}var S={type:"tilemapCSV",cache:f.cacheManager.tilemap,extension:m,responseType:"text",key:c,url:d,xhrSettings:p};l.call(this,f,S),this.tilemapFormat=i.CSV},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var r={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,r)}});s.register("tilemapCSV",function(r,f,c){if(Array.isArray(r))for(var d=0;d<r.length;d++)this.addFile(new h(this,r[d]));else this.addFile(new h(this,r,f,c));return this}),e.exports=h},40807:(e,y,t)=>{var a=t(83419),g=t(74099),l=t(518),s=t(80341),o=new a({Extends:l,initialize:function(i,h,r,f){l.call(this,i,h,r,f),this.type="tilemapJSON",this.cache=i.cacheManager.tilemap},addToCache:function(){var n={format:s.WELTMEISTER,data:this.data};this.cache.add(this.key,n)}});g.register("tilemapImpact",function(n,i,h){if(Array.isArray(n))for(var r=0;r<n.length;r++)this.addFile(new o(this,n[r]));else this.addFile(new o(this,n,i,h));return this}),e.exports=o},56775:(e,y,t)=>{var a=t(83419),g=t(74099),l=t(518),s=t(80341),o=new a({Extends:l,initialize:function(i,h,r,f){l.call(this,i,h,r,f),this.type="tilemapJSON",this.cache=i.cacheManager.tilemap},addToCache:function(){var n={format:s.TILED_JSON,data:this.data};this.cache.add(this.key,n)}});g.register("tilemapTiledJSON",function(n,i,h){if(Array.isArray(n))for(var r=0;r<n.length;r++)this.addFile(new o(this,n[r]));else this.addFile(new o(this,n,i,h));return this}),e.exports=o},25771:(e,y,t)=>{var a=t(83419),g=t(74099),l=t(95540),s=t(19550),o=t(41212),n=t(26430),i=t(78776),h=new a({Extends:n,initialize:function(f,c,d,p,m,C){var S,E;if(o(c)){var D=c;c=l(D,"key"),S=new s(f,{key:c,url:l(D,"textureURL"),extension:l(D,"textureExtension","png"),normalMap:l(D,"normalMap"),xhrSettings:l(D,"textureXhrSettings")}),E=new i(f,{key:c,url:l(D,"atlasURL"),extension:l(D,"atlasExtension","txt"),xhrSettings:l(D,"atlasXhrSettings")})}else S=new s(f,c,d,m),E=new i(f,c,p,C);S.linkFile?n.call(this,f,"unityatlas",c,[S,E,S.linkFile]):n.call(this,f,"unityatlas",c,[S,E])},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0],f=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(r.key,r.data,f.data,c),this.complete=!0}}});g.register("unityAtlas",function(r,f,c,d,p){var m;if(Array.isArray(r))for(var C=0;C<r.length;C++)m=new h(this,r[C]),this.addFile(m.files);else m=new h(this,r,f,c,d,p),this.addFile(m.files);return this}),e.exports=h},33720:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(98356),n=t(95540),i=t(41212),h=new a({Extends:l,initialize:function(f,c,d,p){if(p===void 0&&(p=!1),i(c)){var m=c;c=n(m,"key"),d=n(m,"url",[]),p=n(m,"noAudio",!1)}var C=f.systems.game.device.video.getVideoURL(d);C||console.warn("VideoFile: No supported format for "+c);var S={type:"video",cache:f.cacheManager.video,extension:C.type,key:c,url:C.url,config:{noAudio:p}};l.call(this,f,S)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=o(this,this.loader.baseURL),this.state=g.FILE_LOADED,this.loader.nextFile(this,!0)}});s.register("video",function(r,f,c){if(Array.isArray(r))for(var d=0;d<r.length;d++)this.addFile(new h(this,r[d]));else this.addFile(new h(this,r,f,c));return this}),e.exports=h},57318:(e,y,t)=>{var a=t(83419),g=t(23906),l=t(41299),s=t(74099),o=t(95540),n=t(41212),i=t(56836),h=new a({Extends:l,initialize:function(f,c,d,p){var m="xml";if(n(c)){var C=c;c=o(C,"key"),d=o(C,"url"),p=o(C,"xhrSettings"),m=o(C,"extension",m)}var S={type:"xml",cache:f.cacheManager.xml,extension:m,responseType:"text",key:c,url:d,xhrSettings:p};l.call(this,f,S)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=i(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});s.register("xml",function(r,f,c){if(Array.isArray(r))for(var d=0;d<r.length;d++)this.addFile(new h(this,r[d]));else this.addFile(new h(this,r,f,c));return this}),e.exports=h},64589:(e,y,t)=>{e.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(e,y,t)=>{var a=t(23906),g=t(79291),l={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};l=g(!1,l,a),e.exports=l},53307:e=>{var y=function(t){for(var a=0,g=0;g<t.length;g++)a+=+t[g];return a/t.length};e.exports=y},85710:(e,y,t)=>{var a=t(6411),g=function(l,s){return a(l)/a(s)/a(l-s)};e.exports=g},30976:e=>{var y=function(t,a){return Math.floor(Math.random()*(a-t+1)+t)};e.exports=y},87842:e=>{var y=function(t,a,g,l,s){var o=(l-a)*.5,n=(s-g)*.5,i=t*t,h=t*i;return(2*g-2*l+o+n)*h+(-3*g+3*l-2*o-n)*i+o*t+g};e.exports=y},26302:e=>{var y=function(t,a,g){a===void 0&&(a=0),g===void 0&&(g=10);var l=Math.pow(g,-a);return Math.ceil(t*l)/l};e.exports=y},45319:e=>{var y=function(t,a,g){return Math.max(a,Math.min(g,t))};e.exports=y},39506:(e,y,t)=>{var a=t(36383),g=function(l){return l*a.DEG_TO_RAD};e.exports=g},61241:e=>{var y=function(t,a){return Math.abs(t-a)};e.exports=y},38857:(e,y,t)=>{var a=t(45319),g=t(83419),l=t(37867),s=t(29747),o=new l,n=new g({initialize:function i(h,r,f,c){h===void 0&&(h=0),r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c=i.DefaultOrder),this._x=h,this._y=r,this._z=f,this._order=c,this.onChangeCallback=s},x:{get:function(){return this._x},set:function(i){this._x=i,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(i){this._y=i,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(i){this._z=i,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(i){this._order=i,this.onChangeCallback(this)}},set:function(i,h,r,f){return f===void 0&&(f=this._order),this._x=i,this._y=h,this._z=r,this._order=f,this.onChangeCallback(this),this},copy:function(i){return this.set(i.x,i.y,i.z,i.order)},setFromQuaternion:function(i,h,r){return h===void 0&&(h=this._order),r===void 0&&(r=!1),o.fromQuat(i),this.setFromRotationMatrix(o,h,r)},setFromRotationMatrix:function(i,h,r){h===void 0&&(h=this._order),r===void 0&&(r=!1);var f=i.val,c=f[0],d=f[4],p=f[8],m=f[1],C=f[5],S=f[9],E=f[2],D=f[6],M=f[10],w=0,A=0,R=0,P=.99999;switch(h){case"XYZ":{A=Math.asin(a(p,-1,1)),Math.abs(p)<P?(w=Math.atan2(-S,M),R=Math.atan2(-d,c)):w=Math.atan2(D,C);break}case"YXZ":{w=Math.asin(-a(S,-1,1)),Math.abs(S)<P?(A=Math.atan2(p,M),R=Math.atan2(m,C)):A=Math.atan2(-E,c);break}case"ZXY":{w=Math.asin(a(D,-1,1)),Math.abs(D)<P?(A=Math.atan2(-E,M),R=Math.atan2(-d,C)):R=Math.atan2(m,c);break}case"ZYX":{A=Math.asin(-a(E,-1,1)),Math.abs(E)<P?(w=Math.atan2(D,M),R=Math.atan2(m,c)):R=Math.atan2(-d,C);break}case"YZX":{R=Math.asin(a(m,-1,1)),Math.abs(m)<P?(w=Math.atan2(-S,C),A=Math.atan2(-E,c)):A=Math.atan2(p,M);break}case"XZY":{R=Math.asin(-a(d,-1,1)),Math.abs(d)<P?(w=Math.atan2(D,C),A=Math.atan2(p,c)):w=Math.atan2(-S,M);break}}return this._x=w,this._y=A,this._z=R,this._order=h,r&&this.onChangeCallback(this),this}});n.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],n.DefaultOrder="XYZ",e.exports=n},6411:e=>{var y=function(t){if(t===0)return 1;for(var a=t;--t;)a*=t;return a};e.exports=y},99472:e=>{var y=function(t,a){return Math.random()*(a-t)+t};e.exports=y},77623:e=>{var y=function(t,a,g){a===void 0&&(a=0),g===void 0&&(g=10);var l=Math.pow(g,-a);return Math.floor(t*l)/l};e.exports=y},62945:(e,y,t)=>{var a=t(45319),g=function(l,s,o){return l=a(l,0,1),(o-s)*l+s};e.exports=g},38265:e=>{var y=function(t,a){return t/a/1e3};e.exports=y},78702:e=>{var y=function(t){return t==parseFloat(t)?!(t%2):void 0};e.exports=y},94883:e=>{var y=function(t){return t===parseFloat(t)?!(t%2):void 0};e.exports=y},28915:e=>{var y=function(t,a,g){return(a-t)*g+t};e.exports=y},94908:e=>{var y=function(t,a,g){return g===void 0&&(g=0),t.clone().lerp(a,g)};e.exports=y},94434:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s){this.val=new Float32Array(9),s?this.copy(s):this.identity()},clone:function(){return new g(this)},set:function(l){return this.copy(l)},copy:function(l){var s=this.val,o=l.val;return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[4]=o[4],s[5]=o[5],s[6]=o[6],s[7]=o[7],s[8]=o[8],this},fromMat4:function(l){var s=l.val,o=this.val;return o[0]=s[0],o[1]=s[1],o[2]=s[2],o[3]=s[4],o[4]=s[5],o[5]=s[6],o[6]=s[8],o[7]=s[9],o[8]=s[10],this},fromArray:function(l){var s=this.val;return s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5],s[6]=l[6],s[7]=l[7],s[8]=l[8],this},identity:function(){var l=this.val;return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=1,l[5]=0,l[6]=0,l[7]=0,l[8]=1,this},transpose:function(){var l=this.val,s=l[1],o=l[2],n=l[5];return l[1]=l[3],l[2]=l[6],l[3]=s,l[5]=l[7],l[6]=o,l[7]=n,this},invert:function(){var l=this.val,s=l[0],o=l[1],n=l[2],i=l[3],h=l[4],r=l[5],f=l[6],c=l[7],d=l[8],p=d*h-r*c,m=-d*i+r*f,C=c*i-h*f,S=s*p+o*m+n*C;return S?(S=1/S,l[0]=p*S,l[1]=(-d*o+n*c)*S,l[2]=(r*o-n*h)*S,l[3]=m*S,l[4]=(d*s-n*f)*S,l[5]=(-r*s+n*i)*S,l[6]=C*S,l[7]=(-c*s+o*f)*S,l[8]=(h*s-o*i)*S,this):null},adjoint:function(){var l=this.val,s=l[0],o=l[1],n=l[2],i=l[3],h=l[4],r=l[5],f=l[6],c=l[7],d=l[8];return l[0]=h*d-r*c,l[1]=n*c-o*d,l[2]=o*r-n*h,l[3]=r*f-i*d,l[4]=s*d-n*f,l[5]=n*i-s*r,l[6]=i*c-h*f,l[7]=o*f-s*c,l[8]=s*h-o*i,this},determinant:function(){var l=this.val,s=l[0],o=l[1],n=l[2],i=l[3],h=l[4],r=l[5],f=l[6],c=l[7],d=l[8];return s*(d*h-r*c)+o*(-d*i+r*f)+n*(c*i-h*f)},multiply:function(l){var s=this.val,o=s[0],n=s[1],i=s[2],h=s[3],r=s[4],f=s[5],c=s[6],d=s[7],p=s[8],m=l.val,C=m[0],S=m[1],E=m[2],D=m[3],M=m[4],w=m[5],A=m[6],R=m[7],P=m[8];return s[0]=C*o+S*h+E*c,s[1]=C*n+S*r+E*d,s[2]=C*i+S*f+E*p,s[3]=D*o+M*h+w*c,s[4]=D*n+M*r+w*d,s[5]=D*i+M*f+w*p,s[6]=A*o+R*h+P*c,s[7]=A*n+R*r+P*d,s[8]=A*i+R*f+P*p,this},translate:function(l){var s=this.val,o=l.x,n=l.y;return s[6]=o*s[0]+n*s[3]+s[6],s[7]=o*s[1]+n*s[4]+s[7],s[8]=o*s[2]+n*s[5]+s[8],this},rotate:function(l){var s=this.val,o=s[0],n=s[1],i=s[2],h=s[3],r=s[4],f=s[5],c=Math.sin(l),d=Math.cos(l);return s[0]=d*o+c*h,s[1]=d*n+c*r,s[2]=d*i+c*f,s[3]=d*h-c*o,s[4]=d*r-c*n,s[5]=d*f-c*i,this},scale:function(l){var s=this.val,o=l.x,n=l.y;return s[0]=o*s[0],s[1]=o*s[1],s[2]=o*s[2],s[3]=n*s[3],s[4]=n*s[4],s[5]=n*s[5],this},fromQuat:function(l){var s=l.x,o=l.y,n=l.z,i=l.w,h=s+s,r=o+o,f=n+n,c=s*h,d=s*r,p=s*f,m=o*r,C=o*f,S=n*f,E=i*h,D=i*r,M=i*f,w=this.val;return w[0]=1-(m+S),w[3]=d+M,w[6]=p-D,w[1]=d-M,w[4]=1-(c+S),w[7]=C+E,w[2]=p+D,w[5]=C-E,w[8]=1-(c+m),this},normalFromMat4:function(l){var s=l.val,o=this.val,n=s[0],i=s[1],h=s[2],r=s[3],f=s[4],c=s[5],d=s[6],p=s[7],m=s[8],C=s[9],S=s[10],E=s[11],D=s[12],M=s[13],w=s[14],A=s[15],R=n*c-i*f,P=n*d-h*f,O=n*p-r*f,b=i*d-h*c,F=i*p-r*c,L=h*p-r*d,G=m*M-C*D,z=m*w-S*D,X=m*A-E*D,B=C*w-S*M,U=C*A-E*M,I=S*A-E*w,N=R*I-P*U+O*B+b*X-F*z+L*G;return N?(N=1/N,o[0]=(c*I-d*U+p*B)*N,o[1]=(d*X-f*I-p*z)*N,o[2]=(f*U-c*X+p*G)*N,o[3]=(h*U-i*I-r*B)*N,o[4]=(n*I-h*X+r*z)*N,o[5]=(i*X-n*U-r*G)*N,o[6]=(M*L-w*F+A*b)*N,o[7]=(w*O-D*L-A*P)*N,o[8]=(D*F-M*O+A*R)*N,this):null}});e.exports=g},37867:(e,y,t)=>{var a=t(83419),g=t(25836),l=1e-6,s=new a({initialize:function(c){this.val=new Float32Array(16),c?this.copy(c):this.identity()},clone:function(){return new s(this)},set:function(f){return this.copy(f)},setValues:function(f,c,d,p,m,C,S,E,D,M,w,A,R,P,O,b){var F=this.val;return F[0]=f,F[1]=c,F[2]=d,F[3]=p,F[4]=m,F[5]=C,F[6]=S,F[7]=E,F[8]=D,F[9]=M,F[10]=w,F[11]=A,F[12]=R,F[13]=P,F[14]=O,F[15]=b,this},copy:function(f){var c=f.val;return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},fromArray:function(f){return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(f,c,d){var p=o.fromQuat(d),m=p.val,C=c.x,S=c.y,E=c.z;return this.setValues(m[0]*C,m[1]*C,m[2]*C,0,m[4]*S,m[5]*S,m[6]*S,0,m[8]*E,m[9]*E,m[10]*E,0,f.x,f.y,f.z,1)},xyz:function(f,c,d){this.identity();var p=this.val;return p[12]=f,p[13]=c,p[14]=d,this},scaling:function(f,c,d){this.zero();var p=this.val;return p[0]=f,p[5]=c,p[10]=d,p[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var f=this.val,c=f[1],d=f[2],p=f[3],m=f[6],C=f[7],S=f[11];return f[1]=f[4],f[2]=f[8],f[3]=f[12],f[4]=c,f[6]=f[9],f[7]=f[13],f[8]=d,f[9]=m,f[11]=f[14],f[12]=p,f[13]=C,f[14]=S,this},getInverse:function(f){return this.copy(f),this.invert()},invert:function(){var f=this.val,c=f[0],d=f[1],p=f[2],m=f[3],C=f[4],S=f[5],E=f[6],D=f[7],M=f[8],w=f[9],A=f[10],R=f[11],P=f[12],O=f[13],b=f[14],F=f[15],L=c*S-d*C,G=c*E-p*C,z=c*D-m*C,X=d*E-p*S,B=d*D-m*S,U=p*D-m*E,I=M*O-w*P,N=M*b-A*P,V=M*F-R*P,H=w*b-A*O,W=w*F-R*O,Y=A*F-R*b,j=L*Y-G*W+z*H+X*V-B*N+U*I;return j?(j=1/j,this.setValues((S*Y-E*W+D*H)*j,(p*W-d*Y-m*H)*j,(O*U-b*B+F*X)*j,(A*B-w*U-R*X)*j,(E*V-C*Y-D*N)*j,(c*Y-p*V+m*N)*j,(b*z-P*U-F*G)*j,(M*U-A*z+R*G)*j,(C*W-S*V+D*I)*j,(d*V-c*W-m*I)*j,(P*B-O*z+F*L)*j,(w*z-M*B-R*L)*j,(S*N-C*H-E*I)*j,(c*H-d*N+p*I)*j,(O*G-P*X-b*L)*j,(M*X-w*G+A*L)*j)):this},adjoint:function(){var f=this.val,c=f[0],d=f[1],p=f[2],m=f[3],C=f[4],S=f[5],E=f[6],D=f[7],M=f[8],w=f[9],A=f[10],R=f[11],P=f[12],O=f[13],b=f[14],F=f[15];return this.setValues(S*(A*F-R*b)-w*(E*F-D*b)+O*(E*R-D*A),-(d*(A*F-R*b)-w*(p*F-m*b)+O*(p*R-m*A)),d*(E*F-D*b)-S*(p*F-m*b)+O*(p*D-m*E),-(d*(E*R-D*A)-S*(p*R-m*A)+w*(p*D-m*E)),-(C*(A*F-R*b)-M*(E*F-D*b)+P*(E*R-D*A)),c*(A*F-R*b)-M*(p*F-m*b)+P*(p*R-m*A),-(c*(E*F-D*b)-C*(p*F-m*b)+P*(p*D-m*E)),c*(E*R-D*A)-C*(p*R-m*A)+M*(p*D-m*E),C*(w*F-R*O)-M*(S*F-D*O)+P*(S*R-D*w),-(c*(w*F-R*O)-M*(d*F-m*O)+P*(d*R-m*w)),c*(S*F-D*O)-C*(d*F-m*O)+P*(d*D-m*S),-(c*(S*R-D*w)-C*(d*R-m*w)+M*(d*D-m*S)),-(C*(w*b-A*O)-M*(S*b-E*O)+P*(S*A-E*w)),c*(w*b-A*O)-M*(d*b-p*O)+P*(d*A-p*w),-(c*(S*b-E*O)-C*(d*b-p*O)+P*(d*E-p*S)),c*(S*A-E*w)-C*(d*A-p*w)+M*(d*E-p*S))},determinant:function(){var f=this.val,c=f[0],d=f[1],p=f[2],m=f[3],C=f[4],S=f[5],E=f[6],D=f[7],M=f[8],w=f[9],A=f[10],R=f[11],P=f[12],O=f[13],b=f[14],F=f[15],L=c*S-d*C,G=c*E-p*C,z=c*D-m*C,X=d*E-p*S,B=d*D-m*S,U=p*D-m*E,I=M*O-w*P,N=M*b-A*P,V=M*F-R*P,H=w*b-A*O,W=w*F-R*O,Y=A*F-R*b;return L*Y-G*W+z*H+X*V-B*N+U*I},multiply:function(f){var c=this.val,d=c[0],p=c[1],m=c[2],C=c[3],S=c[4],E=c[5],D=c[6],M=c[7],w=c[8],A=c[9],R=c[10],P=c[11],O=c[12],b=c[13],F=c[14],L=c[15],G=f.val,z=G[0],X=G[1],B=G[2],U=G[3];return c[0]=z*d+X*S+B*w+U*O,c[1]=z*p+X*E+B*A+U*b,c[2]=z*m+X*D+B*R+U*F,c[3]=z*C+X*M+B*P+U*L,z=G[4],X=G[5],B=G[6],U=G[7],c[4]=z*d+X*S+B*w+U*O,c[5]=z*p+X*E+B*A+U*b,c[6]=z*m+X*D+B*R+U*F,c[7]=z*C+X*M+B*P+U*L,z=G[8],X=G[9],B=G[10],U=G[11],c[8]=z*d+X*S+B*w+U*O,c[9]=z*p+X*E+B*A+U*b,c[10]=z*m+X*D+B*R+U*F,c[11]=z*C+X*M+B*P+U*L,z=G[12],X=G[13],B=G[14],U=G[15],c[12]=z*d+X*S+B*w+U*O,c[13]=z*p+X*E+B*A+U*b,c[14]=z*m+X*D+B*R+U*F,c[15]=z*C+X*M+B*P+U*L,this},multiplyLocal:function(f){var c=this.val,d=f.val;return this.setValues(c[0]*d[0]+c[1]*d[4]+c[2]*d[8]+c[3]*d[12],c[0]*d[1]+c[1]*d[5]+c[2]*d[9]+c[3]*d[13],c[0]*d[2]+c[1]*d[6]+c[2]*d[10]+c[3]*d[14],c[0]*d[3]+c[1]*d[7]+c[2]*d[11]+c[3]*d[15],c[4]*d[0]+c[5]*d[4]+c[6]*d[8]+c[7]*d[12],c[4]*d[1]+c[5]*d[5]+c[6]*d[9]+c[7]*d[13],c[4]*d[2]+c[5]*d[6]+c[6]*d[10]+c[7]*d[14],c[4]*d[3]+c[5]*d[7]+c[6]*d[11]+c[7]*d[15],c[8]*d[0]+c[9]*d[4]+c[10]*d[8]+c[11]*d[12],c[8]*d[1]+c[9]*d[5]+c[10]*d[9]+c[11]*d[13],c[8]*d[2]+c[9]*d[6]+c[10]*d[10]+c[11]*d[14],c[8]*d[3]+c[9]*d[7]+c[10]*d[11]+c[11]*d[15],c[12]*d[0]+c[13]*d[4]+c[14]*d[8]+c[15]*d[12],c[12]*d[1]+c[13]*d[5]+c[14]*d[9]+c[15]*d[13],c[12]*d[2]+c[13]*d[6]+c[14]*d[10]+c[15]*d[14],c[12]*d[3]+c[13]*d[7]+c[14]*d[11]+c[15]*d[15])},premultiply:function(f){return this.multiplyMatrices(f,this)},multiplyMatrices:function(f,c){var d=f.val,p=c.val,m=d[0],C=d[4],S=d[8],E=d[12],D=d[1],M=d[5],w=d[9],A=d[13],R=d[2],P=d[6],O=d[10],b=d[14],F=d[3],L=d[7],G=d[11],z=d[15],X=p[0],B=p[4],U=p[8],I=p[12],N=p[1],V=p[5],H=p[9],W=p[13],Y=p[2],j=p[6],k=p[10],$=p[14],Z=p[3],K=p[7],J=p[11],Q=p[15];return this.setValues(m*X+C*N+S*Y+E*Z,D*X+M*N+w*Y+A*Z,R*X+P*N+O*Y+b*Z,F*X+L*N+G*Y+z*Z,m*B+C*V+S*j+E*K,D*B+M*V+w*j+A*K,R*B+P*V+O*j+b*K,F*B+L*V+G*j+z*K,m*U+C*H+S*k+E*J,D*U+M*H+w*k+A*J,R*U+P*H+O*k+b*J,F*U+L*H+G*k+z*J,m*I+C*W+S*$+E*Q,D*I+M*W+w*$+A*Q,R*I+P*W+O*$+b*Q,F*I+L*W+G*$+z*Q)},translate:function(f){return this.translateXYZ(f.x,f.y,f.z)},translateXYZ:function(f,c,d){var p=this.val;return p[12]=p[0]*f+p[4]*c+p[8]*d+p[12],p[13]=p[1]*f+p[5]*c+p[9]*d+p[13],p[14]=p[2]*f+p[6]*c+p[10]*d+p[14],p[15]=p[3]*f+p[7]*c+p[11]*d+p[15],this},scale:function(f){return this.scaleXYZ(f.x,f.y,f.z)},scaleXYZ:function(f,c,d){var p=this.val;return p[0]=p[0]*f,p[1]=p[1]*f,p[2]=p[2]*f,p[3]=p[3]*f,p[4]=p[4]*c,p[5]=p[5]*c,p[6]=p[6]*c,p[7]=p[7]*c,p[8]=p[8]*d,p[9]=p[9]*d,p[10]=p[10]*d,p[11]=p[11]*d,this},makeRotationAxis:function(f,c){var d=Math.cos(c),p=Math.sin(c),m=1-d,C=f.x,S=f.y,E=f.z,D=m*C,M=m*S;return this.setValues(D*C+d,D*S-p*E,D*E+p*S,0,D*S+p*E,M*S+d,M*E-p*C,0,D*E-p*S,M*E+p*C,m*E*E+d,0,0,0,0,1)},rotate:function(f,c){var d=this.val,p=c.x,m=c.y,C=c.z,S=Math.sqrt(p*p+m*m+C*C);if(Math.abs(S)<l)return this;S=1/S,p*=S,m*=S,C*=S;var E=Math.sin(f),D=Math.cos(f),M=1-D,w=d[0],A=d[1],R=d[2],P=d[3],O=d[4],b=d[5],F=d[6],L=d[7],G=d[8],z=d[9],X=d[10],B=d[11],U=d[12],I=d[13],N=d[14],V=d[15],H=p*p*M+D,W=m*p*M+C*E,Y=C*p*M-m*E,j=p*m*M-C*E,k=m*m*M+D,$=C*m*M+p*E,Z=p*C*M+m*E,K=m*C*M-p*E,J=C*C*M+D;return this.setValues(w*H+O*W+G*Y,A*H+b*W+z*Y,R*H+F*W+X*Y,P*H+L*W+B*Y,w*j+O*k+G*$,A*j+b*k+z*$,R*j+F*k+X*$,P*j+L*k+B*$,w*Z+O*K+G*J,A*Z+b*K+z*J,R*Z+F*K+X*J,P*Z+L*K+B*J,U,I,N,V)},rotateX:function(f){var c=this.val,d=Math.sin(f),p=Math.cos(f),m=c[4],C=c[5],S=c[6],E=c[7],D=c[8],M=c[9],w=c[10],A=c[11];return c[4]=m*p+D*d,c[5]=C*p+M*d,c[6]=S*p+w*d,c[7]=E*p+A*d,c[8]=D*p-m*d,c[9]=M*p-C*d,c[10]=w*p-S*d,c[11]=A*p-E*d,this},rotateY:function(f){var c=this.val,d=Math.sin(f),p=Math.cos(f),m=c[0],C=c[1],S=c[2],E=c[3],D=c[8],M=c[9],w=c[10],A=c[11];return c[0]=m*p-D*d,c[1]=C*p-M*d,c[2]=S*p-w*d,c[3]=E*p-A*d,c[8]=m*d+D*p,c[9]=C*d+M*p,c[10]=S*d+w*p,c[11]=E*d+A*p,this},rotateZ:function(f){var c=this.val,d=Math.sin(f),p=Math.cos(f),m=c[0],C=c[1],S=c[2],E=c[3],D=c[4],M=c[5],w=c[6],A=c[7];return c[0]=m*p+D*d,c[1]=C*p+M*d,c[2]=S*p+w*d,c[3]=E*p+A*d,c[4]=D*p-m*d,c[5]=M*p-C*d,c[6]=w*p-S*d,c[7]=A*p-E*d,this},fromRotationTranslation:function(f,c){var d=f.x,p=f.y,m=f.z,C=f.w,S=d+d,E=p+p,D=m+m,M=d*S,w=d*E,A=d*D,R=p*E,P=p*D,O=m*D,b=C*S,F=C*E,L=C*D;return this.setValues(1-(R+O),w+L,A-F,0,w-L,1-(M+O),P+b,0,A+F,P-b,1-(M+R),0,c.x,c.y,c.z,1)},fromQuat:function(f){var c=f.x,d=f.y,p=f.z,m=f.w,C=c+c,S=d+d,E=p+p,D=c*C,M=c*S,w=c*E,A=d*S,R=d*E,P=p*E,O=m*C,b=m*S,F=m*E;return this.setValues(1-(A+P),M+F,w-b,0,M-F,1-(D+P),R+O,0,w+b,R-O,1-(D+A),0,0,0,0,1)},frustum:function(f,c,d,p,m,C){var S=1/(c-f),E=1/(p-d),D=1/(m-C);return this.setValues(m*2*S,0,0,0,0,m*2*E,0,0,(c+f)*S,(p+d)*E,(C+m)*D,-1,0,0,C*m*2*D,0)},perspective:function(f,c,d,p){var m=1/Math.tan(f/2),C=1/(d-p);return this.setValues(m/c,0,0,0,0,m,0,0,0,0,(p+d)*C,-1,0,0,2*p*d*C,0)},perspectiveLH:function(f,c,d,p){return this.setValues(2*d/f,0,0,0,0,2*d/c,0,0,0,0,-p/(d-p),1,0,0,d*p/(d-p),0)},ortho:function(f,c,d,p,m,C){var S=f-c,E=d-p,D=m-C;return S=S===0?S:1/S,E=E===0?E:1/E,D=D===0?D:1/D,this.setValues(-2*S,0,0,0,0,-2*E,0,0,0,0,2*D,0,(f+c)*S,(p+d)*E,(C+m)*D,1)},lookAtRH:function(f,c,d){var p=this.val;return r.subVectors(f,c),r.getLengthSquared()===0&&(r.z=1),r.normalize(),i.crossVectors(d,r),i.getLengthSquared()===0&&(Math.abs(d.z)===1?r.x+=1e-4:r.z+=1e-4,r.normalize(),i.crossVectors(d,r)),i.normalize(),h.crossVectors(r,i),p[0]=i.x,p[1]=i.y,p[2]=i.z,p[4]=h.x,p[5]=h.y,p[6]=h.z,p[8]=r.x,p[9]=r.y,p[10]=r.z,this},lookAt:function(f,c,d){var p=f.x,m=f.y,C=f.z,S=d.x,E=d.y,D=d.z,M=c.x,w=c.y,A=c.z;if(Math.abs(p-M)<l&&Math.abs(m-w)<l&&Math.abs(C-A)<l)return this.identity();var R=p-M,P=m-w,O=C-A,b=1/Math.sqrt(R*R+P*P+O*O);R*=b,P*=b,O*=b;var F=E*O-D*P,L=D*R-S*O,G=S*P-E*R;b=Math.sqrt(F*F+L*L+G*G),b?(b=1/b,F*=b,L*=b,G*=b):(F=0,L=0,G=0);var z=P*G-O*L,X=O*F-R*G,B=R*L-P*F;return b=Math.sqrt(z*z+X*X+B*B),b?(b=1/b,z*=b,X*=b,B*=b):(z=0,X=0,B=0),this.setValues(F,z,R,0,L,X,P,0,G,B,O,0,-(F*p+L*m+G*C),-(z*p+X*m+B*C),-(R*p+P*m+O*C),1)},yawPitchRoll:function(f,c,d){this.zero(),o.zero(),n.zero();var p=this.val,m=o.val,C=n.val,S=Math.sin(d),E=Math.cos(d);return p[10]=1,p[15]=1,p[0]=E,p[1]=S,p[4]=-S,p[5]=E,S=Math.sin(c),E=Math.cos(c),m[0]=1,m[15]=1,m[5]=E,m[10]=E,m[9]=-S,m[6]=S,S=Math.sin(f),E=Math.cos(f),C[5]=1,C[15]=1,C[0]=E,C[2]=-S,C[8]=S,C[10]=E,this.multiplyLocal(o),this.multiplyLocal(n),this},setWorldMatrix:function(f,c,d,p,m){return this.yawPitchRoll(f.y,f.x,f.z),o.scaling(d.x,d.y,d.z),n.xyz(c.x,c.y,c.z),this.multiplyLocal(o),this.multiplyLocal(n),p&&this.multiplyLocal(p),m&&this.multiplyLocal(m),this},multiplyToMat4:function(f,c){var d=this.val,p=f.val,m=d[0],C=d[1],S=d[2],E=d[3],D=d[4],M=d[5],w=d[6],A=d[7],R=d[8],P=d[9],O=d[10],b=d[11],F=d[12],L=d[13],G=d[14],z=d[15],X=p[0],B=p[1],U=p[2],I=p[3],N=p[4],V=p[5],H=p[6],W=p[7],Y=p[8],j=p[9],k=p[10],$=p[11],Z=p[12],K=p[13],J=p[14],Q=p[15];return c.setValues(X*m+B*D+U*R+I*F,B*C+B*M+U*P+I*L,U*S+B*w+U*O+I*G,I*E+B*A+U*b+I*z,N*m+V*D+H*R+W*F,N*C+V*M+H*P+W*L,N*S+V*w+H*O+W*G,N*E+V*A+H*b+W*z,Y*m+j*D+k*R+$*F,Y*C+j*M+k*P+$*L,Y*S+j*w+k*O+$*G,Y*E+j*A+k*b+$*z,Z*m+K*D+J*R+Q*F,Z*C+K*M+J*P+Q*L,Z*S+K*w+J*O+Q*G,Z*E+K*A+J*b+Q*z)},fromRotationXYTranslation:function(f,c,d){var p=c.x,m=c.y,C=c.z,S=Math.sin(f.x),E=Math.cos(f.x),D=Math.sin(f.y),M=Math.cos(f.y),w=p,A=m,R=C,P=-S,O=0-P*D,b=0-E*D,F=P*M,L=E*M;return d||(w=M*p+D*C,A=O*p+E*m+F*C,R=b*p+S*m+L*C),this.setValues(M,O,b,0,0,E,S,0,D,F,L,0,w,A,R,1)},getMaxScaleOnAxis:function(){var f=this.val,c=f[0]*f[0]+f[1]*f[1]+f[2]*f[2],d=f[4]*f[4]+f[5]*f[5]+f[6]*f[6],p=f[8]*f[8]+f[9]*f[9]+f[10]*f[10];return Math.sqrt(Math.max(c,d,p))}}),o=new s,n=new s,i=new g,h=new g,r=new g;e.exports=s},86883:e=>{var y=function(t,a,g){return Math.min(t+a,g)};e.exports=y},50040:e=>{var y=function(t){var a=t.length;if(a===0)return 0;t.sort(function(l,s){return l-s});var g=Math.floor(a/2);return a%2===0?(t[g]+t[g-1])/2:t[g]};e.exports=y},37204:e=>{var y=function(t,a,g){return Math.max(t-a,g)};e.exports=y},65201:e=>{var y=function(t,a,g,l){g===void 0&&(g=a+1);var s=(t-a)/(g-a);return s>1?l!==void 0?(s=(l-t)/(l-g),s<0&&(s=0)):s=1:s<0&&(s=0),s};e.exports=y},15746:(e,y,t)=>{var a=t(83419),g=t(94434),l=t(29747),s=t(25836),o=1e-6,n=new Int8Array([1,2,0]),i=new Float32Array([0,0,0]),h=new s(1,0,0),r=new s(0,1,0),f=new s,c=new g,d=new a({initialize:function(m,C,S,E){this.onChangeCallback=l,this.set(m,C,S,E)},x:{get:function(){return this._x},set:function(p){this._x=p,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(p){this._y=p,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(p){this._z=p,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(p){this._w=p,this.onChangeCallback(this)}},copy:function(p){return this.set(p)},set:function(p,m,C,S,E){return E===void 0&&(E=!0),typeof p=="object"?(this._x=p.x||0,this._y=p.y||0,this._z=p.z||0,this._w=p.w||0):(this._x=p||0,this._y=m||0,this._z=C||0,this._w=S||0),E&&this.onChangeCallback(this),this},add:function(p){return this._x+=p.x,this._y+=p.y,this._z+=p.z,this._w+=p.w,this.onChangeCallback(this),this},subtract:function(p){return this._x-=p.x,this._y-=p.y,this._z-=p.z,this._w-=p.w,this.onChangeCallback(this),this},scale:function(p){return this._x*=p,this._y*=p,this._z*=p,this._w*=p,this.onChangeCallback(this),this},length:function(){var p=this.x,m=this.y,C=this.z,S=this.w;return Math.sqrt(p*p+m*m+C*C+S*S)},lengthSq:function(){var p=this.x,m=this.y,C=this.z,S=this.w;return p*p+m*m+C*C+S*S},normalize:function(){var p=this.x,m=this.y,C=this.z,S=this.w,E=p*p+m*m+C*C+S*S;return E>0&&(E=1/Math.sqrt(E),this._x=p*E,this._y=m*E,this._z=C*E,this._w=S*E),this.onChangeCallback(this),this},dot:function(p){return this.x*p.x+this.y*p.y+this.z*p.z+this.w*p.w},lerp:function(p,m){m===void 0&&(m=0);var C=this.x,S=this.y,E=this.z,D=this.w;return this.set(C+m*(p.x-C),S+m*(p.y-S),E+m*(p.z-E),D+m*(p.w-D))},rotationTo:function(p,m){var C=p.x*m.x+p.y*m.y+p.z*m.z;return C<-.999999?(f.copy(h).cross(p).length()<o&&f.copy(r).cross(p),f.normalize(),this.setAxisAngle(f,Math.PI)):C>.999999?this.set(0,0,0,1):(f.copy(p).cross(m),this._x=f.x,this._y=f.y,this._z=f.z,this._w=1+C,this.normalize())},setAxes:function(p,m,C){var S=c.val;return S[0]=m.x,S[3]=m.y,S[6]=m.z,S[1]=C.x,S[4]=C.y,S[7]=C.z,S[2]=-p.x,S[5]=-p.y,S[8]=-p.z,this.fromMat3(c).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(p,m){m=m*.5;var C=Math.sin(m);return this.set(C*p.x,C*p.y,C*p.z,Math.cos(m))},multiply:function(p){var m=this.x,C=this.y,S=this.z,E=this.w,D=p.x,M=p.y,w=p.z,A=p.w;return this.set(m*A+E*D+C*w-S*M,C*A+E*M+S*D-m*w,S*A+E*w+m*M-C*D,E*A-m*D-C*M-S*w)},slerp:function(p,m){var C=this.x,S=this.y,E=this.z,D=this.w,M=p.x,w=p.y,A=p.z,R=p.w,P=C*M+S*w+E*A+D*R;P<0&&(P=-P,M=-M,w=-w,A=-A,R=-R);var O=1-m,b=m;if(1-P>o){var F=Math.acos(P),L=Math.sin(F);O=Math.sin((1-m)*F)/L,b=Math.sin(m*F)/L}return this.set(O*C+b*M,O*S+b*w,O*E+b*A,O*D+b*R)},invert:function(){var p=this.x,m=this.y,C=this.z,S=this.w,E=p*p+m*m+C*C+S*S,D=E?1/E:0;return this.set(-p*D,-m*D,-C*D,S*D)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(p){p*=.5;var m=this.x,C=this.y,S=this.z,E=this.w,D=Math.sin(p),M=Math.cos(p);return this.set(m*M+E*D,C*M+S*D,S*M-C*D,E*M-m*D)},rotateY:function(p){p*=.5;var m=this.x,C=this.y,S=this.z,E=this.w,D=Math.sin(p),M=Math.cos(p);return this.set(m*M-S*D,C*M+E*D,S*M+m*D,E*M-C*D)},rotateZ:function(p){p*=.5;var m=this.x,C=this.y,S=this.z,E=this.w,D=Math.sin(p),M=Math.cos(p);return this.set(m*M+C*D,C*M-m*D,S*M+E*D,E*M-S*D)},calculateW:function(){var p=this.x,m=this.y,C=this.z;return this.w=-Math.sqrt(1-p*p-m*m-C*C),this},setFromEuler:function(p,m){var C=p.x/2,S=p.y/2,E=p.z/2,D=Math.cos(C),M=Math.cos(S),w=Math.cos(E),A=Math.sin(C),R=Math.sin(S),P=Math.sin(E);switch(p.order){case"XYZ":{this.set(A*M*w+D*R*P,D*R*w-A*M*P,D*M*P+A*R*w,D*M*w-A*R*P,m);break}case"YXZ":{this.set(A*M*w+D*R*P,D*R*w-A*M*P,D*M*P-A*R*w,D*M*w+A*R*P,m);break}case"ZXY":{this.set(A*M*w-D*R*P,D*R*w+A*M*P,D*M*P+A*R*w,D*M*w-A*R*P,m);break}case"ZYX":{this.set(A*M*w-D*R*P,D*R*w+A*M*P,D*M*P-A*R*w,D*M*w+A*R*P,m);break}case"YZX":{this.set(A*M*w+D*R*P,D*R*w+A*M*P,D*M*P-A*R*w,D*M*w-A*R*P,m);break}case"XZY":{this.set(A*M*w-D*R*P,D*R*w-A*M*P,D*M*P+A*R*w,D*M*w+A*R*P,m);break}}return this},setFromRotationMatrix:function(p){var m=p.val,C=m[0],S=m[4],E=m[8],D=m[1],M=m[5],w=m[9],A=m[2],R=m[6],P=m[10],O=C+M+P,b;return O>0?(b=.5/Math.sqrt(O+1),this.set((R-w)*b,(E-A)*b,(D-S)*b,.25/b)):C>M&&C>P?(b=2*Math.sqrt(1+C-M-P),this.set(.25*b,(S+D)/b,(E+A)/b,(R-w)/b)):M>P?(b=2*Math.sqrt(1+M-C-P),this.set((S+D)/b,.25*b,(w+R)/b,(E-A)/b)):(b=2*Math.sqrt(1+P-C-M),this.set((E+A)/b,(w+R)/b,.25*b,(D-S)/b)),this},fromMat3:function(p){var m=p.val,C=m[0]+m[4]+m[8],S;if(C>0)S=Math.sqrt(C+1),this.w=.5*S,S=.5/S,this._x=(m[7]-m[5])*S,this._y=(m[2]-m[6])*S,this._z=(m[3]-m[1])*S;else{var E=0;m[4]>m[0]&&(E=1),m[8]>m[E*3+E]&&(E=2);var D=n[E],M=n[D];S=Math.sqrt(m[E*3+E]-m[D*3+D]-m[M*3+M]+1),i[E]=.5*S,S=.5/S,i[D]=(m[D*3+E]+m[E*3+D])*S,i[M]=(m[M*3+E]+m[E*3+M])*S,this._x=i[0],this._y=i[1],this._z=i[2],this._w=(m[M*3+D]-m[D*3+M])*S}return this.onChangeCallback(this),this}});e.exports=d},43396:(e,y,t)=>{var a=t(36383),g=function(l){return l*a.RAD_TO_DEG};e.exports=g},74362:e=>{var y=function(t,a){a===void 0&&(a=1);var g=Math.random()*2*Math.PI;return t.x=Math.cos(g)*a,t.y=Math.sin(g)*a,t};e.exports=y},60706:e=>{var y=function(t,a){a===void 0&&(a=1);var g=Math.random()*2*Math.PI,l=Math.random()*2-1,s=Math.sqrt(1-l*l)*a;return t.x=Math.cos(g)*s,t.y=Math.sin(g)*s,t.z=l*a,t};e.exports=y},67421:e=>{var y=function(t,a){return a===void 0&&(a=1),t.x=(Math.random()*2-1)*a,t.y=(Math.random()*2-1)*a,t.z=(Math.random()*2-1)*a,t.w=(Math.random()*2-1)*a,t};e.exports=y},36305:e=>{var y=function(t,a){var g=t.x,l=t.y;return t.x=g*Math.cos(a)-l*Math.sin(a),t.y=g*Math.sin(a)+l*Math.cos(a),t};e.exports=y},11520:e=>{var y=function(t,a,g,l){var s=Math.cos(l),o=Math.sin(l),n=t.x-a,i=t.y-g;return t.x=n*s-i*o+a,t.y=n*o+i*s+g,t};e.exports=y},1163:e=>{var y=function(t,a,g,l,s){var o=l+Math.atan2(t.y-g,t.x-a);return t.x=a+s*Math.cos(o),t.y=g+s*Math.sin(o),t};e.exports=y},70336:e=>{var y=function(t,a,g,l,s){return t.x=a+s*Math.cos(l),t.y=g+s*Math.sin(l),t};e.exports=y},72678:(e,y,t)=>{var a=t(25836),g=t(37867),l=t(15746),s=new g,o=new l,n=new a,i=function(h,r,f){return o.setAxisAngle(r,f),s.fromRotationTranslation(o,n.set(0,0,0)),h.transformMat4(s)};e.exports=i},2284:e=>{var y=function(t){return t>0?Math.ceil(t):Math.floor(t)};e.exports=y},41013:e=>{var y=function(t,a,g){a===void 0&&(a=0),g===void 0&&(g=10);var l=Math.pow(g,-a);return Math.round(t*l)/l};e.exports=y},16922:e=>{var y=function(t,a,g,l){a===void 0&&(a=1),g===void 0&&(g=1),l===void 0&&(l=1),l*=Math.PI/t;for(var s=[],o=[],n=0;n<t;n++)g-=a*l,a+=g*l,s[n]=g,o[n]=a;return{sin:o,cos:s,length:t}};e.exports=y},7602:e=>{var y=function(t,a,g){return t<=a?0:t>=g?1:(t=(t-a)/(g-a),t*t*(3-2*t))};e.exports=y},54261:e=>{var y=function(t,a,g){return t=Math.max(0,Math.min(1,(t-a)/(g-a))),t*t*t*(t*(t*6-15)+10)};e.exports=y},44408:(e,y,t)=>{var a=t(26099),g=function(l,s,o,n){n===void 0&&(n=new a);var i=0,h=0,r=s*o;return l>0&&l<=r&&(l>s-1?(h=Math.floor(l/s),i=l-h*s):i=l),n.set(i,h)};e.exports=g},85955:(e,y,t)=>{var a=t(26099),g=function(l,s,o,n,i,h,r,f){f===void 0&&(f=new a);var c=Math.sin(i),d=Math.cos(i),p=d*h,m=c*h,C=-c*r,S=d*r,E=1/(p*S+C*-m);return f.x=S*E*l+-C*E*s+(n*C-o*S)*E,f.y=p*E*s+-m*E*l+(-n*p+o*m)*E,f};e.exports=g},26099:(e,y,t)=>{var a=t(83419),g=t(43855),l=new a({initialize:function(o,n){this.x=0,this.y=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0):(n===void 0&&(n=o),this.x=o||0,this.y=n||0)},clone:function(){return new l(this.x,this.y)},copy:function(s){return this.x=s.x||0,this.y=s.y||0,this},setFromObject:function(s){return this.x=s.x||0,this.y=s.y||0,this},set:function(s,o){return o===void 0&&(o=s),this.x=s,this.y=o,this},setTo:function(s,o){return this.set(s,o)},setToPolar:function(s,o){return o==null&&(o=1),this.x=Math.cos(s)*o,this.y=Math.sin(s)*o,this},equals:function(s){return this.x===s.x&&this.y===s.y},fuzzyEquals:function(s,o){return g(this.x,s.x,o)&&g(this.y,s.y,o)},angle:function(){var s=Math.atan2(this.y,this.x);return s<0&&(s+=2*Math.PI),s},setAngle:function(s){return this.setToPolar(s,this.length())},add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s):(this.x=0,this.y=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(s){var o=s.x-this.x,n=s.y-this.y;return Math.sqrt(o*o+n*n)},distanceSq:function(s){var o=s.x-this.x,n=s.y-this.y;return o*o+n*n},length:function(){var s=this.x,o=this.y;return Math.sqrt(s*s+o*o)},setLength:function(s){return this.normalize().scale(s)},lengthSq:function(){var s=this.x,o=this.y;return s*s+o*o},normalize:function(){var s=this.x,o=this.y,n=s*s+o*o;return n>0&&(n=1/Math.sqrt(n),this.x=s*n,this.y=o*n),this},normalizeRightHand:function(){var s=this.x;return this.x=this.y*-1,this.y=s,this},normalizeLeftHand:function(){var s=this.x;return this.x=this.y,this.y=s*-1,this},dot:function(s){return this.x*s.x+this.y*s.y},cross:function(s){return this.x*s.y-this.y*s.x},lerp:function(s,o){o===void 0&&(o=0);var n=this.x,i=this.y;return this.x=n+o*(s.x-n),this.y=i+o*(s.y-i),this},transformMat3:function(s){var o=this.x,n=this.y,i=s.val;return this.x=i[0]*o+i[3]*n+i[6],this.y=i[1]*o+i[4]*n+i[7],this},transformMat4:function(s){var o=this.x,n=this.y,i=s.val;return this.x=i[0]*o+i[4]*n+i[12],this.y=i[1]*o+i[5]*n+i[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(s){var o=this.length();return o&&o>s&&this.scale(s/o),this},reflect:function(s){return s=s.clone().normalize(),this.subtract(s.scale(2*this.dot(s)))},mirror:function(s){return this.reflect(s).negate()},rotate:function(s){var o=Math.cos(s),n=Math.sin(s);return this.set(o*this.x-n*this.y,n*this.x+o*this.y)},project:function(s){var o=this.dot(s)/s.dot(s);return this.copy(s).scale(o)}});l.ZERO=new l,l.RIGHT=new l(1,0),l.LEFT=new l(-1,0),l.UP=new l(0,-1),l.DOWN=new l(0,1),l.ONE=new l(1,1),e.exports=l},25836:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o,n){this.x=0,this.y=0,this.z=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=o||0,this.z=n||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this},max:function(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this},clone:function(){return new g(this.x,this.y,this.z)},addVectors:function(l,s){return this.x=l.x+s.x,this.y=l.y+s.y,this.z=l.z+s.z,this},crossVectors:function(l,s){var o=l.x,n=l.y,i=l.z,h=s.x,r=s.y,f=s.z;return this.x=n*f-i*r,this.y=i*h-o*f,this.z=o*r-n*h,this},equals:function(l){return this.x===l.x&&this.y===l.y&&this.z===l.z},copy:function(l){return this.x=l.x,this.y=l.y,this.z=l.z||0,this},set:function(l,s,o){return typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=s||0,this.z=o||0),this},setFromMatrixPosition:function(l){return this.fromArray(l.val,12)},setFromMatrixColumn:function(l,s){return this.fromArray(l.val,s*4)},fromArray:function(l,s){return s===void 0&&(s=0),this.x=l[s],this.y=l[s+1],this.z=l[s+2],this},add:function(l){return this.x+=l.x,this.y+=l.y,this.z+=l.z||0,this},addScalar:function(l){return this.x+=l,this.y+=l,this.z+=l,this},addScale:function(l,s){return this.x+=l.x*s,this.y+=l.y*s,this.z+=l.z*s||0,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this.z-=l.z||0,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z||1,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l,this.z*=l):(this.x=0,this.y=0,this.z=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(l){var s=l.x-this.x,o=l.y-this.y,n=l.z-this.z||0;return Math.sqrt(s*s+o*o+n*n)},distanceSq:function(l){var s=l.x-this.x,o=l.y-this.y,n=l.z-this.z||0;return s*s+o*o+n*n},length:function(){var l=this.x,s=this.y,o=this.z;return Math.sqrt(l*l+s*s+o*o)},lengthSq:function(){var l=this.x,s=this.y,o=this.z;return l*l+s*s+o*o},normalize:function(){var l=this.x,s=this.y,o=this.z,n=l*l+s*s+o*o;return n>0&&(n=1/Math.sqrt(n),this.x=l*n,this.y=s*n,this.z=o*n),this},dot:function(l){return this.x*l.x+this.y*l.y+this.z*l.z},cross:function(l){var s=this.x,o=this.y,n=this.z,i=l.x,h=l.y,r=l.z;return this.x=o*r-n*h,this.y=n*i-s*r,this.z=s*h-o*i,this},lerp:function(l,s){s===void 0&&(s=0);var o=this.x,n=this.y,i=this.z;return this.x=o+s*(l.x-o),this.y=n+s*(l.y-n),this.z=i+s*(l.z-i),this},applyMatrix3:function(l){var s=this.x,o=this.y,n=this.z,i=l.val;return this.x=i[0]*s+i[3]*o+i[6]*n,this.y=i[1]*s+i[4]*o+i[7]*n,this.z=i[2]*s+i[5]*o+i[8]*n,this},applyMatrix4:function(l){var s=this.x,o=this.y,n=this.z,i=l.val,h=1/(i[3]*s+i[7]*o+i[11]*n+i[15]);return this.x=(i[0]*s+i[4]*o+i[8]*n+i[12])*h,this.y=(i[1]*s+i[5]*o+i[9]*n+i[13])*h,this.z=(i[2]*s+i[6]*o+i[10]*n+i[14])*h,this},transformMat3:function(l){var s=this.x,o=this.y,n=this.z,i=l.val;return this.x=s*i[0]+o*i[3]+n*i[6],this.y=s*i[1]+o*i[4]+n*i[7],this.z=s*i[2]+o*i[5]+n*i[8],this},transformMat4:function(l){var s=this.x,o=this.y,n=this.z,i=l.val;return this.x=i[0]*s+i[4]*o+i[8]*n+i[12],this.y=i[1]*s+i[5]*o+i[9]*n+i[13],this.z=i[2]*s+i[6]*o+i[10]*n+i[14],this},transformCoordinates:function(l){var s=this.x,o=this.y,n=this.z,i=l.val,h=s*i[0]+o*i[4]+n*i[8]+i[12],r=s*i[1]+o*i[5]+n*i[9]+i[13],f=s*i[2]+o*i[6]+n*i[10]+i[14],c=s*i[3]+o*i[7]+n*i[11]+i[15];return this.x=h/c,this.y=r/c,this.z=f/c,this},transformQuat:function(l){var s=this.x,o=this.y,n=this.z,i=l.x,h=l.y,r=l.z,f=l.w,c=f*s+h*n-r*o,d=f*o+r*s-i*n,p=f*n+i*o-h*s,m=-i*s-h*o-r*n;return this.x=c*f+m*-i+d*-r-p*-h,this.y=d*f+m*-h+p*-i-c*-r,this.z=p*f+m*-r+c*-h-d*-i,this},project:function(l){var s=this.x,o=this.y,n=this.z,i=l.val,h=i[0],r=i[1],f=i[2],c=i[3],d=i[4],p=i[5],m=i[6],C=i[7],S=i[8],E=i[9],D=i[10],M=i[11],w=i[12],A=i[13],R=i[14],P=i[15],O=1/(s*c+o*C+n*M+P);return this.x=(s*h+o*d+n*S+w)*O,this.y=(s*r+o*p+n*E+A)*O,this.z=(s*f+o*m+n*D+R)*O,this},projectViewMatrix:function(l,s){return this.applyMatrix4(l).applyMatrix4(s)},unprojectViewMatrix:function(l,s){return this.applyMatrix4(l).applyMatrix4(s)},unproject:function(l,s){var o=l.x,n=l.y,i=l.z,h=l.w,r=this.x-o,f=h-this.y-1-n,c=this.z;return this.x=2*r/i-1,this.y=2*f/h-1,this.z=2*c-1,this.project(s)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});g.ZERO=new g,g.RIGHT=new g(1,0,0),g.LEFT=new g(-1,0,0),g.UP=new g(0,-1,0),g.DOWN=new g(0,1,0),g.FORWARD=new g(0,0,1),g.BACK=new g(0,0,-1),g.ONE=new g(1,1,1),e.exports=g},61369:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o,n,i){this.x=0,this.y=0,this.z=0,this.w=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=o||0,this.z=n||0,this.w=i||0)},clone:function(){return new g(this.x,this.y,this.z,this.w)},copy:function(l){return this.x=l.x,this.y=l.y,this.z=l.z||0,this.w=l.w||0,this},equals:function(l){return this.x===l.x&&this.y===l.y&&this.z===l.z&&this.w===l.w},set:function(l,s,o,n){return typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=s||0,this.z=o||0,this.w=n||0),this},add:function(l){return this.x+=l.x,this.y+=l.y,this.z+=l.z||0,this.w+=l.w||0,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this.z-=l.z||0,this.w-=l.w||0,this},scale:function(l){return this.x*=l,this.y*=l,this.z*=l,this.w*=l,this},length:function(){var l=this.x,s=this.y,o=this.z,n=this.w;return Math.sqrt(l*l+s*s+o*o+n*n)},lengthSq:function(){var l=this.x,s=this.y,o=this.z,n=this.w;return l*l+s*s+o*o+n*n},normalize:function(){var l=this.x,s=this.y,o=this.z,n=this.w,i=l*l+s*s+o*o+n*n;return i>0&&(i=1/Math.sqrt(i),this.x=l*i,this.y=s*i,this.z=o*i,this.w=n*i),this},dot:function(l){return this.x*l.x+this.y*l.y+this.z*l.z+this.w*l.w},lerp:function(l,s){s===void 0&&(s=0);var o=this.x,n=this.y,i=this.z,h=this.w;return this.x=o+s*(l.x-o),this.y=n+s*(l.y-n),this.z=i+s*(l.z-i),this.w=h+s*(l.w-h),this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z||1,this.w*=l.w||1,this},divide:function(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z||1,this.w/=l.w||1,this},distance:function(l){var s=l.x-this.x,o=l.y-this.y,n=l.z-this.z||0,i=l.w-this.w||0;return Math.sqrt(s*s+o*o+n*n+i*i)},distanceSq:function(l){var s=l.x-this.x,o=l.y-this.y,n=l.z-this.z||0,i=l.w-this.w||0;return s*s+o*o+n*n+i*i},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(l){var s=this.x,o=this.y,n=this.z,i=this.w,h=l.val;return this.x=h[0]*s+h[4]*o+h[8]*n+h[12]*i,this.y=h[1]*s+h[5]*o+h[9]*n+h[13]*i,this.z=h[2]*s+h[6]*o+h[10]*n+h[14]*i,this.w=h[3]*s+h[7]*o+h[11]*n+h[15]*i,this},transformQuat:function(l){var s=this.x,o=this.y,n=this.z,i=l.x,h=l.y,r=l.z,f=l.w,c=f*s+h*n-r*o,d=f*o+r*s-i*n,p=f*n+i*o-h*s,m=-i*s-h*o-r*n;return this.x=c*f+m*-i+d*-r-p*-h,this.y=d*f+m*-h+p*-i-c*-r,this.z=p*f+m*-r+c*-h-d*-i,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});g.prototype.sub=g.prototype.subtract,g.prototype.mul=g.prototype.multiply,g.prototype.div=g.prototype.divide,g.prototype.dist=g.prototype.distance,g.prototype.distSq=g.prototype.distanceSq,g.prototype.len=g.prototype.length,g.prototype.lenSq=g.prototype.lengthSq,e.exports=g},60417:e=>{var y=function(t,a,g){return Math.abs(t-a)<=g};e.exports=y},15994:e=>{var y=function(t,a,g){var l=g-a;return a+((t-a)%l+l)%l};e.exports=y},31040:e=>{var y=function(t,a,g,l){return Math.atan2(l-a,g-t)};e.exports=y},55495:e=>{var y=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)};e.exports=y},128:e=>{var y=function(t,a){return Math.atan2(a.x-t.x,a.y-t.y)};e.exports=y},41273:e=>{var y=function(t,a,g,l){return Math.atan2(g-t,l-a)};e.exports=y},1432:(e,y,t)=>{var a=t(36383),g=function(l){return l>Math.PI&&(l-=a.PI2),Math.abs(((l+a.TAU)%a.PI2-a.PI2)%a.PI2)};e.exports=g},12407:e=>{var y=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};e.exports=y},53993:(e,y,t)=>{var a=t(99472),g=function(){return a(-Math.PI,Math.PI)};e.exports=g},86564:(e,y,t)=>{var a=t(99472),g=function(){return a(-180,180)};e.exports=g},90154:(e,y,t)=>{var a=t(12407),g=function(l){return a(l+Math.PI)};e.exports=g},48736:(e,y,t)=>{var a=t(36383),g=function(l,s,o){return o===void 0&&(o=.05),l===s||(Math.abs(s-l)<=o||Math.abs(s-l)>=a.PI2-o?l=s:(Math.abs(s-l)>Math.PI&&(s<l?s+=a.PI2:s-=a.PI2),s>l?l+=o:s<l&&(l-=o))),l};e.exports=g},61430:e=>{var y=function(t,a){var g=a-t;if(g===0)return 0;var l=Math.floor((g- -180)/360);return g-l*360};e.exports=y},86554:(e,y,t)=>{var a=t(15994),g=function(l){return a(l,-Math.PI,Math.PI)};e.exports=g},30954:(e,y,t)=>{var a=t(15994),g=function(l){return a(l,-180,180)};e.exports=g},25588:(e,y,t)=>{e.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:e=>{var y={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};e.exports=y},20339:e=>{var y=function(t,a,g,l){var s=t-g,o=a-l;return Math.sqrt(s*s+o*o)};e.exports=y},52816:e=>{var y=function(t,a){var g=t.x-a.x,l=t.y-a.y;return Math.sqrt(g*g+l*l)};e.exports=y},64559:e=>{var y=function(t,a){var g=t.x-a.x,l=t.y-a.y;return g*g+l*l};e.exports=y},82340:e=>{var y=function(t,a,g,l){return Math.max(Math.abs(t-g),Math.abs(a-l))};e.exports=y},14390:e=>{var y=function(t,a,g,l,s){return s===void 0&&(s=2),Math.sqrt(Math.pow(g-t,s)+Math.pow(l-a,s))};e.exports=y},2243:e=>{var y=function(t,a,g,l){return Math.abs(t-g)+Math.abs(a-l)};e.exports=y},89774:e=>{var y=function(t,a,g,l){var s=t-g,o=a-l;return s*s+o*o};e.exports=y},50994:(e,y,t)=>{e.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(e,y,t)=>{var a=t(54178),g=t(41521),l=t(79980),s=t(85433),o=t(99140),n=t(48857),i=t(81596),h=t(59133),r=t(98516),f=t(35248),c=t(82500),d=t(49752);e.exports={Power0:i,Power1:h.Out,Power2:s.Out,Power3:r.Out,Power4:f.Out,Linear:i,Quad:h.Out,Cubic:s.Out,Quart:r.Out,Quint:f.Out,Sine:c.Out,Expo:n.Out,Circ:l.Out,Elastic:o.Out,Back:a.Out,Bounce:g.Out,Stepped:d,"Quad.easeIn":h.In,"Cubic.easeIn":s.In,"Quart.easeIn":r.In,"Quint.easeIn":f.In,"Sine.easeIn":c.In,"Expo.easeIn":n.In,"Circ.easeIn":l.In,"Elastic.easeIn":o.In,"Back.easeIn":a.In,"Bounce.easeIn":g.In,"Quad.easeOut":h.Out,"Cubic.easeOut":s.Out,"Quart.easeOut":r.Out,"Quint.easeOut":f.Out,"Sine.easeOut":c.Out,"Expo.easeOut":n.Out,"Circ.easeOut":l.Out,"Elastic.easeOut":o.Out,"Back.easeOut":a.Out,"Bounce.easeOut":g.Out,"Quad.easeInOut":h.InOut,"Cubic.easeInOut":s.InOut,"Quart.easeInOut":r.InOut,"Quint.easeInOut":f.InOut,"Sine.easeInOut":c.InOut,"Expo.easeInOut":n.InOut,"Circ.easeInOut":l.InOut,"Elastic.easeInOut":o.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":g.InOut}},1639:e=>{var y=function(t,a){return a===void 0&&(a=1.70158),t*t*((a+1)*t-a)};e.exports=y},50099:e=>{var y=function(t,a){a===void 0&&(a=1.70158);var g=a*1.525;return(t*=2)<1?.5*(t*t*((g+1)*t-g)):.5*((t-=2)*t*((g+1)*t+g)+2)};e.exports=y},41286:e=>{var y=function(t,a){return a===void 0&&(a=1.70158),--t*t*((a+1)*t+a)+1};e.exports=y},54178:(e,y,t)=>{e.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:e=>{var y=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};e.exports=y},41788:e=>{var y=function(t){var a=!1;return t<.5?(t=1-t*2,a=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,a?(1-t)*.5:t*.5+.5};e.exports=y},69905:e=>{var y=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};e.exports=y},41521:(e,y,t)=>{e.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:e=>{var y=function(t){return 1-Math.sqrt(1-t*t)};e.exports=y},4177:e=>{var y=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};e.exports=y},57512:e=>{var y=function(t){return Math.sqrt(1- --t*t)};e.exports=y},79980:(e,y,t)=>{e.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:e=>{var y=function(t){return t*t*t};e.exports=y},82820:e=>{var y=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};e.exports=y},35033:e=>{var y=function(t){return--t*t*t+1};e.exports=y},85433:(e,y,t)=>{e.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:e=>{var y=function(t,a,g){if(a===void 0&&(a=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var l=g/4;return a<1?a=1:l=g*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/g))};e.exports=y},50665:e=>{var y=function(t,a,g){if(a===void 0&&(a=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var l=g/4;return a<1?a=1:l=g*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/g)):a*Math.pow(2,-10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/g)*.5+1};e.exports=y},7744:e=>{var y=function(t,a,g){if(a===void 0&&(a=.1),g===void 0&&(g=.1),t===0)return 0;if(t===1)return 1;var l=g/4;return a<1?a=1:l=g*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin((t-l)*(2*Math.PI)/g)+1};e.exports=y},99140:(e,y,t)=>{e.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:e=>{var y=function(t){return Math.pow(2,10*(t-1))-.001};e.exports=y},87844:e=>{var y=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};e.exports=y},89433:e=>{var y=function(t){return 1-Math.pow(2,-10*t)};e.exports=y},48857:(e,y,t)=>{e.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(e,y,t)=>{e.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:e=>{var y=function(t){return t};e.exports=y},81596:(e,y,t)=>{e.exports=t(7147)},34826:e=>{var y=function(t){return t*t};e.exports=y},20544:e=>{var y=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};e.exports=y},92029:e=>{var y=function(t){return t*(2-t)};e.exports=y},59133:(e,y,t)=>{e.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:e=>{var y=function(t){return t*t*t*t};e.exports=y},78137:e=>{var y=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};e.exports=y},45840:e=>{var y=function(t){return 1- --t*t*t*t};e.exports=y},98516:(e,y,t)=>{e.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:e=>{var y=function(t){return t*t*t*t*t};e.exports=y},16509:e=>{var y=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};e.exports=y},17868:e=>{var y=function(t){return--t*t*t*t*t+1};e.exports=y},35248:(e,y,t)=>{e.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:e=>{var y=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};e.exports=y},34025:e=>{var y=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};e.exports=y},52768:e=>{var y=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};e.exports=y},82500:(e,y,t)=>{e.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:e=>{var y=function(t,a){return a===void 0&&(a=1),t<=0?0:t>=1?1:((a*t|0)+1)*(1/a)};e.exports=y},49752:(e,y,t)=>{e.exports=t(72251)},75698:e=>{var y=function(t,a){return a===void 0&&(a=1e-4),Math.ceil(t-a)};e.exports=y},43855:e=>{var y=function(t,a,g){return g===void 0&&(g=1e-4),Math.abs(t-a)<g};e.exports=y},25777:e=>{var y=function(t,a){return a===void 0&&(a=1e-4),Math.floor(t+a)};e.exports=y},5470:e=>{var y=function(t,a,g){return g===void 0&&(g=1e-4),t>a-g};e.exports=y},94977:e=>{var y=function(t,a,g){return g===void 0&&(g=1e-4),t<a+g};e.exports=y},48379:(e,y,t)=>{e.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(e,y,t)=>{var a=t(36383),g=t(79291),l={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};l=g(!1,l,a),e.exports=l},89318:(e,y,t)=>{var a=t(85710),g=function(l,s){for(var o=0,n=l.length-1,i=0;i<=n;i++)o+=Math.pow(1-s,n-i)*Math.pow(s,i)*l[i]*a(n,i);return o};e.exports=g},77259:(e,y,t)=>{var a=t(87842),g=function(l,s){var o=l.length-1,n=o*s,i=Math.floor(n);return l[0]===l[o]?(s<0&&(i=Math.floor(n=o*(1+s))),a(n-i,l[(i-1+o)%o],l[i],l[(i+1)%o],l[(i+2)%o])):s<0?l[0]-(a(-n,l[0],l[0],l[1],l[1])-l[0]):s>1?l[o]-(a(n-o,l[o],l[o],l[o-1],l[o-1])-l[o]):a(n-i,l[i?i-1:0],l[i],l[o<i+1?o:i+1],l[o<i+2?o:i+2])};e.exports=g},36316:e=>{function y(s,o){var n=1-s;return n*n*n*o}function t(s,o){var n=1-s;return 3*n*n*s*o}function a(s,o){return 3*(1-s)*s*s*o}function g(s,o){return s*s*s*o}var l=function(s,o,n,i,h){return y(s,o)+t(s,n)+a(s,i)+g(s,h)};e.exports=l},28392:(e,y,t)=>{var a=t(28915),g=function(l,s){var o=l.length-1,n=o*s,i=Math.floor(n);return s<0?a(l[0],l[1],n):s>1?a(l[o],l[o-1],o-n):a(l[i],l[i+1>o?o:i+1],n-i)};e.exports=g},32112:e=>{function y(l,s){var o=1-l;return o*o*s}function t(l,s){return 2*(1-l)*l*s}function a(l,s){return l*l*s}var g=function(l,s,o,n){return y(l,s)+t(l,o)+a(l,n)};e.exports=g},47235:(e,y,t)=>{var a=t(7602),g=function(l,s,o){return s+(o-s)*a(l,0,1)};e.exports=g},50178:(e,y,t)=>{var a=t(54261),g=function(l,s,o){return s+(o-s)*a(l,0,1)};e.exports=g},38289:(e,y,t)=>{e.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:e=>{var y=function(t){var a=Math.log(t)/.6931471805599453;return 1<<Math.ceil(a)};e.exports=y},50030:e=>{var y=function(t,a){return t>0&&(t&t-1)===0&&a>0&&(a&a-1)===0};e.exports=y},81230:e=>{var y=function(t){return t>0&&(t&t-1)===0};e.exports=y},49001:(e,y,t)=>{e.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s){s===void 0&&(s=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],s&&this.init(s)},rnd:function(){var l=2091639*this.s0+this.c*23283064365386963e-26;return this.c=l|0,this.s0=this.s1,this.s1=this.s2,this.s2=l-this.c,this.s2},hash:function(l){var s,o=this.n;l=l.toString();for(var n=0;n<l.length;n++)o+=l.charCodeAt(n),s=.02519603282416938*o,o=s>>>0,s-=o,s*=o,o=s>>>0,s-=o,o+=s*4294967296;return this.n=o,(o>>>0)*23283064365386963e-26},init:function(l){typeof l=="string"?this.state(l):this.sow(l)},sow:function(l){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!l)for(var s=0;s<l.length&&l[s]!=null;s++){var o=l[s];this.s0-=this.hash(o),this.s0+=~~(this.s0<0),this.s1-=this.hash(o),this.s1+=~~(this.s1<0),this.s2-=this.hash(o),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(l,s){return Math.floor(this.realInRange(0,s-l+1)+l)},between:function(l,s){return Math.floor(this.realInRange(0,s-l+1)+l)},realInRange:function(l,s){return this.frac()*(s-l)+l},normal:function(){return 1-2*this.frac()},uuid:function(){var l="",s="";for(s=l="";l++<36;s+=~l%5|l*3&4?(l^15?8^this.frac()*(l^20?16:4):4).toString(16):"-");return s},pick:function(l){return l[this.integerInRange(0,l.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(l){return l[~~(Math.pow(this.frac(),2)*(l.length-.5)+.5)]},timestamp:function(l,s){return this.realInRange(l||9466848e5,s||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(l){return typeof l=="string"&&l.match(/^!rnd/)&&(l=l.split(","),this.c=parseFloat(l[1]),this.s0=parseFloat(l[2]),this.s1=parseFloat(l[3]),this.s2=parseFloat(l[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(l){for(var s=l.length-1,o=s;o>0;o--){var n=Math.floor(this.frac()*(o+1)),i=l[n];l[n]=l[o],l[o]=i}return l}});e.exports=g},63448:e=>{var y=function(t,a,g,l){return g===void 0&&(g=0),a===0?t:(t-=g,t=a*Math.ceil(t/a),l?(g+t)/a:g+t)};e.exports=y},56583:e=>{var y=function(t,a,g,l){return g===void 0&&(g=0),a===0?t:(t-=g,t=a*Math.floor(t/a),l?(g+t)/a:g+t)};e.exports=y},77720:e=>{var y=function(t,a,g,l){return g===void 0&&(g=0),a===0?t:(t-=g,t=a*Math.round(t/a),l?(g+t)/a:g+t)};e.exports=y},73697:(e,y,t)=>{e.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(e,y,t)=>{t(63595);var a=t(8054),g=t(79291),l={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};l.Sound=t(23717),l=g(!1,l,a),e.exports=l,t.g.Phaser=l},71289:(e,y,t)=>{var a=t(83419),g=t(92209),l=t(88571),s=new a({Extends:l,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Collision,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(n,i,h,r,f){l.call(this,n,i,h,r,f),this.body=null}});e.exports=s},86689:(e,y,t)=>{var a=t(83419),g=t(39506),l=t(20339),s=t(89774),o=t(66022),n=t(95540),i=t(46975),h=t(72441),r=t(47956),f=t(37277),c=t(44594),d=t(26099),p=t(82248),m=new a({initialize:function(S){this.scene=S,this.systems=S.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,S.sys.events.once(c.BOOT,this.boot,this),S.sys.events.on(c.START,this.start,this)},boot:function(){this.world=new p(this.scene,this.config),this.add=new o(this.world),this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new p(this.scene,this.config),this.add=new o(this.world));var C=this.systems.events;n(this.config,"customUpdate",!1)||C.on(c.UPDATE,this.world.update,this.world),C.on(c.POST_UPDATE,this.world.postUpdate,this.world),C.once(c.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(c.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(c.UPDATE,this.world.update,this.world)},getConfig:function(){var C=this.systems.game.config.physics,S=this.systems.settings.physics,E=i(n(S,"arcade",{}),n(C,"arcade",{}));return E},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(C,S,E,D,M){return E===void 0&&(E=null),D===void 0&&(D=null),M===void 0&&(M=E),this.world.collideObjects(C,S,E,D,M,!0)},collide:function(C,S,E,D,M){return E===void 0&&(E=null),D===void 0&&(D=null),M===void 0&&(M=E),this.world.collideObjects(C,S,E,D,M,!1)},collideTiles:function(C,S,E,D,M){return this.world.collideTiles(C,S,E,D,M)},overlapTiles:function(C,S,E,D,M){return this.world.overlapTiles(C,S,E,D,M)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(C,S,E,D,M,w){D===void 0&&(D=60);var A=Math.atan2(E-C.y,S-C.x);return C.body.acceleration.setToPolar(A,D),M!==void 0&&w!==void 0&&C.body.maxVelocity.set(M,w),A},accelerateToObject:function(C,S,E,D,M){return this.accelerateTo(C,S.x,S.y,E,D,M)},closest:function(C,S){S||(S=this.world.bodies.entries);for(var E=Number.MAX_VALUE,D=null,M=C.x,w=C.y,A=S.length,R=0;R<A;R++){var P=S[R],O=P.body||P;if(!(C===P||C===O||C===O.gameObject||C===O.center)){var b=s(M,w,O.center.x,O.center.y);b<E&&(D=P,E=b)}}return D},furthest:function(C,S){S||(S=this.world.bodies.entries);for(var E=-1,D=null,M=C.x,w=C.y,A=S.length,R=0;R<A;R++){var P=S[R],O=P.body||P;if(!(C===P||C===O||C===O.gameObject||C===O.center)){var b=s(M,w,O.center.x,O.center.y);b>E&&(D=P,E=b)}}return D},moveTo:function(C,S,E,D,M){D===void 0&&(D=60),M===void 0&&(M=0);var w=Math.atan2(E-C.y,S-C.x);return M>0&&(D=l(C.x,C.y,S,E)/(M/1e3)),C.body.velocity.setToPolar(w,D),w},moveToObject:function(C,S,E,D){return this.moveTo(C,S.x,S.y,E,D)},velocityFromAngle:function(C,S,E){return S===void 0&&(S=60),E===void 0&&(E=new d),E.setToPolar(g(C),S)},velocityFromRotation:function(C,S,E){return S===void 0&&(S=60),E===void 0&&(E=new d),E.setToPolar(C,S)},overlapRect:function(C,S,E,D,M,w){return r(this.world,C,S,E,D,M,w)},overlapCirc:function(C,S,E,D,M){return h(this.world,C,S,E,D,M)},shutdown:function(){if(this.world){var C=this.systems.events;C.off(c.UPDATE,this.world.update,this.world),C.off(c.POST_UPDATE,this.world.postUpdate,this.world),C.off(c.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});f.register("ArcadePhysics",m,"arcadePhysics"),e.exports=m},13759:(e,y,t)=>{var a=t(83419),g=t(92209),l=t(68287),s=new a({Extends:l,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Collision,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(n,i,h,r,f){l.call(this,n,i,h,r,f),this.body=null}});e.exports=s},37742:(e,y,t)=>{var a=t(83419),g=t(78389),l=t(37747),s=t(63012),o=t(43396),n=t(87841),i=t(37303),h=t(95829),r=t(26099),f=new a({Mixins:[g],initialize:function(d,p){var m=64,C=64,S={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=p!==void 0;E&&p.displayWidth&&(m=p.displayWidth,C=p.displayHeight),E||(p=S),this.world=d,this.gameObject=E?p:void 0,this.isBody=!0,this.transform={x:p.x,y:p.y,rotation:p.angle,scaleX:p.scaleX,scaleY:p.scaleY,displayOriginX:p.displayOriginX,displayOriginY:p.displayOriginY},this.debugShowBody=d.defaults.debugShowBody,this.debugShowVelocity=d.defaults.debugShowVelocity,this.debugBodyColor=d.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(p.x-p.scaleX*p.displayOriginX,p.y-p.scaleY*p.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=p.angle,this.preRotation=p.angle,this.width=m,this.height=C,this.sourceWidth=m,this.sourceHeight=C,p.frame&&(this.sourceWidth=p.frame.realWidth,this.sourceHeight=p.frame.realHeight),this.halfWidth=Math.abs(m/2),this.halfHeight=Math.abs(C/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new r,this.newVelocity=new r,this.deltaMax=new r,this.acceleration=new r,this.allowDrag=!0,this.drag=new r,this.allowGravity=!0,this.gravity=new r,this.bounce=new r,this.worldBounce=null,this.customBoundsRectangle=d.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new r(1e4,1e4),this.maxSpeed=-1,this.friction=new r(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=l.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new r(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=h(!1),this.touching=h(!0),this.wasTouching=h(!0),this.blocked=h(!0),this.syncBounds=!1,this.physicsType=l.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=p.scaleX,this._sy=p.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new n,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var c=this.gameObject,d=this.transform;if(c.parentContainer){var p=c.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);d.x=p.tx,d.y=p.ty,d.rotation=o(p.rotation),d.scaleX=p.scaleX,d.scaleY=p.scaleY,d.displayOriginX=c.displayOriginX,d.displayOriginY=c.displayOriginY}else d.x=c.x,d.y=c.y,d.rotation=c.angle,d.scaleX=c.scaleX,d.scaleY=c.scaleY,d.displayOriginX=c.displayOriginX,d.displayOriginY=c.displayOriginY;var m=!1;if(this.syncBounds){var C=c.getBounds(this._bounds);this.width=C.width,this.height=C.height,m=!0}else{var S=Math.abs(d.scaleX),E=Math.abs(d.scaleY);(this._sx!==S||this._sy!==E)&&(this.width=this.sourceWidth*S,this.height=this.sourceHeight*E,this._sx=S,this._sy=E,m=!0)}m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var c=this.transform;this.position.x=c.x+c.scaleX*(this.offset.x-c.displayOriginX),this.position.y=c.y+c.scaleY*(this.offset.y-c.displayOriginY),this.updateCenter()},resetFlags:function(c){c===void 0&&(c=!1);var d=this.wasTouching,p=this.touching,m=this.blocked;c?h(!0,d):(d.none=p.none,d.up=p.up,d.down=p.down,d.left=p.left,d.right=p.right),h(!0,p),h(!0,m),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(c,d){if(c&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var p=this.position;this.prev.x=p.x,this.prev.y=p.y,this.prevFrame.x=p.x,this.prevFrame.y=p.y}c&&this.update(d)},update:function(c){var d=this.prev,p=this.position,m=this.velocity;if(d.set(p.x,p.y),!this.moves){this._dx=p.x-d.x,this._dy=p.y-d.y;return}if(this.directControl){var C=this.autoFrame;m.set((p.x-C.x)/c,(p.y-C.y)/c),this.world.updateMotion(this,c),this._dx=p.x-C.x,this._dy=p.y-C.y}else this.world.updateMotion(this,c),this.newVelocity.set(m.x*c,m.y*c),p.add(this.newVelocity),this._dx=p.x-d.x,this._dy=p.y-d.y;var S=m.x,E=m.y;if(this.updateCenter(),this.angle=Math.atan2(E,S),this.speed=Math.sqrt(S*S+E*E),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var D=this.blocked;this.world.emit(s.WORLD_BOUNDS,this,D.up,D.down,D.left,D.right)}},postUpdate:function(){var c=this.position,d=c.x-this.prevFrame.x,p=c.y-this.prevFrame.y,m=this.gameObject;if(this.moves){var C=this.deltaMax.x,S=this.deltaMax.y;C!==0&&d!==0&&(d<0&&d<-C?d=-C:d>0&&d>C&&(d=C)),S!==0&&p!==0&&(p<0&&p<-S?p=-S:p>0&&p>S&&(p=S)),m&&(m.x+=d,m.y+=p)}d<0?this.facing=l.FACING_LEFT:d>0&&(this.facing=l.FACING_RIGHT),p<0?this.facing=l.FACING_UP:p>0&&(this.facing=l.FACING_DOWN),this.allowRotation&&m&&(m.angle+=this.deltaZ()),this._tx=d,this._ty=p,this.autoFrame.set(c.x,c.y)},setBoundsRectangle:function(c){return this.customBoundsRectangle=c||this.world.bounds,this},checkWorldBounds:function(){var c=this.position,d=this.velocity,p=this.blocked,m=this.customBoundsRectangle,C=this.world.checkCollision,S=this.worldBounce?-this.worldBounce.x:-this.bounce.x,E=this.worldBounce?-this.worldBounce.y:-this.bounce.y,D=!1;return c.x<m.x&&C.left?(c.x=m.x,d.x*=S,p.left=!0,D=!0):this.right>m.right&&C.right&&(c.x=m.right-this.width,d.x*=S,p.right=!0,D=!0),c.y<m.y&&C.up?(c.y=m.y,d.y*=E,p.up=!0,D=!0):this.bottom>m.bottom&&C.down&&(c.y=m.bottom-this.height,d.y*=E,p.down=!0,D=!0),D&&(this.blocked.none=!1,this.updateCenter()),D},setOffset:function(c,d){return d===void 0&&(d=c),this.offset.set(c,d),this},setGameObject:function(c,d){return d===void 0&&(d=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=c,c.body&&(c.body=this),this.setSize(),this.world.add(this),this.enable=d,this},setSize:function(c,d,p){p===void 0&&(p=!0);var m=this.gameObject;if(m&&(!c&&m.frame&&(c=m.frame.realWidth),!d&&m.frame&&(d=m.frame.realHeight)),this.sourceWidth=c,this.sourceHeight=d,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),p&&m&&m.getCenter){var C=(m.width-c)/2,S=(m.height-d)/2;this.offset.set(C,S)}return this.isCircle=!1,this.radius=0,this},setCircle:function(c,d,p){return d===void 0&&(d=this.offset.x),p===void 0&&(p=this.offset.y),c>0?(this.isCircle=!0,this.radius=c,this.sourceWidth=c*2,this.sourceHeight=c*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,p),this.updateCenter()):this.isCircle=!1,this},reset:function(c,d){this.stop();var p=this.gameObject;p&&(p.setPosition(c,d),this.rotation=p.angle,this.preRotation=p.angle);var m=this.position;p&&p.getTopLeft?p.getTopLeft(m):m.set(c,d),this.prev.copy(m),this.prevFrame.copy(m),this.autoFrame.copy(m),p&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(c){return c.x=this.x,c.y=this.y,c.right=this.right,c.bottom=this.bottom,c},hitTest:function(c,d){if(!this.isCircle)return i(this,c,d);if(this.radius>0&&c>=this.left&&c<=this.right&&d>=this.top&&d<=this.bottom){var p=(this.center.x-c)*(this.center.x-c),m=(this.center.y-d)*(this.center.y-d);return p+m<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(c){var d=this.position,p=d.x+this.halfWidth,m=d.y+this.halfHeight;this.debugShowBody&&(c.lineStyle(c.defaultStrokeWidth,this.debugBodyColor),this.isCircle?c.strokeCircle(p,m,this.width/2):(this.checkCollision.up&&c.lineBetween(d.x,d.y,d.x+this.width,d.y),this.checkCollision.right&&c.lineBetween(d.x+this.width,d.y,d.x+this.width,d.y+this.height),this.checkCollision.down&&c.lineBetween(d.x,d.y+this.height,d.x+this.width,d.y+this.height),this.checkCollision.left&&c.lineBetween(d.x,d.y,d.x,d.y+this.height))),this.debugShowVelocity&&(c.lineStyle(c.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),c.lineBetween(p,m,p+this.velocity.x/2,m+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(c){return c===void 0&&(c=!0),this.directControl=c,this},setCollideWorldBounds:function(c,d,p,m){c===void 0&&(c=!0),this.collideWorldBounds=c;var C=d!==void 0,S=p!==void 0;return(C||S)&&(this.worldBounce||(this.worldBounce=new r),C&&(this.worldBounce.x=d),S&&(this.worldBounce.y=p)),m!==void 0&&(this.onWorldBounds=m),this},setVelocity:function(c,d){return this.velocity.set(c,d),c=this.velocity.x,d=this.velocity.y,this.speed=Math.sqrt(c*c+d*d),this},setVelocityX:function(c){return this.setVelocity(c,this.velocity.y)},setVelocityY:function(c){return this.setVelocity(this.velocity.x,c)},setMaxVelocity:function(c,d){return this.maxVelocity.set(c,d),this},setMaxVelocityX:function(c){return this.maxVelocity.x=c,this},setMaxVelocityY:function(c){return this.maxVelocity.y=c,this},setMaxSpeed:function(c){return this.maxSpeed=c,this},setSlideFactor:function(c,d){return this.slideFactor.set(c,d),this},setBounce:function(c,d){return this.bounce.set(c,d),this},setBounceX:function(c){return this.bounce.x=c,this},setBounceY:function(c){return this.bounce.y=c,this},setAcceleration:function(c,d){return this.acceleration.set(c,d),this},setAccelerationX:function(c){return this.acceleration.x=c,this},setAccelerationY:function(c){return this.acceleration.y=c,this},setAllowDrag:function(c){return c===void 0&&(c=!0),this.allowDrag=c,this},setAllowGravity:function(c){return c===void 0&&(c=!0),this.allowGravity=c,this},setAllowRotation:function(c){return c===void 0&&(c=!0),this.allowRotation=c,this},setDrag:function(c,d){return this.drag.set(c,d),this},setDamping:function(c){return this.useDamping=c,this},setDragX:function(c){return this.drag.x=c,this},setDragY:function(c){return this.drag.y=c,this},setGravity:function(c,d){return this.gravity.set(c,d),this},setGravityX:function(c){return this.gravity.x=c,this},setGravityY:function(c){return this.gravity.y=c,this},setFriction:function(c,d){return this.friction.set(c,d),this},setFrictionX:function(c){return this.friction.x=c,this},setFrictionY:function(c){return this.friction.y=c,this},setAngularVelocity:function(c){return this.angularVelocity=c,this},setAngularAcceleration:function(c){return this.angularAcceleration=c,this},setAngularDrag:function(c){return this.angularDrag=c,this},setMass:function(c){return this.mass=c,this},setImmovable:function(c){return c===void 0&&(c=!0),this.immovable=c,this},setEnable:function(c){return c===void 0&&(c=!0),this.enable=c,this},processX:function(c,d,p,m){this.x+=c,this.updateCenter(),d!==null&&(this.velocity.x=d*this.slideFactor.x);var C=this.blocked;p&&(C.left=!0,C.none=!1),m&&(C.right=!0,C.none=!1)},processY:function(c,d,p,m){this.y+=c,this.updateCenter(),d!==null&&(this.velocity.y=d*this.slideFactor.y);var C=this.blocked;p&&(C.up=!0,C.none=!1),m&&(C.down=!0,C.none=!1)},x:{get:function(){return this.position.x},set:function(c){this.position.x=c}},y:{get:function(){return this.position.y},set:function(c){this.position.y=c}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});e.exports=f},79342:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o,n,i,h,r,f){this.world=s,this.name="",this.active=!0,this.overlapOnly=o,this.object1=n,this.object2=i,this.collideCallback=h,this.processCallback=r,this.callbackContext=f},setName:function(l){return this.name=l,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});e.exports=g},66022:(e,y,t)=>{var a=t(71289),g=t(13759),l=t(37742),s=t(83419),o=t(37747),n=t(60758),i=t(72624),h=t(71464),r=new s({initialize:function(c){this.world=c,this.scene=c.scene,this.sys=c.scene.sys},collider:function(f,c,d,p,m){return this.world.addCollider(f,c,d,p,m)},overlap:function(f,c,d,p,m){return this.world.addOverlap(f,c,d,p,m)},existing:function(f,c){var d=c?o.STATIC_BODY:o.DYNAMIC_BODY;return this.world.enableBody(f,d),f},staticImage:function(f,c,d,p){var m=new a(this.scene,f,c,d,p);return this.sys.displayList.add(m),this.world.enableBody(m,o.STATIC_BODY),m},image:function(f,c,d,p){var m=new a(this.scene,f,c,d,p);return this.sys.displayList.add(m),this.world.enableBody(m,o.DYNAMIC_BODY),m},staticSprite:function(f,c,d,p){var m=new g(this.scene,f,c,d,p);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,o.STATIC_BODY),m},sprite:function(f,c,d,p){var m=new g(this.scene,f,c,d,p);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,o.DYNAMIC_BODY),m},staticGroup:function(f,c){return this.sys.updateList.add(new h(this.world,this.world.scene,f,c))},group:function(f,c){return this.sys.updateList.add(new n(this.world,this.world.scene,f,c))},body:function(f,c,d,p){var m=new l(this.world);return m.position.set(f,c),d&&p&&m.setSize(d,p),this.world.add(m,o.DYNAMIC_BODY),m},staticBody:function(f,c,d,p){var m=new i(this.world);return m.position.set(f,c),d&&p&&m.setSize(d,p),this.world.add(m,o.STATIC_BODY),m},destroy:function(){this.world=null,this.scene=null,this.sys=null}});e.exports=r},79599:e=>{var y=function(t){var a=0;if(!Array.isArray(t))a=t;else for(var g=0;g<t.length;g++)a|=t[g];return a};e.exports=y},64897:(e,y,t)=>{var a=t(37747),g=function(l,s,o,n){var i=0,h=l.deltaAbsX()+s.deltaAbsX()+n;return l._dx===0&&s._dx===0?(l.embedded=!0,s.embedded=!0):l._dx>s._dx?(i=l.right-s.x,i>h&&!o||l.checkCollision.right===!1||s.checkCollision.left===!1?i=0:(l.touching.none=!1,l.touching.right=!0,s.touching.none=!1,s.touching.left=!0,s.physicsType===a.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.right=!0),l.physicsType===a.STATIC_BODY&&!o&&(s.blocked.none=!1,s.blocked.left=!0))):l._dx<s._dx&&(i=l.x-s.width-s.x,-i>h&&!o||l.checkCollision.left===!1||s.checkCollision.right===!1?i=0:(l.touching.none=!1,l.touching.left=!0,s.touching.none=!1,s.touching.right=!0,s.physicsType===a.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.left=!0),l.physicsType===a.STATIC_BODY&&!o&&(s.blocked.none=!1,s.blocked.right=!0))),l.overlapX=i,s.overlapX=i,i};e.exports=g},45170:(e,y,t)=>{var a=t(37747),g=function(l,s,o,n){var i=0,h=l.deltaAbsY()+s.deltaAbsY()+n;return l._dy===0&&s._dy===0?(l.embedded=!0,s.embedded=!0):l._dy>s._dy?(i=l.bottom-s.y,i>h&&!o||l.checkCollision.down===!1||s.checkCollision.up===!1?i=0:(l.touching.none=!1,l.touching.down=!0,s.touching.none=!1,s.touching.up=!0,s.physicsType===a.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.down=!0),l.physicsType===a.STATIC_BODY&&!o&&(s.blocked.none=!1,s.blocked.up=!0))):l._dy<s._dy&&(i=l.y-s.bottom,-i>h&&!o||l.checkCollision.up===!1||s.checkCollision.down===!1?i=0:(l.touching.none=!1,l.touching.up=!0,s.touching.none=!1,s.touching.down=!0,s.physicsType===a.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.up=!0),l.physicsType===a.STATIC_BODY&&!o&&(s.blocked.none=!1,s.blocked.down=!0))),l.overlapY=i,s.overlapY=i,i};e.exports=g},60758:(e,y,t)=>{var a=t(13759),g=t(83419),l=t(78389),s=t(37747),o=t(95540),n=t(26479),i=t(41212),h=new g({Extends:n,Mixins:[l],initialize:function(f,c,d,p){if(!d&&!p)p={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(i(d))p=d,d=null,p.internalCreateCallback=this.createCallbackHandler,p.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&i(d[0])){var m=this;d.forEach(function(C){C.internalCreateCallback=m.createCallbackHandler,C.internalRemoveCallback=m.removeCallbackHandler,C.classType=o(C,"classType",a)}),p=null}else p={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=f,p&&(p.classType=o(p,"classType",a)),this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:o(p,"collideWorldBounds",!1),setBoundsRectangle:o(p,"customBoundsRectangle",null),setAccelerationX:o(p,"accelerationX",0),setAccelerationY:o(p,"accelerationY",0),setAllowDrag:o(p,"allowDrag",!0),setAllowGravity:o(p,"allowGravity",!0),setAllowRotation:o(p,"allowRotation",!0),setDamping:o(p,"useDamping",!1),setBounceX:o(p,"bounceX",0),setBounceY:o(p,"bounceY",0),setDragX:o(p,"dragX",0),setDragY:o(p,"dragY",0),setEnable:o(p,"enable",!0),setGravityX:o(p,"gravityX",0),setGravityY:o(p,"gravityY",0),setFrictionX:o(p,"frictionX",0),setFrictionY:o(p,"frictionY",0),setMaxSpeed:o(p,"maxSpeed",-1),setMaxVelocityX:o(p,"maxVelocityX",1e4),setMaxVelocityY:o(p,"maxVelocityY",1e4),setVelocityX:o(p,"velocityX",0),setVelocityY:o(p,"velocityY",0),setAngularVelocity:o(p,"angularVelocity",0),setAngularAcceleration:o(p,"angularAcceleration",0),setAngularDrag:o(p,"angularDrag",0),setMass:o(p,"mass",1),setImmovable:o(p,"immovable",!1)},n.call(this,c,d,p),this.type="PhysicsGroup"},createCallbackHandler:function(r){r.body||this.world.enableBody(r,s.DYNAMIC_BODY);var f=r.body;for(var c in this.defaults)f[c](this.defaults[c])},removeCallbackHandler:function(r){r.body&&this.world.disableBody(r)},setVelocity:function(r,f,c){c===void 0&&(c=0);for(var d=this.getChildren(),p=0;p<d.length;p++)d[p].body.velocity.set(r+p*c,f+p*c);return this},setVelocityX:function(r,f){f===void 0&&(f=0);for(var c=this.getChildren(),d=0;d<c.length;d++)c[d].body.velocity.x=r+d*f;return this},setVelocityY:function(r,f){f===void 0&&(f=0);for(var c=this.getChildren(),d=0;d<c.length;d++)c[d].body.velocity.y=r+d*f;return this}});e.exports=h},3017:e=>{var y,t,a,g,l,s,o,n,i,h,r,f,c,d,p,m,C,S=function(R,P,O){y=R,t=P;var b=y.velocity.x,F=t.velocity.x;return a=y.pushable,i=y._dx<0,h=y._dx>0,r=y._dx===0,p=Math.abs(y.right-t.x)<=Math.abs(t.right-y.x),o=F-b*y.bounce.x,g=t.pushable,f=t._dx<0,c=t._dx>0,d=t._dx===0,m=!p,n=b-F*t.bounce.x,C=Math.abs(O),E()},E=function(){return h&&p&&t.blocked.right?(y.processX(-C,o,!1,!0),1):i&&m&&t.blocked.left?(y.processX(C,o,!0),1):c&&m&&y.blocked.right?(t.processX(-C,n,!1,!0),2):f&&p&&y.blocked.left?(t.processX(C,n,!0),2):0},D=function(){var R=y.velocity.x,P=t.velocity.x,O=Math.sqrt(P*P*t.mass/y.mass)*(P>0?1:-1),b=Math.sqrt(R*R*y.mass/t.mass)*(R>0?1:-1),F=(O+b)*.5;return O-=F,b-=F,l=F+O*y.bounce.x,s=F+b*t.bounce.x,i&&m?M(0):f&&p?M(1):h&&p?M(2):c&&m?M(3):!1},M=function(R){if(a&&g)C*=.5,R===0||R===3?(y.processX(C,l),t.processX(-C,s)):(y.processX(-C,l),t.processX(C,s));else if(a&&!g)R===0||R===3?y.processX(C,o,!0):y.processX(-C,o,!1,!0);else if(!a&&g)R===0||R===3?t.processX(-C,n,!1,!0):t.processX(C,n,!0);else{var P=C*.5;R===0?d?(y.processX(C,0,!0),t.processX(0,null,!1,!0)):c?(y.processX(P,0,!0),t.processX(-P,0,!1,!0)):(y.processX(P,t.velocity.x,!0),t.processX(-P,null,!1,!0)):R===1?r?(y.processX(0,null,!1,!0),t.processX(C,0,!0)):h?(y.processX(-P,0,!1,!0),t.processX(P,0,!0)):(y.processX(-P,null,!1,!0),t.processX(P,y.velocity.x,!0)):R===2?d?(y.processX(-C,0,!1,!0),t.processX(0,null,!0)):f?(y.processX(-P,0,!1,!0),t.processX(P,0,!0)):(y.processX(-P,t.velocity.x,!1,!0),t.processX(P,null,!0)):R===3&&(r?(y.processX(0,null,!0),t.processX(-C,0,!1,!0)):i?(y.processX(P,0,!0),t.processX(-P,0,!1,!0)):(y.processX(P,t.velocity.y,!0),t.processX(-P,null,!1,!0)))}return!0},w=function(R){R===1?t.velocity.x=0:p?t.processX(C,n,!0):t.processX(-C,n,!1,!0),y.moves&&(t.y+=(y.y-y.prev.y)*y.friction.y,t._dy=t.y-t.prev.y)},A=function(R){R===2?y.velocity.x=0:m?y.processX(C,o,!0):y.processX(-C,o,!1,!0),t.moves&&(y.y+=(t.y-t.prev.y)*t.friction.y,y._dy=y.y-y.prev.y)};e.exports={BlockCheck:E,Check:D,Set:S,Run:M,RunImmovableBody1:w,RunImmovableBody2:A}},47962:e=>{var y,t,a,g,l,s,o,n,i,h,r,f,c,d,p,m,C,S=function(R,P,O){y=R,t=P;var b=y.velocity.y,F=t.velocity.y;return a=y.pushable,i=y._dy<0,h=y._dy>0,r=y._dy===0,p=Math.abs(y.bottom-t.y)<=Math.abs(t.bottom-y.y),o=F-b*y.bounce.y,g=t.pushable,f=t._dy<0,c=t._dy>0,d=t._dy===0,m=!p,n=b-F*t.bounce.y,C=Math.abs(O),E()},E=function(){return h&&p&&t.blocked.down?(y.processY(-C,o,!1,!0),1):i&&m&&t.blocked.up?(y.processY(C,o,!0),1):c&&m&&y.blocked.down?(t.processY(-C,n,!1,!0),2):f&&p&&y.blocked.up?(t.processY(C,n,!0),2):0},D=function(){var R=y.velocity.y,P=t.velocity.y,O=Math.sqrt(P*P*t.mass/y.mass)*(P>0?1:-1),b=Math.sqrt(R*R*y.mass/t.mass)*(R>0?1:-1),F=(O+b)*.5;return O-=F,b-=F,l=F+O*y.bounce.y,s=F+b*t.bounce.y,i&&m?M(0):f&&p?M(1):h&&p?M(2):c&&m?M(3):!1},M=function(R){if(a&&g)C*=.5,R===0||R===3?(y.processY(C,l),t.processY(-C,s)):(y.processY(-C,l),t.processY(C,s));else if(a&&!g)R===0||R===3?y.processY(C,o,!0):y.processY(-C,o,!1,!0);else if(!a&&g)R===0||R===3?t.processY(-C,n,!1,!0):t.processY(C,n,!0);else{var P=C*.5;R===0?d?(y.processY(C,0,!0),t.processY(0,null,!1,!0)):c?(y.processY(P,0,!0),t.processY(-P,0,!1,!0)):(y.processY(P,t.velocity.y,!0),t.processY(-P,null,!1,!0)):R===1?r?(y.processY(0,null,!1,!0),t.processY(C,0,!0)):h?(y.processY(-P,0,!1,!0),t.processY(P,0,!0)):(y.processY(-P,null,!1,!0),t.processY(P,y.velocity.y,!0)):R===2?d?(y.processY(-C,0,!1,!0),t.processY(0,null,!0)):f?(y.processY(-P,0,!1,!0),t.processY(P,0,!0)):(y.processY(-P,t.velocity.y,!1,!0),t.processY(P,null,!0)):R===3&&(r?(y.processY(0,null,!0),t.processY(-C,0,!1,!0)):i?(y.processY(P,0,!0),t.processY(-P,0,!1,!0)):(y.processY(P,t.velocity.y,!0),t.processY(-P,null,!1,!0)))}return!0},w=function(R){R===1?t.velocity.y=0:p?t.processY(C,n,!0):t.processY(-C,n,!1,!0),y.moves&&(t.x+=(y.x-y.prev.x)*y.friction.x,t._dx=t.x-t.prev.x)},A=function(R){R===2?y.velocity.y=0:m?y.processY(C,o,!0):y.processY(-C,o,!1,!0),t.moves&&(y.x+=(t.x-t.prev.x)*t.friction.x,y._dx=y.x-y.prev.x)};e.exports={BlockCheck:E,Check:D,Set:S,Run:M,RunImmovableBody1:w,RunImmovableBody2:A}},14087:(e,y,t)=>{var a=t(64897),g=t(3017),l=function(s,o,n,i,h){h===void 0&&(h=a(s,o,n,i));var r=s.immovable,f=o.immovable;if(n||h===0||r&&f||s.customSeparateX||o.customSeparateX)return h!==0||s.embedded&&o.embedded;var c=g.Set(s,o,h);return!r&&!f?c>0?!0:g.Check():(r?g.RunImmovableBody1(c):f&&g.RunImmovableBody2(c),!0)};e.exports=l},89936:(e,y,t)=>{var a=t(45170),g=t(47962),l=function(s,o,n,i,h){h===void 0&&(h=a(s,o,n,i));var r=s.immovable,f=o.immovable;if(n||h===0||r&&f||s.customSeparateY||o.customSeparateY)return h!==0||s.embedded&&o.embedded;var c=g.Set(s,o,h);return!r&&!f?c>0?!0:g.Check():(r?g.RunImmovableBody1(c):f&&g.RunImmovableBody2(c),!0)};e.exports=l},95829:e=>{var y=function(t,a){return a===void 0&&(a={}),a.none=t,a.up=!1,a.down=!1,a.left=!1,a.right=!1,t||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};e.exports=y},72624:(e,y,t)=>{var a=t(87902),g=t(83419),l=t(78389),s=t(37747),o=t(37303),n=t(95829),i=t(26099),h=new g({Mixins:[l],initialize:function(f,c){var d=64,p=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},C=c!==void 0;C&&c.displayWidth&&(d=c.displayWidth,p=c.displayHeight),C||(c=m),this.world=f,this.gameObject=C?c:void 0,this.isBody=!0,this.debugShowBody=f.defaults.debugShowStaticBody,this.debugBodyColor=f.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(c.x-d*c.originX,c.y-p*c.originY),this.width=d,this.height=p,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=i.ZERO,this.allowGravity=!1,this.gravity=i.ZERO,this.bounce=i.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=n(!1),this.touching=n(!0),this.wasTouching=n(!0),this.blocked=n(!0),this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(r,f){return r&&r!==this.gameObject&&(this.gameObject.body=null,r.body=this,this.gameObject=r),f&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var r=this.gameObject;return r.getTopLeft(this.position),this.width=r.displayWidth,this.height=r.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(r,f){return f===void 0&&(f=r),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(r,f),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(r,f,c){c===void 0&&(c=!0);var d=this.gameObject;if(d&&d.frame&&(r||(r=d.frame.realWidth),f||(f=d.frame.realHeight)),this.world.staticTree.remove(this),this.width=r,this.height=f,this.halfWidth=Math.floor(r/2),this.halfHeight=Math.floor(f/2),c&&d&&d.getCenter){var p=d.displayWidth/2,m=d.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(p-this.halfWidth,m-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(r,f,c){return f===void 0&&(f=this.offset.x),c===void 0&&(c=this.offset.y),r>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=r,this.width=r*2,this.height=r*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,c),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(r,f){var c=this.gameObject;r===void 0&&(r=c.x),f===void 0&&(f=c.y),this.world.staticTree.remove(this),c.setPosition(r,f),c.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(r){return r.x=this.x,r.y=this.y,r.right=this.right,r.bottom=this.bottom,r},hitTest:function(r,f){return this.isCircle?a(this,r,f):o(this,r,f)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(r){var f=this.position,c=f.x+this.halfWidth,d=f.y+this.halfHeight;this.debugShowBody&&(r.lineStyle(r.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?r.strokeCircle(c,d,this.width/2):r.strokeRect(f.x,f.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(r){return r<=0&&(r=.1),this.mass=r,this},x:{get:function(){return this.position.x},set:function(r){this.world.staticTree.remove(this),this.position.x=r,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(r){this.world.staticTree.remove(this),this.position.y=r,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});e.exports=h},71464:(e,y,t)=>{var a=t(13759),g=t(83419),l=t(78389),s=t(37747),o=t(95540),n=t(26479),i=t(41212),h=new g({Extends:n,Mixins:[l],initialize:function(f,c,d,p){!d&&!p?p={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:i(d)?(p=d,d=null,p.internalCreateCallback=this.createCallbackHandler,p.internalRemoveCallback=this.removeCallbackHandler,p.createMultipleCallback=this.createMultipleCallbackHandler,p.classType=o(p,"classType",a)):Array.isArray(d)&&i(d[0])?(p=d,d=null,p.forEach(function(m){m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=o(m,"classType",a)})):p={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=f,this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,n.call(this,c,d,p),this.type="StaticPhysicsGroup"},createCallbackHandler:function(r){r.body||this.world.enableBody(r,s.STATIC_BODY)},removeCallbackHandler:function(r){r.body&&this.world.disableBody(r)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var r=this.children.entries,f=0;f<r.length;f++)r[f].body.reset();return this}});e.exports=h},82248:(e,y,t)=>{var a=t(55495),g=t(37742),l=t(45319),s=t(83419),o=t(79342),n=t(37747),i=t(20339),h=t(52816),r=t(50792),f=t(63012),c=t(43855),d=t(5470),p=t(94977),m=t(64897),C=t(45170),S=t(96523),E=t(35154),D=t(36383),M=t(25774),w=t(96602),A=t(87841),R=t(59542),P=t(40012),O=t(14087),b=t(89936),F=t(35072),L=t(72624),G=t(2483),z=t(61340),X=t(26099),B=t(15994),U=new s({Extends:r,initialize:function(N,V){r.call(this),this.scene=N,this.bodies=new F,this.staticBodies=new F,this.pendingDestroy=new F,this.colliders=new M,this.gravity=new X(E(V,"gravity.x",0),E(V,"gravity.y",0)),this.bounds=new A(E(V,"x",0),E(V,"y",0),E(V,"width",N.sys.scale.width),E(V,"height",N.sys.scale.height)),this.checkCollision={up:E(V,"checkCollision.up",!0),down:E(V,"checkCollision.down",!0),left:E(V,"checkCollision.left",!0),right:E(V,"checkCollision.right",!0)},this.fps=E(V,"fps",60),this.fixedStep=E(V,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=E(V,"timeScale",1),this.OVERLAP_BIAS=E(V,"overlapBias",4),this.TILE_BIAS=E(V,"tileBias",16),this.forceX=E(V,"forceX",!1),this.isPaused=E(V,"isPaused",!1),this._total=0,this.drawDebug=E(V,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:E(V,"debugShowBody",!0),debugShowStaticBody:E(V,"debugShowStaticBody",!0),debugShowVelocity:E(V,"debugShowVelocity",!0),bodyDebugColor:E(V,"debugBodyColor",16711935),staticBodyDebugColor:E(V,"debugStaticBodyColor",255),velocityDebugColor:E(V,"debugVelocityColor",65280)},this.maxEntries=E(V,"maxEntries",16),this.useTree=E(V,"useTree",!0),this.tree=new R(this.maxEntries),this.staticTree=new R(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new z,this._tempMatrix2=new z,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(I,N){N===void 0&&(N=n.DYNAMIC_BODY),Array.isArray(I)||(I=[I]);for(var V=0;V<I.length;V++){var H=I[V];if(H.isParent)for(var W=H.getChildren(),Y=0;Y<W.length;Y++){var j=W[Y];j.isParent?this.enable(j,N):this.enableBody(j,N)}else this.enableBody(H,N)}},enableBody:function(I,N){return N===void 0&&(N=n.DYNAMIC_BODY),I.hasTransformComponent&&(I.body||(N===n.DYNAMIC_BODY?I.body=new g(this,I):N===n.STATIC_BODY&&(I.body=new L(this,I))),this.add(I.body)),I},add:function(I){return I.physicsType===n.DYNAMIC_BODY?this.bodies.set(I):I.physicsType===n.STATIC_BODY&&(this.staticBodies.set(I),this.staticTree.insert(I)),I.enable=!0,I},disable:function(I){Array.isArray(I)||(I=[I]);for(var N=0;N<I.length;N++){var V=I[N];if(V.isParent)for(var H=V.getChildren(),W=0;W<H.length;W++){var Y=H[W];Y.isParent?this.disable(Y):this.disableBody(Y.body)}else this.disableBody(V.body)}},disableBody:function(I){this.remove(I),I.enable=!1},remove:function(I){I.physicsType===n.DYNAMIC_BODY?(this.tree.remove(I),this.bodies.delete(I)):I.physicsType===n.STATIC_BODY&&(this.staticBodies.delete(I),this.staticTree.remove(I))},createDebugGraphic:function(){var I=this.scene.sys.add.graphics({x:0,y:0});return I.setDepth(Number.MAX_VALUE),this.debugGraphic=I,this.drawDebug=!0,I},setBounds:function(I,N,V,H,W,Y,j,k){return this.bounds.setTo(I,N,V,H),W!==void 0&&this.setBoundsCollision(W,Y,j,k),this},setBoundsCollision:function(I,N,V,H){return I===void 0&&(I=!0),N===void 0&&(N=!0),V===void 0&&(V=!0),H===void 0&&(H=!0),this.checkCollision.left=I,this.checkCollision.right=N,this.checkCollision.up=V,this.checkCollision.down=H,this},pause:function(){return this.isPaused=!0,this.emit(f.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(f.RESUME),this},addCollider:function(I,N,V,H,W){V===void 0&&(V=null),H===void 0&&(H=null),W===void 0&&(W=V);var Y=new o(this,!1,I,N,V,H,W);return this.colliders.add(Y),Y},addOverlap:function(I,N,V,H,W){V===void 0&&(V=null),H===void 0&&(H=null),W===void 0&&(W=V);var Y=new o(this,!0,I,N,V,H,W);return this.colliders.add(Y),Y},removeCollider:function(I){return this.colliders.remove(I),this},setFPS:function(I){return this.fps=I,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(I,N){if(!(this.isPaused||this.bodies.size===0)){var V,H=this._frameTime,W=this._frameTimeMS*this.timeScale;this._elapsed+=N;var Y,j=this.bodies.entries,k=this._elapsed>=W;for(this.fixedStep||(H=N*.001,k=!0,this._elapsed=0),V=0;V<j.length;V++)Y=j[V],Y.enable&&Y.preUpdate(k,H);if(k){this._elapsed-=W,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(j));var $=this.colliders.update();for(V=0;V<$.length;V++){var Z=$[V];Z.active&&Z.update()}this.emit(f.WORLD_STEP,H)}for(;this._elapsed>=W;)this._elapsed-=W,this.step(H)}},step:function(I){var N,V,H=this.bodies.entries,W=H.length;for(N=0;N<W;N++)V=H[N],V.enable&&V.update(I);this.useTree&&(this.tree.clear(),this.tree.load(H));var Y=this.colliders.update();for(N=0;N<Y.length;N++){var j=Y[N];j.active&&j.update()}this.emit(f.WORLD_STEP,I),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var I,N,V=this.bodies.entries,H=V.length,W=this.bodies,Y=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,I=0;I<H;I++)N=V[I],N.enable&&N.postUpdate();if(this.drawDebug){var j=this.debugGraphic;for(j.clear(),I=0;I<H;I++)N=V[I],N.willDrawDebug()&&N.drawDebug(j);for(V=Y.entries,H=V.length,I=0;I<H;I++)N=V[I],N.willDrawDebug()&&N.drawDebug(j)}var k=this.pendingDestroy;if(k.size>0){var $=this.tree,Z=this.staticTree;for(V=k.entries,H=V.length,I=0;I<H;I++)N=V[I],N.physicsType===n.DYNAMIC_BODY?($.remove(N),W.delete(N)):N.physicsType===n.STATIC_BODY&&(Z.remove(N),Y.delete(N)),N.world=void 0,N.gameObject=void 0;k.clear()}},updateMotion:function(I,N){I.allowRotation&&this.computeAngularVelocity(I,N),this.computeVelocity(I,N)},computeAngularVelocity:function(I,N){var V=I.angularVelocity,H=I.angularAcceleration,W=I.angularDrag,Y=I.maxAngular;H?V+=H*N:I.allowDrag&&W&&(W*=N,d(V-W,0,.1)?V-=W:p(V+W,0,.1)?V+=W:V=0),V=l(V,-Y,Y);var j=V-I.angularVelocity;I.angularVelocity+=j,I.rotation+=I.angularVelocity*N},computeVelocity:function(I,N){var V=I.velocity.x,H=I.acceleration.x,W=I.drag.x,Y=I.maxVelocity.x,j=I.velocity.y,k=I.acceleration.y,$=I.drag.y,Z=I.maxVelocity.y,K=I.speed,J=I.maxSpeed,Q=I.allowDrag,_=I.useDamping;I.allowGravity&&(V+=(this.gravity.x+I.gravity.x)*N,j+=(this.gravity.y+I.gravity.y)*N),H?V+=H*N:Q&&W&&(_?(W=Math.pow(W,N),V*=W,K=Math.sqrt(V*V+j*j),c(K,0,.001)&&(V=0)):(W*=N,d(V-W,0,.01)?V-=W:p(V+W,0,.01)?V+=W:V=0)),k?j+=k*N:Q&&$&&(_?($=Math.pow($,N),j*=$,K=Math.sqrt(V*V+j*j),c(K,0,.001)&&(j=0)):($*=N,d(j-$,0,.01)?j-=$:p(j+$,0,.01)?j+=$:j=0)),V=l(V,-Y,Y),j=l(j,-Z,Z),I.velocity.set(V,j),J>-1&&I.velocity.length()>J&&(I.velocity.normalize().scale(J),K=J),I.speed=K},separate:function(I,N,V,H,W){var Y,j,k=!1,$=!0;if(!I.enable||!N.enable||I.checkCollision.none||N.checkCollision.none||!this.intersects(I,N)||V&&V.call(H,I.gameObject,N.gameObject)===!1)return k;if(I.isCircle||N.isCircle){var Z=this.separateCircle(I,N,W);Z.result?(k=!0,$=!1):(Y=Z.x,j=Z.y,$=!0)}if($){var K=!1,J=!1,Q=this.OVERLAP_BIAS;W?(K=O(I,N,W,Q,Y),J=b(I,N,W,Q,j)):this.forceX||Math.abs(this.gravity.y+I.gravity.y)<Math.abs(this.gravity.x+I.gravity.x)?(K=O(I,N,W,Q,Y),this.intersects(I,N)&&(J=b(I,N,W,Q,j))):(J=b(I,N,W,Q,j),this.intersects(I,N)&&(K=O(I,N,W,Q,Y))),k=K||J}return k&&(W?(I.onOverlap||N.onOverlap)&&this.emit(f.OVERLAP,I.gameObject,N.gameObject,I,N):(I.onCollide||N.onCollide)&&this.emit(f.COLLIDE,I.gameObject,N.gameObject,I,N)),k},separateCircle:function(I,N,V){m(I,N,!1,0),C(I,N,!1,0);var H=I.isCircle,W=N.isCircle,Y=I.center,j=N.center,k=I.immovable,$=N.immovable,Z=I.velocity,K=N.velocity,J=0,Q=!0;if(H!==W){Q=!1;var _=Y.x,rt=Y.y,ut=I.halfWidth,ot=N.position.x,q=N.position.y,it=N.right,nt=N.bottom;W&&(_=j.x,rt=j.y,ut=N.halfWidth,ot=I.position.x,q=I.position.y,it=I.right,nt=I.bottom),rt<q?_<ot?J=i(_,rt,ot,q)-ut:_>it&&(J=i(_,rt,it,q)-ut):rt>nt&&(_<ot?J=i(_,rt,ot,nt)-ut:_>it&&(J=i(_,rt,it,nt)-ut)),J*=-1}else J=I.halfWidth+N.halfWidth-h(Y,j);I.overlapR=J,N.overlapR=J;var xt=a(Y,j),Tt=(J+D.EPSILON)*Math.cos(xt),Wt=(J+D.EPSILON)*Math.sin(xt),Ut={overlap:J,result:!1,x:Tt,y:Wt};if(V&&(!Q||Q&&J!==0))return Ut.result=!0,Ut;if(!Q&&J===0||k&&$||I.customSeparateX||N.customSeparateX)return Ut.x=void 0,Ut.y=void 0,Ut;var Rt=!I.pushable&&!N.pushable;if(Q){var Dt=Y.x-j.x,$t=Y.y-j.y,Bt=Math.sqrt(Math.pow(Dt,2)+Math.pow($t,2)),re=(j.x-Y.x)/Bt||0,oe=(j.y-Y.y)/Bt||0,Ce=2*(Z.x*re+Z.y*oe-K.x*re-K.y*oe)/(I.mass+N.mass);(k||$)&&(Ce*=2),k||(Z.x=Z.x-Ce/I.mass*re,Z.y=Z.y-Ce/I.mass*oe,Z.multiply(I.bounce)),$||(K.x=K.x+Ce/N.mass*re,K.y=K.y+Ce/N.mass*oe,K.multiply(N.bounce)),!k&&!$&&(Tt*=.5,Wt*=.5),k||(I.x-=Tt,I.y-=Wt,I.updateCenter()),$||(N.x+=Tt,N.y+=Wt,N.updateCenter()),Ut.result=!0}else!k||I.pushable||Rt?(I.x-=Tt,I.y-=Wt,I.updateCenter()):(!$||N.pushable||Rt)&&(N.x+=Tt,N.y+=Wt,N.updateCenter()),Ut.x=void 0,Ut.y=void 0;return Ut},intersects:function(I,N){return I===N?!1:!I.isCircle&&!N.isCircle?!(I.right<=N.left||I.bottom<=N.top||I.left>=N.right||I.top>=N.bottom):I.isCircle?N.isCircle?h(I.center,N.center)<=I.halfWidth+N.halfWidth:this.circleBodyIntersects(I,N):this.circleBodyIntersects(N,I)},circleBodyIntersects:function(I,N){var V=l(I.center.x,N.left,N.right),H=l(I.center.y,N.top,N.bottom),W=(I.center.x-V)*(I.center.x-V),Y=(I.center.y-H)*(I.center.y-H);return W+Y<=I.halfWidth*I.halfWidth},overlap:function(I,N,V,H,W){return V===void 0&&(V=null),H===void 0&&(H=null),W===void 0&&(W=V),this.collideObjects(I,N,V,H,W,!0)},collide:function(I,N,V,H,W){return V===void 0&&(V=null),H===void 0&&(H=null),W===void 0&&(W=V),this.collideObjects(I,N,V,H,W,!1)},collideObjects:function(I,N,V,H,W,Y){var j,k;I.isParent&&(I.physicsType===void 0||N===void 0||I===N)&&(I=I.children.entries),N&&N.isParent&&N.physicsType===void 0&&(N=N.children.entries);var $=Array.isArray(I),Z=Array.isArray(N);if(this._total=0,!$&&!Z)this.collideHandler(I,N,V,H,W,Y);else if(!$&&Z)for(j=0;j<N.length;j++)this.collideHandler(I,N[j],V,H,W,Y);else if($&&!Z)if(N)for(j=0;j<I.length;j++)this.collideHandler(I[j],N,V,H,W,Y);else for(j=0;j<I.length;j++){var K=I[j];for(k=j+1;k<I.length;k++)j!==k&&this.collideHandler(K,I[k],V,H,W,Y)}else for(j=0;j<I.length;j++)for(k=0;k<N.length;k++)this.collideHandler(I[j],N[k],V,H,W,Y);return this._total>0},collideHandler:function(I,N,V,H,W,Y){if(N===void 0&&I.isParent)return this.collideGroupVsGroup(I,I,V,H,W,Y);if(!I||!N)return!1;if(I.body||I.isBody){if(N.body||N.isBody)return this.collideSpriteVsSprite(I,N,V,H,W,Y);if(N.isParent)return this.collideSpriteVsGroup(I,N,V,H,W,Y);if(N.isTilemap)return this.collideSpriteVsTilemapLayer(I,N,V,H,W,Y)}else if(I.isParent){if(N.body||N.isBody)return this.collideSpriteVsGroup(N,I,V,H,W,Y);if(N.isParent)return this.collideGroupVsGroup(I,N,V,H,W,Y);if(N.isTilemap)return this.collideGroupVsTilemapLayer(I,N,V,H,W,Y)}else if(I.isTilemap){if(N.body||N.isBody)return this.collideSpriteVsTilemapLayer(N,I,V,H,W,Y);if(N.isParent)return this.collideGroupVsTilemapLayer(N,I,V,H,W,Y)}},canCollide:function(I,N){return I&&N&&(I.collisionMask&N.collisionCategory)!==0&&(N.collisionMask&I.collisionCategory)!==0},collideSpriteVsSprite:function(I,N,V,H,W,Y){var j=I.isBody?I:I.body,k=N.isBody?N:N.body;return this.canCollide(j,k)?(this.separate(j,k,H,W,Y)&&(V&&V.call(W,I,N),this._total++),!0):!1},collideSpriteVsGroup:function(I,N,V,H,W,Y){var j=I.isBody?I:I.body;if(!(N.length===0||!j||!j.enable||j.checkCollision.none||!this.canCollide(j,N))){var k,$,Z;if(this.useTree||N.physicsType===n.STATIC_BODY){var K=this.treeMinMax;K.minX=j.left,K.minY=j.top,K.maxX=j.right,K.maxY=j.bottom;var J=N.physicsType===n.DYNAMIC_BODY?this.tree.search(K):this.staticTree.search(K);for($=J.length,k=0;k<$;k++)Z=J[k],!(j===Z||!Z.enable||Z.checkCollision.none||!N.contains(Z.gameObject))&&this.separate(j,Z,H,W,Y)&&(V&&V.call(W,j.gameObject,Z.gameObject),this._total++)}else{var Q=N.getChildren(),_=N.children.entries.indexOf(I);for($=Q.length,k=0;k<$;k++)Z=Q[k].body,!(!Z||k===_||!Z.enable)&&this.separate(j,Z,H,W,Y)&&(V&&V.call(W,j.gameObject,Z.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(I,N,V,H,W,Y){if(!this.canCollide(I,N))return!1;var j=I.getChildren();if(j.length===0)return!1;for(var k=!1,$=0;$<j.length;$++)(j[$].body||j[$].isBody)&&this.collideSpriteVsTilemapLayer(j[$],N,V,H,W,Y)&&(k=!0);return k},collideTiles:function(I,N,V,H,W){return N.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,N,V,H,W,!1,!1)},overlapTiles:function(I,N,V,H,W){return N.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,N,V,H,W,!0,!1)},collideSpriteVsTilemapLayer:function(I,N,V,H,W,Y){var j=I.isBody?I:I.body;if(!j.enable||j.checkCollision.none||!this.canCollide(j,N))return!1;var k=N.layer,$=j.x-k.tileWidth*N.scaleX,Z=j.y-k.tileHeight*N.scaleY,K=j.width+k.tileWidth*N.scaleX,J=j.height+k.tileHeight*N.scaleY,Q=Y?null:this.tileFilterOptions,_=S($,Z,K,J,Q,N.scene.cameras.main,N.layer);return _.length===0?!1:this.collideSpriteVsTilesHandler(I,_,V,H,W,Y,!0)},collideSpriteVsTilesHandler:function(I,N,V,H,W,Y,j){for(var k=I.isBody?I:I.body,$,Z={left:0,right:0,top:0,bottom:0},K,J=!1,Q=0;Q<N.length;Q++){$=N[Q],K=$.tilemapLayer;var _=K.tileToWorldXY($.x,$.y);Z.left=_.x,Z.top=_.y,Z.right=Z.left+$.width*K.scaleX,Z.bottom=Z.top+$.height*K.scaleY,G(Z,k)&&(!H||H.call(W,I,$))&&w($,I)&&(Y||P(Q,k,$,Z,K,this.TILE_BIAS,j))&&(this._total++,J=!0,V&&V.call(W,I,$),Y&&k.onOverlap?this.emit(f.TILE_OVERLAP,I,$,k):k.onCollide&&this.emit(f.TILE_COLLIDE,I,$,k))}return J},collideGroupVsGroup:function(I,N,V,H,W,Y){if(!(I.length===0||N.length===0||!this.canCollide(I,N)))for(var j=I.getChildren(),k=0;k<j.length;k++)this.collideSpriteVsGroup(j[k],N,V,H,W,Y)},wrap:function(I,N){I.body?this.wrapObject(I,N):I.getChildren?this.wrapArray(I.getChildren(),N):Array.isArray(I)?this.wrapArray(I,N):this.wrapObject(I,N)},wrapArray:function(I,N){for(var V=0;V<I.length;V++)this.wrapObject(I[V],N)},wrapObject:function(I,N){N===void 0&&(N=0),I.x=B(I.x,this.bounds.left-N,this.bounds.right+N),I.y=B(I.y,this.bounds.top-N,this.bounds.bottom+N)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});e.exports=U},1093:e=>{var y={setAcceleration:function(t,a){return this.body.acceleration.set(t,a),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};e.exports=y},59023:e=>{var y={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};e.exports=y},62069:e=>{var y={setBounce:function(t,a){return this.body.bounce.set(t,a),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,a,g,l){return this.body.setCollideWorldBounds(t,a,g,l),this}};e.exports=y},78389:(e,y,t)=>{var a=t(79599),g={setCollisionCategory:function(l){var s=this.body?this.body:this;return s.collisionCategory=l,this},willCollideWith:function(l){var s=this.body?this.body:this;return(s.collisionMask&l)!==0},addCollidesWith:function(l){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask|l,this},removeCollidesWith:function(l){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask&~l,this},setCollidesWith:function(l){var s=this.body?this.body:this;return s.collisionMask=a(l),this},resetCollisionCategory:function(){var l=this.body?this.body:this;return l.collisionCategory=1,l.collisionMask=1,this}};e.exports=g},87118:e=>{var y={setDebug:function(t,a,g){return this.debugShowBody=t,this.debugShowVelocity=a,this.debugBodyColor=g,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};e.exports=y},52819:e=>{var y={setDrag:function(t,a){return this.body.drag.set(t,a),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};e.exports=y},4074:e=>{var y={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,a,g,l,s){return t&&this.body.reset(a,g),l&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,a){return t===void 0&&(t=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};e.exports=y},40831:e=>{var y={setFriction:function(t,a){return this.body.friction.set(t,a),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};e.exports=y},26775:e=>{var y={setGravity:function(t,a){return this.body.gravity.set(t,a),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};e.exports=y},9437:e=>{var y={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};e.exports=y},30621:e=>{var y={setMass:function(t){return this.body.mass=t,this}};e.exports=y},72441:(e,y,t)=>{var a=t(47956),g=t(96503),l=t(2044),s=t(81491),o=function(n,i,h,r,f,c){var d=a(n,i-r,h-r,2*r,2*r,f,c);if(d.length===0)return d;for(var p=new g(i,h,r),m=new g,C=[],S=0;S<d.length;S++){var E=d[S];E.isCircle?(m.setTo(E.center.x,E.center.y,E.halfWidth),l(p,m)&&C.push(E)):s(p,E)&&C.push(E)}return C};e.exports=o},47956:e=>{var y=function(t,a,g,l,s,o,n){o===void 0&&(o=!0),n===void 0&&(n=!1);var i=[],h=[],r=t.treeMinMax;if(r.minX=a,r.minY=g,r.maxX=a+l,r.maxY=g+s,n&&(h=t.staticTree.search(r)),o&&t.useTree)i=t.tree.search(r);else if(o){var f=t.bodies,c={position:{x:a,y:g},left:a,top:g,right:a+l,bottom:g+s,isCircle:!1},d=t.intersects;f.iterate(function(p){d(p,c)&&i.push(p)})}return h.concat(i)};e.exports=y},62121:e=>{var y={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};e.exports=y},29384:e=>{var y={setOffset:function(t,a){return this.body.setOffset(t,a),this},setSize:function(t,a,g){return this.body.setSize(t,a,g),this},setBodySize:function(t,a,g){return this.body.setSize(t,a,g),this},setCircle:function(t,a,g){return this.body.setCircle(t,a,g),this}};e.exports=y},15098:e=>{var y={setVelocity:function(t,a){return this.body.setVelocity(t,a),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,a){return this.body.maxVelocity.set(t,a),this}};e.exports=y},92209:(e,y,t)=>{e.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:e=>{var y={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};e.exports=y},20009:e=>{e.exports="collide"},36768:e=>{e.exports="overlap"},60473:e=>{e.exports="pause"},89954:e=>{e.exports="resume"},61804:e=>{e.exports="tilecollide"},7161:e=>{e.exports="tileoverlap"},34689:e=>{e.exports="worldbounds"},16006:e=>{e.exports="worldstep"},63012:(e,y,t)=>{e.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(e,y,t)=>{var a=t(37747),g=t(79291),l={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};l=g(!1,l,a),e.exports=l},96602:e=>{var y=function(t,a){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,a,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,a,t):!0};e.exports=y},36294:e=>{var y=function(t,a){a<0?(t.blocked.none=!1,t.blocked.left=!0):a>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=a,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};e.exports=y},67013:e=>{var y=function(t,a){a<0?(t.blocked.none=!1,t.blocked.up=!0):a>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=a,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};e.exports=y},40012:(e,y,t)=>{var a=t(21329),g=t(53442),l=t(2483),s=function(o,n,i,h,r,f,c){var d=h.left,p=h.top,m=h.right,C=h.bottom,S=i.faceLeft||i.faceRight,E=i.faceTop||i.faceBottom;if(c||(S=!0,E=!0),!S&&!E)return!1;var D=0,M=0,w=0,A=1;if(n.deltaAbsX()>n.deltaAbsY()?w=-1:n.deltaAbsX()<n.deltaAbsY()&&(A=-1),n.deltaX()!==0&&n.deltaY()!==0&&S&&E&&(w=Math.min(Math.abs(n.position.x-m),Math.abs(n.right-d)),A=Math.min(Math.abs(n.position.y-C),Math.abs(n.bottom-p))),w<A){if(S&&(D=a(n,i,d,m,f,c),D!==0&&!l(h,n)))return!0;E&&(M=g(n,i,p,C,f,c))}else{if(E&&(M=g(n,i,p,C,f,c),M!==0&&!l(h,n)))return!0;S&&(D=a(n,i,d,m,f,c))}return D!==0||M!==0};e.exports=s},21329:(e,y,t)=>{var a=t(36294),g=function(l,s,o,n,i,h){var r=0,f=s.faceLeft,c=s.faceRight,d=s.collideLeft,p=s.collideRight;return h||(f=!0,c=!0,d=!0,p=!0),l.deltaX()<0&&p&&l.checkCollision.left?c&&l.x<n&&(r=l.x-n,r<-i&&(r=0)):l.deltaX()>0&&d&&l.checkCollision.right&&f&&l.right>o&&(r=l.right-o,r>i&&(r=0)),r!==0&&(l.customSeparateX?l.overlapX=r:a(l,r)),r};e.exports=g},53442:(e,y,t)=>{var a=t(67013),g=function(l,s,o,n,i,h){var r=0,f=s.faceTop,c=s.faceBottom,d=s.collideUp,p=s.collideDown;return h||(f=!0,c=!0,d=!0,p=!0),l.deltaY()<0&&p&&l.checkCollision.up?c&&l.y<n&&(r=l.y-n,r<-i&&(r=0)):l.deltaY()>0&&d&&l.checkCollision.down&&f&&l.bottom>o&&(r=l.bottom-o,r>i&&(r=0)),r!==0&&(l.customSeparateY?l.overlapY=r:a(l,r)),r};e.exports=g},2483:e=>{var y=function(t,a){return!(a.right<=t.left||a.bottom<=t.top||a.position.x>=t.right||a.position.y>=t.bottom)};e.exports=y},55173:(e,y,t)=>{var a={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};e.exports=a},44563:(e,y,t)=>{e.exports={Arcade:t(27064),Matter:t(3875)}},68174:(e,y,t)=>{var a=t(83419),g=t(26099),l=new a({initialize:function(){this.boundsCenter=new g,this.centerDiff=new g},parseBody:function(s){if(s=s.hasOwnProperty("body")?s.body:s,!s.hasOwnProperty("bounds")||!s.hasOwnProperty("centerOfMass"))return!1;var o=this.boundsCenter,n=this.centerDiff,i=s.bounds.max.x-s.bounds.min.x,h=s.bounds.max.y-s.bounds.min.y,r=i*s.centerOfMass.x,f=h*s.centerOfMass.y;return o.set(i/2,h/2),n.set(r-o.x,f-o.y),!0},getTopLeft:function(s,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(s)){var i=this.boundsCenter,h=this.centerDiff;return new g(o+i.x+h.x,n+i.y+h.y)}return!1},getTopCenter:function(s,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(s)){var i=this.boundsCenter,h=this.centerDiff;return new g(o+h.x,n+i.y+h.y)}return!1},getTopRight:function(s,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(s)){var i=this.boundsCenter,h=this.centerDiff;return new g(o-(i.x-h.x),n+i.y+h.y)}return!1},getLeftCenter:function(s,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(s)){var i=this.boundsCenter,h=this.centerDiff;return new g(o+i.x+h.x,n+h.y)}return!1},getCenter:function(s,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(s)){var i=this.centerDiff;return new g(o+i.x,n+i.y)}return!1},getRightCenter:function(s,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(s)){var i=this.boundsCenter,h=this.centerDiff;return new g(o-(i.x-h.x),n+h.y)}return!1},getBottomLeft:function(s,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(s)){var i=this.boundsCenter,h=this.centerDiff;return new g(o+i.x+h.x,n-(i.y-h.y))}return!1},getBottomCenter:function(s,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(s)){var i=this.boundsCenter,h=this.centerDiff;return new g(o+h.x,n-(i.y-h.y))}return!1},getBottomRight:function(s,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(s)){var i=this.boundsCenter,h=this.centerDiff;return new g(o-(i.x-h.x),n-(i.y-h.y))}return!1}});e.exports=l},19933:(e,y,t)=>{var a=t(6790);a.Body=t(22562),a.Composite=t(69351),a.World=t(4372),a.Collision=t(52284),a.Detector=t(81388),a.Pairs=t(99561),a.Pair=t(4506),a.Query=t(73296),a.Resolver=t(66272),a.Constraint=t(48140),a.Common=t(53402),a.Engine=t(48413),a.Events=t(35810),a.Sleeping=t(53614),a.Plugin=t(73832),a.Bodies=t(66280),a.Composites=t(74116),a.Axes=t(66615),a.Bounds=t(15647),a.Svg=t(74058),a.Vector=t(31725),a.Vertices=t(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,e.exports=a},28137:(e,y,t)=>{var a=t(66280),g=t(83419),l=t(74116),s=t(48140),o=t(74058),n=t(75803),i=t(23181),h=t(34803),r=t(73834),f=t(19496),c=t(85791),d=t(98713),p=t(41598),m=new g({initialize:function(S){this.world=S,this.scene=S.scene,this.sys=S.scene.sys},rectangle:function(C,S,E,D,M){var w=a.rectangle(C,S,E,D,M);return this.world.add(w),w},trapezoid:function(C,S,E,D,M,w){var A=a.trapezoid(C,S,E,D,M,w);return this.world.add(A),A},circle:function(C,S,E,D,M){var w=a.circle(C,S,E,D,M);return this.world.add(w),w},polygon:function(C,S,E,D,M){var w=a.polygon(C,S,E,D,M);return this.world.add(w),w},fromVertices:function(C,S,E,D,M,w,A){typeof E=="string"&&(E=p.fromPath(E));var R=a.fromVertices(C,S,E,D,M,w,A);return this.world.add(R),R},fromPhysicsEditor:function(C,S,E,D,M){M===void 0&&(M=!0);var w=f.parseBody(C,S,E,D);return M&&!this.world.has(w)&&this.world.add(w),w},fromSVG:function(C,S,E,D,M,w){D===void 0&&(D=1),M===void 0&&(M={}),w===void 0&&(w=!0);for(var A=E.getElementsByTagName("path"),R=[],P=0;P<A.length;P++){var O=o.pathToVertices(A[P],30);D!==1&&p.scale(O,D,D),R.push(O)}var b=a.fromVertices(C,S,R,M);return w&&this.world.add(b),b},fromJSON:function(C,S,E,D,M){D===void 0&&(D={}),M===void 0&&(M=!0);var w=c.parseBody(C,S,E,D);return w&&M&&this.world.add(w),w},imageStack:function(C,S,E,D,M,w,A,R,P){A===void 0&&(A=0),R===void 0&&(R=0),P===void 0&&(P={});var O=this.world,b=this.sys.displayList;P.addToWorld=!1;var F=l.stack(E,D,M,w,A,R,function(L,G){var z=new i(O,L,G,C,S,P);return b.add(z),z.body});return O.add(F),F},stack:function(C,S,E,D,M,w,A){var R=l.stack(C,S,E,D,M,w,A);return this.world.add(R),R},pyramid:function(C,S,E,D,M,w,A){var R=l.pyramid(C,S,E,D,M,w,A);return this.world.add(R),R},chain:function(C,S,E,D,M,w){return l.chain(C,S,E,D,M,w)},mesh:function(C,S,E,D,M){return l.mesh(C,S,E,D,M)},newtonsCradle:function(C,S,E,D,M){var w=l.newtonsCradle(C,S,E,D,M);return this.world.add(w),w},car:function(C,S,E,D,M){var w=l.car(C,S,E,D,M);return this.world.add(w),w},softBody:function(C,S,E,D,M,w,A,R,P,O){var b=l.softBody(C,S,E,D,M,w,A,R,P,O);return this.world.add(b),b},joint:function(C,S,E,D,M){return this.constraint(C,S,E,D,M)},spring:function(C,S,E,D,M){return this.constraint(C,S,E,D,M)},constraint:function(C,S,E,D,M){D===void 0&&(D=1),M===void 0&&(M={}),M.bodyA=C.type==="body"?C:C.body,M.bodyB=S.type==="body"?S:S.body,isNaN(E)||(M.length=E),M.stiffness=D;var w=s.create(M);return this.world.add(w),w},worldConstraint:function(C,S,E,D){E===void 0&&(E=1),D===void 0&&(D={}),D.bodyB=C.type==="body"?C:C.body,isNaN(S)||(D.length=S),D.stiffness=E;var M=s.create(D);return this.world.add(M),M},mouseSpring:function(C){return this.pointerConstraint(C)},pointerConstraint:function(C){C===void 0&&(C={}),C.hasOwnProperty("render")||(C.render={visible:!1});var S=new d(this.scene,this.world,C);return this.world.add(S.constraint),S},image:function(C,S,E,D,M){var w=new i(this.world,C,S,E,D,M);return this.sys.displayList.add(w),w},tileBody:function(C,S){return new r(this.world,C,S)},sprite:function(C,S,E,D,M){var w=new h(this.world,C,S,E,D,M);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},gameObject:function(C,S,E){return n(this.world,C,S,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});e.exports=m},75803:(e,y,t)=>{var a=t(31884),g=t(95540),l=t(26099);function s(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}var o=function(n,i,h,r){h===void 0&&(h={}),r===void 0&&(r=!0);var f=i.x,c=i.y;i.body={temp:!0,position:{x:f,y:c}};var d=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(d.forEach(function(m){for(var C in m)s(m[C])?Object.defineProperty(i,C,{get:m[C].get,set:m[C].set}):Object.defineProperty(i,C,{value:m[C]})}),i.world=n,i._tempVec2=new l(f,c),h.hasOwnProperty("type")&&h.type==="body")i.setExistingBody(h,r);else{var p=g(h,"shape",null);p||(p="rectangle"),h.addToWorld=r,i.setBody(p,h)}return i};e.exports=o},23181:(e,y,t)=>{var a=t(83419),g=t(31884),l=t(95643),s=t(95540),o=t(88571),n=t(72699),i=t(26099),h=new a({Extends:o,Mixins:[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity,n],initialize:function(f,c,d,p,m,C){l.call(this,f.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(p,m),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new i(c,d);var S=s(C,"shape",null);S?this.setBody(S,C):this.setRectangle(this.width,this.height,C),this.setPosition(c,d),this.initPipeline(),this.initPostPipeline(!0)}});e.exports=h},42045:(e,y,t)=>{var a=t(60461),g=t(66615),l=t(66280),s=t(22562),o=t(68174),n=t(15647),i=t(83419),h=t(52284),r=t(53402),f=t(69351),c=t(74116),d=t(48140),p=t(81388),m=t(20339),C=t(28137),S=t(95540),E=t(35154),D=t(18210),M=t(40178),w=t(6790),A=t(74507),R=t(46975),P=t(4506),O=t(99561),b=t(73832),F=t(37277),L=t(73296),G=t(66272),z=t(44594),X=t(74058),B=t(31725),U=t(41598),I=t(68243);r.setDecomp(t(55973));var N=new i({initialize:function(H){this.scene=H,this.systems=H.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=s,this.composite=f,this.collision=h,this.detector=p,this.pair=P,this.pairs=O,this.query=L,this.resolver=G,this.constraint=d,this.bodies=l,this.composites=c,this.axes=g,this.bounds=n,this.svg=X,this.vector=B,this.vertices=U,this.verts=U,this._tempVec2=B.create(),E(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),E(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),E(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),G._restingThresh=E(this.config,"restingThresh",4),G._restingThreshTangent=E(this.config,"restingThreshTangent",6),G._positionDampen=E(this.config,"positionDampen",.9),G._positionWarming=E(this.config,"positionWarming",.8),G._frictionNormalMultiplier=E(this.config,"frictionNormalMultiplier",5),H.sys.events.once(z.BOOT,this.boot,this),H.sys.events.on(z.START,this.start,this)},boot:function(){this.world=new I(this.scene,this.config),this.add=new C(this.world),this.bodyBounds=new o,this.systems.events.once(z.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new I(this.scene,this.config),this.add=new C(this.world));var V=this.systems.events;V.on(z.UPDATE,this.world.update,this.world),V.on(z.POST_UPDATE,this.world.postUpdate,this.world),V.once(z.SHUTDOWN,this.shutdown,this)},getConfig:function(){var V=this.systems.game.config.physics,H=this.systems.settings.physics,W=R(S(H,"matter",{}),S(V,"matter",{}));return W},enableAttractorPlugin:function(){return b.register(D),b.use(w,D),this},enableWrapPlugin:function(){return b.register(A),b.use(w,A),this},enableCollisionEventsPlugin:function(){return b.register(M),b.use(w,M),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(V,H){this.world.step(V,H)},containsPoint:function(V,H,W){V=this.getMatterBodies(V);var Y=B.create(H,W),j=L.point(V,Y);return j.length>0},intersectPoint:function(V,H,W){W=this.getMatterBodies(W);var Y=B.create(V,H),j=[],k=L.point(W,Y);return k.forEach(function($){j.indexOf($)===-1&&j.push($)}),j},intersectRect:function(V,H,W,Y,j,k){j===void 0&&(j=!1),k=this.getMatterBodies(k);var $={min:{x:V,y:H},max:{x:V+W,y:H+Y}},Z=[],K=L.region(k,$,j);return K.forEach(function(J){Z.indexOf(J)===-1&&Z.push(J)}),Z},intersectRay:function(V,H,W,Y,j,k){j===void 0&&(j=1),k=this.getMatterBodies(k);for(var $=[],Z=L.ray(k,B.create(V,H),B.create(W,Y),j),K=0;K<Z.length;K++)$.push(Z[K].body);return $},intersectBody:function(V,H){H=this.getMatterBodies(H);for(var W=[],Y=L.collides(V,H),j=0;j<Y.length;j++){var k=Y[j];k.bodyA===V?W.push(k.bodyB):W.push(k.bodyA)}return W},overlap:function(V,H,W,Y,j){W===void 0&&(W=null),Y===void 0&&(Y=null),j===void 0&&(j=W),Array.isArray(V)||(V=[V]),V=this.getMatterBodies(V),H=this.getMatterBodies(H);for(var k=!1,$=0;$<V.length;$++)for(var Z=V[$],K=L.collides(Z,H),J=0;J<K.length;J++){var Q=K[J],_=Q.bodyA.id===Z.id?Q.bodyB:Q.bodyA;if(!Y||Y.call(j,Z,_,Q)){if(k=!0,W)W.call(j,Z,_,Q);else if(!Y)return!0}}return k},setCollisionCategory:function(V,H){return V=this.getMatterBodies(V),V.forEach(function(W){W.collisionFilter.category=H}),this},setCollisionGroup:function(V,H){return V=this.getMatterBodies(V),V.forEach(function(W){W.collisionFilter.group=H}),this},setCollidesWith:function(V,H){V=this.getMatterBodies(V);var W=0;if(!Array.isArray(H))W=H;else for(var Y=0;Y<H.length;Y++)W|=H[Y];return V.forEach(function(j){j.collisionFilter.mask=W}),this},getMatterBodies:function(V){if(!V)return this.world.getAllBodies();Array.isArray(V)||(V=[V]);for(var H=[],W=0;W<V.length;W++){var Y=V[W].hasOwnProperty("body")?V[W].body:V[W];H.push(Y)}return H},setVelocity:function(V,H,W){V=this.getMatterBodies(V);var Y=this._tempVec2;return Y.x=H,Y.y=W,V.forEach(function(j){s.setVelocity(j,Y)}),this},setVelocityX:function(V,H){V=this.getMatterBodies(V);var W=this._tempVec2;return W.x=H,V.forEach(function(Y){W.y=Y.velocity.y,s.setVelocity(Y,W)}),this},setVelocityY:function(V,H){V=this.getMatterBodies(V);var W=this._tempVec2;return W.y=H,V.forEach(function(Y){W.x=Y.velocity.x,s.setVelocity(Y,W)}),this},setAngularVelocity:function(V,H){return V=this.getMatterBodies(V),V.forEach(function(W){s.setAngularVelocity(W,H)}),this},applyForce:function(V,H){V=this.getMatterBodies(V);var W=this._tempVec2;return V.forEach(function(Y){W.x=Y.position.x,W.y=Y.position.y,s.applyForce(Y,W,H)}),this},applyForceFromPosition:function(V,H,W,Y){V=this.getMatterBodies(V);var j=this._tempVec2;return V.forEach(function(k){Y===void 0&&(Y=k.angle),j.x=W*Math.cos(Y),j.y=W*Math.sin(Y),s.applyForce(k,H,j)}),this},applyForceFromAngle:function(V,H,W){V=this.getMatterBodies(V);var Y=this._tempVec2;return V.forEach(function(j){W===void 0&&(W=j.angle),Y.x=H*Math.cos(W),Y.y=H*Math.sin(W),s.applyForce(j,{x:j.position.x,y:j.position.y},Y)}),this},getConstraintLength:function(V){var H=V.pointA.x,W=V.pointA.y,Y=V.pointB.x,j=V.pointB.y;return V.bodyA&&(H+=V.bodyA.position.x,W+=V.bodyA.position.y),V.bodyB&&(Y+=V.bodyB.position.x,j+=V.bodyB.position.y),m(H,W,Y,j)},alignBody:function(V,H,W,Y){V=V.hasOwnProperty("body")?V.body:V;var j;switch(Y){case a.TOP_LEFT:case a.LEFT_TOP:j=this.bodyBounds.getTopLeft(V,H,W);break;case a.TOP_CENTER:j=this.bodyBounds.getTopCenter(V,H,W);break;case a.TOP_RIGHT:case a.RIGHT_TOP:j=this.bodyBounds.getTopRight(V,H,W);break;case a.LEFT_CENTER:j=this.bodyBounds.getLeftCenter(V,H,W);break;case a.CENTER:j=this.bodyBounds.getCenter(V,H,W);break;case a.RIGHT_CENTER:j=this.bodyBounds.getRightCenter(V,H,W);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:j=this.bodyBounds.getBottomLeft(V,H,W);break;case a.BOTTOM_CENTER:j=this.bodyBounds.getBottomCenter(V,H,W);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:j=this.bodyBounds.getBottomRight(V,H,W);break}return j&&s.setPosition(V,j),this},shutdown:function(){var V=this.systems.events;this.world&&(V.off(z.UPDATE,this.world.update,this.world),V.off(z.POST_UPDATE,this.world.postUpdate,this.world)),V.off(z.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(z.START,this.start,this),this.scene=null,this.systems=null}});F.register("MatterPhysics",N,"matterPhysics"),e.exports=N},34803:(e,y,t)=>{var a=t(9674),g=t(83419),l=t(31884),s=t(95643),o=t(95540),n=t(72699),i=t(68287),h=t(26099),r=new g({Extends:i,Mixins:[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity,n],initialize:function(c,d,p,m,C,S){s.call(this,c.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(m,C),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new h(d,p);var E=o(S,"shape",null);E?this.setBody(E,S):this.setRectangle(this.width,this.height,S),this.setPosition(d,p),this.initPipeline(),this.initPostPipeline(!0)}});e.exports=r},73834:(e,y,t)=>{var a=t(66280),g=t(22562),l=t(83419),s=t(31884),o=t(62644),n=t(50792),i=t(95540),h=t(97022),r=t(41598),f=new l({Extends:n,Mixins:[s.Bounce,s.Collision,s.Friction,s.Gravity,s.Mass,s.Sensor,s.Sleep,s.Static],initialize:function(d,p,m){n.call(this),this.tile=p,this.world=d,p.physics.matterBody&&p.physics.matterBody.destroy(),p.physics.matterBody=this;var C=i(m,"body",null),S=i(m,"addToWorld",!0);if(C)this.setBody(C,S);else{var E=p.getCollisionGroup(),D=i(E,"objects",[]);D.length>0?this.setFromTileCollision(m):this.setFromTileRectangle(m)}if(p.flipX||p.flipY){var M={x:p.getCenterX(),y:p.getCenterY()},w=p.flipX?-1:1,A=p.flipY?-1:1;g.scale(C,w,A,M)}},setFromTileRectangle:function(c){c===void 0&&(c={}),h(c,"isStatic")||(c.isStatic=!0),h(c,"addToWorld")||(c.addToWorld=!0);var d=this.tile.getBounds(),p=d.x+d.width/2,m=d.y+d.height/2,C=a.rectangle(p,m,d.width,d.height,c);return this.setBody(C,c.addToWorld),this},setFromTileCollision:function(c){c===void 0&&(c={}),h(c,"isStatic")||(c.isStatic=!0),h(c,"addToWorld")||(c.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,p=this.tile.tilemapLayer.scaleY,m=this.tile.getLeft(),C=this.tile.getTop(),S=this.tile.getCollisionGroup(),E=i(S,"objects",[]),D=[],M=0;M<E.length;M++){var w=E[M],A=m+w.x*d,R=C+w.y*p,P=w.width*d,O=w.height*p,b=null;if(w.rectangle)b=a.rectangle(A+P/2,R+O/2,P,O,c);else if(w.ellipse)b=a.circle(A+P/2,R+O/2,P/2,c);else if(w.polygon||w.polyline){var F=w.polygon?w.polygon:w.polyline,L=F.map(function(B){return{x:B.x*d,y:B.y*p}}),G=r.create(L),z=r.centre(G);A+=z.x,R+=z.y,b=a.fromVertices(A,R,G,c)}b&&D.push(b)}if(D.length===1)this.setBody(D[0],c.addToWorld);else if(D.length>1){var X=o(c);X.parts=D,this.setBody(g.create(X),X.addToWorld)}return this},setBody:function(c,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=c,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});e.exports=f},19496:(e,y,t)=>{var a=t(66280),g=t(22562),l=t(53402),s=t(95540),o=t(41598),n={parseBody:function(i,h,r,f){f===void 0&&(f={});for(var c=s(r,"fixtures",[]),d=[],p=0;p<c.length;p++)for(var m=this.parseFixture(c[p]),C=0;C<m.length;C++)d.push(m[C]);var S=l.clone(r,!0);l.extend(S,f,!0),delete S.fixtures,delete S.type;var E=g.create(S);return g.setParts(E,d),g.setPosition(E,{x:i,y:h}),E},parseFixture:function(i){var h=l.extend({},!1,i);delete h.circle,delete h.vertices;var r;if(i.circle){var f=s(i.circle,"x"),c=s(i.circle,"y"),d=s(i.circle,"radius");r=[a.circle(f,c,d,h)]}else i.vertices&&(r=this.parseVertices(i.vertices,h));return r},parseVertices:function(i,h){h===void 0&&(h={});for(var r=[],f=0;f<i.length;f++)o.clockwiseSort(i[f]),r.push(g.create(l.extend({position:o.centre(i[f]),vertices:i[f]},h)));return a.flagCoincidentParts(r)}};e.exports=n},85791:(e,y,t)=>{var a=t(66280),g=t(22562),l={parseBody:function(s,o,n,i){i===void 0&&(i={});var h,r=n.vertices;if(r.length===1)i.vertices=r[0],h=g.create(i),a.flagCoincidentParts(h.parts);else{for(var f=[],c=0;c<r.length;c++){var d=g.create({vertices:r[c]});f.push(d)}a.flagCoincidentParts(f),i.parts=f,h=g.create(i)}return h.label=n.label,g.setPosition(h,{x:s,y:o}),h}};e.exports=l},98713:(e,y,t)=>{var a=t(15647),g=t(83419),l=t(69351),s=t(48140),o=t(81388),n=t(1121),i=t(8214),h=t(46975),r=t(53614),f=t(26099),c=t(41598),d=new g({initialize:function(m,C,S){S===void 0&&(S={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=m,this.world=C,this.camera=null,this.pointer=null,this.active=!0,this.position=new f,this.body=null,this.part=null,this.constraint=s.create(h(S,E)),this.world.on(n.BEFORE_UPDATE,this.update,this),m.sys.input.on(i.POINTER_DOWN,this.onDown,this),m.sys.input.on(i.POINTER_UP,this.onUp,this)},onDown:function(p){this.pointer||(this.pointer=p,this.camera=p.camera)},onUp:function(p){p===this.pointer&&(this.pointer=null)},getBody:function(p){var m=this.position,C=this.constraint;this.camera.getWorldPoint(p.x,p.y,m);for(var S=l.allBodies(this.world.localWorld),E=0;E<S.length;E++){var D=S[E];if(!D.ignorePointer&&a.contains(D.bounds,m)&&o.canCollide(D.collisionFilter,C.collisionFilter)&&this.hitTestBody(D,m))return this.world.emit(n.DRAG_START,D,this.part,this),!0}return!1},hitTestBody:function(p,m){for(var C=this.constraint,S=p.parts.length,E=S>1?1:0,D=E;D<S;D++){var M=p.parts[D];if(c.contains(M.vertices,m))return C.pointA=m,C.pointB={x:m.x-p.position.x,y:m.y-p.position.y},C.bodyB=p,C.angleB=p.angle,r.set(p,!1),this.part=M,this.body=p,!0}return!1},update:function(){var p=this.pointer,m=this.body;if(!this.active||!p){m&&this.stopDrag();return}if(!p.isDown&&m){this.stopDrag();return}else if(p.isDown){if(!this.camera||!m&&!this.getBody(p))return;m=this.body;var C=this.position,S=this.constraint;this.camera.getWorldPoint(p.x,p.y,C),S.pointA.x=C.x,S.pointA.y=C.y,r.set(m,!1),this.world.emit(n.DRAG,m,this)}},stopDrag:function(){var p=this.body,m=this.constraint;m.bodyB=null,m.pointB=null,this.pointer=null,this.body=null,this.part=null,p&&this.world.emit(n.DRAG_END,p,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(n.BEFORE_UPDATE,this.update),this.scene.sys.input.off(i.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(i.POINTER_UP,this.onUp,this)}});e.exports=d},68243:(e,y,t)=>{var a=t(66280),g=t(22562),l=t(83419),s=t(53402),o=t(69351),n=t(48413),i=t(50792),h=t(1121),r=t(95540),f=t(35154),c=t(22562),d=t(35810),p=t(73834),m=t(4372),C=t(31725),S=new l({Extends:i,initialize:function(D,M){i.call(this),this.scene=D,this.engine=n.create(M),this.localWorld=this.engine.world;var w=f(M,"gravity",null);w?this.setGravity(w.x,w.y,w.scale):w===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=f(M,"enabled",!0),this.getDelta=f(M,"getDelta",this.update60Hz);var A=r(M,"runner",{}),R=r(A,"fps",!1),P=r(A,"fps",60),O=r(A,"delta",1e3/P),b=r(A,"deltaMin",1e3/P),F=r(A,"deltaMax",1e3/(P*.5));R||(P=1e3/O),this.runner={fps:P,deltaSampleSize:r(A,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:r(A,"isFixed",!1),delta:O,deltaMin:b,deltaMax:F},this.autoUpdate=f(M,"autoUpdate",!0);var L=f(M,"debug",!1);if(this.drawDebug=typeof L=="object"?!0:L,this.debugGraphic,this.debugConfig={showAxes:r(L,"showAxes",!1),showAngleIndicator:r(L,"showAngleIndicator",!1),angleColor:r(L,"angleColor",15208787),showBroadphase:r(L,"showBroadphase",!1),broadphaseColor:r(L,"broadphaseColor",16757760),showBounds:r(L,"showBounds",!1),boundsColor:r(L,"boundsColor",16777215),showVelocity:r(L,"showVelocity",!1),velocityColor:r(L,"velocityColor",44783),showCollisions:r(L,"showCollisions",!1),collisionColor:r(L,"collisionColor",16094476),showSeparations:r(L,"showSeparations",!1),separationColor:r(L,"separationColor",16753920),showBody:r(L,"showBody",!0),showStaticBody:r(L,"showStaticBody",!0),showInternalEdges:r(L,"showInternalEdges",!1),renderFill:r(L,"renderFill",!1),renderLine:r(L,"renderLine",!0),fillColor:r(L,"fillColor",1075465),fillOpacity:r(L,"fillOpacity",1),lineColor:r(L,"lineColor",2678297),lineOpacity:r(L,"lineOpacity",1),lineThickness:r(L,"lineThickness",1),staticFillColor:r(L,"staticFillColor",857979),staticLineColor:r(L,"staticLineColor",1255396),showSleeping:r(L,"showSleeping",!1),staticBodySleepOpacity:r(L,"staticBodySleepOpacity",.7),sleepFillColor:r(L,"sleepFillColor",4605510),sleepLineColor:r(L,"sleepLineColor",10066585),showSensors:r(L,"showSensors",!0),sensorFillColor:r(L,"sensorFillColor",857979),sensorLineColor:r(L,"sensorLineColor",1255396),showPositions:r(L,"showPositions",!0),positionSize:r(L,"positionSize",4),positionColor:r(L,"positionColor",14697178),showJoint:r(L,"showJoint",!0),jointColor:r(L,"jointColor",14737474),jointLineOpacity:r(L,"jointLineOpacity",1),jointLineThickness:r(L,"jointLineThickness",2),pinSize:r(L,"pinSize",4),pinColor:r(L,"pinColor",4382944),springColor:r(L,"springColor",14697184),anchorColor:r(L,"anchorColor",15724527),anchorSize:r(L,"anchorSize",4),showConvexHulls:r(L,"showConvexHulls",!1),hullColor:r(L,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),r(M,"setBounds",!1)){var G=M.setBounds;if(typeof G=="boolean")this.setBounds();else{var z=r(G,"x",0),X=r(G,"y",0),B=r(G,"width",D.sys.scale.width),U=r(G,"height",D.sys.scale.height),I=r(G,"thickness",64),N=r(G,"left",!0),V=r(G,"right",!0),H=r(G,"top",!0),W=r(G,"bottom",!0);this.setBounds(z,X,B,U,I,N,V,H,W)}}},setCompositeRenderStyle:function(E){var D=E.bodies,M=E.constraints,w=E.composites,A,R,P;for(A=0;A<D.length;A++)R=D[A],P=R.render,this.setBodyRenderStyle(R,P.lineColor,P.lineOpacity,P.lineThickness,P.fillColor,P.fillOpacity);for(A=0;A<M.length;A++)R=M[A],P=R.render,this.setConstraintRenderStyle(R,P.lineColor,P.lineOpacity,P.lineThickness,P.pinSize,P.anchorColor,P.anchorSize);for(A=0;A<w.length;A++)R=w[A],this.setCompositeRenderStyle(R);return this},setBodyRenderStyle:function(E,D,M,w,A,R){var P=E.render,O=this.debugConfig;return P?(D==null&&(D=E.isStatic?O.staticLineColor:O.lineColor),M==null&&(M=O.lineOpacity),w==null&&(w=O.lineThickness),A==null&&(A=E.isStatic?O.staticFillColor:O.fillColor),R==null&&(R=O.fillOpacity),D!==!1&&(P.lineColor=D),M!==!1&&(P.lineOpacity=M),w!==!1&&(P.lineThickness=w),A!==!1&&(P.fillColor=A),R!==!1&&(P.fillOpacity=R),this):this},setConstraintRenderStyle:function(E,D,M,w,A,R,P){var O=E.render,b=this.debugConfig;if(!O)return this;if(D==null){var F=O.type;F==="line"?D=b.jointColor:F==="pin"?D=b.pinColor:F==="spring"&&(D=b.springColor)}return M==null&&(M=b.jointLineOpacity),w==null&&(w=b.jointLineThickness),A==null&&(A=b.pinSize),R==null&&(R=b.anchorColor),P==null&&(P=b.anchorSize),D!==!1&&(O.lineColor=D),M!==!1&&(O.lineOpacity=M),w!==!1&&(O.lineThickness=w),A!==!1&&(O.pinSize=A),R!==!1&&(O.anchorColor=R),P!==!1&&(O.anchorSize=P),this},setEventsProxy:function(){var E=this,D=this.engine,M=this.localWorld;this.drawDebug&&(d.on(M,"compositeModified",function(w){E.setCompositeRenderStyle(w)}),d.on(M,"beforeAdd",function(w){for(var A=[].concat(w.object),R=0;R<A.length;R++){var P=A[R],O=P.render;P.type==="body"?E.setBodyRenderStyle(P,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity):P.type==="composite"?E.setCompositeRenderStyle(P):P.type==="constraint"&&E.setConstraintRenderStyle(P,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize)}})),d.on(M,"beforeAdd",function(w){E.emit(h.BEFORE_ADD,w)}),d.on(M,"afterAdd",function(w){E.emit(h.AFTER_ADD,w)}),d.on(M,"beforeRemove",function(w){E.emit(h.BEFORE_REMOVE,w)}),d.on(M,"afterRemove",function(w){E.emit(h.AFTER_REMOVE,w)}),d.on(D,"beforeUpdate",function(w){E.emit(h.BEFORE_UPDATE,w)}),d.on(D,"afterUpdate",function(w){E.emit(h.AFTER_UPDATE,w)}),d.on(D,"collisionStart",function(w){var A=w.pairs,R,P;A.length>0&&(R=A[0].bodyA,P=A[0].bodyB),E.emit(h.COLLISION_START,w,R,P)}),d.on(D,"collisionActive",function(w){var A=w.pairs,R,P;A.length>0&&(R=A[0].bodyA,P=A[0].bodyB),E.emit(h.COLLISION_ACTIVE,w,R,P)}),d.on(D,"collisionEnd",function(w){var A=w.pairs,R,P;A.length>0&&(R=A[0].bodyA,P=A[0].bodyB),E.emit(h.COLLISION_END,w,R,P)})},setBounds:function(E,D,M,w,A,R,P,O,b){return E===void 0&&(E=0),D===void 0&&(D=0),M===void 0&&(M=this.scene.sys.scale.width),w===void 0&&(w=this.scene.sys.scale.height),A===void 0&&(A=64),R===void 0&&(R=!0),P===void 0&&(P=!0),O===void 0&&(O=!0),b===void 0&&(b=!0),this.updateWall(R,"left",E-A,D-A,A,w+A*2),this.updateWall(P,"right",E+M,D-A,A,w+A*2),this.updateWall(O,"top",E,D-A,M,A),this.updateWall(b,"bottom",E,D+w,M,A),this},updateWall:function(E,D,M,w,A,R){var P=this.walls[D];E?(P&&m.remove(this.localWorld,P),M+=A/2,w+=R/2,this.walls[D]=this.create(M,w,A,R,{isStatic:!0,friction:0,frictionStatic:0})):(P&&m.remove(this.localWorld,P),this.walls[D]=null)},createDebugGraphic:function(){var E=this.scene.sys.add.graphics({x:0,y:0});return E.setDepth(Number.MAX_VALUE),this.debugGraphic=E,this.drawDebug=!0,E},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(E,D,M){return E===void 0&&(E=0),D===void 0&&(D=1),M===void 0&&(M=.001),this.localWorld.gravity.x=E,this.localWorld.gravity.y=D,this.localWorld.gravity.scale=M,this},create:function(E,D,M,w,A){var R=a.rectangle(E,D,M,w,A);return m.add(this.localWorld,R),R},add:function(E){return m.add(this.localWorld,E),this},remove:function(E,D){Array.isArray(E)||(E=[E]);for(var M=0;M<E.length;M++){var w=E[M],A=w.body?w.body:w;o.remove(this.localWorld,A,D)}return this},removeConstraint:function(E,D){return o.remove(this.localWorld,E,D),this},convertTilemapLayer:function(E,D){var M=E.layer,w=E.getTilesWithin(0,0,M.width,M.height,{isColliding:!0});return this.convertTiles(w,D),this},convertTiles:function(E,D){if(E.length===0)return this;for(var M=0;M<E.length;M++)new p(this,E[M],D);return this},nextGroup:function(E){return c.nextGroup(E)},nextCategory:function(){return c.nextCategory()},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(h.RESUME),this},update:function(E,D){if(!(!this.enabled||!this.autoUpdate)){var M=this.engine,w=this.runner,A=M.timing;w.isFixed?D=this.getDelta(E,D):(D=E-w.timePrev||w.delta,w.timePrev=E,w.deltaHistory.push(D),w.deltaHistory=w.deltaHistory.slice(-w.deltaSampleSize),D=Math.min.apply(null,w.deltaHistory),D=D<w.deltaMin?w.deltaMin:D,D=D>w.deltaMax?w.deltaMax:D,w.delta=D),w.timeScalePrev=A.timeScale,w.frameCounter+=1,E-w.counterTimestamp>=1e3&&(w.fps=w.frameCounter*((E-w.counterTimestamp)/1e3),w.counterTimestamp=E,w.frameCounter=0),n.update(M,D)}},step:function(E){n.update(this.engine,E)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(E){var D=E.hasOwnProperty("body")?E.body:E;return o.get(this.localWorld,D.id,D.type)!==null},getAllBodies:function(){return o.allBodies(this.localWorld)},getAllConstraints:function(){return o.allConstraints(this.localWorld)},getAllComposites:function(){return o.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var E=this.debugConfig,D=this.engine,M=this.debugGraphic,w=o.allBodies(this.localWorld);this.debugGraphic.clear(),E.showBroadphase&&D.broadphase.controller&&this.renderGrid(D.broadphase,M,E.broadphaseColor,.5),E.showBounds&&this.renderBodyBounds(w,M,E.boundsColor,.5),(E.showBody||E.showStaticBody)&&this.renderBodies(w),E.showJoint&&this.renderJoints(),(E.showAxes||E.showAngleIndicator)&&this.renderBodyAxes(w,M,E.showAxes,E.angleColor,.5),E.showVelocity&&this.renderBodyVelocity(w,M,E.velocityColor,1,2),E.showSeparations&&this.renderSeparations(D.pairs.list,M,E.separationColor),E.showCollisions&&this.renderCollisions(D.pairs.list,M,E.collisionColor)}},renderGrid:function(E,D,M,w){D.lineStyle(1,M,w);for(var A=s.keys(E.buckets),R=0;R<A.length;R++){var P=A[R];if(!(E.buckets[P].length<2)){var O=P.split(/C|R/);D.strokeRect(parseInt(O[1],10)*E.bucketWidth,parseInt(O[2],10)*E.bucketHeight,E.bucketWidth,E.bucketHeight)}}return this},renderSeparations:function(E,D,M){D.lineStyle(1,M,1);for(var w=0;w<E.length;w++){var A=E[w];if(A.isActive){var R=A.collision,P=R.bodyA,O=R.bodyB,b=P.position,F=O.position,L=R.penetration,G=!P.isStatic&&!O.isStatic?4:1;O.isStatic&&(G=0),D.lineBetween(F.x,F.y,F.x-L.x*G,F.y-L.y*G),G=!P.isStatic&&!O.isStatic?4:1,P.isStatic&&(G=0),D.lineBetween(b.x,b.y,b.x-L.x*G,b.y-L.y*G)}}return this},renderCollisions:function(E,D,M){D.lineStyle(1,M,.5),D.fillStyle(M,1);var w,A;for(w=0;w<E.length;w++)if(A=E[w],!!A.isActive)for(var R=0;R<A.activeContacts.length;R++){var P=A.activeContacts[R],O=P.vertex;D.fillRect(O.x-2,O.y-2,5,5)}for(w=0;w<E.length;w++)if(A=E[w],!!A.isActive){var b=A.collision,F=A.activeContacts;if(F.length>0){var L=F[0].vertex.x,G=F[0].vertex.y;F.length===2&&(L=(F[0].vertex.x+F[1].vertex.x)/2,G=(F[0].vertex.y+F[1].vertex.y)/2),b.bodyB===b.supports[0].body||b.bodyA.isStatic?D.lineBetween(L-b.normal.x*8,G-b.normal.y*8,L,G):D.lineBetween(L+b.normal.x*8,G+b.normal.y*8,L,G)}}return this},renderBodyBounds:function(E,D,M,w){D.lineStyle(1,M,w);for(var A=0;A<E.length;A++){var R=E[A];if(R.render.visible){var P=R.bounds;if(P)D.strokeRect(P.min.x,P.min.y,P.max.x-P.min.x,P.max.y-P.min.y);else for(var O=R.parts,b=O.length>1?1:0;b<O.length;b++){var F=O[b];D.strokeRect(F.bounds.min.x,F.bounds.min.y,F.bounds.max.x-F.bounds.min.x,F.bounds.max.y-F.bounds.min.y)}}}return this},renderBodyAxes:function(E,D,M,w,A){D.lineStyle(1,w,A);for(var R=0;R<E.length;R++){var P=E[R],O=P.parts;if(P.render.visible){var b,F,L;if(M)for(F=O.length>1?1:0;F<O.length;F++)for(b=O[F],L=0;L<b.axes.length;L++){var G=b.axes[L];D.lineBetween(b.position.x,b.position.y,b.position.x+G.x*20,b.position.y+G.y*20)}else for(F=O.length>1?1:0;F<O.length;F++)for(b=O[F],L=0;L<b.axes.length;L++)D.lineBetween(b.position.x,b.position.y,(b.vertices[0].x+b.vertices[b.vertices.length-1].x)/2,(b.vertices[0].y+b.vertices[b.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(E,D,M,w,A){D.lineStyle(A,M,w);for(var R=0;R<E.length;R++){var P=E[R];P.render.visible&&D.lineBetween(P.position.x,P.position.y,P.position.x+(P.position.x-P.positionPrev.x)*2,P.position.y+(P.position.y-P.positionPrev.y)*2)}return this},renderBodies:function(E){for(var D=this.debugGraphic,M=this.debugConfig,w=M.showBody,A=M.showStaticBody,R=M.showSleeping,P=M.showInternalEdges,O=M.showConvexHulls,b=M.renderFill,F=M.renderLine,L=M.staticBodySleepOpacity,G=M.sleepFillColor,z=M.sleepLineColor,X=M.hullColor,B=0;B<E.length;B++){var U=E[B];if(U.render.visible&&!(!A&&U.isStatic||!w&&!U.isStatic)){var I=U.render.lineColor,N=U.render.lineOpacity,V=U.render.lineThickness,H=U.render.fillColor,W=U.render.fillOpacity;R&&U.isSleeping&&(U.isStatic?(N*=L,W*=L):(I=z,H=G)),b||(H=null),F||(I=null),this.renderBody(U,D,P,I,N,V,H,W);var Y=U.parts.length;O&&Y>1&&this.renderConvexHull(U,D,X,V)}}},renderBody:function(E,D,M,w,A,R,P,O){w===void 0&&(w=null),A===void 0&&(A=null),R===void 0&&(R=1),P===void 0&&(P=null),O===void 0&&(O=null);for(var b=this.debugConfig,F=b.sensorFillColor,L=b.sensorLineColor,G=E.parts,z=G.length,X=z>1?1:0;X<z;X++){var B=G[X],U=B.render,I=U.opacity;if(!(!U.visible||I===0||B.isSensor&&!b.showSensors)){var N=B.circleRadius;if(D.beginPath(),B.isSensor?(P!==null&&D.fillStyle(F,O*I),w!==null&&D.lineStyle(R,L,A*I)):(P!==null&&D.fillStyle(P,O*I),w!==null&&D.lineStyle(R,w,A*I)),N)D.arc(B.position.x,B.position.y,N,0,2*Math.PI);else{var V=B.vertices,H=V.length;D.moveTo(V[0].x,V[0].y);for(var W=1;W<H;W++){var Y=V[W];if(!V[W-1].isInternal||M?D.lineTo(Y.x,Y.y):D.moveTo(Y.x,Y.y),W<H&&Y.isInternal&&!M){var j=(W+1)%H;D.moveTo(V[j].x,V[j].y)}}D.closePath()}P!==null&&D.fillPath(),w!==null&&D.strokePath()}}if(b.showPositions&&!E.isStatic){var k=E.position.x,$=E.position.y,Z=Math.ceil(b.positionSize/2);D.fillStyle(b.positionColor,1),D.fillRect(k-Z,$-Z,b.positionSize,b.positionSize)}return this},renderConvexHull:function(E,D,M,w){w===void 0&&(w=1);var A=E.parts,R=A.length;if(R>1){var P=E.vertices;D.lineStyle(w,M),D.beginPath(),D.moveTo(P[0].x,P[0].y);for(var O=1;O<P.length;O++)D.lineTo(P[O].x,P[O].y);D.lineTo(P[0].x,P[0].y),D.strokePath()}return this},renderJoints:function(){for(var E=this.debugGraphic,D=o.allConstraints(this.localWorld),M=0;M<D.length;M++){var w=D[M].render,A=w.lineColor,R=w.lineOpacity,P=w.lineThickness,O=w.pinSize,b=w.anchorColor,F=w.anchorSize;this.renderConstraint(D[M],E,A,R,P,O,b,F)}},renderConstraint:function(E,D,M,w,A,R,P,O){var b=E.render;if(!b.visible||!E.pointA||!E.pointB)return this;D.lineStyle(A,M,w);var F=E.bodyA,L=E.bodyB,G,z;if(F?G=C.add(F.position,E.pointA):G=E.pointA,b.type==="pin")D.strokeCircle(G.x,G.y,R);else{if(L?z=C.add(L.position,E.pointB):z=E.pointB,D.beginPath(),D.moveTo(G.x,G.y),b.type==="spring")for(var X=C.sub(z,G),B=C.perp(C.normalise(X)),U=Math.ceil(s.clamp(E.length/5,12,20)),I,N=1;N<U;N+=1)I=N%2===0?1:-1,D.lineTo(G.x+X.x*(N/U)+B.x*I*4,G.y+X.y*(N/U)+B.y*I*4);D.lineTo(z.x,z.y)}return D.strokePath(),b.anchors&&O>0&&(D.fillStyle(P),D.fillCircle(G.x,G.y,O),D.fillCircle(z.x,z.y,O)),this},resetCollisionIDs:function(){return g._nextCollidingGroupId=1,g._nextNonCollidingGroupId=-1,g._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),n.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});e.exports=S},70410:e=>{var y={setBounce:function(t){return this.body.restitution=t,this}};e.exports=y},66968:e=>{var y={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var a=0;if(!Array.isArray(t))a=t;else for(var g=0;g<t.length;g++)a|=t[g];return this.body.collisionFilter.mask=a,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,a){Array.isArray(t)||(t=[t]);for(var g=0;g<t.length;g++){var l=t[g].hasOwnProperty("body")?t[g].body:t[g];this.body.setOnCollideWith(l,a)}return this}};e.exports=y},51607:(e,y,t)=>{var a=t(22562),g={applyForce:function(l){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,l),this},applyForceFrom:function(l,s){return a.applyForce(this.body,l,s),this},thrust:function(l){var s=this.body.angle;return this._tempVec2.set(l*Math.cos(s),l*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(l){var s=this.body.angle-Math.PI/2;return this._tempVec2.set(l*Math.cos(s),l*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(l){var s=this.body.angle+Math.PI/2;return this._tempVec2.set(l*Math.cos(s),l*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(l){var s=this.body.angle-Math.PI;return this._tempVec2.set(l*Math.cos(s),l*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};e.exports=g},5436:e=>{var y={setFriction:function(t,a,g){return this.body.friction=t,a!==void 0&&(this.body.frictionAir=a),g!==void 0&&(this.body.frictionStatic=g),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};e.exports=y},39858:e=>{var y={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};e.exports=y},37302:(e,y,t)=>{var a=t(22562),g=t(26099),l={setMass:function(s){return a.setMass(this.body,s),this},setDensity:function(s){return a.setDensity(this.body,s),this},centerOfMass:{get:function(){return new g(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};e.exports=l},39132:e=>{var y={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};e.exports=y},57772:(e,y,t)=>{var a=t(66280),g=t(22562),l=t(43855),s=t(95540),o=t(19496),n=t(85791),i=t(41598),h={setRectangle:function(r,f,c){return this.setBody({type:"rectangle",width:r,height:f},c)},setCircle:function(r,f){return this.setBody({type:"circle",radius:r},f)},setPolygon:function(r,f,c){return this.setBody({type:"polygon",sides:f,radius:r},c)},setTrapezoid:function(r,f,c,d){return this.setBody({type:"trapezoid",width:r,height:f,slope:c},d)},setExistingBody:function(r,f){f===void 0&&(f=!0),this.body&&this.world.remove(this.body,!0),this.body=r;for(var c=0;c<r.parts.length;c++)r.parts[c].gameObject=this;var d=this;if(r.destroy=function(){d.world.remove(d.body,!0),d.body.gameObject=null},f&&(this.world.has(r)&&this.world.remove(r,!0),this.world.add(r)),this._originComponent){var p=r.render.sprite.xOffset,m=r.render.sprite.yOffset,C=r.centerOfMass.x,S=r.centerOfMass.y;if(l(C,.5)&&l(S,.5))this.setOrigin(p+.5,m+.5);else{var E=r.centerOffset.x,D=r.centerOffset.y;this.setOrigin(p+E/this.displayWidth,m+D/this.displayHeight)}}return this},setBody:function(r,f){if(!r)return this;var c;typeof r=="string"&&(r={type:r});var d=s(r,"type","rectangle"),p=s(r,"x",this._tempVec2.x),m=s(r,"y",this._tempVec2.y),C=s(r,"width",this.width),S=s(r,"height",this.height);switch(d){case"rectangle":c=a.rectangle(p,m,C,S,f);break;case"circle":var E=s(r,"radius",Math.max(C,S)/2),D=s(r,"maxSides",25);c=a.circle(p,m,E,f,D);break;case"trapezoid":var M=s(r,"slope",.5);c=a.trapezoid(p,m,C,S,M,f);break;case"polygon":var w=s(r,"sides",5),A=s(r,"radius",Math.max(C,S)/2);c=a.polygon(p,m,w,A,f);break;case"fromVertices":case"fromVerts":var R=s(r,"verts",null);if(R)if(typeof R=="string"&&(R=i.fromPath(R)),this.body&&!this.body.hasOwnProperty("temp"))g.setVertices(this.body,R),c=this.body;else{var P=s(r,"flagInternal",!1),O=s(r,"removeCollinear",.01),b=s(r,"minimumArea",10);c=a.fromVertices(p,m,R,f,P,O,b)}break;case"fromPhysicsEditor":c=o.parseBody(p,m,r,f);break;case"fromPhysicsTracer":c=n.parseBody(p,m,r,f);break}return c&&this.setExistingBody(c,r.addToWorld),this}};e.exports=h},38083:(e,y,t)=>{var a=t(1121),g=t(53614),l=t(35810),s={setToSleep:function(){return g.set(this.body,!0),this},setAwake:function(){return g.set(this.body,!1),this},setSleepThreshold:function(o){return o===void 0&&(o=60),this.body.sleepThreshold=o,this},setSleepEvents:function(o,n){return this.setSleepStartEvent(o),this.setSleepEndEvent(n),this},setSleepStartEvent:function(o){if(o){var n=this.world;l.on(this.body,"sleepStart",function(i){n.emit(a.SLEEP_START,i,this)})}else l.off(this.body,"sleepStart");return this},setSleepEndEvent:function(o){if(o){var n=this.world;l.on(this.body,"sleepEnd",function(i){n.emit(a.SLEEP_END,i,this)})}else l.off(this.body,"sleepEnd");return this}};e.exports=s},90556:(e,y,t)=>{var a=t(22562),g={setStatic:function(l){return a.setStatic(this.body,l),this},isStatic:function(){return this.body.isStatic}};e.exports=g},85436:(e,y,t)=>{var a=t(22562),g=t(36383),l=t(86554),s=t(30954),o=4,n={x:{get:function(){return this.body.position.x},set:function(i){this._tempVec2.set(i,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(i){this._tempVec2.set(this.x,i),a.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(i){var h=1/this._scaleX,r=1/this._scaleY;this._scaleX=i,this._scaleX===0?this.renderFlags&=~o:this.renderFlags|=o,a.scale(this.body,h,r),a.scale(this.body,i,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(i){var h=1/this._scaleX,r=1/this._scaleY;this._scaleY=i,this._scaleY===0?this.renderFlags&=~o:this.renderFlags|=o,a.scale(this.body,h,r),a.scale(this.body,this._scaleX,i)}},angle:{get:function(){return s(this.body.angle*g.RAD_TO_DEG)},set:function(i){this.rotation=s(i)*g.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(i){this._rotation=l(i),a.setAngle(this.body,this._rotation)}},setPosition:function(i,h){return i===void 0&&(i=0),h===void 0&&(h=i),this._tempVec2.set(i,h),a.setPosition(this.body,this._tempVec2),this},setRotation:function(i){return i===void 0&&(i=0),this._rotation=l(i),a.setAngle(this.body,i),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,a.setAngle(this.body,this.rotation),this},setScale:function(i,h,r){i===void 0&&(i=1),h===void 0&&(h=i);var f=1/this._scaleX,c=1/this._scaleY;return this._scaleX=i,this._scaleY=h,a.scale(this.body,f,c,r),a.scale(this.body,i,h,r),this}};e.exports=n},42081:(e,y,t)=>{var a=t(22562),g={setVelocityX:function(l){return this._tempVec2.set(l,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(l){return this._tempVec2.set(this.body.velocity.x,l),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(l,s){return this._tempVec2.set(l,s),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(l){return a.setAngularVelocity(this.body,l),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(l){return a.setAngularSpeed(this.body,l),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};e.exports=g},31884:(e,y,t)=>{e.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:e=>{e.exports="afteradd"},1213:e=>{e.exports="afterremove"},25968:e=>{e.exports="afterupdate"},67205:e=>{e.exports="beforeadd"},39438:e=>{e.exports="beforeremove"},44823:e=>{e.exports="beforeupdate"},92593:e=>{e.exports="collisionactive"},60128:e=>{e.exports="collisionend"},76861:e=>{e.exports="collisionstart"},92362:e=>{e.exports="dragend"},76408:e=>{e.exports="drag"},93971:e=>{e.exports="dragstart"},5656:e=>{e.exports="pause"},47861:e=>{e.exports="resume"},79099:e=>{e.exports="sleepend"},35906:e=>{e.exports="sleepstart"},1121:(e,y,t)=>{e.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(e,y,t)=>{e.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(e,y,t)=>{var a={};e.exports=a;var g=t(41598),l=t(31725),s=t(53614),o=t(53402),n=t(15647),i=t(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(r){var f={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!r.hasOwnProperty("position")&&r.hasOwnProperty("vertices")?r.position=g.centre(r.vertices):r.hasOwnProperty("vertices")||(f.vertices=g.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var c=o.extend(f,r);return h(c,r),c.setOnCollideWith=function(d,p){return p?this.onCollideWith[d.id]=p:delete this.onCollideWith[d.id],this},c},a.nextGroup=function(r){return r?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var h=function(r,f){if(f=f||{},a.set(r,{bounds:r.bounds||n.create(r.vertices),positionPrev:r.positionPrev||l.clone(r.position),anglePrev:r.anglePrev||r.angle,vertices:r.vertices,parts:r.parts||[r],isStatic:r.isStatic,isSleeping:r.isSleeping,parent:r.parent||r}),g.rotate(r.vertices,r.angle,r.position),i.rotate(r.axes,r.angle),n.update(r.bounds,r.vertices,r.velocity),a.set(r,{axes:f.axes||r.axes,area:f.area||r.area,mass:f.mass||r.mass,inertia:f.inertia||r.inertia}),r.parts.length===1){var c=r.bounds,d=r.centerOfMass,p=r.centerOffset,m=c.max.x-c.min.x,C=c.max.y-c.min.y;d.x=-(c.min.x-r.position.x)/m,d.y=-(c.min.y-r.position.y)/C,p.x=m*d.x,p.y=C*d.y}};a.set=function(r,f,c){var d;typeof f=="string"&&(d=f,f={},f[d]=c);for(d in f)if(Object.prototype.hasOwnProperty.call(f,d))switch(c=f[d],d){case"isStatic":a.setStatic(r,c);break;case"isSleeping":s.set(r,c);break;case"mass":a.setMass(r,c);break;case"density":a.setDensity(r,c);break;case"inertia":a.setInertia(r,c);break;case"vertices":a.setVertices(r,c);break;case"position":a.setPosition(r,c);break;case"angle":a.setAngle(r,c);break;case"velocity":a.setVelocity(r,c);break;case"angularVelocity":a.setAngularVelocity(r,c);break;case"speed":a.setSpeed(r,c);break;case"angularSpeed":a.setAngularSpeed(r,c);break;case"parts":a.setParts(r,c);break;case"centre":a.setCentre(r,c);break;default:r[d]=c}},a.setStatic=function(r,f){for(var c=0;c<r.parts.length;c++){var d=r.parts[c];f?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=f}},a.setMass=function(r,f){var c=r.inertia/(r.mass/6);r.inertia=c*(f/6),r.inverseInertia=1/r.inertia,r.mass=f,r.inverseMass=1/r.mass,r.density=r.mass/r.area},a.setDensity=function(r,f){a.setMass(r,f*r.area),r.density=f},a.setInertia=function(r,f){r.inertia=f,r.inverseInertia=1/r.inertia},a.setVertices=function(r,f){f[0].body===r?r.vertices=f:r.vertices=g.create(f,r),r.axes=i.fromVertices(r.vertices),r.area=g.area(r.vertices),a.setMass(r,r.density*r.area);var c=g.centre(r.vertices);g.translate(r.vertices,c,-1),a.setInertia(r,a._inertiaScale*g.inertia(r.vertices,r.mass)),g.translate(r.vertices,r.position),n.update(r.bounds,r.vertices,r.velocity)},a.setParts=function(r,f,c){var d;for(f=f.slice(0),r.parts.length=0,r.parts.push(r),r.parent=r,d=0;d<f.length;d++){var p=f[d];p!==r&&(p.parent=r,r.parts.push(p))}if(r.parts.length!==1){if(c=typeof c<"u"?c:!0,c){var m=[];for(d=0;d<f.length;d++)m=m.concat(f[d].vertices);g.clockwiseSort(m);var C=g.hull(m),S=g.centre(C);a.setVertices(r,C),g.translate(r.vertices,S)}var E=a._totalProperties(r),D=E.centre.x,M=E.centre.y,w=r.bounds,A=r.centerOfMass,R=r.centerOffset;n.update(w,r.vertices,r.velocity),A.x=-(w.min.x-D)/(w.max.x-w.min.x),A.y=-(w.min.y-M)/(w.max.y-w.min.y),R.x=D,R.y=M,r.area=E.area,r.parent=r,r.position.x=D,r.position.y=M,r.positionPrev.x=D,r.positionPrev.y=M,a.setMass(r,E.mass),a.setInertia(r,E.inertia),a.setPosition(r,E.centre)}},a.setCentre=function(r,f,c){c?(r.positionPrev.x+=f.x,r.positionPrev.y+=f.y,r.position.x+=f.x,r.position.y+=f.y):(r.positionPrev.x=f.x-(r.position.x-r.positionPrev.x),r.positionPrev.y=f.y-(r.position.y-r.positionPrev.y),r.position.x=f.x,r.position.y=f.y)},a.setPosition=function(r,f,c){var d=l.sub(f,r.position);c?(r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.velocity.x=d.x,r.velocity.y=d.y,r.speed=l.magnitude(d)):(r.positionPrev.x+=d.x,r.positionPrev.y+=d.y);for(var p=0;p<r.parts.length;p++){var m=r.parts[p];m.position.x+=d.x,m.position.y+=d.y,g.translate(m.vertices,d),n.update(m.bounds,m.vertices,r.velocity)}},a.setAngle=function(r,f,c){var d=f-r.angle;c?(r.anglePrev=r.angle,r.angularVelocity=d,r.angularSpeed=Math.abs(d)):r.anglePrev+=d;for(var p=0;p<r.parts.length;p++){var m=r.parts[p];m.angle+=d,g.rotate(m.vertices,d,r.position),i.rotate(m.axes,d),n.update(m.bounds,m.vertices,r.velocity),p>0&&l.rotateAbout(m.position,d,r.position,m.position)}},a.setVelocity=function(r,f){var c=r.deltaTime/a._baseDelta;r.positionPrev.x=r.position.x-f.x*c,r.positionPrev.y=r.position.y-f.y*c,r.velocity.x=(r.position.x-r.positionPrev.x)/c,r.velocity.y=(r.position.y-r.positionPrev.y)/c,r.speed=l.magnitude(r.velocity)},a.getVelocity=function(r){var f=a._baseDelta/r.deltaTime;return{x:(r.position.x-r.positionPrev.x)*f,y:(r.position.y-r.positionPrev.y)*f}},a.getSpeed=function(r){return l.magnitude(a.getVelocity(r))},a.setSpeed=function(r,f){a.setVelocity(r,l.mult(l.normalise(a.getVelocity(r)),f))},a.setAngularVelocity=function(r,f){var c=r.deltaTime/a._baseDelta;r.anglePrev=r.angle-f*c,r.angularVelocity=(r.angle-r.anglePrev)/c,r.angularSpeed=Math.abs(r.angularVelocity)},a.getAngularVelocity=function(r){return(r.angle-r.anglePrev)*a._baseDelta/r.deltaTime},a.getAngularSpeed=function(r){return Math.abs(a.getAngularVelocity(r))},a.setAngularSpeed=function(r,f){a.setAngularVelocity(r,o.sign(a.getAngularVelocity(r))*f)},a.translate=function(r,f,c){a.setPosition(r,l.add(r.position,f),c)},a.rotate=function(r,f,c,d){if(!c)a.setAngle(r,r.angle+f,d);else{var p=Math.cos(f),m=Math.sin(f),C=r.position.x-c.x,S=r.position.y-c.y;a.setPosition(r,{x:c.x+(C*p-S*m),y:c.y+(C*m+S*p)},d),a.setAngle(r,r.angle+f,d)}},a.scale=function(r,f,c,d){var p=0,m=0;d=d||r.position;for(var C=r.inertia===1/0,S=0;S<r.parts.length;S++){var E=r.parts[S];E.scale.x=f,E.scale.y=c,g.scale(E.vertices,f,c,d),E.axes=i.fromVertices(E.vertices),E.area=g.area(E.vertices),a.setMass(E,r.density*E.area),g.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),a.setInertia(E,a._inertiaScale*g.inertia(E.vertices,E.mass)),g.translate(E.vertices,{x:E.position.x,y:E.position.y}),S>0&&(p+=E.area,m+=E.inertia),E.position.x=d.x+(E.position.x-d.x)*f,E.position.y=d.y+(E.position.y-d.y)*c,n.update(E.bounds,E.vertices,r.velocity)}r.parts.length>1&&(r.area=p,r.isStatic||(a.setMass(r,r.density*p),a.setInertia(r,m))),r.circleRadius&&(f===c?r.circleRadius*=f:r.circleRadius=null),C&&a.setInertia(r,1/0)},a.update=function(r,f){f=(typeof f<"u"?f:16.666666666666668)*r.timeScale;var c=f*f,d=a._timeCorrection?f/(r.deltaTime||f):1,p=1-r.frictionAir*(f/o._baseDelta),m=(r.position.x-r.positionPrev.x)*d,C=(r.position.y-r.positionPrev.y)*d;r.velocity.x=m*p+r.force.x/r.mass*c,r.velocity.y=C*p+r.force.y/r.mass*c,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.position.x+=r.velocity.x,r.position.y+=r.velocity.y,r.deltaTime=f,r.angularVelocity=(r.angle-r.anglePrev)*p*d+r.torque/r.inertia*c,r.anglePrev=r.angle,r.angle+=r.angularVelocity,r.speed=l.magnitude(r.velocity),r.angularSpeed=Math.abs(r.angularVelocity);for(var S=0;S<r.parts.length;S++){var E=r.parts[S];g.translate(E.vertices,r.velocity),S>0&&(E.position.x+=r.velocity.x,E.position.y+=r.velocity.y),r.angularVelocity!==0&&(g.rotate(E.vertices,r.angularVelocity,r.position),i.rotate(E.axes,r.angularVelocity),S>0&&l.rotateAbout(E.position,r.angularVelocity,r.position,E.position)),n.update(E.bounds,E.vertices,r.velocity)}},a.updateVelocities=function(r){var f=a._baseDelta/r.deltaTime,c=r.velocity;c.x=(r.position.x-r.positionPrev.x)*f,c.y=(r.position.y-r.positionPrev.y)*f,r.speed=Math.sqrt(c.x*c.x+c.y*c.y),r.angularVelocity=(r.angle-r.anglePrev)*f,r.angularSpeed=Math.abs(r.angularVelocity)},a.applyForce=function(r,f,c){var d={x:f.x-r.position.x,y:f.y-r.position.y};r.force.x+=c.x,r.force.y+=c.y,r.torque+=d.x*c.y-d.y*c.x},a._totalProperties=function(r){for(var f={mass:0,area:0,inertia:0,centre:{x:0,y:0}},c=r.parts.length===1?0:1;c<r.parts.length;c++){var d=r.parts[c],p=d.mass!==1/0?d.mass:1;f.mass+=p,f.area+=d.area,f.inertia+=d.inertia,f.centre=l.add(f.centre,l.mult(d.position,p))}return f.centre=l.div(f.centre,f.mass),f}})()},69351:(e,y,t)=>{var a={};e.exports=a;var g=t(35810),l=t(53402),s=t(15647),o=t(22562);(function(){a.create=function(n){return l.extend({id:l.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},a.setModified=function(n,i,h,r){if(g.trigger(n,"compositeModified",n),n.isModified=i,i&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),h&&n.parent&&a.setModified(n.parent,i,h,r),r)for(var f=0;f<n.composites.length;f++){var c=n.composites[f];a.setModified(c,i,h,r)}},a.add=function(n,i){var h=[].concat(i);g.trigger(n,"beforeAdd",{object:i});for(var r=0;r<h.length;r++){var f=h[r];switch(f.type){case"body":if(f.parent!==f){l.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(n,f);break;case"constraint":a.addConstraint(n,f);break;case"composite":a.addComposite(n,f);break;case"mouseConstraint":a.addConstraint(n,f.constraint);break}}return g.trigger(n,"afterAdd",{object:i}),n},a.remove=function(n,i,h){var r=[].concat(i);g.trigger(n,"beforeRemove",{object:i});for(var f=0;f<r.length;f++){var c=r[f];switch(c.type){case"body":a.removeBody(n,c,h);break;case"constraint":a.removeConstraint(n,c,h);break;case"composite":a.removeComposite(n,c,h);break;case"mouseConstraint":a.removeConstraint(n,c.constraint);break}}return g.trigger(n,"afterRemove",{object:i}),n},a.addComposite=function(n,i){return n.composites.push(i),i.parent=n,a.setModified(n,!0,!0,!1),n},a.removeComposite=function(n,i,h){var r=l.indexOf(n.composites,i);if(r!==-1&&a.removeCompositeAt(n,r),h)for(var f=0;f<n.composites.length;f++)a.removeComposite(n.composites[f],i,!0);return n},a.removeCompositeAt=function(n,i){return n.composites.splice(i,1),a.setModified(n,!0,!0,!1),n},a.addBody=function(n,i){return n.bodies.push(i),a.setModified(n,!0,!0,!1),n},a.removeBody=function(n,i,h){var r=l.indexOf(n.bodies,i);if(r!==-1&&a.removeBodyAt(n,r),h)for(var f=0;f<n.composites.length;f++)a.removeBody(n.composites[f],i,!0);return n},a.removeBodyAt=function(n,i){return n.bodies.splice(i,1),a.setModified(n,!0,!0,!1),n},a.addConstraint=function(n,i){return n.constraints.push(i),a.setModified(n,!0,!0,!1),n},a.removeConstraint=function(n,i,h){var r=l.indexOf(n.constraints,i);if(r!==-1&&a.removeConstraintAt(n,r),h)for(var f=0;f<n.composites.length;f++)a.removeConstraint(n.composites[f],i,!0);return n},a.removeConstraintAt=function(n,i){return n.constraints.splice(i,1),a.setModified(n,!0,!0,!1),n},a.clear=function(n,i,h){if(h)for(var r=0;r<n.composites.length;r++)a.clear(n.composites[r],i,!0);return i?n.bodies=n.bodies.filter(function(f){return f.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,a.setModified(n,!0,!0,!1),n},a.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var i=[].concat(n.bodies),h=0;h<n.composites.length;h++)i=i.concat(a.allBodies(n.composites[h]));return n.cache&&(n.cache.allBodies=i),i},a.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var i=[].concat(n.constraints),h=0;h<n.composites.length;h++)i=i.concat(a.allConstraints(n.composites[h]));return n.cache&&(n.cache.allConstraints=i),i},a.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var i=[].concat(n.composites),h=0;h<n.composites.length;h++)i=i.concat(a.allComposites(n.composites[h]));return n.cache&&(n.cache.allComposites=i),i},a.get=function(n,i,h){var r,f;switch(h){case"body":r=a.allBodies(n);break;case"constraint":r=a.allConstraints(n);break;case"composite":r=a.allComposites(n).concat(n);break}return r?(f=r.filter(function(c){return c.id.toString()===i.toString()}),f.length===0?null:f[0]):null},a.move=function(n,i,h){return a.remove(n,i),a.add(h,i),n},a.rebase=function(n){for(var i=a.allBodies(n).concat(a.allConstraints(n)).concat(a.allComposites(n)),h=0;h<i.length;h++)i[h].id=l.nextId();return n},a.translate=function(n,i,h){for(var r=h?a.allBodies(n):n.bodies,f=0;f<r.length;f++)o.translate(r[f],i);return n},a.rotate=function(n,i,h,r){for(var f=Math.cos(i),c=Math.sin(i),d=r?a.allBodies(n):n.bodies,p=0;p<d.length;p++){var m=d[p],C=m.position.x-h.x,S=m.position.y-h.y;o.setPosition(m,{x:h.x+(C*f-S*c),y:h.y+(C*c+S*f)}),o.rotate(m,i)}return n},a.scale=function(n,i,h,r,f){for(var c=f?a.allBodies(n):n.bodies,d=0;d<c.length;d++){var p=c[d],m=p.position.x-r.x,C=p.position.y-r.y;o.setPosition(p,{x:r.x+m*i,y:r.y+C*h}),o.scale(p,i,h)}return n},a.bounds=function(n){for(var i=a.allBodies(n),h=[],r=0;r<i.length;r+=1){var f=i[r];h.push(f.bounds.min,f.bounds.max)}return s.create(h)}})()},4372:(e,y,t)=>{var a={};e.exports=a;var g=t(69351);(function(){a.create=g.create,a.add=g.add,a.remove=g.remove,a.clear=g.clear,a.addComposite=g.addComposite,a.addBody=g.addBody,a.addConstraint=g.addConstraint})()},52284:(e,y,t)=>{var a={};e.exports=a;var g=t(41598),l=t(4506);(function(){var s=[],o={overlap:0,axis:null},n={overlap:0,axis:null};a.create=function(i,h){return{pair:null,collided:!1,bodyA:i,bodyB:h,parentA:i.parent,parentB:h.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},a.collides=function(i,h,r){if(a._overlapAxes(o,i.vertices,h.vertices,i.axes),o.overlap<=0||(a._overlapAxes(n,h.vertices,i.vertices,h.axes),n.overlap<=0))return null;var f=r&&r.table[l.id(i,h)],c;f?c=f.collision:(c=a.create(i,h),c.collided=!0,c.bodyA=i.id<h.id?i:h,c.bodyB=i.id<h.id?h:i,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent),i=c.bodyA,h=c.bodyB;var d;o.overlap<n.overlap?d=o:d=n;var p=c.normal,m=c.supports,C=d.axis,S=C.x,E=C.y;S*(h.position.x-i.position.x)+E*(h.position.y-i.position.y)<0?(p.x=S,p.y=E):(p.x=-S,p.y=-E),c.tangent.x=-p.y,c.tangent.y=p.x,c.depth=d.overlap,c.penetration.x=p.x*c.depth,c.penetration.y=p.y*c.depth;var D=a._findSupports(i,h,p,1),M=0;if(g.contains(i.vertices,D[0])&&(m[M++]=D[0]),g.contains(i.vertices,D[1])&&(m[M++]=D[1]),M<2){var w=a._findSupports(h,i,p,-1);g.contains(h.vertices,w[0])&&(m[M++]=w[0]),M<2&&g.contains(h.vertices,w[1])&&(m[M++]=w[1])}return M===0&&(m[M++]=D[0]),m.length=M,c},a._overlapAxes=function(i,h,r,f){var c=h.length,d=r.length,p=h[0].x,m=h[0].y,C=r[0].x,S=r[0].y,E=f.length,D=Number.MAX_VALUE,M=0,w,A,R,P,O,b;for(O=0;O<E;O++){var F=f[O],L=F.x,G=F.y,z=p*L+m*G,X=C*L+S*G,B=z,U=X;for(b=1;b<c;b+=1)P=h[b].x*L+h[b].y*G,P>B?B=P:P<z&&(z=P);for(b=1;b<d;b+=1)P=r[b].x*L+r[b].y*G,P>U?U=P:P<X&&(X=P);if(A=B-X,R=U-z,w=A<R?A:R,w<D&&(D=w,M=O,w<=0))break}i.axis=f[M],i.overlap=D},a._projectToAxis=function(i,h,r){for(var f=h[0].x*r.x+h[0].y*r.y,c=f,d=1;d<h.length;d+=1){var p=h[d].x*r.x+h[d].y*r.y;p>c?c=p:p<f&&(f=p)}i.min=f,i.max=c},a._findSupports=function(i,h,r,f){var c=h.vertices,d=c.length,p=i.position.x,m=i.position.y,C=r.x*f,S=r.y*f,E=Number.MAX_VALUE,D,M,w,A,R;for(R=0;R<d;R+=1)M=c[R],A=C*(p-M.x)+S*(m-M.y),A<E&&(E=A,D=M);return w=c[(d+D.index-1)%d],E=C*(p-w.x)+S*(m-w.y),M=c[(D.index+1)%d],C*(p-M.x)+S*(m-M.y)<E?(s[0]=D,s[1]=M,s):(s[0]=D,s[1]=w,s)}})()},43424:e=>{var y={};e.exports=y,function(){y.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(e,y,t)=>{var a={};e.exports=a;var g=t(53402),l=t(52284);(function(){a.create=function(s){var o={bodies:[],pairs:null};return g.extend(o,s)},a.setBodies=function(s,o){s.bodies=o.slice(0)},a.clear=function(s){s.bodies=[]},a.collisions=function(s){var o=[],n=s.pairs,i=s.bodies,h=i.length,r=a.canCollide,f=l.collides,c,d;for(i.sort(a._compareBoundsX),c=0;c<h;c++){var p=i[c],m=p.bounds,C=p.bounds.max.x,S=p.bounds.max.y,E=p.bounds.min.y,D=p.isStatic||p.isSleeping,M=p.parts.length,w=M===1;for(d=c+1;d<h;d++){var A=i[d],R=A.bounds;if(R.min.x>C)break;if(!(S<R.min.y||E>R.max.y)&&!(D&&(A.isStatic||A.isSleeping))&&r(p.collisionFilter,A.collisionFilter)){var P=A.parts.length;if(w&&P===1){var O=f(p,A,n);O&&o.push(O)}else for(var b=M>1?1:0,F=P>1?1:0,L=b;L<M;L++)for(var G=p.parts[L],m=G.bounds,z=F;z<P;z++){var X=A.parts[z],R=X.bounds;if(!(m.min.x>R.max.x||m.max.x<R.min.x||m.max.y<R.min.y||m.min.y>R.max.y)){var O=f(G,X,n);O&&o.push(O)}}}}}return o},a.canCollide=function(s,o){return s.group===o.group&&s.group!==0?s.group>0:(s.mask&o.category)!==0&&(o.mask&s.category)!==0},a._compareBoundsX=function(s,o){return s.bounds.min.x-o.bounds.min.x}})()},4506:(e,y,t)=>{var a={};e.exports=a;var g=t(43424);(function(){a.create=function(l,s){var o=l.bodyA,n=l.bodyB,i={id:a.id(o,n),bodyA:o,bodyB:n,collision:l,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:o.isSensor||n.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(i,l,s),i},a.update=function(l,s,o){var n=l.contacts,i=s.supports,h=l.activeContacts,r=s.parentA,f=s.parentB,c=r.vertices.length;l.isActive=!0,l.timeUpdated=o,l.collision=s,l.separation=s.depth,l.inverseMass=r.inverseMass+f.inverseMass,l.friction=r.friction<f.friction?r.friction:f.friction,l.frictionStatic=r.frictionStatic>f.frictionStatic?r.frictionStatic:f.frictionStatic,l.restitution=r.restitution>f.restitution?r.restitution:f.restitution,l.slop=r.slop>f.slop?r.slop:f.slop,s.pair=l,h.length=0;for(var d=0;d<i.length;d++){var p=i[d],m=p.body===r?p.index:c+p.index,C=n[m];C?h.push(C):h.push(n[m]=g.create(p))}},a.setActive=function(l,s,o){s?(l.isActive=!0,l.timeUpdated=o):(l.isActive=!1,l.activeContacts.length=0)},a.id=function(l,s){return l.id<s.id?"A"+l.id+"B"+s.id:"A"+s.id+"B"+l.id}})()},99561:(e,y,t)=>{var a={};e.exports=a;var g=t(4506),l=t(53402);(function(){a.create=function(s){return l.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},a.update=function(s,o,n){var i=s.list,h=i.length,r=s.table,f=o.length,c=s.collisionStart,d=s.collisionEnd,p=s.collisionActive,m,C,S,E;for(c.length=0,d.length=0,p.length=0,E=0;E<h;E++)i[E].confirmedActive=!1;for(E=0;E<f;E++)m=o[E],S=m.pair,S?(S.isActive?p.push(S):c.push(S),g.update(S,m,n),S.confirmedActive=!0):(S=g.create(m,n),r[S.id]=S,c.push(S),i.push(S));var D=[];for(h=i.length,E=0;E<h;E++)S=i[E],S.confirmedActive||(g.setActive(S,!1,n),d.push(S),!S.collision.bodyA.isSleeping&&!S.collision.bodyB.isSleeping&&D.push(E));for(E=0;E<D.length;E++)C=D[E]-E,S=i[C],i.splice(C,1),delete r[S.id]},a.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},73296:(e,y,t)=>{var a={};e.exports=a;var g=t(31725),l=t(52284),s=t(15647),o=t(66280),n=t(41598);(function(){a.collides=function(i,h){for(var r=[],f=h.length,c=i.bounds,d=l.collides,p=s.overlaps,m=0;m<f;m++){var C=h[m],S=C.parts.length,E=S===1?0:1;if(i!==C&&p(C.bounds,c))for(var D=E;D<S;D++){var M=C.parts[D];if(p(M.bounds,c)){var w=d(M,i);if(w){r.push(w);break}}}}return r},a.ray=function(i,h,r,f){f=f||1e-100;for(var c=g.angle(h,r),d=g.magnitude(g.sub(h,r)),p=(r.x+h.x)*.5,m=(r.y+h.y)*.5,C=o.rectangle(p,m,d,f,{angle:c}),S=a.collides(C,i),E=0;E<S.length;E+=1){var D=S[E];D.body=D.bodyB=D.bodyA}return S},a.region=function(i,h,r){for(var f=[],c=0;c<i.length;c++){var d=i[c],p=s.overlaps(d.bounds,h);(p&&!r||!p&&r)&&f.push(d)}return f},a.point=function(i,h){for(var r=[],f=0;f<i.length;f++){var c=i[f];if(s.contains(c.bounds,h))for(var d=c.parts.length===1?0:1;d<c.parts.length;d++){var p=c.parts[d];if(s.contains(p.bounds,h)&&n.contains(p.vertices,h)){r.push(c);break}}}return r}})()},66272:(e,y,t)=>{var a={};e.exports=a;var g=t(41598),l=t(53402),s=t(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(o){var n,i,h,r=o.length;for(n=0;n<r;n++)i=o[n],i.isActive&&(h=i.activeContacts.length,i.collision.parentA.totalContacts+=h,i.collision.parentB.totalContacts+=h)},a.solvePosition=function(o,n,i){var h,r,f,c,d,p,m,C,S=a._positionDampen*(i||1),E=l.clamp(n/l._baseDelta,0,1),D=o.length;for(h=0;h<D;h++)r=o[h],!(!r.isActive||r.isSensor)&&(f=r.collision,c=f.parentA,d=f.parentB,p=f.normal,r.separation=p.x*(d.positionImpulse.x+f.penetration.x-c.positionImpulse.x)+p.y*(d.positionImpulse.y+f.penetration.y-c.positionImpulse.y));for(h=0;h<D;h++)r=o[h],!(!r.isActive||r.isSensor)&&(f=r.collision,c=f.parentA,d=f.parentB,p=f.normal,C=r.separation-r.slop*E,(c.isStatic||d.isStatic)&&(C*=2),c.isStatic||c.isSleeping||(m=S/c.totalContacts,c.positionImpulse.x+=p.x*C*m,c.positionImpulse.y+=p.y*C*m),d.isStatic||d.isSleeping||(m=S/d.totalContacts,d.positionImpulse.x-=p.x*C*m,d.positionImpulse.y-=p.y*C*m))},a.postSolvePosition=function(o){for(var n=a._positionWarming,i=o.length,h=g.translate,r=s.update,f=0;f<i;f++){var c=o[f],d=c.positionImpulse,p=d.x,m=d.y,C=c.velocity;if(c.totalContacts=0,p!==0||m!==0){for(var S=0;S<c.parts.length;S++){var E=c.parts[S];h(E.vertices,d),r(E.bounds,E.vertices,C),E.position.x+=p,E.position.y+=m}c.positionPrev.x+=p,c.positionPrev.y+=m,p*C.x+m*C.y<0?(d.x=0,d.y=0):(d.x*=n,d.y*=n)}}},a.preSolveVelocity=function(o){var n=o.length,i,h;for(i=0;i<n;i++){var r=o[i];if(!(!r.isActive||r.isSensor)){var f=r.activeContacts,c=f.length,d=r.collision,p=d.parentA,m=d.parentB,C=d.normal,S=d.tangent;for(h=0;h<c;h++){var E=f[h],D=E.vertex,M=E.normalImpulse,w=E.tangentImpulse;if(M!==0||w!==0){var A=C.x*M+S.x*w,R=C.y*M+S.y*w;p.isStatic||p.isSleeping||(p.positionPrev.x+=A*p.inverseMass,p.positionPrev.y+=R*p.inverseMass,p.anglePrev+=p.inverseInertia*((D.x-p.position.x)*R-(D.y-p.position.y)*A)),m.isStatic||m.isSleeping||(m.positionPrev.x-=A*m.inverseMass,m.positionPrev.y-=R*m.inverseMass,m.anglePrev-=m.inverseInertia*((D.x-m.position.x)*R-(D.y-m.position.y)*A))}}}}},a.solveVelocity=function(o,n){var i=n/l._baseDelta,h=i*i,r=h*i,f=-a._restingThresh*i,c=a._restingThreshTangent,d=a._frictionNormalMultiplier*i,p=a._frictionMaxStatic,m=o.length,C,S,E,D;for(E=0;E<m;E++){var M=o[E];if(!(!M.isActive||M.isSensor)){var w=M.collision,A=w.parentA,R=w.parentB,P=A.velocity,O=R.velocity,b=w.normal.x,F=w.normal.y,L=w.tangent.x,G=w.tangent.y,z=M.activeContacts,X=z.length,B=1/X,U=A.inverseMass+R.inverseMass,I=M.friction*M.frictionStatic*d;for(P.x=A.position.x-A.positionPrev.x,P.y=A.position.y-A.positionPrev.y,O.x=R.position.x-R.positionPrev.x,O.y=R.position.y-R.positionPrev.y,A.angularVelocity=A.angle-A.anglePrev,R.angularVelocity=R.angle-R.anglePrev,D=0;D<X;D++){var N=z[D],V=N.vertex,H=V.x-A.position.x,W=V.y-A.position.y,Y=V.x-R.position.x,j=V.y-R.position.y,k=P.x-W*A.angularVelocity,$=P.y+H*A.angularVelocity,Z=O.x-j*R.angularVelocity,K=O.y+Y*R.angularVelocity,J=k-Z,Q=$-K,_=b*J+F*Q,rt=L*J+G*Q,ut=M.separation+_,ot=Math.min(ut,1);ot=ut<0?0:ot;var q=ot*I;rt<-q||rt>q?(S=rt>0?rt:-rt,C=M.friction*(rt>0?1:-1)*r,C<-S?C=-S:C>S&&(C=S)):(C=rt,S=p);var it=H*F-W*b,nt=Y*F-j*b,xt=B/(U+A.inverseInertia*it*it+R.inverseInertia*nt*nt),Tt=(1+M.restitution)*_*xt;if(C*=xt,_<f)N.normalImpulse=0;else{var Wt=N.normalImpulse;N.normalImpulse+=Tt,N.normalImpulse>0&&(N.normalImpulse=0),Tt=N.normalImpulse-Wt}if(rt<-c||rt>c)N.tangentImpulse=0;else{var Ut=N.tangentImpulse;N.tangentImpulse+=C,N.tangentImpulse<-S&&(N.tangentImpulse=-S),N.tangentImpulse>S&&(N.tangentImpulse=S),C=N.tangentImpulse-Ut}var Rt=b*Tt+L*C,Dt=F*Tt+G*C;A.isStatic||A.isSleeping||(A.positionPrev.x+=Rt*A.inverseMass,A.positionPrev.y+=Dt*A.inverseMass,A.anglePrev+=(H*Dt-W*Rt)*A.inverseInertia),R.isStatic||R.isSleeping||(R.positionPrev.x-=Rt*R.inverseMass,R.positionPrev.y-=Dt*R.inverseMass,R.anglePrev-=(Y*Dt-j*Rt)*R.inverseInertia)}}}}})()},48140:(e,y,t)=>{var a={};e.exports=a;var g=t(41598),l=t(31725),s=t(53614),o=t(15647),n=t(66615),i=t(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(h){var r=h;r.bodyA&&!r.pointA&&(r.pointA={x:0,y:0}),r.bodyB&&!r.pointB&&(r.pointB={x:0,y:0});var f=r.bodyA?l.add(r.bodyA.position,r.pointA):r.pointA,c=r.bodyB?l.add(r.bodyB.position,r.pointB):r.pointB,d=l.magnitude(l.sub(f,c));r.length=typeof r.length<"u"?r.length:d,r.id=r.id||i.nextId(),r.label=r.label||"Constraint",r.type="constraint",r.stiffness=r.stiffness||(r.length>0?1:.7),r.damping=r.damping||0,r.angularStiffness=r.angularStiffness||0,r.angleA=r.bodyA?r.bodyA.angle:r.angleA,r.angleB=r.bodyB?r.bodyB.angle:r.angleB,r.plugin={};var p={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return r.length===0&&r.stiffness>.1?(p.type="pin",p.anchors=!1):r.stiffness<.9&&(p.type="spring"),r.render=i.extend(p,r.render),r},a.preSolveAll=function(h){for(var r=0;r<h.length;r+=1){var f=h[r],c=f.constraintImpulse;f.isStatic||c.x===0&&c.y===0&&c.angle===0||(f.position.x+=c.x,f.position.y+=c.y,f.angle+=c.angle)}},a.solveAll=function(h,r){for(var f=i.clamp(r/i._baseDelta,0,1),c=0;c<h.length;c+=1){var d=h[c],p=!d.bodyA||d.bodyA&&d.bodyA.isStatic,m=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(p||m)&&a.solve(h[c],f)}for(c=0;c<h.length;c+=1)d=h[c],p=!d.bodyA||d.bodyA&&d.bodyA.isStatic,m=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!p&&!m&&a.solve(h[c],f)},a.solve=function(h,r){var f=h.bodyA,c=h.bodyB,d=h.pointA,p=h.pointB;if(!(!f&&!c)){f&&!f.isStatic&&(l.rotate(d,f.angle-h.angleA,d),h.angleA=f.angle),c&&!c.isStatic&&(l.rotate(p,c.angle-h.angleB,p),h.angleB=c.angle);var m=d,C=p;if(f&&(m=l.add(f.position,d)),c&&(C=l.add(c.position,p)),!(!m||!C)){var S=l.sub(m,C),E=l.magnitude(S);E<a._minLength&&(E=a._minLength);var D=(E-h.length)/E,M=h.stiffness>=1||h.length===0,w=M?h.stiffness*r:h.stiffness*r*r,A=h.damping*r,R=l.mult(S,D*w),P=(f?f.inverseMass:0)+(c?c.inverseMass:0),O=(f?f.inverseInertia:0)+(c?c.inverseInertia:0),b=P+O,F,L,G,z,X;if(A>0){var B=l.create();G=l.div(S,E),X=l.sub(c&&l.sub(c.position,c.positionPrev)||B,f&&l.sub(f.position,f.positionPrev)||B),z=l.dot(G,X)}f&&!f.isStatic&&(L=f.inverseMass/P,f.constraintImpulse.x-=R.x*L,f.constraintImpulse.y-=R.y*L,f.position.x-=R.x*L,f.position.y-=R.y*L,A>0&&(f.positionPrev.x-=A*G.x*z*L,f.positionPrev.y-=A*G.y*z*L),F=l.cross(d,R)/b*a._torqueDampen*f.inverseInertia*(1-h.angularStiffness),f.constraintImpulse.angle-=F,f.angle-=F),c&&!c.isStatic&&(L=c.inverseMass/P,c.constraintImpulse.x+=R.x*L,c.constraintImpulse.y+=R.y*L,c.position.x+=R.x*L,c.position.y+=R.y*L,A>0&&(c.positionPrev.x+=A*G.x*z*L,c.positionPrev.y+=A*G.y*z*L),F=l.cross(p,R)/b*a._torqueDampen*c.inverseInertia*(1-h.angularStiffness),c.constraintImpulse.angle+=F,c.angle+=F)}}},a.postSolveAll=function(h){for(var r=0;r<h.length;r++){var f=h[r],c=f.constraintImpulse;if(!(f.isStatic||c.x===0&&c.y===0&&c.angle===0)){s.set(f,!1);for(var d=0;d<f.parts.length;d++){var p=f.parts[d];g.translate(p.vertices,c),d>0&&(p.position.x+=c.x,p.position.y+=c.y),c.angle!==0&&(g.rotate(p.vertices,c.angle,f.position),n.rotate(p.axes,c.angle),d>0&&l.rotateAbout(p.position,c.angle,f.position,p.position)),o.update(p.bounds,p.vertices,f.velocity)}c.angle*=a._warming,c.x*=a._warming,c.y*=a._warming}}},a.pointAWorld=function(h){return{x:(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),y:(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0)}},a.pointBWorld=function(h){return{x:(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),y:(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0)}},a.currentLength=function(h){var r=(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),f=(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0),c=(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),d=(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0),p=r-c,m=f-d;return Math.sqrt(p*p+m*m)}})()},53402:(e,y,t)=>{var a={};e.exports=a,function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(l,s){var o,n,i;typeof s=="boolean"?(o=2,i=s):(o=1,i=!0);for(var h=o;h<arguments.length;h++){var r=arguments[h];if(r)for(var f in r)i&&r[f]&&r[f].constructor===Object&&(!l[f]||l[f].constructor===Object)?(l[f]=l[f]||{},a.extend(l[f],i,r[f])):l[f]=r[f]}return l},a.clone=function(l,s){return a.extend({},s,l)},a.keys=function(l){if(Object.keys)return Object.keys(l);var s=[];for(var o in l)s.push(o);return s},a.values=function(l){var s=[];if(Object.keys){for(var o=Object.keys(l),n=0;n<o.length;n++)s.push(l[o[n]]);return s}for(var i in l)s.push(l[i]);return s},a.get=function(l,s,o,n){s=s.split(".").slice(o,n);for(var i=0;i<s.length;i+=1)l=l[s[i]];return l},a.set=function(l,s,o,n,i){var h=s.split(".").slice(n,i);return a.get(l,s,0,-1)[h[h.length-1]]=o,o},a.shuffle=function(l){for(var s=l.length-1;s>0;s--){var o=Math.floor(a.random()*(s+1)),n=l[s];l[s]=l[o],l[o]=n}return l},a.choose=function(l){return l[Math.floor(a.random()*l.length)]},a.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},a.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},a.isFunction=function(l){return typeof l=="function"},a.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},a.isString=function(l){return toString.call(l)==="[object String]"},a.clamp=function(l,s,o){return l<s?s:l>o?o:l},a.sign=function(l){return l<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(l,s){return l=typeof l<"u"?l:0,s=typeof s<"u"?s:1,l+g()*(s-l)};var g=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[l]||(a.warn(l),a._warnedOnce[l]=!0)},a.deprecated=function(l,s,o){l[s]=a.chain(function(){a.warnOnce("\u{1F505} deprecated \u{1F505}",o)},l[s])},a.nextId=function(){return a._nextId++},a.indexOf=function(l,s){if(l.indexOf)return l.indexOf(s);for(var o=0;o<l.length;o++)if(l[o]===s)return o;return-1},a.map=function(l,s){if(l.map)return l.map(s);for(var o=[],n=0;n<l.length;n+=1)o.push(s(l[n]));return o},a.topologicalSort=function(l){var s=[],o=[],n=[];for(var i in l)!o[i]&&!n[i]&&a._topologicalSort(i,o,n,l,s);return s},a._topologicalSort=function(l,s,o,n,i){var h=n[l]||[];o[l]=!0;for(var r=0;r<h.length;r+=1){var f=h[r];o[f]||s[f]||a._topologicalSort(f,s,o,n,i)}o[l]=!1,s[l]=!0,i.push(l)},a.chain=function(){for(var l=[],s=0;s<arguments.length;s+=1){var o=arguments[s];o._chained?l.push.apply(l,o._chained):l.push(o)}var n=function(){for(var i,h=new Array(arguments.length),r=0,f=arguments.length;r<f;r++)h[r]=arguments[r];for(r=0;r<l.length;r+=1){var c=l[r].apply(i,h);typeof c<"u"&&(i=c)}return i};return n._chained=l,n},a.chainPathBefore=function(l,s,o){return a.set(l,s,a.chain(o,a.get(l,s)))},a.chainPathAfter=function(l,s,o){return a.set(l,s,a.chain(a.get(l,s),o))},a.setDecomp=function(l){a._decomp=l},a.getDecomp=function(){var l=a._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof t.g<"u"&&(l=t.g.decomp)}catch{l=null}return l}}()},48413:(e,y,t)=>{var a={};e.exports=a;var g=t(53614),l=t(66272),s=t(81388),o=t(99561),n=t(35810),i=t(69351),h=t(48140),r=t(53402),f=t(22562);(function(){a.create=function(c){c=c||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},p=r.extend(d,c);return p.world=c.world||i.create({label:"World"}),p.pairs=c.pairs||o.create(),p.detector=c.detector||s.create(),p.grid={buckets:[]},p.world.gravity=p.gravity,p.broadphase=p.grid,p.metrics={},p},a.update=function(c,d){var p=r.now(),m=c.world,C=c.detector,S=c.pairs,E=c.timing,D=E.timestamp,M;d=typeof d<"u"?d:r._baseDelta,d*=E.timeScale,E.timestamp+=d,E.lastDelta=d;var w={timestamp:E.timestamp,delta:d};n.trigger(c,"beforeUpdate",w);var A=i.allBodies(m),R=i.allConstraints(m);for(m.isModified&&(s.setBodies(C,A),i.setModified(m,!1,!1,!0)),c.enableSleeping&&g.update(A,d),a._bodiesApplyGravity(A,c.gravity),d>0&&a._bodiesUpdate(A,d),n.trigger(c,"beforeSolve",w),h.preSolveAll(A),M=0;M<c.constraintIterations;M++)h.solveAll(R,d);h.postSolveAll(A),C.pairs=c.pairs;var P=s.collisions(C);o.update(S,P,D),c.enableSleeping&&g.afterCollisions(S.list),S.collisionStart.length>0&&n.trigger(c,"collisionStart",{pairs:S.collisionStart,timestamp:E.timestamp,delta:d});var O=r.clamp(20/c.positionIterations,0,1);for(l.preSolvePosition(S.list),M=0;M<c.positionIterations;M++)l.solvePosition(S.list,d,O);for(l.postSolvePosition(A),h.preSolveAll(A),M=0;M<c.constraintIterations;M++)h.solveAll(R,d);for(h.postSolveAll(A),l.preSolveVelocity(S.list),M=0;M<c.velocityIterations;M++)l.solveVelocity(S.list,d);return a._bodiesUpdateVelocities(A),S.collisionActive.length>0&&n.trigger(c,"collisionActive",{pairs:S.collisionActive,timestamp:E.timestamp,delta:d}),S.collisionEnd.length>0&&n.trigger(c,"collisionEnd",{pairs:S.collisionEnd,timestamp:E.timestamp,delta:d}),a._bodiesClearForces(A),n.trigger(c,"afterUpdate",w),c.timing.lastElapsed=r.now()-p,c},a.merge=function(c,d){if(r.extend(c,d),d.world){c.world=d.world,a.clear(c);for(var p=i.allBodies(c.world),m=0;m<p.length;m++){var C=p[m];g.set(C,!1),C.id=r.nextId()}}},a.clear=function(c){o.clear(c.pairs),s.clear(c.detector)},a._bodiesClearForces=function(c){for(var d=c.length,p=0;p<d;p++){var m=c[p];m.force.x=0,m.force.y=0,m.torque=0}},a._bodiesApplyGravity=function(c,d){var p=typeof d.scale<"u"?d.scale:.001,m=c.length;if(!(d.x===0&&d.y===0||p===0))for(var C=0;C<m;C++){var S=c[C];S.ignoreGravity||S.isStatic||S.isSleeping||(S.force.y+=S.mass*d.y*p,S.force.x+=S.mass*d.x*p)}},a._bodiesUpdate=function(c,d){for(var p=c.length,m=0;m<p;m++){var C=c[m];C.isStatic||C.isSleeping||f.update(C,d)}},a._bodiesUpdateVelocities=function(c){for(var d=c.length,p=0;p<d;p++)f.updateVelocities(c[p])}})()},35810:(e,y,t)=>{var a={};e.exports=a;var g=t(53402);(function(){a.on=function(l,s,o){for(var n=s.split(" "),i,h=0;h<n.length;h++)i=n[h],l.events=l.events||{},l.events[i]=l.events[i]||[],l.events[i].push(o);return o},a.off=function(l,s,o){if(!s){l.events={};return}typeof s=="function"&&(o=s,s=g.keys(l.events).join(" "));for(var n=s.split(" "),i=0;i<n.length;i++){var h=l.events[n[i]],r=[];if(o&&h)for(var f=0;f<h.length;f++)h[f]!==o&&r.push(h[f]);l.events[n[i]]=r}},a.trigger=function(l,s,o){var n,i,h,r,f=l.events;if(f&&g.keys(f).length>0){o||(o={}),n=s.split(" ");for(var c=0;c<n.length;c++)if(i=n[c],h=f[i],h){r=g.clone(o,!1),r.name=i,r.source=l;for(var d=0;d<h.length;d++)h[d].apply(l,[r])}}}})()},6790:(e,y,t)=>{var a={};e.exports=a;var g=t(73832),l=t(53402);(function(){a.name="matter-js",a.version="0.19.0",a.uses=[],a.used=[],a.use=function(){g.use(a,Array.prototype.slice.call(arguments))},a.before=function(s,o){return s=s.replace(/^Matter./,""),l.chainPathBefore(a,s,o)},a.after=function(s,o){return s=s.replace(/^Matter./,""),l.chainPathAfter(a,s,o)}})()},73832:(e,y,t)=>{var a={};e.exports=a;var g=t(53402);(function(){a._registry={},a.register=function(l){if(a.isPlugin(l)||g.warn("Plugin.register:",a.toString(l),"does not implement all required fields."),l.name in a._registry){var s=a._registry[l.name],o=a.versionParse(l.version).number,n=a.versionParse(s.version).number;o>n?(g.warn("Plugin.register:",a.toString(s),"was upgraded to",a.toString(l)),a._registry[l.name]=l):o<n?g.warn("Plugin.register:",a.toString(s),"can not be downgraded to",a.toString(l)):l!==s&&g.warn("Plugin.register:",a.toString(l),"is already registered to different plugin object")}else a._registry[l.name]=l;return l},a.resolve=function(l){return a._registry[a.dependencyParse(l).name]},a.toString=function(l){return typeof l=="string"?l:(l.name||"anonymous")+"@"+(l.version||l.range||"0.0.0")},a.isPlugin=function(l){return l&&l.name&&l.version&&l.install},a.isUsed=function(l,s){return l.used.indexOf(s)>-1},a.isFor=function(l,s){var o=l.for&&a.dependencyParse(l.for);return!l.for||s.name===o.name&&a.versionSatisfies(s.version,o.range)},a.use=function(l,s){if(l.uses=(l.uses||[]).concat(s||[]),l.uses.length===0){g.warn("Plugin.use:",a.toString(l),"does not specify any dependencies to install.");return}for(var o=a.dependencies(l),n=g.topologicalSort(o),i=[],h=0;h<n.length;h+=1)if(n[h]!==l.name){var r=a.resolve(n[h]);if(!r){i.push("\u274C "+n[h]);continue}a.isUsed(l,r.name)||(a.isFor(r,l)||(g.warn("Plugin.use:",a.toString(r),"is for",r.for,"but installed on",a.toString(l)+"."),r._warned=!0),r.install?r.install(l):(g.warn("Plugin.use:",a.toString(r),"does not specify an install function."),r._warned=!0),r._warned?(i.push("\u{1F536} "+a.toString(r)),delete r._warned):i.push("\u2705 "+a.toString(r)),l.used.push(r.name))}i.length>0&&!r.silent&&g.info(i.join("  "))},a.dependencies=function(l,s){var o=a.dependencyParse(l),n=o.name;if(s=s||{},!(n in s)){l=a.resolve(l)||l,s[n]=g.map(l.uses||[],function(h){a.isPlugin(h)&&a.register(h);var r=a.dependencyParse(h),f=a.resolve(h);return f&&!a.versionSatisfies(f.version,r.range)?(g.warn("Plugin.dependencies:",a.toString(f),"does not satisfy",a.toString(r),"used by",a.toString(o)+"."),f._warned=!0,l._warned=!0):f||(g.warn("Plugin.dependencies:",a.toString(h),"used by",a.toString(o),"could not be resolved."),l._warned=!0),r.name});for(var i=0;i<s[n].length;i+=1)a.dependencies(s[n][i],s);return s}},a.dependencyParse=function(l){if(g.isString(l)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(l)||g.warn("Plugin.dependencyParse:",l,"is not a valid dependency string."),{name:l.split("@")[0],range:l.split("@")[1]||"*"}}return{name:l.name,range:l.range||l.version}},a.versionParse=function(l){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(l)||g.warn("Plugin.versionParse:",l,"is not a valid version or range.");var o=s.exec(l),n=Number(o[4]),i=Number(o[5]),h=Number(o[6]);return{isRange:!!(o[1]||o[2]),version:o[3],range:l,operator:o[1]||o[2]||"",major:n,minor:i,patch:h,parts:[n,i,h],prerelease:o[7],number:n*1e8+i*1e4+h}},a.versionSatisfies=function(l,s){s=s||"*";var o=a.versionParse(s),n=a.versionParse(l);if(o.isRange){if(o.operator==="*"||l==="*")return!0;if(o.operator===">")return n.number>o.number;if(o.operator===">=")return n.number>=o.number;if(o.operator==="~")return n.major===o.major&&n.minor===o.minor&&n.patch>=o.patch;if(o.operator==="^")return o.major>0?n.major===o.major&&n.number>=o.number:o.minor>0?n.minor===o.minor&&n.patch>=o.patch:n.patch===o.patch}return l===s||l==="*"}})()},53614:(e,y,t)=>{var a={};e.exports=a;var g=t(22562),l=t(35810),s=t(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(o,n){for(var i=n/s._baseDelta,h=a._motionSleepThreshold,r=0;r<o.length;r++){var f=o[r],c=g.getSpeed(f),d=g.getAngularSpeed(f),p=c*c+d*d;if(f.force.x!==0||f.force.y!==0){a.set(f,!1);continue}var m=Math.min(f.motion,p),C=Math.max(f.motion,p);f.motion=a._minBias*m+(1-a._minBias)*C,f.sleepThreshold>0&&f.motion<h?(f.sleepCounter+=1,f.sleepCounter>=f.sleepThreshold/i&&a.set(f,!0)):f.sleepCounter>0&&(f.sleepCounter-=1)}},a.afterCollisions=function(o){for(var n=a._motionSleepThreshold,i=0;i<o.length;i++){var h=o[i];if(h.isActive){var r=h.collision,f=r.bodyA.parent,c=r.bodyB.parent;if(!(f.isSleeping&&c.isSleeping||f.isStatic||c.isStatic)&&(f.isSleeping||c.isSleeping)){var d=f.isSleeping&&!f.isStatic?f:c,p=d===f?c:f;!d.isStatic&&p.motion>n&&a.set(d,!1)}}}},a.set=function(o,n){var i=o.isSleeping;n?(o.isSleeping=!0,o.sleepCounter=o.sleepThreshold,o.positionImpulse.x=0,o.positionImpulse.y=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.speed=0,o.angularSpeed=0,o.motion=0,i||l.trigger(o,"sleepStart")):(o.isSleeping=!1,o.sleepCounter=0,i&&l.trigger(o,"sleepEnd"))}})()},66280:(e,y,t)=>{var a={};e.exports=a;var g=t(41598),l=t(53402),s=t(22562),o=t(15647),n=t(31725);(function(){a.rectangle=function(i,h,r,f,c){c=c||{};var d={label:"Rectangle Body",position:{x:i,y:h},vertices:g.fromPath("L 0 0 L "+r+" 0 L "+r+" "+f+" L 0 "+f)};if(c.chamfer){var p=c.chamfer;d.vertices=g.chamfer(d.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete c.chamfer}return s.create(l.extend({},d,c))},a.trapezoid=function(i,h,r,f,c,d){d=d||{},c*=.5;var p=(1-c*2)*r,m=r*c,C=m+p,S=C+m,E;c<.5?E="L 0 0 L "+m+" "+-f+" L "+C+" "+-f+" L "+S+" 0":E="L 0 0 L "+C+" "+-f+" L "+S+" 0";var D={label:"Trapezoid Body",position:{x:i,y:h},vertices:g.fromPath(E)};if(d.chamfer){var M=d.chamfer;D.vertices=g.chamfer(D.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete d.chamfer}return s.create(l.extend({},D,d))},a.circle=function(i,h,r,f,c){f=f||{};var d={label:"Circle Body",circleRadius:r};c=c||25;var p=Math.ceil(Math.max(10,Math.min(c,r)));return p%2===1&&(p+=1),a.polygon(i,h,p,r,l.extend({},d,f))},a.polygon=function(i,h,r,f,c){if(c=c||{},r<3)return a.circle(i,h,f,c);for(var d=2*Math.PI/r,p="",m=d*.5,C=0;C<r;C+=1){var S=m+C*d,E=Math.cos(S)*f,D=Math.sin(S)*f;p+="L "+E.toFixed(3)+" "+D.toFixed(3)+" "}var M={label:"Polygon Body",position:{x:i,y:h},vertices:g.fromPath(p)};if(c.chamfer){var w=c.chamfer;M.vertices=g.chamfer(M.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete c.chamfer}return s.create(l.extend({},M,c))},a.fromVertices=function(i,h,r,f,c,d,p,m){var C=l.getDecomp(),S,E,D,M,w,A,R,P,O,b,F;for(S=!!(C&&C.quickDecomp),f=f||{},D=[],c=typeof c<"u"?c:!1,d=typeof d<"u"?d:.01,p=typeof p<"u"?p:10,m=typeof m<"u"?m:.01,l.isArray(r[0])||(r=[r]),b=0;b<r.length;b+=1)if(A=r[b],M=g.isConvex(A),w=!M,w&&!S&&l.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),M||!S)M?A=g.clockwiseSort(A):A=g.hull(A),D.push({position:{x:i,y:h},vertices:A});else{var L=A.map(function(Y){return[Y.x,Y.y]});C.makeCCW(L),d!==!1&&C.removeCollinearPoints(L,d),m!==!1&&C.removeDuplicatePoints&&C.removeDuplicatePoints(L,m);var G=C.quickDecomp(L);for(R=0;R<G.length;R++){var z=G[R],X=z.map(function(Y){return{x:Y[0],y:Y[1]}});p>0&&g.area(X)<p||D.push({position:g.centre(X),vertices:X})}}for(R=0;R<D.length;R++)D[R]=s.create(l.extend(D[R],f));if(c){var B=5;for(R=0;R<D.length;R++){var U=D[R];for(P=R+1;P<D.length;P++){var I=D[P];if(o.overlaps(U.bounds,I.bounds)){var N=U.vertices,V=I.vertices;for(O=0;O<U.vertices.length;O++)for(F=0;F<I.vertices.length;F++){var H=n.magnitudeSquared(n.sub(N[(O+1)%N.length],V[F])),W=n.magnitudeSquared(n.sub(N[O],V[(F+1)%V.length]));H<B&&W<B&&(N[O].isInternal=!0,V[F].isInternal=!0)}}}}}return D.length>1?(E=s.create(l.extend({parts:D.slice(0)},f)),s.setPosition(E,{x:i,y:h}),E):D[0]},a.flagCoincidentParts=function(i,h){h===void 0&&(h=5);for(var r=0;r<i.length;r++)for(var f=i[r],c=r+1;c<i.length;c++){var d=i[c];if(o.overlaps(f.bounds,d.bounds))for(var p=f.vertices,m=d.vertices,C=0;C<f.vertices.length;C++)for(var S=0;S<d.vertices.length;S++){var E=n.magnitudeSquared(n.sub(p[(C+1)%p.length],m[S])),D=n.magnitudeSquared(n.sub(p[C],m[(S+1)%m.length]));E<h&&D<h&&(p[C].isInternal=!0,m[S].isInternal=!0)}}return i}})()},74116:(e,y,t)=>{var a={};e.exports=a;var g=t(69351),l=t(48140),s=t(53402),o=t(22562),n=t(66280);(function(){a.stack=function(i,h,r,f,c,d,p){for(var m=g.create({label:"Stack"}),C=i,S=h,E,D=0,M=0;M<f;M++){for(var w=0,A=0;A<r;A++){var R=p(C,S,A,M,E,D);if(R){var P=R.bounds.max.y-R.bounds.min.y,O=R.bounds.max.x-R.bounds.min.x;P>w&&(w=P),o.translate(R,{x:O*.5,y:P*.5}),C=R.bounds.max.x+c,g.addBody(m,R),E=R,D+=1}else C+=c}S+=w+d,C=i}return m},a.chain=function(i,h,r,f,c,d){for(var p=i.bodies,m=1;m<p.length;m++){var C=p[m-1],S=p[m],E=C.bounds.max.y-C.bounds.min.y,D=C.bounds.max.x-C.bounds.min.x,M=S.bounds.max.y-S.bounds.min.y,w=S.bounds.max.x-S.bounds.min.x,A={bodyA:C,pointA:{x:D*h,y:E*r},bodyB:S,pointB:{x:w*f,y:M*c}},R=s.extend(A,d);g.addConstraint(i,l.create(R))}return i.label+=" Chain",i},a.mesh=function(i,h,r,f,c){var d=i.bodies,p,m,C,S,E;for(p=0;p<r;p++){for(m=1;m<h;m++)C=d[m-1+p*h],S=d[m+p*h],g.addConstraint(i,l.create(s.extend({bodyA:C,bodyB:S},c)));if(p>0)for(m=0;m<h;m++)C=d[m+(p-1)*h],S=d[m+p*h],g.addConstraint(i,l.create(s.extend({bodyA:C,bodyB:S},c))),f&&m>0&&(E=d[m-1+(p-1)*h],g.addConstraint(i,l.create(s.extend({bodyA:E,bodyB:S},c)))),f&&m<h-1&&(E=d[m+1+(p-1)*h],g.addConstraint(i,l.create(s.extend({bodyA:E,bodyB:S},c))))}return i.label+=" Mesh",i},a.pyramid=function(i,h,r,f,c,d,p){return a.stack(i,h,r,f,c,d,function(m,C,S,E,D,M){var w=Math.min(f,Math.ceil(r/2)),A=D?D.bounds.max.x-D.bounds.min.x:0;if(!(E>w)){E=w-E;var R=E,P=r-1-E;if(!(S<R||S>P)){M===1&&o.translate(D,{x:(S+(r%2===1?1:-1))*A,y:0});var O=D?S*A:0;return p(i+O+S*c,C,S,E,D,M)}}})},a.newtonsCradle=function(i,h,r,f,c){for(var d=g.create({label:"Newtons Cradle"}),p=0;p<r;p++){var m=1.9,C=n.circle(i+p*(f*m),h+c,f,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),S=l.create({pointA:{x:i+p*(f*m),y:h},bodyB:C});g.addBody(d,C),g.addConstraint(d,S)}return d},a.car=function(i,h,r,f,c){var d=o.nextGroup(!0),p=20,m=-r*.5+p,C=r*.5-p,S=0,E=g.create({label:"Car"}),D=n.rectangle(i,h,r,f,{collisionFilter:{group:d},chamfer:{radius:f*.5},density:2e-4}),M=n.circle(i+m,h+S,c,{collisionFilter:{group:d},friction:.8}),w=n.circle(i+C,h+S,c,{collisionFilter:{group:d},friction:.8}),A=l.create({bodyB:D,pointB:{x:m,y:S},bodyA:M,stiffness:1,length:0}),R=l.create({bodyB:D,pointB:{x:C,y:S},bodyA:w,stiffness:1,length:0});return g.addBody(E,D),g.addBody(E,M),g.addBody(E,w),g.addConstraint(E,A),g.addConstraint(E,R),E},a.softBody=function(i,h,r,f,c,d,p,m,C,S){C=s.extend({inertia:1/0},C),S=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},S);var E=a.stack(i,h,r,f,c,d,function(D,M){return n.circle(D,M,m,C)});return a.mesh(E,r,f,p,S),E.label="Soft Body",E}})()},66615:(e,y,t)=>{var a={};e.exports=a;var g=t(31725),l=t(53402);(function(){a.fromVertices=function(s){for(var o={},n=0;n<s.length;n++){var i=(n+1)%s.length,h=g.normalise({x:s[i].y-s[n].y,y:s[n].x-s[i].x}),r=h.y===0?1/0:h.x/h.y;r=r.toFixed(3).toString(),o[r]=h}return l.values(o)},a.rotate=function(s,o){if(o!==0)for(var n=Math.cos(o),i=Math.sin(o),h=0;h<s.length;h++){var r=s[h],f;f=r.x*n-r.y*i,r.y=r.x*i+r.y*n,r.x=f}}})()},15647:e=>{var y={};e.exports=y,function(){y.create=function(t){var a={min:{x:0,y:0},max:{x:0,y:0}};return t&&y.update(a,t),a},y.update=function(t,a,g){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var l=0;l<a.length;l++){var s=a[l];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}g&&(g.x>0?t.max.x+=g.x:t.min.x+=g.x,g.y>0?t.max.y+=g.y:t.min.y+=g.y)},y.contains=function(t,a){return a.x>=t.min.x&&a.x<=t.max.x&&a.y>=t.min.y&&a.y<=t.max.y},y.overlaps=function(t,a){return t.min.x<=a.max.x&&t.max.x>=a.min.x&&t.max.y>=a.min.y&&t.min.y<=a.max.y},y.translate=function(t,a){t.min.x+=a.x,t.max.x+=a.x,t.min.y+=a.y,t.max.y+=a.y},y.shift=function(t,a){var g=t.max.x-t.min.x,l=t.max.y-t.min.y;t.min.x=a.x,t.max.x=a.x+g,t.min.y=a.y,t.max.y=a.y+l}}()},74058:(e,y,t)=>{var a={};e.exports=a;var g=t(15647),l=t(53402);(function(){a.pathToVertices=function(s,o){typeof window<"u"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,i,h,r,f,c,d,p,m,C,S=[],E,D,M=0,w=0,A=0;o=o||15;var R=function(O,b,F){var L=F%2===1&&F>1;if(!m||O!=m.x||b!=m.y){m&&L?(E=m.x,D=m.y):(E=0,D=0);var G={x:E+O,y:D+b};(L||!m)&&(m=G),S.push(G),w=E+O,A=D+b}},P=function(O){var b=O.pathSegTypeAsLetter.toUpperCase();if(b!=="Z"){switch(b){case"M":case"L":case"T":case"C":case"S":case"Q":w=O.x,A=O.y;break;case"H":w=O.x;break;case"V":A=O.y;break}R(w,A,O.pathSegType)}};for(a._svgPathToAbsolute(s),h=s.getTotalLength(),c=[],n=0;n<s.pathSegList.numberOfItems;n+=1)c.push(s.pathSegList.getItem(n));for(d=c.concat();M<h;){if(C=s.getPathSegAtLength(M),f=c[C],f!=p){for(;d.length&&d[0]!=f;)P(d.shift());p=f}switch(f.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":r=s.getPointAtLength(M),R(r.x,r.y,0);break}M+=o}for(n=0,i=d.length;n<i;++n)P(d[n]);return S},a._svgPathToAbsolute=function(s){for(var o,n,i,h,r,f,c=s.pathSegList,d=0,p=0,m=c.numberOfItems,C=0;C<m;++C){var S=c.getItem(C),E=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in S&&(d=S.x),"y"in S&&(p=S.y);else switch("x1"in S&&(i=d+S.x1),"x2"in S&&(r=d+S.x2),"y1"in S&&(h=p+S.y1),"y2"in S&&(f=p+S.y2),"x"in S&&(d+=S.x),"y"in S&&(p+=S.y),E){case"m":c.replaceItem(s.createSVGPathSegMovetoAbs(d,p),C);break;case"l":c.replaceItem(s.createSVGPathSegLinetoAbs(d,p),C);break;case"h":c.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(d),C);break;case"v":c.replaceItem(s.createSVGPathSegLinetoVerticalAbs(p),C);break;case"c":c.replaceItem(s.createSVGPathSegCurvetoCubicAbs(d,p,i,h,r,f),C);break;case"s":c.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(d,p,r,f),C);break;case"q":c.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(d,p,i,h),C);break;case"t":c.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(d,p),C);break;case"a":c.replaceItem(s.createSVGPathSegArcAbs(d,p,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),C);break;case"z":case"Z":d=o,p=n;break}(E=="M"||E=="m")&&(o=d,n=p)}}})()},31725:e=>{var y={};e.exports=y,function(){y.create=function(t,a){return{x:t||0,y:a||0}},y.clone=function(t){return{x:t.x,y:t.y}},y.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},y.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},y.rotate=function(t,a,g){var l=Math.cos(a),s=Math.sin(a);g||(g={});var o=t.x*l-t.y*s;return g.y=t.x*s+t.y*l,g.x=o,g},y.rotateAbout=function(t,a,g,l){var s=Math.cos(a),o=Math.sin(a);l||(l={});var n=g.x+((t.x-g.x)*s-(t.y-g.y)*o);return l.y=g.y+((t.x-g.x)*o+(t.y-g.y)*s),l.x=n,l},y.normalise=function(t){var a=y.magnitude(t);return a===0?{x:0,y:0}:{x:t.x/a,y:t.y/a}},y.dot=function(t,a){return t.x*a.x+t.y*a.y},y.cross=function(t,a){return t.x*a.y-t.y*a.x},y.cross3=function(t,a,g){return(a.x-t.x)*(g.y-t.y)-(a.y-t.y)*(g.x-t.x)},y.add=function(t,a,g){return g||(g={}),g.x=t.x+a.x,g.y=t.y+a.y,g},y.sub=function(t,a,g){return g||(g={}),g.x=t.x-a.x,g.y=t.y-a.y,g},y.mult=function(t,a){return{x:t.x*a,y:t.y*a}},y.div=function(t,a){return{x:t.x/a,y:t.y/a}},y.perp=function(t,a){return a=a===!0?-1:1,{x:a*-t.y,y:a*t.x}},y.neg=function(t){return{x:-t.x,y:-t.y}},y.angle=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)},y._temp=[y.create(),y.create(),y.create(),y.create(),y.create(),y.create()]}()},41598:(e,y,t)=>{var a={};e.exports=a;var g=t(31725),l=t(53402);(function(){a.create=function(s,o){for(var n=[],i=0;i<s.length;i++){var h=s[i],r={x:h.x,y:h.y,index:i,body:o,isInternal:!1};n.push(r)}return n},a.fromPath=function(s,o){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,i=[];return s.replace(n,function(h,r,f){i.push({x:parseFloat(r),y:parseFloat(f)})}),a.create(i,o)},a.centre=function(s){for(var o=a.area(s,!0),n={x:0,y:0},i,h,r,f=0;f<s.length;f++)r=(f+1)%s.length,i=g.cross(s[f],s[r]),h=g.mult(g.add(s[f],s[r]),i),n=g.add(n,h);return g.div(n,6*o)},a.mean=function(s){for(var o={x:0,y:0},n=0;n<s.length;n++)o.x+=s[n].x,o.y+=s[n].y;return g.div(o,s.length)},a.area=function(s,o){for(var n=0,i=s.length-1,h=0;h<s.length;h++)n+=(s[i].x-s[h].x)*(s[i].y+s[h].y),i=h;return o?n/2:Math.abs(n)/2},a.inertia=function(s,o){for(var n=0,i=0,h=s,r,f,c=0;c<h.length;c++)f=(c+1)%h.length,r=Math.abs(g.cross(h[f],h[c])),n+=r*(g.dot(h[f],h[f])+g.dot(h[f],h[c])+g.dot(h[c],h[c])),i+=r;return o/6*(n/i)},a.translate=function(s,o,n){n=typeof n<"u"?n:1;var i=s.length,h=o.x*n,r=o.y*n,f;for(f=0;f<i;f++)s[f].x+=h,s[f].y+=r;return s},a.rotate=function(s,o,n){if(o!==0){var i=Math.cos(o),h=Math.sin(o),r=n.x,f=n.y,c=s.length,d,p,m,C;for(C=0;C<c;C++)d=s[C],p=d.x-r,m=d.y-f,d.x=r+(p*i-m*h),d.y=f+(p*h+m*i);return s}},a.contains=function(s,o){for(var n=o.x,i=o.y,h=s.length,r=s[h-1],f,c=0;c<h;c++){if(f=s[c],(n-r.x)*(f.y-r.y)+(i-r.y)*(r.x-f.x)>0)return!1;r=f}return!0},a.scale=function(s,o,n,i){if(o===1&&n===1)return s;i=i||a.centre(s);for(var h,r,f=0;f<s.length;f++)h=s[f],r=g.sub(h,i),s[f].x=i.x+r.x*o,s[f].y=i.y+r.y*n;return s},a.chamfer=function(s,o,n,i,h){typeof o=="number"?o=[o]:o=o||[8],n=typeof n<"u"?n:-1,i=i||2,h=h||14;for(var r=[],f=0;f<s.length;f++){var c=s[f-1>=0?f-1:s.length-1],d=s[f],p=s[(f+1)%s.length],m=o[f<o.length?f:o.length-1];if(m===0){r.push(d);continue}var C=g.normalise({x:d.y-c.y,y:c.x-d.x}),S=g.normalise({x:p.y-d.y,y:d.x-p.x}),E=Math.sqrt(2*Math.pow(m,2)),D=g.mult(l.clone(C),m),M=g.normalise(g.mult(g.add(C,S),.5)),w=g.sub(d,g.mult(M,E)),A=n;n===-1&&(A=Math.pow(m,.32)*1.75),A=l.clamp(A,i,h),A%2===1&&(A+=1);for(var R=Math.acos(g.dot(C,S)),P=R/A,O=0;O<A;O++)r.push(g.add(g.rotate(D,P*O),w))}return r},a.clockwiseSort=function(s){var o=a.mean(s);return s.sort(function(n,i){return g.angle(o,n)-g.angle(o,i)}),s},a.isConvex=function(s){var o=0,n=s.length,i,h,r,f;if(n<3)return null;for(i=0;i<n;i++)if(h=(i+1)%n,r=(i+2)%n,f=(s[h].x-s[i].x)*(s[r].y-s[h].y),f-=(s[h].y-s[i].y)*(s[r].x-s[h].x),f<0?o|=1:f>0&&(o|=2),o===3)return!1;return o!==0?!0:null},a.hull=function(s){var o=[],n=[],i,h;for(s=s.slice(0),s.sort(function(r,f){var c=r.x-f.x;return c!==0?c:r.y-f.y}),h=0;h<s.length;h+=1){for(i=s[h];n.length>=2&&g.cross3(n[n.length-2],n[n.length-1],i)<=0;)n.pop();n.push(i)}for(h=s.length-1;h>=0;h-=1){for(i=s[h];o.length>=2&&g.cross3(o[o.length-2],o[o.length-1],i)<=0;)o.pop();o.push(i)}return o.pop(),n.pop(),o.concat(n)}})()},18210:(e,y,t)=>{var a=t(19933),g={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(l){l.after("Body.create",function(){g.Body.init(this)}),l.before("Engine.update",function(s){g.Engine.update(s)})},Body:{init:function(l){l.plugin.attractors=l.plugin.attractors||[]}},Engine:{update:function(l){for(var s=a.Composite.allBodies(l.world),o=0;o<s.length;o++){var n=s[o],i=n.plugin.attractors;if(i&&i.length>0)for(var h=0;h<s.length;h++){var r=s[h];if(o!==h)for(var f=0;f<i.length;f++){var c=i[f],d=c;a.Common.isFunction(c)&&(d=c(n,r)),d&&a.Body.applyForce(r,r.position,d)}}}}},Attractors:{gravityConstant:.001,gravity:function(l,s){var o=a.Vector.sub(s.position,l.position),n=a.Vector.magnitudeSquared(o)||1e-4,i=a.Vector.normalise(o),h=-g.Attractors.gravityConstant*(l.mass*s.mass/n),r=a.Vector.mult(i,h);a.Body.applyForce(l,l.position,a.Vector.neg(r)),a.Body.applyForce(s,s.position,r)}}};e.exports=g},40178:e=>{var y={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(a){a.pairs.map(function(g){var l=g.bodyA,s=g.bodyB;l.gameObject&&l.gameObject.emit("collide",l,s,g),s.gameObject&&s.gameObject.emit("collide",s,l,g),t.Events.trigger(l,"onCollide",{pair:g}),t.Events.trigger(s,"onCollide",{pair:g}),l.onCollideCallback&&l.onCollideCallback(g),s.onCollideCallback&&s.onCollideCallback(g),l.onCollideWith[s.id]&&l.onCollideWith[s.id](s,g),s.onCollideWith[l.id]&&s.onCollideWith[l.id](l,g)})}),t.Events.on(this,"collisionActive",function(a){a.pairs.map(function(g){var l=g.bodyA,s=g.bodyB;l.gameObject&&l.gameObject.emit("collideActive",l,s,g),s.gameObject&&s.gameObject.emit("collideActive",s,l,g),t.Events.trigger(l,"onCollideActive",{pair:g}),t.Events.trigger(s,"onCollideActive",{pair:g}),l.onCollideActiveCallback&&l.onCollideActiveCallback(g),s.onCollideActiveCallback&&s.onCollideActiveCallback(g)})}),t.Events.on(this,"collisionEnd",function(a){a.pairs.map(function(g){var l=g.bodyA,s=g.bodyB;l.gameObject&&l.gameObject.emit("collideEnd",l,s,g),s.gameObject&&s.gameObject.emit("collideEnd",s,l,g),t.Events.trigger(l,"onCollideEnd",{pair:g}),t.Events.trigger(s,"onCollideEnd",{pair:g}),l.onCollideEndCallback&&l.onCollideEndCallback(g),s.onCollideEndCallback&&s.onCollideEndCallback(g)})})})}};e.exports=y},74507:(e,y,t)=>{var a=t(19933),g={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(l){l.after("Engine.update",function(){g.Engine.update(this)})},Engine:{update:function(l){for(var s=l.world,o=a.Composite.allBodies(s),n=a.Composite.allComposites(s),i=0;i<o.length;i+=1){var h=o[i];h.plugin.wrap&&g.Body.wrap(h,h.plugin.wrap)}for(i=0;i<n.length;i+=1){var r=n[i];r.plugin.wrap&&g.Composite.wrap(r,r.plugin.wrap)}}},Bounds:{wrap:function(l,s){var o=null,n=null;if(typeof s.min.x<"u"&&typeof s.max.x<"u"&&(l.min.x>s.max.x?o=s.min.x-l.max.x:l.max.x<s.min.x&&(o=s.max.x-l.min.x)),typeof s.min.y<"u"&&typeof s.max.y<"u"&&(l.min.y>s.max.y?n=s.min.y-l.max.y:l.max.y<s.min.y&&(n=s.max.y-l.min.y)),o!==null||n!==null)return{x:o||0,y:n||0}}},Body:{wrap:function(l,s){var o=g.Bounds.wrap(l.bounds,s);return o&&a.Body.translate(l,o),o}},Composite:{bounds:function(l){for(var s=a.Composite.allBodies(l),o=[],n=0;n<s.length;n+=1){var i=s[n];o.push(i.bounds.min,i.bounds.max)}return a.Bounds.create(o)},wrap:function(l,s){var o=g.Bounds.wrap(g.Composite.bounds(l),s);return o&&a.Composite.translate(l,o),o}}};e.exports=g},55973:e=>{e.exports={decomp:R,quickDecomp:F,isSimple:O,removeCollinearPoints:L,removeDuplicatePoints:G,makeCCW:p};function y(B,U,I){I=I||0;var N=[0,0],V,H,W,Y,j,k,$;return V=B[1][1]-B[0][1],H=B[0][0]-B[1][0],W=V*B[0][0]+H*B[0][1],Y=U[1][1]-U[0][1],j=U[0][0]-U[1][0],k=Y*U[0][0]+j*U[0][1],$=V*j-Y*H,z($,0,I)||(N[0]=(j*W-H*k)/$,N[1]=(V*k-Y*W)/$),N}function t(B,U,I,N){var V=U[0]-B[0],H=U[1]-B[1],W=N[0]-I[0],Y=N[1]-I[1];if(W*H-Y*V===0)return!1;var j=(V*(I[1]-B[1])+H*(B[0]-I[0]))/(W*H-Y*V),k=(W*(B[1]-I[1])+Y*(I[0]-B[0]))/(Y*V-W*H);return j>=0&&j<=1&&k>=0&&k<=1}function a(B,U,I){return(U[0]-B[0])*(I[1]-B[1])-(I[0]-B[0])*(U[1]-B[1])}function g(B,U,I){return a(B,U,I)>0}function l(B,U,I){return a(B,U,I)>=0}function s(B,U,I){return a(B,U,I)<0}function o(B,U,I){return a(B,U,I)<=0}var n=[],i=[];function h(B,U,I,N){if(N){var V=n,H=i;V[0]=U[0]-B[0],V[1]=U[1]-B[1],H[0]=I[0]-U[0],H[1]=I[1]-U[1];var W=V[0]*H[0]+V[1]*H[1],Y=Math.sqrt(V[0]*V[0]+V[1]*V[1]),j=Math.sqrt(H[0]*H[0]+H[1]*H[1]),k=Math.acos(W/(Y*j));return k<N}else return a(B,U,I)===0}function r(B,U){var I=U[0]-B[0],N=U[1]-B[1];return I*I+N*N}function f(B,U){var I=B.length;return B[U<0?U%I+I:U%I]}function c(B){B.length=0}function d(B,U,I,N){for(var V=I;V<N;V++)B.push(U[V])}function p(B){for(var U=0,I=B,N=1;N<B.length;++N)(I[N][1]<I[U][1]||I[N][1]===I[U][1]&&I[N][0]>I[U][0])&&(U=N);return g(f(B,U-1),f(B,U),f(B,U+1))?!1:(m(B),!0)}function m(B){for(var U=[],I=B.length,N=0;N!==I;N++)U.push(B.pop());for(var N=0;N!==I;N++)B[N]=U[N]}function C(B,U){return s(f(B,U-1),f(B,U),f(B,U+1))}var S=[],E=[];function D(B,U,I){var N,V,H=S,W=E;if(l(f(B,U+1),f(B,U),f(B,I))&&o(f(B,U-1),f(B,U),f(B,I)))return!1;V=r(f(B,U),f(B,I));for(var Y=0;Y!==B.length;++Y)if(!((Y+1)%B.length===U||Y===U)&&l(f(B,U),f(B,I),f(B,Y+1))&&o(f(B,U),f(B,I),f(B,Y))&&(H[0]=f(B,U),H[1]=f(B,I),W[0]=f(B,Y),W[1]=f(B,Y+1),N=y(H,W),r(f(B,U),N)<V))return!1;return!0}function M(B,U,I){for(var N=0;N!==B.length;++N)if(!(N===U||N===I||(N+1)%B.length===U||(N+1)%B.length===I)&&t(f(B,U),f(B,I),f(B,N),f(B,N+1)))return!1;return!0}function w(B,U,I,N){var V=N||[];if(c(V),U<I)for(var H=U;H<=I;H++)V.push(B[H]);else{for(var H=0;H<=I;H++)V.push(B[H]);for(var H=U;H<B.length;H++)V.push(B[H])}return V}function A(B){for(var U=[],I=[],N=[],V=[],H=Number.MAX_VALUE,W=0;W<B.length;++W)if(C(B,W)){for(var Y=0;Y<B.length;++Y)if(D(B,W,Y)){I=A(w(B,W,Y,V)),N=A(w(B,Y,W,V));for(var j=0;j<N.length;j++)I.push(N[j]);I.length<H&&(U=I,H=I.length,U.push([f(B,W),f(B,Y)]))}}return U}function R(B){var U=A(B);return U.length>0?P(B,U):[B]}function P(B,U){if(U.length===0)return[B];if(U instanceof Array&&U.length&&U[0]instanceof Array&&U[0].length===2&&U[0][0]instanceof Array){for(var I=[B],N=0;N<U.length;N++)for(var V=U[N],H=0;H<I.length;H++){var W=I[H],Y=P(W,V);if(Y){I.splice(H,1),I.push(Y[0],Y[1]);break}}return I}else{var V=U,N=B.indexOf(V[0]),H=B.indexOf(V[1]);return N!==-1&&H!==-1?[w(B,N,H),w(B,H,N)]:!1}}function O(B){var U=B,I;for(I=0;I<U.length-1;I++)for(var N=0;N<I-1;N++)if(t(U[I],U[I+1],U[N],U[N+1]))return!1;for(I=1;I<U.length-2;I++)if(t(U[0],U[U.length-1],U[I],U[I+1]))return!1;return!0}function b(B,U,I,N,V){V=V||0;var H=U[1]-B[1],W=B[0]-U[0],Y=H*B[0]+W*B[1],j=N[1]-I[1],k=I[0]-N[0],$=j*I[0]+k*I[1],Z=H*k-j*W;return z(Z,0,V)?[0,0]:[(k*Y-W*$)/Z,(H*$-j*Y)/Z]}function F(B,U,I,N,V,H,W){H=H||100,W=W||0,V=V||25,U=typeof U<"u"?U:[],I=I||[],N=N||[];var Y=[0,0],j=[0,0],k=[0,0],$=0,Z=0,K=0,J=0,Q=0,_=0,rt=0,ut=[],ot=[],q=B,it=B;if(it.length<3)return U;if(W++,W>H)return console.warn("quickDecomp: max level ("+H+") reached."),U;for(var nt=0;nt<B.length;++nt)if(C(q,nt)){I.push(q[nt]),$=Z=Number.MAX_VALUE;for(var xt=0;xt<B.length;++xt)g(f(q,nt-1),f(q,nt),f(q,xt))&&o(f(q,nt-1),f(q,nt),f(q,xt-1))&&(k=b(f(q,nt-1),f(q,nt),f(q,xt),f(q,xt-1)),s(f(q,nt+1),f(q,nt),k)&&(K=r(q[nt],k),K<Z&&(Z=K,j=k,_=xt))),g(f(q,nt+1),f(q,nt),f(q,xt+1))&&o(f(q,nt+1),f(q,nt),f(q,xt))&&(k=b(f(q,nt+1),f(q,nt),f(q,xt),f(q,xt+1)),g(f(q,nt-1),f(q,nt),k)&&(K=r(q[nt],k),K<$&&($=K,Y=k,Q=xt)));if(_===(Q+1)%B.length)k[0]=(j[0]+Y[0])/2,k[1]=(j[1]+Y[1])/2,N.push(k),nt<Q?(d(ut,q,nt,Q+1),ut.push(k),ot.push(k),_!==0&&d(ot,q,_,q.length),d(ot,q,0,nt+1)):(nt!==0&&d(ut,q,nt,q.length),d(ut,q,0,Q+1),ut.push(k),ot.push(k),d(ot,q,_,nt+1));else{if(_>Q&&(Q+=B.length),J=Number.MAX_VALUE,Q<_)return U;for(var xt=_;xt<=Q;++xt)l(f(q,nt-1),f(q,nt),f(q,xt))&&o(f(q,nt+1),f(q,nt),f(q,xt))&&(K=r(f(q,nt),f(q,xt)),K<J&&M(q,nt,xt)&&(J=K,rt=xt%B.length));nt<rt?(d(ut,q,nt,rt+1),rt!==0&&d(ot,q,rt,it.length),d(ot,q,0,nt+1)):(nt!==0&&d(ut,q,nt,it.length),d(ut,q,0,rt+1),d(ot,q,rt,nt+1))}return ut.length<ot.length?(F(ut,U,I,N,V,H,W),F(ot,U,I,N,V,H,W)):(F(ot,U,I,N,V,H,W),F(ut,U,I,N,V,H,W)),U}return U.push(B),U}function L(B,U){for(var I=0,N=B.length-1;B.length>3&&N>=0;--N)h(f(B,N-1),f(B,N),f(B,N+1),U)&&(B.splice(N%B.length,1),I++);return I}function G(B,U){for(var I=B.length-1;I>=1;--I)for(var N=B[I],V=I-1;V>=0;--V)if(X(N,B[V],U)){B.splice(I,1);continue}}function z(B,U,I){return I=I||0,Math.abs(B-U)<=I}function X(B,U,I){return z(B[0],U[0],I)&&z(B[1],U[1],I)}},52018:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s){this.pluginManager=s,this.game=s.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});e.exports=g},42363:e=>{var y={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};e.exports=y},37277:e=>{var y={},t={},a={};a.register=function(g,l,s,o){o===void 0&&(o=!1),y[g]={plugin:l,mapping:s,custom:o}},a.registerCustom=function(g,l,s,o){t[g]={plugin:l,mapping:s,data:o}},a.hasCore=function(g){return y.hasOwnProperty(g)},a.hasCustom=function(g){return t.hasOwnProperty(g)},a.getCore=function(g){return y[g]},a.getCustom=function(g){return t[g]},a.getCustomClass=function(g){return t.hasOwnProperty(g)?t[g].plugin:null},a.remove=function(g){y.hasOwnProperty(g)&&delete y[g]},a.removeCustom=function(g){t.hasOwnProperty(g)&&delete t[g]},a.destroyCorePlugins=function(){for(var g in y)y.hasOwnProperty(g)&&delete y[g]},a.destroyCustomPlugins=function(){for(var g in t)t.hasOwnProperty(g)&&delete t[g]},e.exports=a},77332:(e,y,t)=>{var a=t(83419),g=t(8443),l=t(50792),s=t(74099),o=t(44603),n=t(39429),i=t(95540),h=t(37277),r=t(72905),f=new a({Extends:l,initialize:function(d){l.call(this),this.game=d,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],d.isBooted?this.boot():d.events.once(g.BOOT,this.boot,this)},boot:function(){var c,d,p,m,C,S,E,D=this.game.config,M=D.installGlobalPlugins;for(M=M.concat(this._pendingGlobal),c=0;c<M.length;c++)d=M[c],p=i(d,"key",null),m=i(d,"plugin",null),C=i(d,"start",!1),S=i(d,"mapping",null),E=i(d,"data",null),p&&(m?this.install(p,m,C,S,E):console.warn("Missing `plugin` for key: "+p));for(M=D.installScenePlugins,M=M.concat(this._pendingScene),c=0;c<M.length;c++)d=M[c],p=i(d,"key",null),m=i(d,"plugin",null),S=i(d,"mapping",null),p&&(m?this.installScenePlugin(p,m,S):console.warn("Missing `plugin` for key: "+p));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(g.DESTROY,this.destroy,this)},addToScene:function(c,d,p){var m,C,S,E=this.game,D=c.scene,M=c.settings.map,w=c.settings.isBooted;for(m=0;m<d.length;m++)C=d[m],E[C]?(c[C]=E[C],M.hasOwnProperty(C)&&(D[M[C]]=c[C])):C==="game"&&M.hasOwnProperty(C)&&(D[M[C]]=E);for(var A=0;A<p.length;A++)for(S=p[A],m=0;m<S.length;m++)if(C=S[m],!!h.hasCore(C)){var R=h.getCore(C),P=R.mapping,O=new R.plugin(D,this,P);c[P]=O,R.custom?D[P]=O:M.hasOwnProperty(P)&&(D[M[P]]=O),w&&O.boot()}for(S=this.plugins,m=0;m<S.length;m++){var b=S[m];b.mapping&&(D[b.mapping]=b.plugin)}},getDefaultScenePlugins:function(){var c=this.game.config.defaultPlugins;return c=c.concat(this.scenePlugins),c},installScenePlugin:function(c,d,p,m,C){if(C===void 0&&(C=!1),typeof d!="function"){console.warn("Invalid Scene Plugin: "+c);return}if(h.hasCore(c)||h.register(c,d,p,!0),this.scenePlugins.indexOf(c)===-1)this.scenePlugins.push(c);else if(!C&&h.hasCore(c)){console.warn("Scene Plugin key in use: "+c);return}if(m){var S=new d(m,this,c);m.sys[c]=S,p&&p!==""&&(m[p]=S),S.boot()}},install:function(c,d,p,m,C){if(p===void 0&&(p=!1),m===void 0&&(m=null),C===void 0&&(C=null),typeof d!="function")return console.warn("Invalid Plugin: "+c),null;if(h.hasCustom(c))return console.warn("Plugin key in use: "+c),null;if(m!==null&&(p=!0),!this.game.isBooted)this._pendingGlobal.push({key:c,plugin:d,start:p,mapping:m,data:C});else if(h.registerCustom(c,d,m,C),p)return this.start(c);return null},getIndex:function(c){for(var d=this.plugins,p=0;p<d.length;p++){var m=d[p];if(m.key===c)return p}return-1},getEntry:function(c){var d=this.getIndex(c);if(d!==-1)return this.plugins[d]},isActive:function(c){var d=this.getEntry(c);return d&&d.active},start:function(c,d){d===void 0&&(d=c);var p=this.getEntry(d);return p&&!p.active?(p.active=!0,p.plugin.start()):p||(p=this.createEntry(c,d)),p?p.plugin:null},createEntry:function(c,d){var p=h.getCustom(c);if(p){var m=new p.plugin(this);p={key:d,plugin:m,active:!0,mapping:p.mapping,data:p.data},this.plugins.push(p),m.init(p.data),m.start()}return p},stop:function(c){var d=this.getEntry(c);return d&&d.active&&(d.active=!1,d.plugin.stop()),this},get:function(c,d){d===void 0&&(d=!0);var p=this.getEntry(c);if(p)return p.plugin;var m=this.getClass(c);return m&&d?(p=this.createEntry(c,c),p?p.plugin:null):m||null},getClass:function(c){return h.getCustomClass(c)},removeGlobalPlugin:function(c){var d=this.getEntry(c);d&&r(this.plugins,d),h.removeCustom(c)},removeScenePlugin:function(c){r(this.scenePlugins,c),h.remove(c)},registerGameObject:function(c,d,p){return d&&n.register(c,d),p&&o.register(c,p),this},removeGameObject:function(c,d,p){return d===void 0&&(d=!0),p===void 0&&(p=!0),d&&n.remove(c),p&&o.remove(c),this},registerFileType:function(c,d,p){s.register(c,d),p&&p.sys.load&&(p.sys.load[c]=d)},destroy:function(){for(var c=0;c<this.plugins.length;c++)this.plugins[c].plugin.destroy();h.destroyCustomPlugins(),this.game.noReturn&&h.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});e.exports=f},45145:(e,y,t)=>{var a=t(52018),g=t(83419),l=t(44594),s=new g({Extends:a,initialize:function(n,i,h){a.call(this,i),this.scene=n,this.systems=n.sys,this.pluginKey=h,n.sys.events.once(l.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});e.exports=s},18922:(e,y,t)=>{e.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(e){let y=performance.now(),t=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,g=(l,s)=>{let o=this.getVideoPlaybackQuality(),n=this.mozPresentedFrames||this.mozPaintedFrames||o.totalVideoFrames-o.droppedVideoFrames;if(n>a){let i=this.mozFrameDelay||o.totalFrameDelay-t.totalFrameDelay||0,h=s-l;e(s,{presentationTime:s+i*1e3,expectedDisplayTime:s+h,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+h/1e3,presentedFrames:n,processingDuration:i}),delete this._rvfcpolyfillmap[y]}else this._rvfcpolyfillmap[y]=requestAnimationFrame(i=>g(s,i))};return this._rvfcpolyfillmap[y]=requestAnimationFrame(l=>g(y,l)),y},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(e){cancelAnimationFrame(this._rvfcpolyfillmap[e]),delete this._rvfcpolyfillmap[e]})},10312:e=>{e.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:e=>{var y={DEFAULT:0,LINEAR:0,NEAREST:1};e.exports=y},68627:(e,y,t)=>{var a=t(19715),g=t(32880),l=t(83419),s=t(8054),o=t(50792),n=t(92503),i=t(56373),h=t(97480),r=t(69442),f=t(61340),c=new l({Extends:o,initialize:function(p){o.call(this);var m=p.config;this.config={clearBeforeRender:m.clearBeforeRender,backgroundColor:m.backgroundColor,antialias:m.antialias,roundPixels:m.roundPixels},this.game=p,this.type=s.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=p.canvas;var C={alpha:p.config.transparent,desynchronized:p.config.desynchronized,willReadFrequently:!1};this.gameContext=m.context?m.context:this.gameCanvas.getContext("2d",C),this.currentContext=this.gameContext,this.antialias=p.config.antialias,this.blendModes=i(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(r.READY,this.boot,this)},boot:function(){var d=this.game,p=d.scale.baseSize;this.width=p.width,this.height=p.height,this.isBooted=!0,d.scale.on(h.RESIZE,this.onResize,this),this.resize(p.width,p.height)},onResize:function(d,p){(p.width!==this.width||p.height!==this.height)&&this.resize(p.width,p.height)},resize:function(d,p){this.width=d,this.height=p,this.emit(n.RESIZE,d,p)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(d){return this.currentContext.globalCompositeOperation=d,this},setContext:function(d){return this.currentContext=d||this.gameContext,this},setAlpha:function(d){return this.currentContext.globalAlpha=d,this},preRender:function(){var d=this.gameContext,p=this.config,m=this.width,C=this.height;d.globalAlpha=1,d.globalCompositeOperation="source-over",d.setTransform(1,0,0,1,0,0),p.clearBeforeRender&&(d.clearRect(0,0,m,C),p.transparent||(d.fillStyle=p.backgroundColor.rgba,d.fillRect(0,0,m,C))),d.save(),this.drawCount=0,this.emit(n.PRE_RENDER)},render:function(d,p,m){var C=p.length;this.emit(n.RENDER,d,m);var S=m.x,E=m.y,D=m.width,M=m.height,w=m.renderToTexture?m.context:d.sys.context;w.save(),this.game.scene.customViewports&&(w.beginPath(),w.rect(S,E,D,M),w.clip()),m.emit(a.PRE_RENDER,m),this.currentContext=w;var A=m.mask;A&&A.preRenderCanvas(this,null,m._maskCamera),m.transparent||(w.fillStyle=m.backgroundColor.rgba,w.fillRect(S,E,D,M)),w.globalAlpha=m.alpha,w.globalCompositeOperation="source-over",this.drawCount+=C,m.renderToTexture&&m.emit(a.PRE_RENDER,m),m.matrix.copyToContext(w);for(var R=0;R<C;R++){var P=p[R];P.mask&&P.mask.preRenderCanvas(this,P,m),P.renderCanvas(this,P,m),P.mask&&P.mask.postRenderCanvas(this,P,m)}w.setTransform(1,0,0,1,0,0),w.globalCompositeOperation="source-over",w.globalAlpha=1,m.flashEffect.postRenderCanvas(w),m.fadeEffect.postRenderCanvas(w),m.dirty=!1,A&&A.postRenderCanvas(this),w.restore(),m.renderToTexture&&(m.emit(a.POST_RENDER,m),m.renderToGame&&d.sys.context.drawImage(m.canvas,S,E)),m.emit(a.POST_RENDER,m)},postRender:function(){var d=this.gameContext;d.restore(),this.emit(n.POST_RENDER);var p=this.snapshotState;p.callback&&(g(this.gameCanvas,p),p.callback=null)},snapshotCanvas:function(d,p,m,C,S,E,D,M,w){m===void 0&&(m=!1),this.snapshotArea(C,S,E,D,p,M,w);var A=this.snapshotState;return A.getPixel=m,g(d,A),A.callback=null,this},snapshot:function(d,p,m){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,d,p,m)},snapshotArea:function(d,p,m,C,S,E,D){var M=this.snapshotState;return M.callback=S,M.type=E,M.encoder=D,M.getPixel=!1,M.x=d,M.y=p,M.width=Math.min(m,this.gameCanvas.width),M.height=Math.min(C,this.gameCanvas.height),this},snapshotPixel:function(d,p,m){return this.snapshotArea(d,p,1,1,m),this.snapshotState.getPixel=!0,this},batchSprite:function(d,p,m,C){var S=m.alpha*d.alpha;if(S!==0){var E=this.currentContext,D=this._tempMatrix1,M=this._tempMatrix2,w=p.canvasData,A=w.x,R=w.y,P=p.cutWidth,O=p.cutHeight,b=p.customPivot,F=p.source.resolution,L=d.displayOriginX,G=d.displayOriginY,z=-L+p.x,X=-G+p.y;if(d.isCropped){var B=d._crop;(B.flipX!==d.flipX||B.flipY!==d.flipY)&&p.updateCropUVs(B,d.flipX,d.flipY),P=B.cw,O=B.ch,A=B.cx,R=B.cy,z=-L+B.x,X=-G+B.y,d.flipX&&(z>=0?z=-(z+P):z<0&&(z=Math.abs(z)-P)),d.flipY&&(X>=0?X=-(X+O):X<0&&(X=Math.abs(X)-O))}var U=1,I=1;d.flipX&&(b||(z+=-p.realWidth+L*2),U=-1),d.flipY&&(b||(X+=-p.realHeight+G*2),I=-1);var N=d.x,V=d.y;M.applyITRS(N,V,d.rotation,d.scaleX*U,d.scaleY*I),D.copyFrom(m.matrix),C?(D.multiplyWithOffset(C,-m.scrollX*d.scrollFactorX,-m.scrollY*d.scrollFactorY),M.e=N,M.f=V):(M.e-=m.scrollX*d.scrollFactorX,M.f-=m.scrollY*d.scrollFactorY),D.multiply(M),m.roundPixels&&(D.e=Math.round(D.e),D.f=Math.round(D.f)),E.save(),D.setToContext(E),E.globalCompositeOperation=this.blendModes[d.blendMode],E.globalAlpha=S,E.imageSmoothingEnabled=!p.source.scaleMode,d.mask&&d.mask.preRenderCanvas(this,d,m),P>0&&O>0&&(m.roundPixels?E.drawImage(p.source.image,A,R,P,O,Math.round(z),Math.round(X),Math.round(P/F),Math.round(O/F)):E.drawImage(p.source.image,A,R,P,O,z,X,P/F,O/F)),d.mask&&d.mask.postRenderCanvas(this,d,m),E.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});e.exports=c},55830:(e,y,t)=>{e.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(e,y,t)=>{var a=t(10312),g=t(89289),l=function(){var s=[],o=g.supportNewBlendModes,n="source-over";return s[a.NORMAL]=n,s[a.ADD]="lighter",s[a.MULTIPLY]=o?"multiply":n,s[a.SCREEN]=o?"screen":n,s[a.OVERLAY]=o?"overlay":n,s[a.DARKEN]=o?"darken":n,s[a.LIGHTEN]=o?"lighten":n,s[a.COLOR_DODGE]=o?"color-dodge":n,s[a.COLOR_BURN]=o?"color-burn":n,s[a.HARD_LIGHT]=o?"hard-light":n,s[a.SOFT_LIGHT]=o?"soft-light":n,s[a.DIFFERENCE]=o?"difference":n,s[a.EXCLUSION]=o?"exclusion":n,s[a.HUE]=o?"hue":n,s[a.SATURATION]=o?"saturation":n,s[a.COLOR]=o?"color":n,s[a.LUMINOSITY]=o?"luminosity":n,s[a.ERASE]="destination-out",s[a.SOURCE_IN]="source-in",s[a.SOURCE_OUT]="source-out",s[a.SOURCE_ATOP]="source-atop",s[a.DESTINATION_OVER]="destination-over",s[a.DESTINATION_IN]="destination-in",s[a.DESTINATION_OUT]="destination-out",s[a.DESTINATION_ATOP]="destination-atop",s[a.LIGHTER]="lighter",s[a.COPY]="copy",s[a.XOR]="xor",s};e.exports=l},20926:(e,y,t)=>{var a=t(91296),g=function(l,s,o,n,i){var h=n.alpha*o.alpha;if(h<=0)return!1;var r=a(o,n,i).calc;return s.globalCompositeOperation=l.blendModes[o.blendMode],s.globalAlpha=h,s.save(),r.setToContext(s),s.imageSmoothingEnabled=o.frame?!o.frame.source.scaleMode:l.antialias,!0};e.exports=g},63899:e=>{e.exports="losewebgl"},6119:e=>{e.exports="postrender"},48070:e=>{e.exports="prerender"},15640:e=>{e.exports="render"},8912:e=>{e.exports="resize"},87124:e=>{e.exports="restorewebgl"},92503:(e,y,t)=>{e.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(e,y,t)=>{e.exports={Events:t(92503),Snapshot:t(89966)},e.exports.Canvas=t(55830),e.exports.WebGL=t(4159)},32880:(e,y,t)=>{var a=t(27919),g=t(40987),l=t(95540),s=function(o,n){var i=l(n,"callback"),h=l(n,"type","image/png"),r=l(n,"encoder",.92),f=Math.abs(Math.round(l(n,"x",0))),c=Math.abs(Math.round(l(n,"y",0))),d=Math.floor(l(n,"width",o.width)),p=Math.floor(l(n,"height",o.height)),m=l(n,"getPixel",!1);if(m){var C=o.getContext("2d",{willReadFrequently:!1}),S=C.getImageData(f,c,1,1),E=S.data;i.call(null,new g(E[0],E[1],E[2],E[3]))}else if(f!==0||c!==0||d!==o.width||p!==o.height){var D=a.createWebGL(this,d,p),M=D.getContext("2d",{willReadFrequently:!0});d>0&&p>0&&M.drawImage(o,f,c,d,p,0,0,d,p);var w=new Image;w.onerror=function(){i.call(null),a.remove(D)},w.onload=function(){i.call(null,w),a.remove(D)},w.src=D.toDataURL(h,r)}else{var A=new Image;A.onerror=function(){i.call(null)},A.onload=function(){i.call(null,A)},A.src=o.toDataURL(h,r)}};e.exports=s},88815:(e,y,t)=>{var a=t(27919),g=t(40987),l=t(95540),s=function(o,n){var i=o,h=l(n,"callback"),r=l(n,"type","image/png"),f=l(n,"encoder",.92),c=Math.abs(Math.round(l(n,"x",0))),d=Math.abs(Math.round(l(n,"y",0))),p=l(n,"getPixel",!1),m=l(n,"isFramebuffer",!1),C=m?l(n,"bufferWidth",1):i.drawingBufferWidth,S=m?l(n,"bufferHeight",1):i.drawingBufferHeight;if(p){var E=new Uint8Array(4),D=m?d:S-d;i.readPixels(c,D,1,1,i.RGBA,i.UNSIGNED_BYTE,E),h.call(null,new g(E[0],E[1],E[2],E[3]))}else{var M=Math.floor(l(n,"width",C)),w=Math.floor(l(n,"height",S)),A=M*w*4,R=new Uint8Array(A);i.readPixels(c,S-d-w,M,w,i.RGBA,i.UNSIGNED_BYTE,R);for(var P=a.createWebGL(this,M,w),O=P.getContext("2d",{willReadFrequently:!0}),b=O.getImageData(0,0,M,w),F=b.data,L=0;L<w;L++)for(var G=0;G<M;G++){var z=((w-L-1)*M+G)*4,X=m?A-(L*M+(M-G))*4:(L*M+G)*4;F[X+0]=R[z+0],F[X+1]=R[z+1],F[X+2]=R[z+2],F[X+3]=R[z+3]}O.putImageData(b,0,0);var B=new Image;B.onerror=function(){h.call(null),a.remove(P)},B.onload=function(){h.call(null,B),a.remove(P)},B.src=P.toDataURL(r,f)}};e.exports=s},89966:(e,y,t)=>{e.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(e,y,t)=>{var a=t(83419),g=t(36060),l=t(90330),s=t(82264),o=t(95540),n=t(32302),i=t(63448),h=t(31302),r=t(58918),f=t(14811),c=t(92651),d=t(96569),p=t(56527),m=t(57516),C=t(43439),S=t(81041),E=t(12385),D=t(7589),M=t(95428),w=t(72905),A=new a({initialize:function(P){this.game=P.game,this.renderer=P,this.classes=new l([[g.UTILITY_PIPELINE,D],[g.MULTI_PIPELINE,m],[g.BITMAPMASK_PIPELINE,h],[g.SINGLE_PIPELINE,E],[g.ROPE_PIPELINE,S],[g.LIGHT_PIPELINE,d],[g.POINTLIGHT_PIPELINE,C],[g.MOBILE_PIPELINE,p]]),this.postPipelineClasses=new l,this.pipelines=new l,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(R,P,O){var b=this.renderer,F=this.renderTargets;this.frameInc=Math.floor(o(R,"frameInc",32));var L=b.width,G=b.height,z=this.game.config.disablePreFX,X=this.game.config.disablePostFX;if(X||this.postPipelineClasses.setAll([[String(f.BARREL),r.Barrel],[String(f.BLOOM),r.Bloom],[String(f.BLUR),r.Blur],[String(f.BOKEH),r.Bokeh],[String(f.CIRCLE),r.Circle],[String(f.COLOR_MATRIX),r.ColorMatrix],[String(f.DISPLACEMENT),r.Displacement],[String(f.GLOW),r.Glow],[String(f.GRADIENT),r.Gradient],[String(f.PIXELATE),r.Pixelate],[String(f.SHADOW),r.Shadow],[String(f.SHINE),r.Shine],[String(f.VIGNETTE),r.Vignette],[String(f.WIPE),r.Wipe]]),!z){this.classes.set(g.FX_PIPELINE,c);for(var B=Math.min(L,G),U=Math.ceil(B/this.frameInc),I=1;I<U;I++){var N=I*this.frameInc;F.push(new n(b,N,N)),F.push(new n(b,N,N)),F.push(new n(b,N,N)),this.maxDimension=N}F.push(new n(b,L,G,1,0,!0,!0)),F.push(new n(b,L,G,1,0,!0,!0)),F.push(new n(b,L,G,1,0,!0,!0))}var V,H,W=this,Y=this.game;if(this.classes.each(function(k,$){V=W.add(k,new $({game:Y})),k===g.UTILITY_PIPELINE&&(W.UTILITY_PIPELINE=V,W.fullFrame1=V.fullFrame1,W.fullFrame2=V.fullFrame2,W.halfFrame1=V.halfFrame1,W.halfFrame2=V.halfFrame2)}),this.MULTI_PIPELINE=this.get(g.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(g.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(g.MOBILE_PIPELINE),z||(this.FX_PIPELINE=this.get(g.FX_PIPELINE)),R)for(H in R){var j=R[H];V=new j(Y),V.name=H,V.isPostFX?this.postPipelineClasses.set(H,j):this.has(H)||(this.classes.set(H,j),this.add(H,V))}this.default=this.get(P),O&&!s.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(R){var P=this.get(R);return P&&(this.default=P),P},add:function(R,P){if(P.isPostFX){console.warn(R+" is a Post Pipeline. Use `addPostPipeline` instead");return}var O=this.pipelines,b=this.renderer;return O.has(R)?console.warn("Pipeline exists: "+R):(P.name=R,P.manager=this,O.set(R,P)),P.hasBooted||P.boot(),b.width!==0&&b.height!==0&&!P.isPreFX&&P.resize(b.width,b.height),P},addPostPipeline:function(R,P){this.postPipelineClasses.has(R)||this.postPipelineClasses.set(R,P)},flush:function(){this.current&&this.current.flush()},has:function(R){var P=this.pipelines;return typeof R=="string"?P.has(R):!!P.contains(R)},get:function(R){var P=this.pipelines;if(typeof R=="string")return P.get(R);if(P.contains(R))return R},getPostPipeline:function(R,P,O){var b=this.postPipelineClasses,F,L="",G=typeof R;if(G==="string"||G==="number"?(F=b.get(R),L=R):G==="function"?(b.contains(R)&&(F=R),L=R.name):G==="object"&&(F=b.get(R.name),L=R.name),F){var z=new F(this.game,O);return z.name=L,P&&(z.gameObject=P),this.postPipelineInstances.push(z),z}},removePostPipeline:function(R){w(this.postPipelineInstances,R)},remove:function(R,P,O){P===void 0&&(P=!0),O===void 0&&(O=!0),this.pipelines.delete(R),P&&this.classes.delete(R),O&&this.postPipelineClasses.delete(R)},set:function(R,P,O){if(!R.isPostFX)return this.isCurrent(R,O)||(this.flush(),this.current&&this.current.unbind(),this.current=R,R.bind(O)),R.updateProjectionMatrix(),R.onBind(P),R},preBatch:function(R){if(R.hasPostPipeline){this.flush();for(var P=R.postPipelines,O=P.length-1;O>=0;O--){var b=P[O];b.active&&b.preBatch(R)}}},postBatch:function(R){if(R.hasPostPipeline){this.flush();for(var P=R.postPipelines,O=0;O<P.length;O++){var b=P[O];b.active&&b.postBatch(R)}}},preBatchCamera:function(R){if(R.hasPostPipeline){this.flush();for(var P=R.postPipelines,O=P.length-1;O>=0;O--){var b=P[O];b.active&&b.preBatch(R)}}},postBatchCamera:function(R){if(R.hasPostPipeline){this.flush();for(var P=R.postPipelines,O=0;O<P.length;O++){var b=P[O];b.active&&b.postBatch(R)}}},isCurrent:function(R,P){var O=this.renderer,b=this.current;return b&&!P&&(P=b.currentShader),!(b!==R||P.program!==O.currentProgram)},copyFrame:function(R,P,O,b,F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(R,P,O,b,F),this},copyToGame:function(R){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(R),this},drawFrame:function(R,P,O,b){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(R,P,O,b),this},blendFrames:function(R,P,O,b,F){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(R,P,O,b,F),this},blendFramesAdditive:function(R,P,O,b,F){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(R,P,O,b,F),this},clearFrame:function(R,P){return this.UTILITY_PIPELINE.clearFrame(R,P),this},blitFrame:function(R,P,O,b,F,L){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(R,P,O,b,F,L),this},copyFrameRect:function(R,P,O,b,F,L,G,z){return this.UTILITY_PIPELINE.copyFrameRect(R,P,O,b,F,L,G,z),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(R){return this.UTILITY_PIPELINE.bind(R)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(R,P){P.restoreContext()}),M(this.postPipelineInstances,function(R){R.restoreContext()})},rebind:function(R){R===void 0&&this.previous&&(R=this.previous);var P=this.renderer,O=P.gl;O.disable(O.DEPTH_TEST),O.disable(O.CULL_FACE),P.hasActiveStencilMask()?O.clear(O.DEPTH_BUFFER_BIT):(O.disable(O.STENCIL_TEST),O.clear(O.DEPTH_BUFFER_BIT|O.STENCIL_BUFFER_BIT)),O.viewport(0,0,P.width,P.height),P.currentProgram=null,P.setBlendMode(0,!0);var b=P.vaoExtension;b&&b.bindVertexArrayOES(null);var F=this.pipelines.entries;for(var L in F)F[L].glReset=!0;R&&(this.current=R,R.rebind())},clear:function(){var R=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,R.currentProgram=null,R.setBlendMode(0,!0);var P=R.vaoExtension;P&&P.bindVertexArrayOES(null)},getRenderTarget:function(R){var P=this.renderTargets,O=3;if(R>this.maxDimension)return this.targetIndex=P.length-O,P[this.targetIndex];var b=(i(R,this.frameInc,0,!0)-1)*O;return this.targetIndex=b,P[b]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});e.exports=A},32302:(e,y,t)=>{var a=t(83419),g=t(92503),l=new a({initialize:function(o,n,i,h,r,f,c,d,p){h===void 0&&(h=1),r===void 0&&(r=0),f===void 0&&(f=!0),c===void 0&&(c=!1),d===void 0&&(d=!0),p===void 0&&(p=!0),this.renderer=o,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=h,this.minFilter=r,this.autoClear=f,this.autoResize=!0,this.hasDepthBuffer=d,this.forceClamp=p,this.resize(n,i),c?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(s){return s&&!this.autoResize?(this.renderer.on(g.RESIZE,this.resize,this),this.autoResize=!0):!s&&this.autoResize&&(this.renderer.off(g.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(s,o){if(s=Math.round(s*this.scale),o=Math.round(o*this.scale),s<=0&&(s=1),o<=0&&(o=1),this.autoResize&&(s!==this.width||o!==this.height)){var n=this.renderer;n.deleteFramebuffer(this.framebuffer),n.deleteTexture(this.texture),this.texture=n.createTextureFromSource(null,s,o,this.minFilter,this.forceClamp),this.framebuffer=n.createFramebuffer(s,o,this.texture,this.hasDepthBuffer),this.width=s,this.height=o}return this},willResize:function(s,o){return s=Math.round(s*this.scale),o=Math.round(o*this.scale),s<=0&&(s=1),o<=0&&(o=1),s!==this.width||o!==this.height},bind:function(s,o,n){s===void 0&&(s=!1);var i=this.renderer;if(s&&i.flush(),o&&n&&this.resize(o,n),i.pushFramebuffer(this.framebuffer,!1,!1),s&&this.adjustViewport(),this.autoClear){var h=this.renderer.gl;h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT)}i.clearStencilMask()},adjustViewport:function(){var s=this.renderer.gl;s.viewport(0,0,this.width,this.height),s.disable(s.SCISSOR_TEST)},clear:function(){var s=this.renderer,o=s.gl;s.pushFramebuffer(this.framebuffer),o.disable(o.SCISSOR_TEST),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),s.popFramebuffer(),s.resetScissor()},unbind:function(s){s===void 0&&(s=!1);var o=this.renderer;return s&&o.flush(),o.popFramebuffer()},destroy:function(){var s=this.renderer;s.off(g.RESIZE,this.resize,this),s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});e.exports=l},70554:e=>{e.exports={getTintFromFloats:function(y,t,a,g){var l=(y*255|0)&255,s=(t*255|0)&255,o=(a*255|0)&255,n=(g*255|0)&255;return(n<<24|l<<16|s<<8|o)>>>0},getTintAppendFloatAlpha:function(y,t){var a=(t*255|0)&255;return(a<<24|y)>>>0},getTintAppendFloatAlphaAndSwap:function(y,t){var a=(y>>16|0)&255,g=(y>>8|0)&255,l=(y|0)&255,s=(t*255|0)&255;return(s<<24|l<<16|g<<8|a)>>>0},getFloatsFromUintRGB:function(y){var t=(y>>16|0)&255,a=(y>>8|0)&255,g=(y|0)&255;return[t/255,a/255,g/255]},checkShaderMax:function(y,t){var a=Math.min(16,y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?a:Math.min(a,t)},parseFragmentShaderMaxTextures:function(y,t){if(!y)return"";for(var a="",g=0;g<t;g++)g>0&&(a+=`
	else `),g<t-1&&(a+="if (outTexId < "+g+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+g+"], outTexCoord);",a+=`
	}`;return y=y.replace(/%count%/gi,t.toString()),y.replace(/%forloop%/gi,a)},setGlowQuality:function(y,t,a,g){return a===void 0&&(a=t.config.glowFXQuality),g===void 0&&(g=t.config.glowFXDistance),y=y.replace(/__SIZE__/gi,(1/a/g).toFixed(7)),y=y.replace(/__DIST__/gi,g.toFixed(0)+".0"),y}}},29100:(e,y,t)=>{var a=t(83419),g=t(62644),l=t(50792),s=t(77085),o=t(95540),n=t(37867),i=t(92503),h=t(32302),r=t(70554),f=t(38683),c=new a({Extends:l,initialize:function(p){l.call(this);var m=p.game,C=m.renderer,S=C.gl;this.name=o(p,"name","WebGLPipeline"),this.game=m,this.renderer=C,this.manager,this.gl=S,this.view=m.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=o(p,"topology",S.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=o(p,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=p,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=o(p,"resizeUniform","")},boot:function(){var d,p=this.gl,m=this.config,C=this.renderer;this.isPostFX||(this.projectionMatrix=new n().identity());var S=this.renderTargets,E=o(m,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var D=C.width,M=C.height;if(typeof E=="number")for(d=0;d<E;d++)S.push(new h(C,D,M,1,0,!0));else if(Array.isArray(E))for(d=0;d<E.length;d++){var w=o(E[d],"scale",1),A=o(E[d],"minFilter",0),R=o(E[d],"autoClear",1),P=o(E[d],"autoResize",!1),O=o(E[d],"width",null),b=o(E[d],"height",O);O?S.push(new h(C,O,b,1,A,R,P)):S.push(new h(C,D,M,w,A,R,P))}S.length&&(this.currentRenderTarget=S[0]),this.setShadersFromConfig(m);var F=this.shaders,L=0;for(d=0;d<F.length;d++)F[d].vertexSize>L&&(L=F[d].vertexSize);var G=o(m,"batchSize",C.config.batchSize);this.vertexCapacity=G*6;var z=new ArrayBuffer(this.vertexCapacity*L);this.vertexData=z,this.bytes=new Uint8Array(z),this.vertexViewF32=new Float32Array(z),this.vertexViewU32=new Uint32Array(z);var X=o(m,"vertices",null);for(X?(this.vertexViewF32.set(X),this.vertexBuffer=C.createVertexBuffer(z,p.STATIC_DRAW)):this.vertexBuffer=C.createVertexBuffer(z.byteLength,p.DYNAMIC_DRAW),this.setVertexBuffer(),d=F.length-1;d>=0;d--)F[d].rebind();this.hasBooted=!0,C.on(i.RESIZE,this.resize,this),C.on(i.PRE_RENDER,this.onPreRender,this),C.on(i.RENDER,this.onRender,this),C.on(i.POST_RENDER,this.onPostRender,this),this.emit(s.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,p,m){var C=this.renderer;if(d!==this.currentShader||C.currentProgram!==this.currentShader.program){this.flush();var S=this.setVertexBuffer(m);S&&!p&&(p=!0),d.bind(p,!1),this.currentShader=d}return this},getShaderByName:function(d){for(var p=this.shaders,m=0;m<p.length;m++)if(p[m].name===d)return p[m]},setShadersFromConfig:function(d){var p,m=this.shaders,C=this.renderer;for(p=0;p<m.length;p++)m[p].destroy();var S="vertShader",E="fragShader",D="attributes",M=o(d,S,null),w=r.parseFragmentShaderMaxTextures(o(d,E,null),C.maxTextures),A=o(d,D,null),R=o(d,"shaders",[]),P=R.length;if(P===0)M&&w&&(this.shaders=[new f(this,"default",M,w,g(A))]);else{var O=[];for(p=0;p<P;p++){var b=R[p],F,L,G,z;if(typeof b=="string"?(F="default",L=M,G=r.parseFragmentShaderMaxTextures(b,C.maxTextures),z=A):(F=o(b,"name","default"),L=o(b,S,M),G=r.parseFragmentShaderMaxTextures(o(b,E,w),C.maxTextures),z=o(b,D,A)),F==="default"){var X=G.split(`
`),B=X[0].trim();B.indexOf("#define SHADER_NAME")>-1&&(F=B.substring(20))}L&&G&&O.push(new f(this,F,L,G,g(z)))}this.shaders=O}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(d){return this.currentBatch={start:this.vertexCount,count:0,texture:[d],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=d,this.batch.push(this.currentBatch),0},addTextureToBatch:function(d){var p=this.currentBatch;p&&(p.texture.push(d),p.unit++,p.maxUnit++)},pushBatch:function(d){if(!this.currentBatch||this.forceZero&&d!==this.currentTexture)return this.createBatch(d);if(d===this.currentTexture)return this.currentUnit;var p=this.currentBatch,m=p.texture.indexOf(d);return m===-1?p.texture.length===this.renderer.maxTextures?this.createBatch(d):(p.unit++,p.maxUnit++,p.texture.push(d),this.currentUnit=p.unit,this.currentTexture=d,p.unit):(this.currentUnit=m,this.currentTexture=d,m)},setGameObject:function(d,p){return p===void 0&&(p=d.frame),this.pushBatch(p.source.glTexture)},shouldFlush:function(d){return d===void 0&&(d=0),this.vertexCount+d>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(d,p){(d!==this.width||p!==this.height)&&this.flush(),this.width=d,this.height=p;for(var m=this.renderTargets,C=0;C<m.length;C++)m[C].resize(d,p);return this.setProjectionMatrix(d,p),this.resizeUniform&&this.set2f(this.resizeUniform,d,p),this.emit(s.RESIZE,d,p,this),this.onResize(d,p),this},setProjectionMatrix:function(d,p){var m=this.projectionMatrix;if(!m)return this;this.projectionWidth=d,this.projectionHeight=p,m.ortho(0,d,p,0,-1e3,1e3);for(var C=this.shaders,S="uProjectionMatrix",E=0;E<C.length;E++){var D=C[E];D.hasUniform(S)&&(D.resetUniform(S),D.setMatrix4fv(S,!1,m.val,D))}return this},flipProjectionMatrix:function(d){d===void 0&&(d=!0);var p=this.projectionMatrix;if(!p)return this;var m=this.projectionWidth,C=this.projectionHeight;d?p.ortho(0,m,0,C,-1e3,1e3):p.ortho(0,m,C,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,p.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var d=this.renderer.projectionWidth,p=this.renderer.projectionHeight;(this.projectionWidth!==d||this.projectionHeight!==p)&&this.setProjectionMatrix(d,p)}},bind:function(d){if(d===void 0&&(d=this.currentShader),this.glReset)return this.rebind(d);var p=!1,m=this.gl;return m.getParameter(m.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(m.bindBuffer(m.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,p=!0),d.bind(p),this.currentShader=d,this.activeTextures.length=0,this.emit(s.BIND,this,d),this.onActive(d),this},rebind:function(d){this.activeBuffer=null,this.setVertexBuffer();for(var p=this.shaders,m=p.length-1;m>=0;m--){var C=p[m].rebind();(!d||C===d)&&(this.currentShader=C)}return this.activeTextures.length=0,this.emit(s.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var d=this.shaders,p=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,p&&this.setVertexBuffer();for(var m=0;m<d.length;m++){var C=d[m];C.syncUniforms(),p&&C.rebind()}},setVertexBuffer:function(d){if(d===void 0&&(d=this.vertexBuffer),d!==this.activeBuffer){var p=this.gl;return this.gl.bindBuffer(p.ARRAY_BUFFER,d.webGLBuffer),this.activeBuffer=d,!0}return!1},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){if(d===void 0&&(d=!1),this.vertexCount>0){this.emit(s.BEFORE_FLUSH,this,d),this.onBeforeFlush(d);var p=this.gl,m=this.vertexCount,C=this.currentShader.vertexSize,S=this.topology;if(this.active){this.setVertexBuffer(),m===this.vertexCapacity?p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.DYNAMIC_DRAW):p.bufferSubData(p.ARRAY_BUFFER,0,this.bytes.subarray(0,m*C));var E,D,M,w=this.batch,A=this.activeTextures;if(this.forceZero)for(A[0]||p.activeTexture(p.TEXTURE0),E=0;E<w.length;E++)D=w[E],M=D.texture[0],A[0]!==M&&(p.bindTexture(p.TEXTURE_2D,M.webGLTexture),A[0]=M),p.drawArrays(S,D.start,D.count);else for(E=0;E<w.length;E++){D=w[E];for(var R=0;R<=D.maxUnit;R++)M=D.texture[R],A[R]!==M&&(p.activeTexture(p.TEXTURE0+R),p.bindTexture(p.TEXTURE_2D,M.webGLTexture),A[R]=M);p.drawArrays(S,D.start,D.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(s.AFTER_FLUSH,this,d),this.onAfterFlush(d)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,p,m,C,S,E,D){var M=this.vertexViewF32,w=this.vertexViewU32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;M[++A]=d,M[++A]=p,M[++A]=m,M[++A]=C,M[++A]=S,M[++A]=E,w[++A]=D,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(d,p,m,C,S,E,D,M,w,A,R,P,O,b,F,L,G,z,X,B){B===void 0&&(B=this.currentUnit);var U=!1;this.shouldFlush(6)&&(this.flush(),U=!0),this.currentBatch||(B=this.setTexture2D(X));var I=this.vertexViewF32,N=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return I[++V]=p,I[++V]=m,I[++V]=A,I[++V]=R,I[++V]=B,I[++V]=z,N[++V]=b,I[++V]=C,I[++V]=S,I[++V]=A,I[++V]=O,I[++V]=B,I[++V]=z,N[++V]=L,I[++V]=E,I[++V]=D,I[++V]=P,I[++V]=O,I[++V]=B,I[++V]=z,N[++V]=G,I[++V]=p,I[++V]=m,I[++V]=A,I[++V]=R,I[++V]=B,I[++V]=z,N[++V]=b,I[++V]=E,I[++V]=D,I[++V]=P,I[++V]=O,I[++V]=B,I[++V]=z,N[++V]=G,I[++V]=M,I[++V]=w,I[++V]=P,I[++V]=R,I[++V]=B,I[++V]=z,N[++V]=F,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),U},batchTri:function(d,p,m,C,S,E,D,M,w,A,R,P,O,b,F,L,G){G===void 0&&(G=this.currentUnit);var z=!1;this.shouldFlush(3)&&(this.flush(),z=!0),this.currentBatch||(G=this.setTexture2D(L));var X=this.vertexViewF32,B=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return X[++U]=p,X[++U]=m,X[++U]=M,X[++U]=w,X[++U]=G,X[++U]=F,B[++U]=P,X[++U]=C,X[++U]=S,X[++U]=M,X[++U]=R,X[++U]=G,X[++U]=F,B[++U]=O,X[++U]=E,X[++U]=D,X[++U]=A,X[++U]=R,X[++U]=G,X[++U]=F,B[++U]=b,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),z},drawFillRect:function(d,p,m,C,S,E,D,M){D===void 0&&(D=this.renderer.whiteTexture),M===void 0&&(M=!0),d=Math.floor(d),p=Math.floor(p);var w=Math.floor(d+m),A=Math.floor(p+C),R=this.setTexture2D(D),P=r.getTintAppendFloatAlphaAndSwap(S,E),O=0,b=0,F=1,L=1;M&&(b=1,L=0),this.batchQuad(null,d,p,d,A,w,A,w,p,O,b,F,L,P,P,P,P,0,D,R)},setTexture2D:function(d){return d===void 0&&(d=this.renderer.whiteTexture),this.pushBatch(d)},bindTexture:function(d,p){p===void 0&&(p=0);var m=this.gl;return m.activeTexture(m.TEXTURE0+p),m.bindTexture(m.TEXTURE_2D,d.webGLTexture),this},bindRenderTarget:function(d,p){return this.bindTexture(d.texture,p)},setTime:function(d,p){return this.set1f(d,this.game.loop.getDuration(),p),this},setBoolean:function(d,p,m){return m===void 0&&(m=this.currentShader),m.setBoolean(d,p),this},set1f:function(d,p,m){return m===void 0&&(m=this.currentShader),m.set1f(d,p),this},set2f:function(d,p,m,C){return C===void 0&&(C=this.currentShader),C.set2f(d,p,m),this},set3f:function(d,p,m,C,S){return S===void 0&&(S=this.currentShader),S.set3f(d,p,m,C),this},set4f:function(d,p,m,C,S,E){return E===void 0&&(E=this.currentShader),E.set4f(d,p,m,C,S),this},set1fv:function(d,p,m){return m===void 0&&(m=this.currentShader),m.set1fv(d,p),this},set2fv:function(d,p,m){return m===void 0&&(m=this.currentShader),m.set2fv(d,p),this},set3fv:function(d,p,m){return m===void 0&&(m=this.currentShader),m.set3fv(d,p),this},set4fv:function(d,p,m){return m===void 0&&(m=this.currentShader),m.set4fv(d,p),this},set1iv:function(d,p,m){return m===void 0&&(m=this.currentShader),m.set1iv(d,p),this},set2iv:function(d,p,m){return m===void 0&&(m=this.currentShader),m.set2iv(d,p),this},set3iv:function(d,p,m){return m===void 0&&(m=this.currentShader),m.set3iv(d,p),this},set4iv:function(d,p,m){return m===void 0&&(m=this.currentShader),m.set4iv(d,p),this},set1i:function(d,p,m){return m===void 0&&(m=this.currentShader),m.set1i(d,p),this},set2i:function(d,p,m,C){return C===void 0&&(C=this.currentShader),C.set2i(d,p,m),this},set3i:function(d,p,m,C,S){return S===void 0&&(S=this.currentShader),S.set3i(d,p,m,C),this},set4i:function(d,p,m,C,S,E){return E===void 0&&(E=this.currentShader),E.set4i(d,p,m,C,S),this},setMatrix2fv:function(d,p,m,C){return C===void 0&&(C=this.currentShader),C.setMatrix2fv(d,p,m),this},setMatrix3fv:function(d,p,m,C){return C===void 0&&(C=this.currentShader),C.setMatrix3fv(d,p,m),this},setMatrix4fv:function(d,p,m,C){return C===void 0&&(C=this.currentShader),C.setMatrix4fv(d,p,m),this},destroy:function(){this.emit(s.DESTROY,this);var d,p=this.shaders;for(d=0;d<p.length;d++)p[d].destroy();var m=this.renderTargets;for(d=0;d<m.length;d++)m[d].destroy();var C=this.renderer;return C.deleteBuffer(this.vertexBuffer),C.off(i.RESIZE,this.resize,this),C.off(i.PRE_RENDER,this.onPreRender,this),C.off(i.RENDER,this.onRender,this),C.off(i.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});e.exports=c},74797:(e,y,t)=>{var a=t(95428),g=t(72905),l=t(19715),s=t(83419),o=t(8054),n=t(50792),i=t(92503),h=t(50030),r=t(37867),f=t(29747),c=t(7530),d=t(32302),p=t(97480),m=t(69442),C=t(70554),S=t(88815),E=t(26128),D=t(1482),M=t(82751),w=t(84387),A=t(93567),R=t(57183),P=!1;if(0)var O;var b=new s({Extends:n,initialize:function(L){n.call(this);var G=L.config,z={alpha:G.transparent,desynchronized:G.desynchronized,depth:!0,antialias:G.antialiasGL,premultipliedAlpha:G.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:G.failIfMajorPerformanceCaveat,powerPreference:G.powerPreference,preserveDrawingBuffer:G.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:G.clearBeforeRender,antialias:G.antialias,backgroundColor:G.backgroundColor,contextCreation:z,roundPixels:G.roundPixels,maxTextures:G.maxTextures,maxTextureSize:G.maxTextureSize,batchSize:G.batchSize,maxLights:G.maxLights,mipmapFilter:G.mipmapFilter},this.game=L,this.type=o.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=L.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=f,this.contextRestoredHandler=f,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(F){var L,G=this.game,z=this.canvas,X=F.backgroundColor;if(P&&(this.spector=new O.Spector,this.spector.onCapture.add(this.onCapture.bind(this))),G.config.context?L=G.config.context:L=z.getContext("webgl",F.contextCreation)||z.getContext("experimental-webgl",F.contextCreation),!L||L.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=L;var B=this,U=function(){var V=L.getSupportedExtensions();B.supportedExtensions=V;var H="ANGLE_instanced_arrays";B.instancedArraysExtension=V.indexOf(H)>-1?L.getExtension(H):null;var W="OES_vertex_array_object";B.vaoExtension=V.indexOf(W)>-1?L.getExtension(W):null};U(),this.contextLostHandler=function(V){B.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),B.emit(i.LOSE_WEBGL,B),V.preventDefault()},z.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(V){if(L.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}B.currentProgram=null,B.currentFramebuffer=null,B.setBlendMode(o.BlendModes.NORMAL),L.disable(L.BLEND),L.disable(L.DEPTH_TEST),L.enable(L.CULL_FACE),B.compression=B.getCompressedTextures();var H=function(W){W.createResource()};a(B.glTextureWrappers,H),a(B.glBufferWrappers,H),a(B.glFramebufferWrappers,H),a(B.glProgramWrappers,H),a(B.glAttribLocationWrappers,H),a(B.glUniformLocationWrappers,H),B.createTemporaryTextures(),B.pipelines.restoreContext(),B.resize(B.game.scale.baseSize.width,B.game.scale.baseSize.height),U(),B.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),B.emit(i.RESTORE_WEBGL,B),V.preventDefault()},z.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),G.context=L;for(var I=0;I<=27;I++)this.blendModes.push({func:[L.ONE,L.ONE_MINUS_SRC_ALPHA],equation:L.FUNC_ADD});this.blendModes[1].func=[L.ONE,L.DST_ALPHA],this.blendModes[2].func=[L.DST_COLOR,L.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[L.ONE,L.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[L.ZERO,L.ONE_MINUS_SRC_ALPHA],equation:L.FUNC_REVERSE_SUBTRACT},this.glFormats=[L.BYTE,L.SHORT,L.UNSIGNED_BYTE,L.UNSIGNED_SHORT,L.FLOAT],this.glFuncMap={mat2:{func:L.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:L.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:L.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:L.uniform1f,length:1},"1fv":{func:L.uniform1fv,length:1},"1i":{func:L.uniform1i,length:1},"1iv":{func:L.uniform1iv,length:1},"2f":{func:L.uniform2f,length:2},"2fv":{func:L.uniform2fv,length:1},"2i":{func:L.uniform2i,length:2},"2iv":{func:L.uniform2iv,length:1},"3f":{func:L.uniform3f,length:3},"3fv":{func:L.uniform3fv,length:1},"3i":{func:L.uniform3i,length:3},"3iv":{func:L.uniform3iv,length:1},"4f":{func:L.uniform4f,length:4},"4fv":{func:L.uniform4fv,length:1},"4i":{func:L.uniform4i,length:4},"4iv":{func:L.uniform4iv,length:1}},(!F.maxTextures||F.maxTextures===-1)&&(F.maxTextures=L.getParameter(L.MAX_TEXTURE_IMAGE_UNITS)),F.maxTextureSize||(F.maxTextureSize=L.getParameter(L.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),L.enable(L.BLEND),L.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL);var N=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return N.indexOf(F.mipmapFilter)!==-1&&(this.mipmapFilter=L[F.mipmapFilter]),this.maxTextures=C.checkShaderMax(L,F.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new c(this),this.setBlendMode(o.BlendModes.NORMAL),this.projectionMatrix=new r().identity(),G.textures.once(m.READY,this.boot,this),this},boot:function(){var F=this.game,L=this.pipelines,G=F.scale.baseSize,z=G.width,X=G.height;this.width=z,this.height=X,this.isBooted=!0,this.renderTarget=new d(this,z,X,1,0,!0,!0),this.maskTarget=new d(this,z,X,1,0,!0,!0),this.maskSource=new d(this,z,X,1,0,!0,!0);var B=F.config;L.boot(B.pipeline,B.defaultPipeline,B.autoMobilePipeline),this.blankTexture=F.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=F.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=F.textures.getFrame("__WHITE").glTexture;var U=this.gl;U.bindFramebuffer(U.FRAMEBUFFER,null),U.enable(U.SCISSOR_TEST),F.scale.on(p.RESIZE,this.onResize,this),this.resize(z,X)},createTemporaryTextures:function(){for(var F=this.gl,L=0;L<this.maxTextures;L++){var G=F.createTexture();F.activeTexture(F.TEXTURE0+L),F.bindTexture(F.TEXTURE_2D,G),F.texImage2D(F.TEXTURE_2D,0,F.RGBA,1,1,0,F.RGBA,F.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(L)}},captureFrame:function(F,L){F===void 0&&(F=!1),L===void 0&&(L=!1),P&&this.spector&&!this._debugCapture&&(this.spector.captureCanvas(this.canvas,0,F,L),this._debugCapture=!0)},captureNextFrame:function(){P&&this.spector&&!this._debugCapture&&(this._debugCapture=!0,this.spector.captureNextFrame(this.canvas))},getFps:function(){if(P&&this.spector)return this.spector.getFps()},log:function(){if(P&&this.spector){var F=Array.prototype.slice.call(arguments).join(" ");return this.spector.log(F)}},startCapture:function(F,L,G){F===void 0&&(F=0),L===void 0&&(L=!1),G===void 0&&(G=!1),P&&this.spector&&!this._debugCapture&&(this.spector.startCapture(this.canvas,F,L,G),this._debugCapture=!0)},stopCapture:function(){if(P&&this.spector&&this._debugCapture)return this.spector.stopCapture()},onCapture:function(F){if(P){var L=this.spector.getResultUI();L.display(F),this._debugCapture=!1}},onResize:function(F,L){(L.width!==this.width||L.height!==this.height)&&this.resize(L.width,L.height)},beginCapture:function(F,L){F===void 0&&(F=this.width),L===void 0&&(L=this.height),this.renderTarget.bind(!0,F,L),this.setProjectionMatrix(F,L)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(F,L){var G=this.gl;return this.width=F,this.height=L,this.setProjectionMatrix(F,L),G.viewport(0,0,F,L),this.drawingBufferHeight=G.drawingBufferHeight,G.scissor(0,G.drawingBufferHeight-L,F,L),this.defaultScissor[2]=F,this.defaultScissor[3]=L,this.emit(i.RESIZE,F,L),this},getCompressedTextures:function(){var F="WEBGL_compressed_texture_",L="WEBKIT_"+F,G="EXT_texture_compression_",z=function(B,U){var I=B.getExtension(F+U)||B.getExtension(L+U)||B.getExtension(G+U);if(I){var N={};for(var V in I)N[I[V]]=V;return N}},X=this.gl;return{ETC:z(X,"etc"),ETC1:z(X,"etc1"),ATC:z(X,"atc"),ASTC:z(X,"astc"),BPTC:z(X,"bptc"),RGTC:z(X,"rgtc"),PVRTC:z(X,"pvrtc"),S3TC:z(X,"s3tc"),S3TCSRGB:z(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(F,L){var G=this.compression[F.toUpperCase()];if(L in G)return G[L]},supportsCompressedTexture:function(F,L){var G=this.compression[F.toUpperCase()];return G?L?L in G:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(F,L){return(F!==this.projectionWidth||L!==this.projectionHeight)&&(this.projectionWidth=F,this.projectionHeight=L,this.projectionMatrix.ortho(0,F,L,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(F){return this.supportedExtensions?this.supportedExtensions.indexOf(F):!1},getExtension:function(F){return this.hasExtension(F)?(F in this.extensions||(this.extensions[F]=this.gl.getExtension(F)),this.extensions[F]):null},flush:function(){this.pipelines.flush()},pushScissor:function(F,L,G,z,X){X===void 0&&(X=this.drawingBufferHeight);var B=this.scissorStack,U=[F,L,G,z];return B.push(U),this.setScissor(F,L,G,z,X),this.currentScissor=U,U},setScissor:function(F,L,G,z,X){X===void 0&&(X=this.drawingBufferHeight);var B=this.gl,U=this.currentScissor,I=G>0&&z>0;if(U&&I){var N=U[0],V=U[1],H=U[2],W=U[3];I=N!==F||V!==L||H!==G||W!==z}I&&(this.flush(),B.scissor(F,X-L-z,G,z))},resetScissor:function(){var F=this.gl;F.enable(F.SCISSOR_TEST);var L=this.currentScissor;if(L){var G=L[0],z=L[1],X=L[2],B=L[3];X>0&&B>0&&F.scissor(G,this.drawingBufferHeight-z-B,X,B)}},popScissor:function(){var F=this.scissorStack;F.pop();var L=F[F.length-1];L&&this.setScissor(L[0],L[1],L[2],L[3]),this.currentScissor=L},hasActiveStencilMask:function(){var F=this.currentMask.mask,L=this.currentCameraMask.mask;return F&&F.isStencil||L&&L.isStencil},resetViewport:function(){var F=this.gl;F.viewport(0,0,this.width,this.height),this.drawingBufferHeight=F.drawingBufferHeight},setBlendMode:function(F,L){L===void 0&&(L=!1);var G=this.gl,z=this.blendModes[F];return L||F!==o.BlendModes.SKIP_CHECK&&this.currentBlendMode!==F?(this.flush(),G.enable(G.BLEND),G.blendEquation(z.equation),z.func.length>2?G.blendFuncSeparate(z.func[0],z.func[1],z.func[2],z.func[3]):G.blendFunc(z.func[0],z.func[1]),this.currentBlendMode=F,!0):!1},addBlendMode:function(F,L){var G=this.blendModes.push({func:F,equation:L});return G-1},updateBlendMode:function(F,L,G){return this.blendModes[F]&&(this.blendModes[F].func=L,G&&(this.blendModes[F].equation=G)),this},removeBlendMode:function(F){return F>17&&this.blendModes[F]&&this.blendModes.splice(F,1),this},pushFramebuffer:function(F,L,G,z,X){return F===this.currentFramebuffer?this:(this.fboStack.push(F),this.setFramebuffer(F,L,G,z,X))},setFramebuffer:function(F,L,G,z,X){if(L===void 0&&(L=!1),G===void 0&&(G=!0),z===void 0&&(z=null),X===void 0&&(X=!1),F===this.currentFramebuffer)return this;var B=this.gl,U=this.width,I=this.height;return F&&F.renderTexture&&G?(U=F.renderTexture.width,I=F.renderTexture.height):this.flush(),F?B.bindFramebuffer(B.FRAMEBUFFER,F.webGLFramebuffer):B.bindFramebuffer(B.FRAMEBUFFER,null),G&&B.viewport(0,0,U,I),z&&B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,z.webGLTexture,0),X&&(B.clearColor(0,0,0,0),B.clear(B.COLOR_BUFFER_BIT)),L&&(F?(this.drawingBufferHeight=I,this.pushScissor(0,0,U,I)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=F,this},popFramebuffer:function(F,L){F===void 0&&(F=!1),L===void 0&&(L=!0);var G=this.fboStack;G.pop();var z=G[G.length-1];return z||(z=null),this.setFramebuffer(z,F,L),z},restoreFramebuffer:function(F,L){F===void 0&&(F=!1),L===void 0&&(L=!0);var G=this.fboStack,z=G[G.length-1];z||(z=null),this.currentFramebuffer=null,this.setFramebuffer(z,F,L)},setProgram:function(F){return F!==this.currentProgram?(this.flush(),this.gl.useProgram(F.webGLProgram),this.currentProgram=F,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(F,L,G,z,X){X===void 0&&(X=!1);var B=this.gl,U=B.NEAREST,I=B.NEAREST,N=B.CLAMP_TO_EDGE,V=null;L=F?F.width:L,G=F?F.height:G;var H=h(L,G);if(H&&!X&&(N=B.REPEAT),z===o.ScaleModes.LINEAR&&this.config.antialias){var W=F&&F.compressed,Y=!W&&H||W&&F.mipmaps.length>1;U=this.mipmapFilter&&Y?this.mipmapFilter:B.LINEAR,I=B.LINEAR}return!F&&typeof L=="number"&&typeof G=="number"?V=this.createTexture2D(0,U,I,N,N,B.RGBA,null,L,G):V=this.createTexture2D(0,U,I,N,N,B.RGBA,F),V},createTexture2D:function(F,L,G,z,X,B,U,I,N,V,H,W){typeof I!="number"&&(I=U?U.width:1),typeof N!="number"&&(N=U?U.height:1);var Y=new M(this.gl,F,L,G,z,X,B,U,I,N,V,H,W);return this.glTextureWrappers.push(Y),Y},createFramebuffer:function(F,L,G,z){this.currentFramebuffer=null;var X=new w(this.gl,F,L,G,z);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(F,L){var G=this.gl;G&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==F&&(this.currentMask.mask=F,this.currentMask.camera=L))},drawBitmapMask:function(F,L,G){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),F.renderWebGL(this,F,L),this.maskSource.unbind(!0),this.maskTarget.unbind();var z=this.gl,X=this.getCurrentStencilMask();X?(z.enable(z.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(G),z.activeTexture(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,this.maskTarget.texture.webGLTexture),z.activeTexture(z.TEXTURE1),z.bindTexture(z.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(F,L){var G=new D(this.gl,F,L);return this.glProgramWrappers.push(G),G},createVertexBuffer:function(F,L){var G=this.gl,z=new E(G,F,G.ARRAY_BUFFER,L);return this.glBufferWrappers.push(z),z},createAttribLocation:function(F,L){var G=new A(this.gl,F,L);return this.glAttribLocationWrappers.push(G),G},createUniformLocation:function(F,L){var G=new R(this.gl,F,L);return this.glUniformLocationWrappers.push(G),G},createIndexBuffer:function(F,L){var G=this.gl,z=new E(G,F,G.ELEMENT_ARRAY_BUFFER,L);return this.glBufferWrappers.push(z),z},deleteTexture:function(F){if(F)return g(this.glTextureWrappers,F),F.destroy(),this},deleteFramebuffer:function(F){return F?(g(this.fboStack,F),g(this.glFramebufferWrappers,F),F.destroy(),this):this},deleteProgram:function(F){return F&&(g(this.glProgramWrappers,F),F.destroy()),this},deleteAttribLocation:function(F){return F&&(g(this.glAttribLocationWrappers,F),F.destroy()),this},deleteUniformLocation:function(F){return F&&(g(this.glUniformLocationWrappers,F),F.destroy()),this},deleteBuffer:function(F){return F?(g(this.glBufferWrappers,F),F.destroy(),this):this},preRenderCamera:function(F){var L=F.x,G=F.y,z=F.width,X=F.height,B=F.backgroundColor;if(F.emit(l.PRE_RENDER,F),this.pipelines.preBatchCamera(F),this.pushScissor(L,G,z,X),F.mask&&(this.currentCameraMask.mask=F.mask,this.currentCameraMask.camera=F._maskCamera,F.mask.preRenderWebGL(this,F,F._maskCamera)),B.alphaGL>0){var U=this.pipelines.setMulti();U.drawFillRect(L,G,z,X,C.getTintFromFloats(B.blueGL,B.greenGL,B.redGL,1),B.alphaGL)}},getCurrentStencilMask:function(){var F=null,L=this.maskStack,G=this.currentCameraMask;return L.length>0?F=L[L.length-1]:G.mask&&G.mask.isStencil&&(F=G),F},postRenderCamera:function(F){var L=F.flashEffect,G=F.fadeEffect;if(L.isRunning||G.isRunning||G.isComplete){var z=this.pipelines.setMulti();L.postRenderWebGL(z,C.getTintFromFloats),G.postRenderWebGL(z,C.getTintFromFloats)}F.dirty=!1,this.popScissor(),F.mask&&(this.currentCameraMask.mask=null,F.mask.postRenderWebGL(this,F._maskCamera)),this.pipelines.postBatchCamera(F),F.emit(l.POST_RENDER,F)},preRender:function(){if(!this.contextLost){var F=this.gl;if(F.bindFramebuffer(F.FRAMEBUFFER,null),this.config.clearBeforeRender){var L=this.config.backgroundColor;F.clearColor(L.redGL,L.greenGL,L.blueGL,L.alphaGL),F.clear(F.COLOR_BUFFER_BIT|F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)}F.enable(F.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&F.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(i.PRE_RENDER)}},render:function(F,L,G){if(!this.contextLost){var z=L.length;if(this.emit(i.RENDER,F,G),this.preRenderCamera(G),z===0){this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(G);return}this.currentType="";for(var X=this.currentMask,B=0;B<z;B++){this.finalType=B===z-1;var U=L[B],I=U.mask;X=this.currentMask,X.mask&&X.mask!==I&&X.mask.postRenderWebGL(this,X.camera),I&&X.mask!==I&&I.preRenderWebGL(this,U,G),U.blendMode!==this.currentBlendMode&&this.setBlendMode(U.blendMode);var N=U.type;N!==this.currentType&&(this.newType=!0,this.currentType=N),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=L[B+1].type===this.currentType,U.renderWebGL(this,U,G),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(G)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(i.POST_RENDER);var F=this.snapshotState;F.callback&&(S(this.gl,F),F.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var F=this.gl,L=this.getCurrentStencilMask();if(L){var G=L.mask;F.enable(F.STENCIL_TEST),G.invertAlpha?F.stencilFunc(F.NOTEQUAL,G.level,255):F.stencilFunc(F.EQUAL,G.level,255)}},snapshot:function(F,L,G){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,F,L,G)},snapshotArea:function(F,L,G,z,X,B,U){var I=this.snapshotState;return I.callback=X,I.type=B,I.encoder=U,I.getPixel=!1,I.x=F,I.y=L,I.width=G,I.height=z,this},snapshotPixel:function(F,L,G){return this.snapshotArea(F,L,1,1,G),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(F,L,G,z,X,B,U,I,N,V,H){X===void 0&&(X=!1),B===void 0&&(B=0),U===void 0&&(U=0),I===void 0&&(I=L),N===void 0&&(N=G),V==="pixel"&&(X=!0,V="image/png");var W=this.currentFramebuffer;this.snapshotArea(B,U,I,N,z,V,H);var Y=this.snapshotState;return Y.getPixel=X,Y.isFramebuffer=!0,Y.bufferWidth=L,Y.bufferHeight=G,Y.width=Math.min(Y.width,L),Y.height=Math.min(Y.height,G),this.setFramebuffer(F),S(this.gl,Y),this.setFramebuffer(W),Y.callback=null,Y.isFramebuffer=!1,this},canvasToTexture:function(F,L,G,z){G===void 0&&(G=!1),z===void 0&&(z=!1);var X=this.gl,B=X.NEAREST,U=X.NEAREST,I=F.width,N=F.height,V=X.CLAMP_TO_EDGE,H=h(I,N);return!G&&H&&(V=X.REPEAT),this.config.antialias&&(B=H&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,U=X.LINEAR),L?(L.update(F,I,N,z,V,V,B,U,L.format),L):this.createTexture2D(0,B,U,V,V,X.RGBA,F,I,N,!0,!1,z)},createCanvasTexture:function(F,L,G){return L===void 0&&(L=!1),G===void 0&&(G=!1),this.canvasToTexture(F,null,L,G)},updateCanvasTexture:function(F,L,G,z){return G===void 0&&(G=!1),z===void 0&&(z=!1),this.canvasToTexture(F,L,z,G)},videoToTexture:function(F,L,G,z){G===void 0&&(G=!1),z===void 0&&(z=!1);var X=this.gl,B=X.NEAREST,U=X.NEAREST,I=F.videoWidth,N=F.videoHeight,V=X.CLAMP_TO_EDGE,H=h(I,N);return!G&&H&&(V=X.REPEAT),this.config.antialias&&(B=H&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,U=X.LINEAR),L?(L.update(F,I,N,z,V,V,B,U,L.format),L):this.createTexture2D(0,B,U,V,V,X.RGBA,F,I,N,!0,!0,z)},createVideoTexture:function(F,L,G){return L===void 0&&(L=!1),G===void 0&&(G=!1),this.videoToTexture(F,null,L,G)},updateVideoTexture:function(F,L,G,z){return G===void 0&&(G=!1),z===void 0&&(z=!1),this.videoToTexture(F,L,z,G)},createUint8ArrayTexture:function(F,L,G){var z=this.gl,X=z.NEAREST,B=z.NEAREST,U=z.CLAMP_TO_EDGE,I=h(L,G);return I&&(U=z.REPEAT),this.createTexture2D(0,X,B,U,U,z.RGBA,F,L,G)},setTextureFilter:function(F,L){var G=this.gl,z=L===0?G.LINEAR:G.NEAREST;G.activeTexture(G.TEXTURE0);var X=G.getParameter(G.TEXTURE_BINDING_2D);return G.bindTexture(G.TEXTURE_2D,F.webGLTexture),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,z),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,z),F.minFilter=z,F.magFilter=z,X&&G.bindTexture(G.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var F=function(L){L.destroy()};a(this.glAttribLocationWrappers,F),a(this.glBufferWrappers,F),a(this.glFramebufferWrappers,F),a(this.glProgramWrappers,F),a(this.glTextureWrappers,F),a(this.glUniformLocationWrappers,F),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null,P&&(this.spector=null)}});e.exports=b},38683:(e,y,t)=>{var a=t(83419),g=t(95428),l=t(95540),s=t(14500),o=new a({initialize:function(i,h,r,f,c){this.pipeline=i,this.name=h,this.renderer=i.renderer,this.gl=this.renderer.gl,this.fragSrc=f,this.vertSrc=r,this.program=this.renderer.createProgram(r,f),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(c),this.createUniforms()},createAttributes:function(n){var i=0,h=0,r=[];this.vertexComponentCount=0;for(var f=0;f<n.length;f++){var c=n[f],d=c.name,p=l(c,"size",1),m=l(c,"type",s.FLOAT),C=m.enum,S=m.size,E=!!c.normalized;r.push({name:d,size:p,type:C,normalized:E,offset:h,enabled:!1,location:-1}),S===4?i+=p:i++,h+=p*S}this.vertexSize=h,this.vertexComponentCount=i,this.attributes=r},bind:function(n,i){return n===void 0&&(n=!1),i===void 0&&(i=!1),i&&this.pipeline.flush(),this.renderer.setProgram(this.program),n&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(n){n===void 0&&(n=!1);for(var i=this.gl,h=this.renderer,r=this.vertexSize,f=this.attributes,c=this.program,d=0;d<f.length;d++){var p=f[d],m=p.size,C=p.type,S=p.offset,E=p.enabled,D=p.location,M=!!p.normalized;if(n){D!==-1&&h.deleteAttribLocation(D);var w=this.renderer.createAttribLocation(c,p.name);w.webGLAttribLocation>=0?(i.enableVertexAttribArray(w.webGLAttribLocation),i.vertexAttribPointer(w.webGLAttribLocation,m,C,M,r,S),p.enabled=!0,p.location=w):w.webGLAttribLocation!==-1&&i.disableVertexAttribArray(w.webGLAttribLocation)}else E?i.vertexAttribPointer(D.webGLAttribLocation,m,C,M,r,S):!E&&D!==-1&&D.webGLAttribLocation>-1&&(i.disableVertexAttribArray(D.webGLAttribLocation),p.location=-1)}return this},createUniforms:function(){var n=this.gl,i=this.program,h=this.uniforms,r,f,c,d=n.getProgramParameter(i.webGLProgram,n.ACTIVE_UNIFORMS);for(r=0;r<d;r++){var p=n.getActiveUniform(i.webGLProgram,r);if(p){f=p.name,c=this.renderer.createUniformLocation(i,f),c!==null&&(h[f]={name:f,location:c,setter:null,value1:null,value2:null,value3:null,value4:null});var m=f.indexOf("[");m>0&&(f=f.substr(0,m),h.hasOwnProperty(f)||(c=this.renderer.createUniformLocation(i,f),c!==null&&(h[f]={name:f,location:c,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var n=this.gl;this.renderer.setProgram(this.program);for(var i in this.uniforms){var h=this.uniforms[i];h.setter&&h.setter.call(n,h.location.webGLUniformLocation,h.value1,h.value2,h.value3,h.value4)}},hasUniform:function(n){return this.uniforms.hasOwnProperty(n)},resetUniform:function(n){var i=this.uniforms[n];return i&&(i.value1=null,i.value2=null,i.value3=null,i.value4=null),this},setUniform1:function(n,i,h,r){var f=this.uniforms[i];return f?((r||f.value1!==h)&&(f.setter||(f.setter=n),f.value1=h,this.renderer.setProgram(this.program),n.call(this.gl,f.location.webGLUniformLocation,h),this.pipeline.currentShader=this),this):this},setUniform2:function(n,i,h,r,f){var c=this.uniforms[i];return c?((f||c.value1!==h||c.value2!==r)&&(c.setter||(c.setter=n),c.value1=h,c.value2=r,this.renderer.setProgram(this.program),n.call(this.gl,c.location.webGLUniformLocation,h,r),this.pipeline.currentShader=this),this):this},setUniform3:function(n,i,h,r,f,c){var d=this.uniforms[i];return d?((c||d.value1!==h||d.value2!==r||d.value3!==f)&&(d.setter||(d.setter=n),d.value1=h,d.value2=r,d.value3=f,this.renderer.setProgram(this.program),n.call(this.gl,d.location.webGLUniformLocation,h,r,f),this.pipeline.currentShader=this),this):this},setUniform4:function(n,i,h,r,f,c,d){var p=this.uniforms[i];return p?((d||p.value1!==h||p.value2!==r||p.value3!==f||p.value4!==c)&&(p.setter||(p.setter=n),p.value1=h,p.value2=r,p.value3=f,p.value4=c,this.renderer.setProgram(this.program),n.call(this.gl,p.location.webGLUniformLocation,h,r,f,c),this.pipeline.currentShader=this),this):this},setBoolean:function(n,i){return this.setUniform1(this.gl.uniform1i,n,Number(i))},set1f:function(n,i){return this.setUniform1(this.gl.uniform1f,n,i)},set2f:function(n,i,h){return this.setUniform2(this.gl.uniform2f,n,i,h)},set3f:function(n,i,h,r){return this.setUniform3(this.gl.uniform3f,n,i,h,r)},set4f:function(n,i,h,r,f){return this.setUniform4(this.gl.uniform4f,n,i,h,r,f)},set1fv:function(n,i){return this.setUniform1(this.gl.uniform1fv,n,i,!0)},set2fv:function(n,i){return this.setUniform1(this.gl.uniform2fv,n,i,!0)},set3fv:function(n,i){return this.setUniform1(this.gl.uniform3fv,n,i,!0)},set4fv:function(n,i){return this.setUniform1(this.gl.uniform4fv,n,i,!0)},set1iv:function(n,i){return this.setUniform1(this.gl.uniform1iv,n,i,!0)},set2iv:function(n,i){return this.setUniform1(this.gl.uniform2iv,n,i,!0)},set3iv:function(n,i){return this.setUniform1(this.gl.uniform3iv,n,i,!0)},set4iv:function(n,i){return this.setUniform1(this.gl.uniform4iv,n,i,!0)},set1i:function(n,i){return this.setUniform1(this.gl.uniform1i,n,i)},set2i:function(n,i,h){return this.setUniform2(this.gl.uniform2i,n,i,h)},set3i:function(n,i,h,r){return this.setUniform3(this.gl.uniform3i,n,i,h,r)},set4i:function(n,i,h,r,f){return this.setUniform4(this.gl.uniform4i,n,i,h,r,f)},setMatrix2fv:function(n,i,h){return this.setUniform2(this.gl.uniformMatrix2fv,n,i,h,!0)},setMatrix3fv:function(n,i,h){return this.setUniform2(this.gl.uniformMatrix3fv,n,i,h,!0)},setMatrix4fv:function(n,i,h){return this.setUniform2(this.gl.uniformMatrix4fv,n,i,h,!0)},createProgram:function(n,i){return n===void 0&&(n=this.vertSrc),i===void 0&&(i=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=n,this.fragSrc=i,this.program=this.renderer.createProgram(n,i),this.createUniforms(),this.rebind()},destroy:function(){var n=this.renderer;g(this.uniforms,function(i){n.deleteUniformLocation(i.location)}),this.uniforms=null,g(this.attributes,function(i){n.deleteAttribLocation(i.location)}),this.attributes=null,n.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});e.exports=o},14500:e=>{var y={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};e.exports=y},4159:(e,y,t)=>{var a=t(14500),g=t(79291),l={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};l=g(!1,l,a),e.exports=l},31302:(e,y,t)=>{var a=t(83419),g=t(95540),l=t(78908),s=t(85191),o=t(14500),n=t(29100),i=new a({Extends:n,initialize:function(r){r.fragShader=g(r,"fragShader",l),r.vertShader=g(r,"vertShader",s),r.batchSize=g(r,"batchSize",1),r.vertices=g(r,"vertices",[-1,1,-1,-7,7,1]),r.attributes=g(r,"attributes",[{name:"inPosition",size:2,type:o.FLOAT}]),n.call(this,r)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(h,r){n.prototype.resize.call(this,h,r),this.set2f("uResolution",h,r)},beginMask:function(h,r,f){this.renderer.beginBitmapMask(h,f)},endMask:function(h,r,f){var c=this.gl,d=this.renderer,p=h.bitmapMask;p&&c&&(d.drawBitmapMask(p,r,this),f&&this.set2f("uResolution",f.width,f.height),this.set1i("uInvertMaskAlpha",h.invertAlpha),c.drawArrays(this.topology,0,3),f&&this.set2f("uResolution",this.width,this.height),c.bindTexture(c.TEXTURE_2D,null))}});e.exports=i},92651:(e,y,t)=>{var a=t(83419),g=t(58918),l=t(14811),s=t(95540),o=t(43558),n=t(89350),i=t(70554),h=new a({Extends:o,initialize:function(f){f.shaders=[i.setGlowQuality(n.FXGlowFrag,f.game),n.FXShadowFrag,n.FXPixelateFrag,n.FXVignetteFrag,n.FXShineFrag,n.FXBlurLowFrag,n.FXBlurMedFrag,n.FXBlurHighFrag,n.FXGradientFrag,n.FXBloomFrag,n.ColorMatrixFrag,n.FXCircleFrag,n.FXBarrelFrag,n.FXDisplacementFrag,n.FXWipeFrag,n.FXBokehFrag],o.call(this,f);var c=this.game;this.glow=new g.Glow(c),this.shadow=new g.Shadow(c),this.pixelate=new g.Pixelate(c),this.vignette=new g.Vignette(c),this.shine=new g.Shine(c),this.gradient=new g.Gradient(c),this.circle=new g.Circle(c),this.barrel=new g.Barrel(c),this.wipe=new g.Wipe(c),this.bokeh=new g.Bokeh(c);var d=[];d[l.GLOW]=this.onGlow,d[l.SHADOW]=this.onShadow,d[l.PIXELATE]=this.onPixelate,d[l.VIGNETTE]=this.onVignette,d[l.SHINE]=this.onShine,d[l.BLUR]=this.onBlur,d[l.GRADIENT]=this.onGradient,d[l.BLOOM]=this.onBloom,d[l.COLOR_MATRIX]=this.onColorMatrix,d[l.CIRCLE]=this.onCircle,d[l.BARREL]=this.onBarrel,d[l.DISPLACEMENT]=this.onDisplacement,d[l.WIPE]=this.onWipe,d[l.BOKEH]=this.onBokeh,this.fxHandlers=d,this.source,this.target,this.swap},onDraw:function(r,f,c){this.source=r,this.target=f,this.swap=c;var d=r.width,p=r.height,m=this.tempSprite,C=this.fxHandlers;if(m&&m.preFX)for(var S=m.preFX.list,E=0;E<S.length;E++){var D=S[E];D.active&&C[D.type].call(this,D,d,p)}this.drawToGame(this.source)},runDraw:function(){var r=this.source,f=this.target;this.copy(r,f),this.source=f,this.target=r},onGlow:function(r,f,c){var d=this.shaders[l.GLOW];this.setShader(d),this.glow.onPreRender(r,d,f,c),this.runDraw()},onShadow:function(r){var f=this.shaders[l.SHADOW];this.setShader(f),this.shadow.onPreRender(r,f),this.runDraw()},onPixelate:function(r,f,c){var d=this.shaders[l.PIXELATE];this.setShader(d),this.pixelate.onPreRender(r,d,f,c),this.runDraw()},onVignette:function(r){var f=this.shaders[l.VIGNETTE];this.setShader(f),this.vignette.onPreRender(r,f),this.runDraw()},onShine:function(r,f,c){var d=this.shaders[l.SHINE];this.setShader(d),this.shine.onPreRender(r,d,f,c),this.runDraw()},onBlur:function(r,f,c){var d=s(r,"quality"),p=this.shaders[l.BLUR+d];this.setShader(p),this.set1i("uMainSampler",0),this.set2f("resolution",f,c),this.set1f("strength",s(r,"strength")),this.set3fv("color",s(r,"glcolor"));for(var m=s(r,"x"),C=s(r,"y"),S=s(r,"steps"),E=0;E<S;E++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw()},onGradient:function(r){var f=this.shaders[l.GRADIENT];this.setShader(f),this.gradient.onPreRender(r,f),this.runDraw()},onBloom:function(r,f,c){var d=this.shaders[l.BLOOM];this.copySprite(this.source,this.swap),this.setShader(d),this.set1i("uMainSampler",0),this.set1f("strength",s(r,"blurStrength")),this.set3fv("color",s(r,"glcolor"));for(var p=2/f*s(r,"offsetX"),m=2/c*s(r,"offsetY"),C=s(r,"steps"),S=0;S<C;S++)this.set2f("offset",p,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw();this.blendFrames(this.swap,this.source,this.target,s(r,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(r){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",r.getData()),this.set1f("uAlpha",r.alpha),this.runDraw()},onCircle:function(r,f,c){var d=this.shaders[l.CIRCLE];this.setShader(d),this.circle.onPreRender(r,d,f,c),this.runDraw()},onBarrel:function(r){var f=this.shaders[l.BARREL];this.setShader(f),this.barrel.onPreRender(r,f),this.runDraw()},onDisplacement:function(r){this.setShader(this.shaders[l.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",r.x,r.y),this.bindTexture(r.glTexture,1),this.runDraw()},onWipe:function(r){var f=this.shaders[l.WIPE];this.setShader(f),this.wipe.onPreRender(r,f),this.runDraw()},onBokeh:function(r,f,c){var d=this.shaders[l.BOKEH];this.setShader(d),this.bokeh.onPreRender(r,d,f,c),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,o.prototype.destroy.call(this),this}});e.exports=h},96569:(e,y,t)=>{var a=t(83419),g=t(95540),l=t(31063),s=t(57516),o=t(61340),n=t(26099),i=t(29100),h=new a({Extends:s,initialize:function(f){var c=g(f,"fragShader",l);f.fragShader=c.replace("%LIGHT_COUNT%",f.game.renderer.config.maxLights),s.call(this,f),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new n,this._tempMatrix=new o,this._tempMatrix2=new o},boot:function(){i.prototype.boot.call(this)},onRender:function(r,f){var c=r.sys.lights;if(this.lightsActive=!1,!(!c||!c.active)){var d=c.getLights(f),p=d.length;this.lightsActive=!0;var m,C=this.renderer,S=C.height,E=f.matrix,D=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",f.x,f.y,f.rotation,f.zoom),this.set3f("uAmbientLightColor",c.ambientColor.r,c.ambientColor.g,c.ambientColor.b),this.set1i("uLightCount",p),m=0;m<p;m++){var M=d[m].light,w=M.color,A="uLights["+m+"].";E.transformPoint(M.x,M.y,D),this.set2f(A+"position",D.x-f.scrollX*M.scrollFactorX*f.zoom,S-(D.y-f.scrollY*M.scrollFactorY*f.zoom)),this.set3f(A+"color",w.r,w.g,w.b),this.set1f(A+"intensity",M.intensity),this.set1f(A+"radius",M.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(r){if(r!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var f=this.inverseRotationMatrix;if(r){var c=-r,d=Math.cos(c),p=Math.sin(c);f[1]=p,f[3]=-p,f[0]=f[4]=d}else f[0]=f[4]=1,f[1]=f[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,f),this.currentNormalMapRotation=r}},setTexture2D:function(r,f){var c=this.renderer;r===void 0&&(r=c.whiteTexture);var d=this.getNormalMap(f);this.isNewNormalMap(r,d)&&(this.flush(),this.createBatch(r),this.addTextureToBatch(d),this.currentNormalMap=d);var p=0;if(f&&f.parentContainer){var m=f.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);p=m.rotationNormalized}else f&&(p=f.rotation);return this.setNormalMapRotation(p),0},setGameObject:function(r,f){f===void 0&&(f=r.frame);var c=f.glTexture,d=this.getNormalMap(r);if(this.isNewNormalMap(c,d)&&(this.flush(),this.createBatch(c),this.addTextureToBatch(d),this.currentNormalMap=d),r.parentContainer){var p=r.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(p.rotationNormalized)}else this.setNormalMapRotation(r.rotation);return 0},isNewNormalMap:function(r,f){return this.currentTexture!==r||this.currentNormalMap!==f},getNormalMap:function(r){var f;if(r)r.displayTexture?f=r.displayTexture.dataSource[r.displayFrame.sourceIndex]:r.texture?f=r.texture.dataSource[r.frame.sourceIndex]:r.tileset&&(Array.isArray(r.tileset)?f=r.tileset[0].image.dataSource[0]:f=r.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return f?f.glTexture:this.renderer.normalTexture},batchSprite:function(r,f,c){this.lightsActive&&s.prototype.batchSprite.call(this,r,f,c)},batchTexture:function(r,f,c,d,p,m,C,S,E,D,M,w,A,R,P,O,b,F,L,G,z,X,B,U,I,N,V,H,W,Y,j,k){this.lightsActive&&s.prototype.batchTexture.call(this,r,f,c,d,p,m,C,S,E,D,M,w,A,R,P,O,b,F,L,G,z,X,B,U,I,N,V,H,W,Y,j,k)},batchTextureFrame:function(r,f,c,d,p,m,C){this.lightsActive&&s.prototype.batchTextureFrame.call(this,r,f,c,d,p,m,C)}});e.exports=h},56527:(e,y,t)=>{var a=t(83419),g=t(95540),l=t(57516),s=t(45561),o=t(60722),n=t(14500),i=t(29100),h=new a({Extends:l,initialize:function(f){f.fragShader=g(f,"fragShader",s),f.vertShader=g(f,"vertShader",o),f.attributes=g(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:n.UNSIGNED_BYTE,normalized:!0}]),f.forceZero=!0,f.resizeUniform="uResolution",l.call(this,f)},boot:function(){i.prototype.boot.call(this);var r=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",r.width,r.height),this.set1i("uRoundPixels",r.config.roundPixels)}});e.exports=h},57516:(e,y,t)=>{var a=t(83419),g=t(94811),l=t(95540),s=t(98840),o=t(44667),n=t(61340),i=t(70554),h=t(14500),r=t(29100),f=new a({Extends:r,initialize:function(d){var p=d.game.renderer,m=l(d,"fragShader",s);d.fragShader=i.parseFragmentShaderMaxTextures(m,p.maxTextures),d.vertShader=l(d,"vertShader",o),d.attributes=l(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),d.resizeUniform="uResolution",r.call(this,d),this._tempMatrix1=new n,this._tempMatrix2=new n,this._tempMatrix3=new n,this.calcMatrix=new n,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){r.prototype.boot.call(this);var c=this.renderer;this.set1iv("uMainSampler",c.textureIndexes),this.set2f("uResolution",c.width,c.height),this.set1i("uRoundPixels",c.config.roundPixels)},batchSprite:function(c,d,p){this.manager.set(this,c);var m=this._tempMatrix1,C=this._tempMatrix2,S=this._tempMatrix3,E=c.frame,D=E.glTexture,M=E.u0,w=E.v0,A=E.u1,R=E.v1,P=E.x,O=E.y,b=E.cutWidth,F=E.cutHeight,L=E.customPivot,G=c.displayOriginX,z=c.displayOriginY,X=-G+P,B=-z+O;if(c.isCropped){var U=c._crop;(U.flipX!==c.flipX||U.flipY!==c.flipY)&&E.updateCropUVs(U,c.flipX,c.flipY),M=U.u0,w=U.v0,A=U.u1,R=U.v1,b=U.width,F=U.height,P=U.x,O=U.y,X=-G+P,B=-z+O}var I=1,N=1;c.flipX&&(L||(X+=-E.realWidth+G*2),I=-1),c.flipY&&(L||(B+=-E.realHeight+z*2),N=-1);var V=c.x,H=c.y;C.applyITRS(V,H,c.rotation,c.scaleX*I,c.scaleY*N),m.copyFrom(d.matrix),p?(m.multiplyWithOffset(p,-d.scrollX*c.scrollFactorX,-d.scrollY*c.scrollFactorY),C.e=V,C.f=H):(C.e-=d.scrollX*c.scrollFactorX,C.f-=d.scrollY*c.scrollFactorY),m.multiply(C,S);var W=S.setQuad(X,B,X+b,B+F),Y=i.getTintAppendFloatAlpha,j=d.alpha,k=Y(c.tintTopLeft,j*c._alphaTL),$=Y(c.tintTopRight,j*c._alphaTR),Z=Y(c.tintBottomLeft,j*c._alphaBL),K=Y(c.tintBottomRight,j*c._alphaBR);this.shouldFlush(6)&&this.flush();var J=this.setGameObject(c,E);this.manager.preBatch(c),this.currentShader.set1i("uRoundPixels",d.roundPixels),this.batchQuad(c,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],M,w,A,R,k,$,Z,K,c.tintFill,D,J),this.manager.postBatch(c)},batchTexture:function(c,d,p,m,C,S,E,D,M,w,A,R,P,O,b,F,L,G,z,X,B,U,I,N,V,H,W,Y,j,k,$,Z,K){K===void 0&&(K=!1),this.manager.set(this,c);var J=this._tempMatrix1,Q=this._tempMatrix2,_=this._tempMatrix3,rt=G/p+W,ut=z/m+Y,ot=(G+X)/p+W,q=(z+B)/m+Y,it=E,nt=D,xt=-F,Tt=-L;if(c.isCropped){var Wt=c._crop,Ut=Wt.width,Rt=Wt.height;it=Ut,nt=Rt,E=Ut,D=Rt,G=Wt.x,z=Wt.y;var Dt=G,$t=z;R&&(Dt=X-Wt.x-Ut),P&&($t=B-Wt.y-Rt),rt=Dt/p+W,ut=$t/m+Y,ot=(Dt+Ut)/p+W,q=($t+Rt)/m+Y,xt=-F+G,Tt=-L+z}P=P^(!$&&d.isRenderTexture?1:0),R&&(it*=-1,xt+=E),P&&(nt*=-1,Tt+=D),Q.applyITRS(C,S,A,M,w),J.copyFrom(j.matrix),k?(J.multiplyWithOffset(k,-j.scrollX*O,-j.scrollY*b),Q.e=C,Q.f=S):(Q.e-=j.scrollX*O,Q.f-=j.scrollY*b),J.multiply(Q,_);var Bt=_.setQuad(xt,Tt,xt+it,Tt+nt);Z==null&&(Z=this.setTexture2D(d)),c&&!K&&this.manager.preBatch(c),this.currentShader.set1i("uRoundPixels",j.roundPixels),this.batchQuad(c,Bt[0],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5],Bt[6],Bt[7],rt,ut,ot,q,U,I,N,V,H,d,Z),c&&!K&&this.manager.postBatch(c)},batchTextureFrame:function(c,d,p,m,C,S,E){this.manager.set(this);var D=this._tempMatrix1.copyFrom(S),M=this._tempMatrix2;E?D.multiply(E,M):M=D;var w=M.setQuad(d,p,d+c.width,p+c.height),A=this.setTexture2D(c.source.glTexture);m=i.getTintAppendFloatAlpha(m,C),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],c.u0,c.v0,c.u1,c.v1,m,m,m,m,0,c.glTexture,A)},batchFillRect:function(c,d,p,m,C,S){this.renderer.pipelines.set(this);var E=this.calcMatrix;S&&S.multiply(C,E);var D=E.setQuad(c,d,c+p,d+m),M=this.fillTint;this.batchQuad(null,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],0,0,1,1,M.TL,M.TR,M.BL,M.BR,2)},batchFillTriangle:function(c,d,p,m,C,S,E,D){this.renderer.pipelines.set(this);var M=this.calcMatrix;D&&D.multiply(E,M);var w=M.getX(c,d),A=M.getY(c,d),R=M.getX(p,m),P=M.getY(p,m),O=M.getX(C,S),b=M.getY(C,S),F=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,w,A,R,P,O,b,0,0,1,1,F.TL,F.TR,F.BL,2)},batchStrokeTriangle:function(c,d,p,m,C,S,E,D,M){var w=this.tempTriangle;w[0].x=c,w[0].y=d,w[0].width=E,w[1].x=p,w[1].y=m,w[1].width=E,w[2].x=C,w[2].y=S,w[2].width=E,w[3].x=c,w[3].y=d,w[3].width=E,this.batchStrokePath(w,E,!1,D,M)},batchFillPath:function(c,d,p){this.renderer.pipelines.set(this);var m=this.calcMatrix;p&&p.multiply(d,m);for(var C=c.length,S=this.polygonCache,E,D,M=this.fillTint.TL,w=this.fillTint.TR,A=this.fillTint.BL,R=0;R<C;++R)D=c[R],S.push(D.x,D.y);E=g(S),C=E.length,this.currentShader.set1i("uRoundPixels",!1);for(var P=0;P<C;P+=3){var O=E[P+0]*2,b=E[P+1]*2,F=E[P+2]*2,L=S[O+0],G=S[O+1],z=S[b+0],X=S[b+1],B=S[F+0],U=S[F+1],I=m.getX(L,G),N=m.getY(L,G),V=m.getX(z,X),H=m.getY(z,X),W=m.getX(B,U),Y=m.getY(B,U);this.batchTri(null,I,N,V,H,W,Y,0,0,1,1,M,w,A,2)}S.length=0},batchStrokePath:function(c,d,p,m,C){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var S=c.length-1,E=0;E<S;E++){var D=c[E],M=c[E+1];this.batchLine(D.x,D.y,M.x,M.y,D.width/2,M.width/2,d,E,!p&&E===S-1,m,C)}},batchLine:function(c,d,p,m,C,S,E,D,M,w,A){this.renderer.pipelines.set(this);var R=this.calcMatrix;A&&A.multiply(w,R);var P=p-c,O=m-d,b=Math.sqrt(P*P+O*O);if(b!==0){var F=C*(m-d)/b,L=C*(c-p)/b,G=S*(m-d)/b,z=S*(c-p)/b,X=p-G,B=m-z,U=c-F,I=d-L,N=p+G,V=m+z,H=c+F,W=d+L,Y=R.getX(X,B),j=R.getY(X,B),k=R.getX(U,I),$=R.getY(U,I),Z=R.getX(N,V),K=R.getY(N,V),J=R.getX(H,W),Q=R.getY(H,W),_=this.strokeTint,rt=_.TL,ut=_.TR,ot=_.BL,q=_.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,J,Q,k,$,Y,j,Z,K,0,0,1,1,rt,ut,ot,q,2),!(E<=2)){var it=this.prevQuad,nt=this.firstQuad;D>0&&it[4]?this.batchQuad(null,J,Q,k,$,it[0],it[1],it[2],it[3],0,0,1,1,rt,ut,ot,q,2):(nt[0]=J,nt[1]=Q,nt[2]=k,nt[3]=$,nt[4]=1),M&&nt[4]?this.batchQuad(null,Y,j,Z,K,nt[0],nt[1],nt[2],nt[3],0,0,1,1,rt,ut,ot,q,2):(it[0]=Y,it[1]=j,it[2]=Z,it[3]=K,it[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,r.prototype.destroy.call(this),this}});e.exports=f},43439:(e,y,t)=>{var a=t(83419),g=t(95540),l=t(4127),s=t(89924),o=t(29100),n=new a({Extends:o,initialize:function(h){h.vertShader=g(h,"vertShader",s),h.fragShader=g(h,"fragShader",l),h.attributes=g(h,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),o.call(this,h)},onRender:function(i,h){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",h.zoom)},batchPointLight:function(i,h,r,f,c,d,p,m,C,S,E,D){var M=i.color,w=i.intensity,A=i.radius,R=i.attenuation,P=M.r*w,O=M.g*w,b=M.b*w,F=h.alpha*i.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(r,f,E,D,A,R,P,O,b,F),this.batchLightVert(c,d,E,D,A,R,P,O,b,F),this.batchLightVert(p,m,E,D,A,R,P,O,b,F),this.batchLightVert(r,f,E,D,A,R,P,O,b,F),this.batchLightVert(p,m,E,D,A,R,P,O,b,F),this.batchLightVert(C,S,E,D,A,R,P,O,b,F),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(i,h,r,f,c,d,p,m,C,S){var E=this.vertexViewF32,D=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++D]=i,E[++D]=h,E[++D]=r,E[++D]=f,E[++D]=c,E[++D]=d,E[++D]=p,E[++D]=m,E[++D]=C,E[++D]=S,this.vertexCount++}});e.exports=n},84057:(e,y,t)=>{var a=t(83419),g=t(89422),l=t(95540),s=t(27681),o=t(49627),n=t(29100),i=new a({Extends:n,initialize:function(r){r.renderTarget=l(r,"renderTarget",1),r.fragShader=l(r,"fragShader",s),r.vertShader=l(r,"vertShader",o),r.attributes=l(r,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),r.batchSize=1,r.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],n.call(this,r),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new g,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){n.prototype.boot.call(this);var h=this.manager.UTILITY_PIPELINE;this.fullFrame1=h.fullFrame1,this.fullFrame2=h.fullFrame2,this.halfFrame1=h.halfFrame1,this.halfFrame2=h.halfFrame2;var r=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",r.width,r.height),this.set1i("uRoundPixels",r.config.roundPixels);for(var f=this.renderTargets,c=0;c<f.length;c++)f[c].autoResize=!0},postBatch:function(h){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(h),this},onDraw:function(h){this.bindAndDraw(h)},getController:function(h){return h!==void 0?h:this.controller?this.controller:this},copySprite:function(h,r,f){f===void 0&&(f=!1);var c=this.gl;c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,h.texture.webGLTexture);var d=c.getParameter(c.FRAMEBUFFER_BINDING);c.bindFramebuffer(c.FRAMEBUFFER,r.framebuffer.webGLFramebuffer),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,r.texture.webGLTexture,0),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.STATIC_DRAW),c.drawArrays(c.TRIANGLES,0,6),f&&(c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,d))},copyFrame:function(h,r,f,c,d){this.manager.copyFrame(h,r,f,c,d)},copyToGame:function(h){this.manager.copyToGame(h)},drawFrame:function(h,r,f){this.manager.drawFrame(h,r,f,this.colorMatrix)},blendFrames:function(h,r,f,c,d){this.manager.blendFrames(h,r,f,c,d)},blendFramesAdditive:function(h,r,f,c,d){this.manager.blendFramesAdditive(h,r,f,c,d)},clearFrame:function(h,r){this.manager.clearFrame(h,r)},blitFrame:function(h,r,f,c,d,p){this.manager.blitFrame(h,r,f,c,d,p)},copyFrameRect:function(h,r,f,c,d,p,m,C){this.manager.copyFrameRect(h,r,f,c,d,p,m,C)},bindAndDraw:function(h,r,f,c,d){f===void 0&&(f=!0),c===void 0&&(c=!0);var p=this.gl,m=this.renderer;this.bind(d),this.set1i("uMainSampler",0),r?(p.viewport(0,0,r.width,r.height),p.bindFramebuffer(p.FRAMEBUFFER,r.framebuffer.webGLFramebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,r.texture.webGLTexture,0),f&&(c?p.clearColor(0,0,0,0):p.clearColor(0,0,0,1),p.clear(p.COLOR_BUFFER_BIT))):(m.popFramebuffer(!1,!1),m.currentFramebuffer||p.viewport(0,0,m.width,m.height)),m.restoreStencilMask(),p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,h.texture.webGLTexture),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),r&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,m.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),n.prototype.destroy.call(this),this}});e.exports=i},43558:(e,y,t)=>{var a=t(10312),g=t(67502),l=t(83419),s=t(96293),o=t(95540),n=t(57516),i=t(27681),h=t(87841),r=t(32302),f=t(45561),c=t(60722),d=t(29100),p=new l({Extends:n,initialize:function(C){var S=o(C,"fragShader",i),E=o(C,"vertShader",c),D=o(C,"drawShader",i),M=[{name:"DrawSprite",fragShader:f,vertShader:c},{name:"CopySprite",fragShader:S,vertShader:E},{name:"DrawGame",fragShader:D,vertShader:c},{name:"ColorMatrix",fragShader:s}],w=o(C,"shaders",[]);C.shaders=M.concat(w),C.vertShader||(C.vertShader=E),C.batchSize=1,n.call(this,C),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new h,this.targetBounds=new h,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){d.prototype.boot.call(this);var m=this.shaders,C=this.renderer;this.drawSpriteShader=m[0],this.copyShader=m[1],this.gameShader=m[2],this.colorMatrixShader=m[3],this.fsTarget=new r(C,C.width,C.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var S=new ArrayBuffer(168);this.quadVertexData=S,this.quadVertexViewF32=new Float32Array(S),this.quadVertexBuffer=C.createVertexBuffer(S,this.gl.STATIC_DRAW),this.onResize(C.width,C.height),this.currentShader=this.copyShader,this.set2f("uResolution",C.width,C.height),this.set1i("uRoundPixels",C.config.roundPixels)},onResize:function(m,C){var S=this.quadVertexViewF32;S[1]=C,S[22]=C,S[14]=m,S[28]=m,S[35]=m,S[36]=C},batchQuad:function(m,C,S,E,D,M,w,A,R,P,O,b,F,L,G,z,X,B,U){var I=Math.min(C,E,M,A),N=Math.min(S,D,w,R),V=Math.max(C,E,M,A),H=Math.max(S,D,w,R),W=V-I,Y=H-N,j=this.spriteBounds.setTo(I,N,W,Y),k=m?m.preFX.padding:0,$=W+k*2,Z=Y+k*2,K=Math.abs(Math.max($,Z)),J=this.manager.getRenderTarget(K),Q=this.targetBounds.setTo(0,0,J.width,J.height);g(Q,j.centerX,j.centerY),this.tempSprite=m;var _=this.gl,rt=this.renderer;rt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",rt.width,rt.height),this.set1i("uRoundPixels",rt.config.roundPixels),this.flipProjectionMatrix(!0),m&&(this.onDrawSprite(m,J),m.preFX.onFX(this));var ut=this.fsTarget;return this.flush(),_.viewport(0,0,rt.width,rt.height),_.bindFramebuffer(_.FRAMEBUFFER,ut.framebuffer.webGLFramebuffer),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,ut.texture.webGLTexture,0),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT),this.setTexture2D(U),this.batchVert(C,S,P,O,0,B,L),this.batchVert(E,D,P,F,0,B,z),this.batchVert(M,w,b,F,0,B,X),this.batchVert(C,S,P,O,0,B,L),this.batchVert(M,w,b,F,0,B,X),this.batchVert(A,R,b,O,0,B,G),this.flush(),this.flipProjectionMatrix(!1),_.activeTexture(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,J.texture.webGLTexture),_.copyTexSubImage2D(_.TEXTURE_2D,0,0,0,Q.x,Q.y,Q.width,Q.height),_.bindFramebuffer(_.FRAMEBUFFER,null),_.bindTexture(_.TEXTURE_2D,null),this.onBatch(m),this.currentShader=this.copyShader,this.onDraw(J,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(m,C,S,E,D,M,w){S===void 0&&(S=!0),E===void 0&&(E=!0),D===void 0&&(D=!1),w===void 0&&(w=this.copyShader);var A=this.gl,R=this.tempSprite;M&&(w=this.colorMatrixShader),this.currentShader=w;var P=this.setVertexBuffer(this.quadVertexBuffer);w.bind(P,!1);var O=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",O.width,O.height),this.set1i("uRoundPixels",O.config.roundPixels),R.preFX.onFXCopy(this),this.onCopySprite(m,C,R),M&&(this.set1fv("uColorMatrix",M.getData()),this.set1f("uAlpha",M.alpha)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,m.texture.webGLTexture),m.height>C.height)A.viewport(0,0,m.width,m.height),this.setTargetUVs(m,C);else{var b=C.height-m.height;A.viewport(0,b,m.width,m.height),this.resetUVs()}if(A.bindFramebuffer(A.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,C.texture.webGLTexture,0),S&&(A.clearColor(0,0,0,+!E),A.clear(A.COLOR_BUFFER_BIT)),D){var F=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}A.bufferData(A.ARRAY_BUFFER,this.quadVertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),D&&this.renderer.setBlendMode(F),A.bindFramebuffer(A.FRAMEBUFFER,null)},copy:function(m,C){var S=this.gl;this.set1i("uMainSampler",0),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,m.texture.webGLTexture),S.viewport(0,0,m.width,m.height),this.setUVs(0,0,0,1,1,1,1,0),S.bindFramebuffer(S.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,C.texture.webGLTexture,0),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.quadVertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null)},blendFrames:function(m,C,S,E,D){this.manager.blendFrames(m,C,S,E,D)},blendFramesAdditive:function(m,C,S,E,D){this.manager.blendFramesAdditive(m,C,S,E,D)},drawToGame:function(m){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(m)},copyToGame:function(m){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(m)},bindAndDraw:function(m){var C=this.gl,S=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(m.texture);var E=this._tempMatrix1.loadIdentity(),D=this.targetBounds.x,M=this.targetBounds.y,w=D+m.width,A=M+m.height,R=E.getX(D,M),P=E.getX(D,A),O=E.getX(w,A),b=E.getX(w,M),F=E.getY(D,M),L=E.getY(D,A),G=E.getY(w,A),z=E.getY(w,M),X=16777215;this.batchVert(R,F,0,0,0,0,X),this.batchVert(P,L,0,1,0,0,X),this.batchVert(O,G,1,1,0,0,X),this.batchVert(R,F,0,0,0,0,X),this.batchVert(O,G,1,1,0,0,X),this.batchVert(b,z,1,0,0,0,X),S.restoreFramebuffer(!1,!0),S.currentFramebuffer||C.viewport(0,0,S.width,S.height),S.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(m){this.drawToGame(m)},setUVs:function(m,C,S,E,D,M,w,A){var R=this.quadVertexViewF32;R[2]=m,R[3]=C,R[9]=S,R[10]=E,R[16]=D,R[17]=M,R[23]=m,R[24]=C,R[30]=D,R[31]=M,R[37]=w,R[38]=A},setTargetUVs:function(m,C){var S=C.height/m.height;S>.5?S=.5-(S-.5):S=.5+(.5-S),this.setUVs(0,S,0,1+S,1,1+S,1,S)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,n.prototype.destroy.call(this),this}});e.exports=p},81041:(e,y,t)=>{var a=t(83419),g=t(95540),l=t(57516),s=new a({Extends:l,initialize:function(n){n.topology=5,n.batchSize=g(n,"batchSize",256),l.call(this,n)}});e.exports=s},12385:(e,y,t)=>{var a=t(83419),g=t(95540),l=t(57516),s=t(45561),o=t(60722),n=t(29100),i=new a({Extends:l,initialize:function(r){r.fragShader=g(r,"fragShader",s),r.vertShader=g(r,"vertShader",o),r.forceZero=!0,l.call(this,r)},boot:function(){n.prototype.boot.call(this);var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height),this.set1i("uRoundPixels",h.config.roundPixels)}});e.exports=i},7589:(e,y,t)=>{var a=t(35407),g=t(10312),l=t(83419),s=t(89422),o=t(96293),n=t(36682),i=t(95540),h=t(48247),r=t(49627),f=t(29100),c=new l({Extends:f,initialize:function(p){p.renderTarget=i(p,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),p.vertShader=i(p,"vertShader",r),p.shaders=i(p,"shaders",[{name:"Copy",fragShader:n},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:h},{name:"ColorMatrix",fragShader:o}]),p.attributes=i(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),p.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],p.batchSize=1,f.call(this,p),this.colorMatrix=new s,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){f.prototype.boot.call(this);var d=this.shaders,p=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=p[0],this.fullFrame2=p[1],this.halfFrame1=p[2],this.halfFrame2=p[3]},copyFrame:function(d,p,m,C,S){m===void 0&&(m=1),C===void 0&&(C=!0),S===void 0&&(S=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,d.texture.webGLTexture),p?(E.viewport(0,0,p.width,p.height),E.bindFramebuffer(E.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,p.texture.webGLTexture,0)):E.viewport(0,0,d.width,d.height),C&&(S?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(d,p,m,C,S,E,D){m===void 0&&(m=1),C===void 0&&(C=!0),S===void 0&&(S=!0),E===void 0&&(E=!1),D===void 0&&(D=!1);var M=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,d.texture.webGLTexture),d.height>p.height)M.viewport(0,0,d.width,d.height),this.setTargetUVs(d,p);else{var w=p.height-d.height;M.viewport(0,w,d.width,d.height)}if(M.bindFramebuffer(M.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,p.texture.webGLTexture,0),C&&(S?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT)),E){var A=this.renderer.currentBlendMode;this.renderer.setBlendMode(g.ERASE)}D&&this.flipY(),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),E&&this.renderer.setBlendMode(A),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,p,m,C,S,E,D,M){D===void 0&&(D=!0),M===void 0&&(M=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,d.texture.webGLTexture,0),D&&(M?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,p.texture.webGLTexture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,m,C,S,E),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},copyToGame:function(d){var p=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,d.texture.webGLTexture),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6)},drawFrame:function(d,p,m,C){m===void 0&&(m=!0),C===void 0&&(C=this.colorMatrix);var S=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",C.getData()),this.set1f("uAlpha",C.alpha),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,d.texture.webGLTexture),p?(S.viewport(0,0,p.width,p.height),S.bindFramebuffer(S.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,p.texture.webGLTexture,0)):S.viewport(0,0,d.width,d.height),m?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blendFrames:function(d,p,m,C,S,E){C===void 0&&(C=1),S===void 0&&(S=!0),E===void 0&&(E=this.linearShader);var D=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",C),D.activeTexture(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,d.texture.webGLTexture),D.activeTexture(D.TEXTURE1),D.bindTexture(D.TEXTURE_2D,p.texture.webGLTexture),m?(D.bindFramebuffer(D.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,m.texture.webGLTexture,0),D.viewport(0,0,m.width,m.height)):D.viewport(0,0,d.width,d.height),S?D.clearColor(0,0,0,0):D.clearColor(0,0,0,1),D.clear(D.COLOR_BUFFER_BIT),D.bufferData(D.ARRAY_BUFFER,this.vertexData,D.STATIC_DRAW),D.drawArrays(D.TRIANGLES,0,6),D.bindFramebuffer(D.FRAMEBUFFER,null),D.bindTexture(D.TEXTURE_2D,null)},blendFramesAdditive:function(d,p,m,C,S){this.blendFrames(d,p,m,C,S,this.addShader)},clearFrame:function(d,p){p===void 0&&(p=!0);var m=this.gl;m.viewport(0,0,d.width,d.height),m.bindFramebuffer(m.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),p?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT);var C=this.renderer.currentFramebuffer;m.bindFramebuffer(m.FRAMEBUFFER,C.webGLFramebuffer)},setUVs:function(d,p,m,C,S,E,D,M){var w=this.vertexViewF32;w[2]=d,w[3]=p,w[6]=m,w[7]=C,w[10]=S,w[11]=E,w[14]=d,w[15]=p,w[18]=S,w[19]=E,w[22]=D,w[23]=M},setTargetUVs:function(d,p){var m=p.height/d.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});e.exports=c},36060:e=>{var y={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};e.exports=y},84817:e=>{e.exports="pipelineafterflush"},36712:e=>{e.exports="pipelinebeforeflush"},40285:e=>{e.exports="pipelinebind"},65918:e=>{e.exports="pipelineboot"},92852:e=>{e.exports="pipelinedestroy"},56072:e=>{e.exports="pipelinerebind"},57566:e=>{e.exports="pipelineresize"},77085:(e,y,t)=>{e.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(e,y,t)=>{var a=t(83419),g=t(99155),l=t(84057),s=new a({Extends:l,initialize:function(n){l.call(this,{game:n,fragShader:g}),this.amount=1},onPreRender:function(o,n){o=this.getController(o),this.set1f("amount",o.amount,n)}});e.exports=s},67329:(e,y,t)=>{var a=t(83419),g=t(24400),l=t(84057),s=new a({Extends:l,initialize:function(n){l.call(this,{game:n,fragShader:g}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(o){o=this.getController(o),this.set1f("strength",o.blurStrength),this.set3fv("color",o.glcolor)},onDraw:function(o){var n=this.getController(),i=this.fullFrame1,h=this.fullFrame2;this.copyFrame(o,h);for(var r=2/o.width*n.offsetX,f=2/o.height*n.offsetY,c=0;c<n.steps;c++)this.set2f("offset",r,0),this.copySprite(o,i),this.set2f("offset",0,f),this.copySprite(i,o);this.blendFrames(h,o,i,n.strength),this.copyToGame(i)}});e.exports=s},8861:(e,y,t)=>{var a=t(83419),g=t(41514),l=t(51078),s=t(94328),o=t(84057),n=new a({Extends:o,initialize:function(h){o.call(this,{game:h,shaders:[{name:"Gaussian5",fragShader:g},{name:"Gaussian9",fragShader:l},{name:"Gaussian13",fragShader:s}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(i){var h=this.getController(),r=this.gl,f=this.fullFrame1,c=r.getParameter(r.FRAMEBUFFER_BINDING);this.bind(this.shaders[h.quality]),r.activeTexture(r.TEXTURE0),r.viewport(0,0,i.width,i.height),this.set1i("uMainSampler",0),this.set2f("resolution",i.width,i.height),this.set1f("strength",h.strength),this.set3fv("color",h.glcolor);for(var d=0;d<h.steps;d++)this.set2f("offset",h.x,0),this.copySprite(i,f),this.set2f("offset",0,h.y),this.copySprite(f,i);r.bindFramebuffer(r.FRAMEBUFFER,c),r.bindTexture(r.TEXTURE_2D,null),this.copyToGame(i)}});e.exports=n},51051:(e,y,t)=>{var a=t(83419),g=t(90610),l=t(84057),s=new a({Extends:l,initialize:function(n){l.call(this,{game:n,fragShader:g}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(o,n,i,h){o=this.getController(o),this.set1f("radius",o.radius,n),this.set1f("amount",o.amount,n),this.set1f("contrast",o.contrast,n),this.set1f("strength",o.strength,n),this.set2f("blur",o.blurX,o.blurY,n),this.setBoolean("isTiltShift",o.isTiltShift,n),i&&h&&this.set2f("resolution",i,h,n)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});e.exports=s},89428:(e,y,t)=>{var a=t(83419),g=t(91899),l=t(84057),s=new a({Extends:l,initialize:function(n){l.call(this,{game:n,fragShader:g}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(o,n,i,h){o=this.getController(o),this.set1f("scale",o.scale,n),this.set1f("feather",o.feather,n),this.set1f("thickness",o.thickness,n),this.set3fv("color",o.glcolor,n),this.set4fv("backgroundColor",o.glcolor2,n),i&&h&&this.set2f("resolution",i,h,n)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});e.exports=s},88904:(e,y,t)=>{var a=t(83419),g=t(84057),l=new a({Extends:g,initialize:function(o){g.call(this,{game:o})},onDraw:function(s){var o=this.fullFrame1;this.controller?this.manager.drawFrame(s,o,!0,this.controller):this.drawFrame(s,o),this.copyToGame(o)}});e.exports=l},63563:(e,y,t)=>{var a=t(83419),g=t(47838),l=t(84057),s=new a({Extends:l,initialize:function(n){l.call(this,{game:n,fragShader:g}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(o){var n=this.game.textures.getFrame(o);n&&(this.glTexture=n.glTexture)},onDraw:function(o){var n=this.getController(),i=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.copySprite(o,i),this.copyToGame(i)}});e.exports=s},94045:(e,y,t)=>{var a=t(83419),g=t(95540),l=t(98656),s=t(84057),o=t(70554),n=new a({Extends:s,initialize:function(h,r){var f=g(r,"quality",.1),c=g(r,"distance",10);s.call(this,{game:h,fragShader:o.setGlowQuality(l,h,f,c)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(i,h,r,f){i=this.getController(i),this.set1f("outerStrength",i.outerStrength,h),this.set1f("innerStrength",i.innerStrength,h),this.set4fv("glowColor",i.glcolor,h),this.setBoolean("knockout",i.knockout,h),r&&f&&this.set2f("resolution",r,f,h)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});e.exports=n},74088:(e,y,t)=>{var a=t(83419),g=t(70463),l=t(84057),s=new a({Extends:l,initialize:function(n){l.call(this,{game:n,fragShader:g}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(o,n){o=this.getController(o),this.set1f("alpha",o.alpha,n),this.set1i("size",o.size,n),this.set3fv("color1",o.glcolor1,n),this.set3fv("color2",o.glcolor2,n),this.set2f("positionFrom",o.fromX,o.fromY,n),this.set2f("positionTo",o.toX,o.toY,n)}});e.exports=s},99636:(e,y,t)=>{var a=t(83419),g=t(50831),l=t(84057),s=new a({Extends:l,initialize:function(n){l.call(this,{game:n,fragShader:g}),this.amount=1},onPreRender:function(o,n,i,h){o=this.getController(o),this.set1f("amount",o.amount,n),i&&h&&this.set2f("resolution",i,h,n)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});e.exports=s},34700:(e,y,t)=>{var a=t(83419),g=t(92595),l=t(84057),s=new a({Extends:l,initialize:function(n){l.call(this,{game:n,fragShader:g}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(o,n){o=this.getController(o);var i=o.samples;this.set1i("samples",i,n),this.set1f("intensity",o.intensity,n),this.set1f("decay",o.decay,n),this.set1f("power",o.power/i,n),this.set2f("lightPosition",o.x,o.y,n),this.set4fv("color",o.glcolor,n)}});e.exports=s},91157:(e,y,t)=>{var a=t(83419),g=t(72464),l=t(84057),s=new a({Extends:l,initialize:function(n){l.call(this,{game:n,fragShader:g}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(o,n,i,h){o=this.getController(o),this.setTime("time",n),this.set1f("speed",o.speed,n),this.set1f("lineWidth",o.lineWidth,n),this.set1f("gradient",o.gradient,n),this.setBoolean("reveal",o.reveal,n),i&&h&&this.set2f("resolution",i,h,n)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});e.exports=s},27797:(e,y,t)=>{var a=t(83419),g=t(39249),l=t(84057),s=new a({Extends:l,initialize:function(n){l.call(this,{game:n,fragShader:g}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(o,n){o=this.getController(o),this.set1f("radius",o.radius,n),this.set1f("strength",o.strength,n),this.set2f("position",o.x,o.y,n)}});e.exports=s},67603:(e,y,t)=>{var a=t(83419),g=t(2878),l=t(84057),s=new a({Extends:l,initialize:function(n){l.call(this,{game:n,fragShader:g}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(o,n){o=this.getController(o);var i=o.progress,h=o.wipeWidth,r=o.direction,f=o.axis;this.set4f("config",i,h,r,f,n),this.setBoolean("reveal",o.reveal,n)}});e.exports=s},58918:(e,y,t)=>{var a={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};e.exports=a},96615:(e,y,t)=>{var a=t(36060),g=t(79291),l={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};l=g(!1,l,a),e.exports=l},35407:e=>{e.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:e=>{e.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:e=>{e.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:e=>{e.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:e=>{e.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:e=>{e.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:e=>{e.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:e=>{e.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:e=>{e.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:e=>{e.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:e=>{e.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:e=>{e.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:e=>{e.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:e=>{e.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:e=>{e.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:e=>{e.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:e=>{e.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:e=>{e.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:e=>{e.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:e=>{e.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:e=>{e.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:e=>{e.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:e=>{e.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:e=>{e.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:e=>{e.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:e=>{e.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:e=>{e.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:e=>{e.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:e=>{e.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:e=>{e.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:e=>{e.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:e=>{e.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:e=>{e.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:e=>{e.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(e,y,t)=>{e.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o,n){this.webGLAttribLocation=-1,this.gl=s,this.program=o,this.name=n,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var l=this.gl;l.isContextLost()||(this.webGLAttribLocation=l.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});e.exports=g},26128:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o,n,i){this.webGLBuffer=null,this.gl=s,this.initialDataOrSize=o,this.bufferType=n,this.bufferUsage=i,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var l=this.gl;if(!l.isContextLost()){var s=this.bufferType,o=l.createBuffer();this.webGLBuffer=o,l.bindBuffer(s,this.webGLBuffer),l.bufferData(s,this.initialDataOrSize,this.bufferUsage),l.bindBuffer(s,null)}}},destroy:function(){var l=this.gl;l.isContextLost()||l.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});e.exports=g},84387:(e,y,t)=>{var a=t(83419),g={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},l=new a({initialize:function(o,n,i,h,r){this.webGLFramebuffer=null,this.gl=o,this.width=n,this.height=i,this.renderTexture=h,this.addDepthStencilBuffer=!!r,this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){var o=this.renderTexture,n=0,i=s.createFramebuffer();if(this.webGLFramebuffer=i,s.bindFramebuffer(s.FRAMEBUFFER,i),o.isRenderTexture=!0,o.isAlphaPremultiplied=!1,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,o.webGLTexture,0),n=s.checkFramebufferStatus(s.FRAMEBUFFER),n!==s.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(g[n]||n));if(this.addDepthStencilBuffer){var h=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,h),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,this.width,this.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,h)}s.bindFramebuffer(s.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var s=this.gl;if(!s.isContextLost()){s.bindFramebuffer(s.FRAMEBUFFER,this.webGLFramebuffer);var o=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);o!==null&&(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,null,0),s.deleteTexture(o));var n=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);n!==null&&s.deleteRenderbuffer(n),s.bindFramebuffer(s.FRAMEBUFFER,null),s.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});e.exports=l},1482:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o,n){this.webGLProgram=null,this.gl=s,this.vertexSource=o,this.fragmentSource=n,this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){var s=l.createProgram(),o=l.createShader(l.VERTEX_SHADER),n=l.createShader(l.FRAGMENT_SHADER);l.shaderSource(o,this.vertexSource),l.shaderSource(n,this.fragmentSource),l.compileShader(o),l.compileShader(n);var i=`Shader failed:
`;if(!l.getShaderParameter(o,l.COMPILE_STATUS))throw new Error("Vertex "+i+l.getShaderInfoLog(o));if(!l.getShaderParameter(n,l.COMPILE_STATUS))throw new Error("Fragment "+i+l.getShaderInfoLog(n));if(l.attachShader(s,o),l.attachShader(s,n),l.linkProgram(s),!l.getProgramParameter(s,l.LINK_STATUS))throw new Error("Link "+i+l.getProgramInfoLog(s));l.useProgram(s),this.webGLProgram=s}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});e.exports=g},82751:(e,y,t)=>{var a=t(83419),g=t(50030),l=new a({initialize:function(o,n,i,h,r,f,c,d,p,m,C,S,E){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=o,this.mipLevel=n,this.minFilter=i,this.magFilter=h,this.wrapT=r,this.wrapS=f,this.format=c,this.pixels=d,this.width=p,this.height=m,this.pma=C??!0,this.forceSize=!!S,this.flipY=!!E,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){if(this.pixels instanceof l){this.webGLTexture=this.pixels.webGLTexture;return}var o=s.createTexture();o.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=o,this._processTexture()}},update:function(s,o,n,i,h,r,f,c,d){if(!(o===0||n===0)){this.pixels=s,this.width=o,this.height=n,this.flipY=i,this.wrapS=h,this.wrapT=r,this.minFilter=f,this.magFilter=c,this.format=d;var p=this.gl;p.isContextLost()||this._processTexture()}},_processTexture:function(){var s=this.gl;s.activeTexture(s.TEXTURE0);var o=s.getParameter(s.TEXTURE_BINDING_2D);s.bindTexture(s.TEXTURE_2D,this.webGLTexture),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.minFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.magFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,this.wrapS),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,this.wrapT),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,this.flipY);var n=this.pixels,i=this.mipLevel,h=this.width,r=this.height,f=this.format,c=!1;if(n==null)s.texImage2D(s.TEXTURE_2D,i,f,h,r,0,f,s.UNSIGNED_BYTE,null),c=g(h,r);else if(n.compressed){h=n.width,r=n.height,c=n.generateMipmap;for(var d=0;d<n.mipmaps.length;d++)s.compressedTexImage2D(s.TEXTURE_2D,d,n.internalFormat,n.mipmaps[d].width,n.mipmaps[d].height,0,n.mipmaps[d].data)}else n instanceof Uint8Array?(s.texImage2D(s.TEXTURE_2D,i,f,h,r,0,f,s.UNSIGNED_BYTE,n),c=g(h,r)):(this.forceSize||(h=n.width,r=n.height),s.texImage2D(s.TEXTURE_2D,i,f,f,s.UNSIGNED_BYTE,n),c=g(h,r));c&&s.generateMipmap(s.TEXTURE_2D),o?s.bindTexture(s.TEXTURE_2D,o):s.bindTexture(s.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(s){this.__SPECTOR_Metadata=s,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=s)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof l||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});e.exports=l},57183:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o,n){this.webGLUniformLocation=null,this.gl=s,this.program=o,this.name=n,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var l=this.gl;l.isContextLost()||(this.webGLUniformLocation=l.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});e.exports=g},9503:(e,y,t)=>{var a={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};e.exports=a},76531:(e,y,t)=>{var a=t(13560),g=t(83419),l=t(50792),s=t(97480),o=t(8443),n=t(57811),i=t(74403),h=t(45818),r=t(29747),f=t(87841),c=t(86555),d=t(56583),p=t(26099),m=t(38058),C=new g({Extends:l,initialize:function(E){l.call(this),this.game=E,this.canvas,this.canvasBounds=new f,this.parent=null,this.parentIsWindow=!1,this.parentSize=new c,this.gameSize=new c,this.baseSize=new c,this.displaySize=new c,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new p(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:r,windowResize:r,fullScreenChange:r,fullScreenError:r}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(o.BOOT,this.boot,this)},boot:function(){var S=this.game;this.canvas=S.canvas,this.fullscreen=S.device.fullscreen,this.scaleMode!==a.SCALE_MODE.RESIZE&&this.scaleMode!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),S.events.on(o.PRE_STEP,this.step,this),S.events.once(o.READY,this.refresh,this),S.events.once(o.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(S){this.getParent(S),this.getParentBounds();var E=S.width,D=S.height,M=S.scaleMode,w=S.zoom,A=S.autoRound;if(typeof E=="string")if(E.substr(-1)!=="%")E=parseInt(E,10);else{var R=this.parentSize.width;R===0&&(R=window.innerWidth);var P=parseInt(E,10)/100;E=Math.floor(R*P)}if(typeof D=="string")if(D.substr(-1)!=="%")D=parseInt(D,10);else{var O=this.parentSize.height;O===0&&(O=window.innerHeight);var b=parseInt(D,10)/100;D=Math.floor(O*b)}this.scaleMode=M,this.autoRound=A,this.autoCenter=S.autoCenter,this.resizeInterval=S.resizeInterval,A&&(E=Math.floor(E),D=Math.floor(D)),this.gameSize.setSize(E,D),w===a.ZOOM.MAX_ZOOM&&(w=this.getMaxZoom()),this.zoom=w,w!==1&&(this._resetZoom=!0),this.baseSize.setSize(E,D),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),S.minWidth>0&&this.displaySize.setMin(S.minWidth*w,S.minHeight*w),S.maxWidth>0&&this.displaySize.setMax(S.maxWidth*w,S.maxHeight*w),this.displaySize.setSize(E,D),(S.snapWidth>0||S.snapHeight>0)&&this.displaySize.setSnap(S.snapWidth,S.snapHeight),this.orientation=h(E,D)},getParent:function(S){var E=S.parent;if(E!==null){if(this.parent=i(E),this.parentIsWindow=this.parent===document.body,S.expandParent&&S.scaleMode!==a.SCALE_MODE.NONE){var D=this.parent.getBoundingClientRect();(this.parentIsWindow||D.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",D=this.parent.getBoundingClientRect(),!this.parentIsWindow&&D.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}S.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=i(S.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var S=this.parentSize,E=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(E.height=n(!0));var D=E.width,M=E.height;if(S.width!==D||S.height!==M)return S.setSize(D,M),!0;if(this.canvas){var w=this.canvasBounds,A=this.canvas.getBoundingClientRect();if(A.x!==w.x||A.y!==w.y)return!0}return!1},lockOrientation:function(S){var E=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return E?E.call(screen,S):!1},setParentSize:function(S,E){return this.parentSize.setSize(S,E),this.refresh()},setGameSize:function(S,E){var D=this.autoRound;D&&(S=Math.floor(S),E=Math.floor(E));var M=this.width,w=this.height;return this.gameSize.resize(S,E),this.baseSize.resize(S,E),D&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(S/E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(M,w)},resize:function(S,E){var D=this.zoom,M=this.autoRound;M&&(S=Math.floor(S),E=Math.floor(E));var w=this.width,A=this.height;this.gameSize.resize(S,E),this.baseSize.resize(S,E),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(S*D,E*D),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var R=this.canvas.style,P=S*D,O=E*D;return M&&(P=Math.floor(P),O=Math.floor(O)),(P!==S||O!==E)&&(R.width=P+"px",R.height=O+"px"),this.refresh(w,A)},setZoom:function(S){return this.zoom=S,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(S,E){return S===void 0&&(S=0),E===void 0&&(E=S),this.displaySize.setSnap(S,E),this.refresh()},refresh:function(S,E){S===void 0&&(S=this.width),E===void 0&&(E=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var D=this.game.domContainer;if(D){this.baseSize.setCSS(D);var M=this.canvas.style,w=D.style;w.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",w.marginLeft=M.marginLeft,w.marginTop=M.marginTop}return this.emit(s.RESIZE,this.gameSize,this.baseSize,this.displaySize,S,E),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var S=h(this.width,this.height);S!==this.orientation&&(this.orientation=S,this.emit(s.ORIENTATION_CHANGE,S))}},updateScale:function(){var S=this.canvas.style,E=this.gameSize.width,D=this.gameSize.height,M,w,A=this.zoom,R=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(E*A,D*A),M=this.displaySize.width,w=this.displaySize.height,R&&(M=Math.floor(M),w=Math.floor(w)),this._resetZoom&&(S.width=M+"px",S.height=w+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),M=this.displaySize.width,w=this.displaySize.height,R&&(M=Math.floor(M),w=Math.floor(w)),this.canvas.width=M,this.canvas.height=w;else if(this.scaleMode===a.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),M=this.displaySize.width,w=this.displaySize.height,R&&(M=Math.floor(M),w=Math.floor(w)),S.width=M+"px",S.height=w+"px";var P=this.parentSize.width/this.gameSize.width,O=this.parentSize.height/this.gameSize.height;P<O?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/P):this.baseSize.setSize(this.displaySize.width/O,this.gameSize.height),M=this.baseSize.width,w=this.baseSize.height,R&&(M=Math.floor(M),w=Math.floor(w)),this.canvas.width=M,this.canvas.height=w}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),M=this.displaySize.width,w=this.displaySize.height,R&&(M=Math.floor(M),w=Math.floor(w)),S.width=M+"px",S.height=w+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var S=d(this.parentSize.width,this.gameSize.width,0,!0),E=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(S,E),1)},updateCenter:function(){var S=this.autoCenter;if(S!==a.CENTER.NO_CENTER){var E=this.canvas,D=E.style,M=E.getBoundingClientRect(),w=M.width,A=M.height,R=Math.floor((this.parentSize.width-w)/2),P=Math.floor((this.parentSize.height-A)/2);S===a.CENTER.CENTER_HORIZONTALLY?P=0:S===a.CENTER.CENTER_VERTICALLY&&(R=0),D.marginLeft=R+"px",D.marginTop=P+"px"}},updateBounds:function(){var S=this.canvasBounds,E=this.canvas.getBoundingClientRect();S.x=E.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),S.y=E.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),S.width=E.width,S.height=E.height},transformX:function(S){return(S-this.canvasBounds.left)*this.displayScale.x},transformY:function(S){return(S-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(S){S===void 0&&(S={navigationUI:"hide"});var E=this.fullscreen;if(!E.available){this.emit(s.FULLSCREEN_UNSUPPORTED);return}if(!E.active){var D=this.getFullscreenTarget();E.keyboard?D[E.request](Element.ALLOW_KEYBOARD_INPUT):D[E.request](S)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(s.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(S){this.removeFullscreenTarget(),this.emit(s.FULLSCREEN_FAILED,S)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var S=document.createElement("div");S.style.margin="0",S.style.padding="0",S.style.width="100%",S.style.height="100%",this.fullscreenTarget=S,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var E=this.canvas.parentNode;E.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var S=this.fullscreenTarget;if(S&&S.parentNode){var E=S.parentNode;E.insertBefore(this.canvas,S),E.removeChild(S)}}},stopFullscreen:function(){var S=this.fullscreen;if(!S.available)return this.emit(s.FULLSCREEN_UNSUPPORTED),!1;S.active&&document[S.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(s.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(S){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(S)},startListeners:function(){var S=this,E=this.domlisteners;if(E.orientationChange=function(){S.updateBounds(),S._checkOrientation=!0,S.dirty=!0,S.refresh()},E.windowResize=function(){S.updateBounds(),S.dirty=!0},window.addEventListener("orientationchange",E.orientationChange,!1),window.addEventListener("resize",E.windowResize,!1),this.fullscreen.available){E.fullScreenChange=function(M){return S.onFullScreenChange(M)},E.fullScreenError=function(M){return S.onFullScreenError(M)};var D=["webkit","moz",""];D.forEach(function(M){document.addEventListener(M+"fullscreenchange",E.fullScreenChange,!1),document.addEventListener(M+"fullscreenerror",E.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.addEventListener("MSFullscreenError",E.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(S,E){S instanceof m||(E=S,S=void 0),E===void 0&&(E=new f);var D=this.baseSize,M=this.parentSize,w=this.canvasBounds,A=this.displayScale,R=w.x>=0?0:-(w.x*A.x),P=w.y>=0?0:-(w.y*A.y),O;M.width>=w.width?O=D.width:O=D.width-(w.width-M.width)*A.x;var b;return M.height>=w.height?b=D.height:b=D.height-(w.height-M.height)*A.y,E.setTo(R,P,O,b),S&&(E.width/=S.zoomX,E.height/=S.zoomY,E.centerX=S.centerX+S.scrollX,E.centerY=S.centerY+S.scrollY),E},step:function(S,E){this.parent&&(this._lastCheck+=E,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var S=this.domlisteners;window.removeEventListener("orientationchange",S.orientationChange,!1),window.removeEventListener("resize",S.windowResize,!1);var E=["webkit","moz",""];E.forEach(function(D){document.removeEventListener(D+"fullscreenchange",S.fullScreenChange,!1),document.removeEventListener(D+"fullscreenerror",S.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",S.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});e.exports=C},64743:e=>{e.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:e=>{e.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:e=>{e.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:e=>{e.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(e,y,t)=>{var a={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};e.exports=a},56139:e=>{e.exports="enterfullscreen"},2336:e=>{e.exports="fullscreenfailed"},47412:e=>{e.exports="fullscreenunsupported"},51452:e=>{e.exports="leavefullscreen"},20666:e=>{e.exports="orientationchange"},47945:e=>{e.exports="resize"},97480:(e,y,t)=>{e.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(e,y,t)=>{var a=t(79291),g=t(13560),l={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};l=a(!1,l,g.CENTER),l=a(!1,l,g.ORIENTATION),l=a(!1,l,g.SCALE_MODE),l=a(!1,l,g.ZOOM),e.exports=l},27397:(e,y,t)=>{var a=t(95540),g=t(35355),l=function(s){var o=s.game.config.defaultPhysicsSystem,n=a(s.settings,"physics",!1);if(!(!o&&!n)){var i=[];if(o&&i.push(g(o+"Physics")),n)for(var h in n)h=g(h.concat("Physics")),i.indexOf(h)===-1&&i.push(h);return i}};e.exports=l},52106:(e,y,t)=>{var a=t(95540),g=function(l){var s=l.plugins.getDefaultScenePlugins(),o=a(l.settings,"plugins",!1);return Array.isArray(o)?o:s||[]};e.exports=g},87033:e=>{var y={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};e.exports=y},97482:(e,y,t)=>{var a=t(83419),g=t(2368),l=new a({initialize:function(o){this.sys=new g(this,o),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});e.exports=l},60903:(e,y,t)=>{var a=t(83419),g=t(89993),l=t(44594),s=t(8443),o=t(35154),n=t(54899),i=t(29747),h=t(97482),r=t(2368),f=new a({initialize:function(d,p){if(this.game=d,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,p){Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++)this._pending.push({key:"default",scene:p[m],autoStart:m===0,data:{}})}d.events.once(s.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new h),this.game.events.emit(s.SYSTEM_READY,this.systemScene,this);var c,d,p,m;for(c=0;c<this._pending.length;c++){d=this._pending[c],p=d.key,m=d.scene;var C;m instanceof h?C=this.createSceneFromInstance(p,m):typeof m=="object"?C=this.createSceneFromObject(p,m):typeof m=="function"&&(C=this.createSceneFromFunction(p,m)),p=C.sys.settings.key,this.keys[p]=C,this.scenes.push(C),this._data[p]&&(C.sys.settings.data=this._data[p].data,this._data[p].autoStart&&(d.autoStart=!0)),(d.autoStart||C.sys.settings.active)&&this._start.push(p)}for(this._pending.length=0,this._data={},this.isBooted=!0,c=0;c<this._start.length;c++)d=this._start[c],this.start(d);this._start.length=0}},processQueue:function(){var c=this._pending.length,d=this._queue.length;if(!(c===0&&d===0)){var p,m;if(c){for(p=0;p<c;p++)m=this._pending[p],this.add(m.key,m.scene,m.autoStart,m.data);for(p=0;p<this._start.length;p++)m=this._start[p],this.start(m);this._start.length=0,this._pending.length=0}for(p=0;p<this._queue.length;p++)m=this._queue[p],this[m.op](m.keyA,m.keyB);this._queue.length=0}},add:function(c,d,p,m){if(p===void 0&&(p=!1),m===void 0&&(m={}),this.isProcessing||!this.isBooted)return this._pending.push({key:c,scene:d,autoStart:p,data:m}),this.isBooted||(this._data[c]={data:m}),null;c=this.getKey(c,d);var C;return d instanceof h?C=this.createSceneFromInstance(c,d):typeof d=="object"?(d.key=c,C=this.createSceneFromObject(c,d)):typeof d=="function"&&(C=this.createSceneFromFunction(c,d)),C.sys.settings.data=m,c=C.sys.settings.key,this.keys[c]=C,this.scenes.push(C),(p||C.sys.settings.active)&&(this._pending.length?this._start.push(c):this.start(c)),C},remove:function(c){if(this.isProcessing)this._queue.push({op:"remove",keyA:c,keyB:null});else{var d=this.getScene(c);if(!d||d.sys.isTransitioning())return this;var p=this.scenes.indexOf(d),m=d.sys.settings.key;p>-1&&(delete this.keys[m],this.scenes.splice(p,1),this._start.indexOf(m)>-1&&(p=this._start.indexOf(m),this._start.splice(p,1)),d.sys.destroy())}return this},bootScene:function(c){var d=c.sys,p=d.settings;d.sceneUpdate=i,c.init&&(c.init.call(c,p.data),p.status=g.INIT,p.isTransition&&d.events.emit(l.TRANSITION_INIT,p.transitionFrom,p.transitionDuration));var m;d.load&&(m=d.load,m.reset()),m&&c.preload?(c.preload.call(c),p.status=g.LOADING,m.once(n.COMPLETE,this.loadComplete,this),m.start()):this.create(c)},loadComplete:function(c){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(c.scene)},payloadComplete:function(c){this.bootScene(c.scene)},update:function(c,d){this.processQueue(),this.isProcessing=!0;for(var p=this.scenes.length-1;p>=0;p--){var m=this.scenes[p].sys;m.settings.status>g.START&&m.settings.status<=g.RUNNING&&m.step(c,d),m.scenePlugin&&m.scenePlugin._target&&m.scenePlugin.step(c,d)}},render:function(c){for(var d=0;d<this.scenes.length;d++){var p=this.scenes[d].sys;p.settings.visible&&p.settings.status>=g.LOADING&&p.settings.status<g.SLEEPING&&p.render(c)}this.isProcessing=!1},create:function(c){var d=c.sys,p=d.settings;c.create&&(p.status=g.CREATING,c.create.call(c,p.data),p.status===g.DESTROYED)||(p.isTransition&&d.events.emit(l.TRANSITION_START,p.transitionFrom,p.transitionDuration),c.update&&(d.sceneUpdate=c.update),p.status=g.RUNNING,d.events.emit(l.CREATE,c))},createSceneFromFunction:function(c,d){var p=new d;if(p instanceof h){var m=p.sys.settings.key;if(m!==""&&(c=m),this.keys.hasOwnProperty(c))throw new Error("Cannot add a Scene with duplicate key: "+c);return this.createSceneFromInstance(c,p)}else return p.sys=new r(p),p.sys.settings.key=c,p.sys.init(this.game),p},createSceneFromInstance:function(c,d){var p=d.sys.settings.key;return p===""&&(d.sys.settings.key=c),d.sys.init(this.game),d},createSceneFromObject:function(c,d){var p=new h(d),m=p.sys.settings.key;m!==""?c=m:p.sys.settings.key=c,p.sys.init(this.game);for(var C=["init","preload","create","update","render"],S=0;S<C.length;S++){var E=o(d,C[S],null);E&&(p[C[S]]=E)}if(d.hasOwnProperty("extend")){for(var D in d.extend)if(d.extend.hasOwnProperty(D)){var M=d.extend[D];D==="data"&&p.hasOwnProperty("data")&&typeof M=="object"?p.data.merge(M):D!=="sys"&&(p[D]=M)}}return p},getKey:function(c,d){if(c||(c="default"),typeof d=="function")return c;if(d instanceof h?c=d.sys.settings.key:typeof d=="object"&&d.hasOwnProperty("key")&&(c=d.key),this.keys.hasOwnProperty(c))throw new Error("Cannot add a Scene with duplicate key: "+c);return c},getScenes:function(c,d){c===void 0&&(c=!0),d===void 0&&(d=!1);for(var p=[],m=this.scenes,C=0;C<m.length;C++){var S=m[C];S&&(!c||c&&S.sys.isActive())&&p.push(S)}return d?p.reverse():p},getScene:function(c){if(typeof c=="string"){if(this.keys[c])return this.keys[c]}else for(var d=0;d<this.scenes.length;d++)if(c===this.scenes[d])return c;return null},isActive:function(c){var d=this.getScene(c);return d?d.sys.isActive():null},isPaused:function(c){var d=this.getScene(c);return d?d.sys.isPaused():null},isVisible:function(c){var d=this.getScene(c);return d?d.sys.isVisible():null},isSleeping:function(c){var d=this.getScene(c);return d?d.sys.isSleeping():null},pause:function(c,d){var p=this.getScene(c);return p&&p.sys.pause(d),this},resume:function(c,d){var p=this.getScene(c);return p&&p.sys.resume(d),this},sleep:function(c,d){var p=this.getScene(c);return p&&!p.sys.isTransitioning()&&p.sys.sleep(d),this},wake:function(c,d){var p=this.getScene(c);return p&&p.sys.wake(d),this},run:function(c,d){var p=this.getScene(c);if(!p){for(var m=0;m<this._pending.length;m++)if(this._pending[m].key===c){this.queueOp("start",c,d);break}return this}p.sys.isSleeping()?p.sys.wake(d):p.sys.isPaused()?p.sys.resume(d):this.start(c,d)},start:function(c,d){if(!this.isBooted)return this._data[c]={autoStart:!0,data:d},this;var p=this.getScene(c);if(!p)return console.warn("Scene not found for key: "+c),this;var m=p.sys,C=m.settings.status;if(C>=g.START&&C<=g.CREATING)return this;if(C>=g.RUNNING&&C<=g.SLEEPING)m.shutdown(),m.sceneUpdate=i,m.start(d);else{m.sceneUpdate=i,m.start(d);var S;if(m.load&&(S=m.load),S&&m.settings.hasOwnProperty("pack")&&(S.reset(),S.addPack({payload:m.settings.pack})))return m.settings.status=g.LOADING,S.once(n.COMPLETE,this.payloadComplete,this),S.start(),this}return this.bootScene(p),this},stop:function(c,d){var p=this.getScene(c);if(p&&!p.sys.isTransitioning()&&p.sys.settings.status!==g.SHUTDOWN){var m=p.sys.load;m&&(m.off(n.COMPLETE,this.loadComplete,this),m.off(n.COMPLETE,this.payloadComplete,this)),p.sys.shutdown(d)}return this},switch:function(c,d){var p=this.getScene(c),m=this.getScene(d);return p&&m&&p!==m&&(this.sleep(c),this.isSleeping(d)?this.wake(d):this.start(d)),this},getAt:function(c){return this.scenes[c]},getIndex:function(c){var d=this.getScene(c);return this.scenes.indexOf(d)},bringToTop:function(c){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:c,keyB:null});else{var d=this.getIndex(c);if(d!==-1&&d<this.scenes.length){var p=this.getScene(c);this.scenes.splice(d,1),this.scenes.push(p)}}return this},sendToBack:function(c){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:c,keyB:null});else{var d=this.getIndex(c);if(d!==-1&&d>0){var p=this.getScene(c);this.scenes.splice(d,1),this.scenes.unshift(p)}}return this},moveDown:function(c){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:c,keyB:null});else{var d=this.getIndex(c);if(d>0){var p=d-1,m=this.getScene(c),C=this.getAt(p);this.scenes[d]=C,this.scenes[p]=m}}return this},moveUp:function(c){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:c,keyB:null});else{var d=this.getIndex(c);if(d<this.scenes.length-1){var p=d+1,m=this.getScene(c),C=this.getAt(p);this.scenes[d]=C,this.scenes[p]=m}}return this},moveAbove:function(c,d){if(c===d)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:c,keyB:d});else{var p=this.getIndex(c),m=this.getIndex(d);if(p!==-1&&m!==-1&&m<p){var C=this.getAt(m);this.scenes.splice(m,1),this.scenes.splice(p+(m>p),0,C)}}return this},moveBelow:function(c,d){if(c===d)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:c,keyB:d});else{var p=this.getIndex(c),m=this.getIndex(d);if(p!==-1&&m!==-1&&m>p){var C=this.getAt(m);this.scenes.splice(m,1),p===0?this.scenes.unshift(C):this.scenes.splice(p-(m<p),0,C)}}return this},queueOp:function(c,d,p){return this._queue.push({op:c,keyA:d,keyB:p}),this},swapPosition:function(c,d){if(c===d)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:c,keyB:d});else{var p=this.getIndex(c),m=this.getIndex(d);if(p!==m&&p!==-1&&m!==-1){var C=this.getAt(p);this.scenes[p]=this.scenes[m],this.scenes[m]=C}}return this},dump:function(){for(var c=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],p=0;p<this.scenes.length;p++){var m=this.scenes[p].sys,C=m.settings.visible&&(m.settings.status===g.RUNNING||m.settings.status===g.PAUSED)?"[*] ":"[-] ";C+=m.settings.key+" ("+d[m.settings.status]+")",c.push(C)}console.log(c.join(`
`))},destroy:function(){for(var c=0;c<this.scenes.length;c++){var d=this.scenes[c].sys;d.destroy()}this.systemScene.sys.destroy(),this.update=i,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});e.exports=f},52209:(e,y,t)=>{var a=t(45319),g=t(83419),l=t(44594),s=t(95540),o=t(37277),n=new g({initialize:function(h){this.scene=h,this.systems=h.sys,this.settings=h.sys.settings,this.key=h.sys.settings.key,this.manager=h.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,h.sys.events.once(l.BOOT,this.boot,this),h.sys.events.on(l.START,this.pluginStart,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(l.SHUTDOWN,this.shutdown,this)},start:function(i,h){return i===void 0&&(i=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",i,h),this},restart:function(i){var h=this.key;return this.manager.queueOp("stop",h),this.manager.queueOp("start",h,i),this},transition:function(i){i===void 0&&(i={});var h=s(i,"target",!1),r=this.manager.getScene(h);if(!h||!this.checkValidTransition(r))return!1;var f=s(i,"duration",1e3);this._elapsed=0,this._target=r,this._duration=f,this._willSleep=s(i,"sleep",!1),this._willRemove=s(i,"remove",!1);var c=s(i,"onUpdate",null);c&&(this._onUpdate=c,this._onUpdateScope=s(i,"onUpdateScope",this.scene));var d=s(i,"allowInput",!1);this.settings.transitionAllowInput=d;var p=r.sys.settings;p.isTransition=!0,p.transitionFrom=this.scene,p.transitionDuration=f,p.transitionAllowInput=d,s(i,"moveAbove",!1)?this.manager.moveAbove(this.key,h):s(i,"moveBelow",!1)&&this.manager.moveBelow(this.key,h),r.sys.isSleeping()?r.sys.wake(s(i,"data")):this.manager.start(h,s(i,"data"));var m=s(i,"onStart",null),C=s(i,"onStartScope",this.scene);return m&&m.call(C,this.scene,r,f),this.systems.events.emit(l.TRANSITION_OUT,r,f),!0},checkValidTransition:function(i){return!(!i||i.sys.isActive()||i.sys.isTransitioning()||i===this.scene||this.systems.isTransitioning())},step:function(i,h){this._elapsed+=h,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var i=this._target.sys,h=this._target.sys.settings;i.events.emit(l.TRANSITION_COMPLETE,this.scene),h.isTransition=!1,h.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(i,h,r,f){return this.manager.add(i,h,r,f)},launch:function(i,h){return i&&i!==this.key&&this.manager.queueOp("start",i,h),this},run:function(i,h){return i&&i!==this.key&&this.manager.queueOp("run",i,h),this},pause:function(i,h){return i===void 0&&(i=this.key),this.manager.queueOp("pause",i,h),this},resume:function(i,h){return i===void 0&&(i=this.key),this.manager.queueOp("resume",i,h),this},sleep:function(i,h){return i===void 0&&(i=this.key),this.manager.queueOp("sleep",i,h),this},wake:function(i,h){return i===void 0&&(i=this.key),this.manager.queueOp("wake",i,h),this},switch:function(i){return i!==this.key&&this.manager.queueOp("switch",this.key,i),this},stop:function(i,h){return i===void 0&&(i=this.key),this.manager.queueOp("stop",i,h),this},setActive:function(i,h,r){h===void 0&&(h=this.key);var f=this.manager.getScene(h);return f&&f.sys.setActive(i,r),this},setVisible:function(i,h){h===void 0&&(h=this.key);var r=this.manager.getScene(h);return r&&r.sys.setVisible(i),this},isSleeping:function(i){return i===void 0&&(i=this.key),this.manager.isSleeping(i)},isActive:function(i){return i===void 0&&(i=this.key),this.manager.isActive(i)},isPaused:function(i){return i===void 0&&(i=this.key),this.manager.isPaused(i)},isVisible:function(i){return i===void 0&&(i=this.key),this.manager.isVisible(i)},swapPosition:function(i,h){return h===void 0&&(h=this.key),i!==h&&this.manager.swapPosition(i,h),this},moveAbove:function(i,h){return h===void 0&&(h=this.key),i!==h&&this.manager.moveAbove(i,h),this},moveBelow:function(i,h){return h===void 0&&(h=this.key),i!==h&&this.manager.moveBelow(i,h),this},remove:function(i){return i===void 0&&(i=this.key),this.manager.remove(i),this},moveUp:function(i){return i===void 0&&(i=this.key),this.manager.moveUp(i),this},moveDown:function(i){return i===void 0&&(i=this.key),this.manager.moveDown(i),this},bringToTop:function(i){return i===void 0&&(i=this.key),this.manager.bringToTop(i),this},sendToBack:function(i){return i===void 0&&(i=this.key),this.manager.sendToBack(i),this},get:function(i){return this.manager.getScene(i)},getStatus:function(i){var h=this.manager.getScene(i);if(h)return h.sys.getStatus()},getIndex:function(i){return i===void 0&&(i=this.key),this.manager.getIndex(i)},shutdown:function(){var i=this.systems.events;i.off(l.SHUTDOWN,this.shutdown,this),i.off(l.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});o.register("ScenePlugin",n,"scenePlugin"),e.exports=n},55681:(e,y,t)=>{var a=t(89993),g=t(35154),l=t(46975),s=t(87033),o={create:function(n){return typeof n=="string"?n={key:n}:n===void 0&&(n={}),{status:a.PENDING,key:g(n,"key",""),active:g(n,"active",!1),visible:g(n,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:g(n,"pack",!1),cameras:g(n,"cameras",null),map:g(n,"map",l(s,g(n,"mapAdd",{}))),physics:g(n,"physics",{}),loader:g(n,"loader",{}),plugins:g(n,"plugins",!1),input:g(n,"input",{})}}};e.exports=o},2368:(e,y,t)=>{var a=t(83419),g=t(89993),l=t(42363),s=t(44594),o=t(27397),n=t(52106),i=t(29747),h=t(55681),r=new a({initialize:function(c,d){this.scene=c,this.game,this.renderer,this.config=d,this.settings=h.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=i},init:function(f){this.settings.status=g.INIT,this.sceneUpdate=i,this.game=f,this.renderer=f.renderer,this.canvas=f.canvas,this.context=f.context;var c=f.plugins;this.plugins=c,c.addToScene(this,l.Global,[l.CoreScene,n(this),o(this)]),this.events.emit(s.BOOT,this),this.settings.isBooted=!0},step:function(f,c){var d=this.events;d.emit(s.PRE_UPDATE,f,c),d.emit(s.UPDATE,f,c),this.sceneUpdate.call(this.scene,f,c),d.emit(s.POST_UPDATE,f,c)},render:function(f){var c=this.displayList;c.depthSort(),this.events.emit(s.PRE_RENDER,f),this.cameras.render(f,c),this.events.emit(s.RENDER,f)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(f){var c=this.settings,d=this.getStatus();return d!==g.CREATING&&d!==g.RUNNING?console.warn("Cannot pause non-running Scene",c.key):this.settings.active&&(c.status=g.PAUSED,c.active=!1,this.events.emit(s.PAUSE,this,f)),this},resume:function(f){var c=this.events,d=this.settings;return this.settings.active||(d.status=g.RUNNING,d.active=!0,c.emit(s.RESUME,this,f)),this},sleep:function(f){var c=this.settings,d=this.getStatus();return d!==g.CREATING&&d!==g.RUNNING?console.warn("Cannot sleep non-running Scene",c.key):(c.status=g.SLEEPING,c.active=!1,c.visible=!1,this.events.emit(s.SLEEP,this,f)),this},wake:function(f){var c=this.events,d=this.settings;return d.status=g.RUNNING,d.active=!0,d.visible=!0,c.emit(s.WAKE,this,f),d.isTransition&&c.emit(s.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var f=this.settings.status;return f>g.PENDING&&f<=g.RUNNING},isSleeping:function(){return this.settings.status===g.SLEEPING},isActive:function(){return this.settings.status===g.RUNNING},isPaused:function(){return this.settings.status===g.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(f){return this.settings.visible=f,this},setActive:function(f,c){return f?this.resume(c):this.pause(c)},start:function(f){var c=this.events,d=this.settings;f&&(d.data=f),d.status=g.START,d.active=!0,d.visible=!0,c.emit(s.START,this),c.emit(s.READY,this,f)},shutdown:function(f){var c=this.events,d=this.settings;c.off(s.TRANSITION_INIT),c.off(s.TRANSITION_START),c.off(s.TRANSITION_COMPLETE),c.off(s.TRANSITION_OUT),d.status=g.SHUTDOWN,d.active=!1,d.visible=!1,c.emit(s.SHUTDOWN,this,f)},destroy:function(){var f=this.events,c=this.settings;c.status=g.DESTROYED,c.active=!1,c.visible=!1,f.emit(s.DESTROY,this),f.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],p=0;p<d.length;p++)this[d[p]]=null}});e.exports=r},89993:e=>{var y={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};e.exports=y},69830:e=>{e.exports="addedtoscene"},7919:e=>{e.exports="boot"},46763:e=>{e.exports="create"},11763:e=>{e.exports="destroy"},71555:e=>{e.exports="pause"},36735:e=>{e.exports="postupdate"},3809:e=>{e.exports="prerender"},90716:e=>{e.exports="preupdate"},58262:e=>{e.exports="ready"},91633:e=>{e.exports="removedfromscene"},10319:e=>{e.exports="render"},87132:e=>{e.exports="resume"},81961:e=>{e.exports="shutdown"},90194:e=>{e.exports="sleep"},6265:e=>{e.exports="start"},33178:e=>{e.exports="transitioncomplete"},43063:e=>{e.exports="transitioninit"},11259:e=>{e.exports="transitionout"},61611:e=>{e.exports="transitionstart"},45209:e=>{e.exports="transitionwake"},22966:e=>{e.exports="update"},21747:e=>{e.exports="wake"},44594:(e,y,t)=>{e.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(e,y,t)=>{var a=t(89993),g=t(79291),l={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};l=g(!1,l,a),e.exports=l},30341:(e,y,t)=>{var a=t(83419),g=t(50792),l=t(14463),s=t(79291),o=t(29747),n=new a({Extends:g,initialize:function(h,r,f){g.call(this),this.manager=h,this.key=r,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=s(this.config,f),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(i){return!i||!i.name||typeof i.name!="string"?!1:this.markers[i.name]?(console.error("addMarker "+i.name+" already exists in Sound"),!1):(i=s(!0,{name:"",start:0,duration:this.totalDuration-(i.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},i),this.markers[i.name]=i,!0)},updateMarker:function(i){return!i||!i.name||typeof i.name!="string"?!1:this.markers[i.name]?(this.markers[i.name]=s(!0,this.markers[i.name],i),!0):(console.warn("Audio Marker: "+i.name+" missing in Sound: "+this.key),!1)},removeMarker:function(i){var h=this.markers[i];return h?(this.markers[i]=null,h):null},play:function(i,h){if(i===void 0&&(i=""),typeof i=="object"&&(h=i,i=""),typeof i!="string")return!1;if(!i)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[i])return console.warn("Marker: "+i+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[i],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=s(this.currentConfig,h),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:o,calculateRate:function(){var i=1.0005777895065548,h=this.currentConfig.detune+this.manager.detune,r=Math.pow(i,h);this.totalRate=this.currentConfig.rate*this.manager.rate*r},destroy:function(){this.pendingRemove||(this.stop(),this.emit(l.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});e.exports=n},85034:(e,y,t)=>{var a=t(83419),g=t(41786),l=t(50792),s=t(14463),o=t(8443),n=t(46710),i=t(58731),h=t(29747),r=t(26099),f=new a({Extends:l,initialize:function(d){l.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new r,d.events.on(o.BLUR,this.onGameBlur,this),d.events.on(o.FOCUS,this.onGameFocus,this),d.events.on(o.PRE_STEP,this.update,this),d.events.once(o.DESTROY,this.destroy,this)},add:h,addAudioSprite:function(c,d){d===void 0&&(d={});var p=this.add(c,d);p.spritemap=this.jsonCache.get(c).spritemap;for(var m in p.spritemap)if(p.spritemap.hasOwnProperty(m)){var C=g(d),S=p.spritemap[m];C.loop=S.hasOwnProperty("loop")?S.loop:!1,p.addMarker({name:m,start:S.start,duration:S.end-S.start,config:C})}return p},get:function(c){return i(this.sounds,"key",c)},getAll:function(c){return c?n(this.sounds,"key",c):n(this.sounds)},getAllPlaying:function(){return n(this.sounds,"isPlaying",!0)},play:function(c,d){var p=this.add(c);return p.once(s.COMPLETE,p.destroy,p),d?d.name?(p.addMarker(d),p.play(d.name)):p.play(d):p.play()},playAudioSprite:function(c,d,p){var m=this.addAudioSprite(c);return m.once(s.COMPLETE,m.destroy,m),m.play(d,p)},remove:function(c){var d=this.sounds.indexOf(c);return d!==-1?(c.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(c){c.destroy()}),this.sounds.length=0},removeByKey:function(c){for(var d=0,p=this.sounds.length-1;p>=0;p--){var m=this.sounds[p];m.key===c&&(m.destroy(),this.sounds.splice(p,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(c){c.pause()}),this.emit(s.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(c){c.resume()}),this.emit(s.RESUME_ALL,this)},setListenerPosition:h,stopAll:function(){this.forEachActiveSound(function(c){c.stop()}),this.emit(s.STOP_ALL,this)},stopByKey:function(c){var d=0;return this.getAll(c).forEach(function(p){p.stop()&&d++}),d},unlock:h,onBlur:h,onFocus:h,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(c,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(s.UNLOCKED,this));for(var p=this.sounds.length-1;p>=0;p--)this.sounds[p].pendingRemove&&this.sounds.splice(p,1);this.sounds.forEach(function(m){m.update(c,d)})},destroy:function(){this.game.events.off(o.BLUR,this.onGameBlur,this),this.game.events.off(o.FOCUS,this.onGameFocus,this),this.game.events.off(o.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(c,d){var p=this;this.sounds.forEach(function(m,C){m&&!m.pendingRemove&&c.call(d||p,m,C,p.sounds)})},setRate:function(c){return this.rate=c,this},rate:{get:function(){return this._rate},set:function(c){this._rate=c,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(s.GLOBAL_RATE,this,c)}},setDetune:function(c){return this.detune=c,this},detune:{get:function(){return this._detune},set:function(c){this._detune=c,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(s.GLOBAL_DETUNE,this,c)}}});e.exports=f},14747:(e,y,t)=>{var a=t(33684),g=t(25960),l=t(57490),s={create:function(o){var n=o.config.audio,i=o.device.audio;return n.noAudio||!i.webAudio&&!i.audioData?new g(o):i.webAudio&&!n.disableWebAudio?new l(o):new a(o)}};e.exports=s},19723:e=>{e.exports="complete"},98882:e=>{e.exports="decodedall"},57506:e=>{e.exports="decoded"},73146:e=>{e.exports="destroy"},11305:e=>{e.exports="detune"},40577:e=>{e.exports="detune"},30333:e=>{e.exports="mute"},20394:e=>{e.exports="rate"},21802:e=>{e.exports="volume"},1299:e=>{e.exports="looped"},99190:e=>{e.exports="loop"},97125:e=>{e.exports="mute"},89259:e=>{e.exports="pan"},79986:e=>{e.exports="pauseall"},17586:e=>{e.exports="pause"},19618:e=>{e.exports="play"},42306:e=>{e.exports="rate"},10387:e=>{e.exports="resumeall"},48959:e=>{e.exports="resume"},9960:e=>{e.exports="seek"},19180:e=>{e.exports="stopall"},98328:e=>{e.exports="stop"},50401:e=>{e.exports="unlocked"},52498:e=>{e.exports="volume"},14463:(e,y,t)=>{e.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(e,y,t)=>{var a=t(30341),g=t(83419),l=t(14463),s=t(45319),o=new g({Extends:a,initialize:function(i,h,r){if(r===void 0&&(r={}),this.tags=i.game.cache.audio.get(h),!this.tags)throw new Error('No cached audio asset with key "'+h);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,i,h,r)},play:function(n,i){return this.manager.isLocked(this,"play",[n,i])||!a.prototype.play.call(this,n,i)||!this.pickAndPlayAudioTag()?!1:(this.emit(l.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(l.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(l.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(l.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var n=this.currentConfig.seek,i=this.currentConfig.delay,h=(this.currentMarker?this.currentMarker.start:0)+n;return this.previousTime=h,this.audio.currentTime=h,this.applyConfig(),i===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+i*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var n=0;n<this.tags.length;n++){var i=this.tags[n];if(i.dataset.used==="false")return i.dataset.used="true",this.audio=i,!0}if(!this.manager.override)return!1;var h=[];this.manager.forEachActiveSound(function(f){f.key===this.key&&f.audio&&h.push(f)},this),h.sort(function(f,c){return f.loop===c.loop?c.seek/c.duration-f.seek/f.duration:f.loop?1:-1});var r=h[0];return this.audio=r.audio,r.reset(),r.audio=null,r.startTime=0,r.previousTime=0,!0},playCatchPromise:function(){var n=this.audio.play();n&&n.catch(function(i){console.warn(i)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(n){if(this.isPlaying){if(this.startTime>0){this.startTime<n-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,n-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var i=this.currentMarker?this.currentMarker.start:0,h=i+this.duration,r=this.audio.currentTime;if(this.currentConfig.loop)r>=h-this.manager.loopEndOffset?(this.audio.currentTime=i+Math.max(0,r-h),r=this.audio.currentTime):r<i&&(this.audio.currentTime+=i,r=this.audio.currentTime),r<this.previousTime&&this.emit(l.LOOPED,this);else if(r>=h){this.reset(),this.stopAndReleaseAudioTag(),this.emit(l.COMPLETE,this);return}this.previousTime=r}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=s(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(n){this.currentConfig.mute=n,!this.manager.isLocked(this,"mute",n)&&(this.updateMute(),this.emit(l.MUTE,this,n))}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.currentConfig.volume},set:function(n){this.currentConfig.volume=n,!this.manager.isLocked(this,"volume",n)&&(this.updateVolume(),this.emit(l.VOLUME,this,n))}},setVolume:function(n){return this.volume=n,this},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,!this.manager.isLocked(this,l.RATE,n)&&(this.calculateRate(),this.emit(l.RATE,this,n))}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,!this.manager.isLocked(this,l.DETUNE,n)&&(this.calculateRate(),this.emit(l.DETUNE,this,n))}},setDetune:function(n){return this.detune=n,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.isLocked(this,"seek",n)||this.startTime>0||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.isPlaying?(this.previousTime=n,this.audio.currentTime=n):this.isPaused&&(this.currentConfig.seek=n),this.emit(l.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,!this.manager.isLocked(this,"loop",n)&&(this.audio&&(this.audio.loop=n),this.emit(l.LOOP,this,n))}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.currentConfig.pan},set:function(n){this.currentConfig.pan=n,this.emit(l.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});e.exports=o},33684:(e,y,t)=>{var a=t(85034),g=t(83419),l=t(14463),s=t(64895),o=new g({Extends:a,initialize:function(i){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,i)},add:function(n,i){var h=new s(this,n,i);return this.sounds.push(h),h},unlock:function(){this.locked=!1;var n=this;if(this.game.cache.audio.entries.each(function(f,c){for(var d=0;d<c.length;d++)if(c[d].dataset.locked==="true")return n.locked=!0,!1;return!0}),!!this.locked){var i=!1,h=function(){i=!0},r=function(){if(i){i=!1;return}document.body.removeEventListener("touchmove",h),document.body.removeEventListener("touchend",r);var f=[];if(n.game.cache.audio.entries.each(function(d,p){for(var m=0;m<p.length;m++){var C=p[m];C.dataset.locked==="true"&&f.push(C)}return!0}),f.length!==0){var c=f[f.length-1];c.oncanplaythrough=function(){c.oncanplaythrough=null,f.forEach(function(d){d.dataset.locked="false"}),n.unlocked=!0},f.forEach(function(d){d.load()})}};this.once(l.UNLOCKED,function(){for(this.forEachActiveSound(function(c){c.currentMarker===null&&c.duration===0&&(c.duration=c.tags[0].duration),c.totalDuration=c.tags[0].duration});this.lockedActionsQueue.length;){var f=this.lockedActionsQueue.shift();f.sound[f.prop].apply?f.sound[f.prop].apply(f.sound,f.value||[]):f.sound[f.prop]=f.value}},this),document.body.addEventListener("touchmove",h,!1),document.body.addEventListener("touchend",r,!1)}},onBlur:function(){this.forEachActiveSound(function(n){n.isPlaying&&(this.onBlurPausedSounds.push(n),n.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(n){n.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(n,i,h){return n.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:n,prop:i,value:h}),!0):!1},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this._mute},set:function(n){this._mute=n,this.forEachActiveSound(function(i){i.updateMute()}),this.emit(l.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this._volume},set:function(n){this._volume=n,this.forEachActiveSound(function(i){i.updateVolume()}),this.emit(l.GLOBAL_VOLUME,this,n)}}});e.exports=o},23717:(e,y,t)=>{e.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(e,y,t)=>{var a=t(30341),g=t(83419),l=t(50792),s=t(79291),o=t(29747),n=function(){return!1},i=function(){return null},h=function(){return this},r=new g({Extends:l,initialize:function(c,d,p){p===void 0&&(p={}),l.call(this),this.manager=c,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=s({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},p),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:n,updateMarker:n,removeMarker:i,play:n,pause:n,resume:n,stop:n,setMute:h,setVolume:h,setRate:h,setDetune:h,setSeek:h,setLoop:h,setPan:h,applyConfig:i,resetConfig:i,update:o,calculateRate:i,destroy:function(){a.prototype.destroy.call(this)}});e.exports=r},25960:(e,y,t)=>{var a=t(85034),g=t(83419),l=t(50792),s=t(4603),o=t(29747),n=new g({Extends:l,initialize:function(h){l.call(this),this.game=h,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(i,h){var r=new s(this,i,h);return this.sounds.push(r),r},addAudioSprite:function(i,h){var r=this.add(i,h);return r.spritemap={},r},get:function(i){return a.prototype.get.call(this,i)},getAll:function(i){return a.prototype.getAll.call(this,i)},play:function(i,h){return!1},playAudioSprite:function(i,h,r){return!1},remove:function(i){return a.prototype.remove.call(this,i)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(i){return a.prototype.removeByKey.call(this,i)},stopByKey:function(i){return a.prototype.stopByKey.call(this,i)},onBlur:o,onFocus:o,onGameBlur:o,onGameFocus:o,pauseAll:o,resumeAll:o,stopAll:o,update:o,setRate:o,setDetune:o,setMute:o,setVolume:o,unlock:o,forEachActiveSound:function(i,h){a.prototype.forEachActiveSound.call(this,i,h)},destroy:function(){a.prototype.destroy.call(this)}});e.exports=n},71741:(e,y,t)=>{var a=t(30341),g=t(83419),l=t(14463),s=t(95540),o=new g({Extends:a,initialize:function(i,h,r){if(r===void 0&&(r={}),this.audioBuffer=i.game.cache.audio.get(h),!this.audioBuffer)throw new Error('Audio key "'+h+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=i.context.createGain(),this.volumeNode=i.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),i.context.createPanner&&(this.spatialNode=i.context.createPanner(),this.volumeNode.connect(this.spatialNode)),i.context.createStereoPanner?(this.pannerNode=i.context.createStereoPanner(),i.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(i.destination)):i.context.createPanner?this.spatialNode.connect(i.destination):this.volumeNode.connect(i.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,i,h,r)},play:function(n,i){return a.prototype.play.call(this,n,i)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(l.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(l.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(l.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(l.STOP,this),!0):!1},createAndStartBufferSource:function(){var n=this.currentConfig.seek,i=this.currentConfig.delay,h=this.manager.context.currentTime+i,r=(this.currentMarker?this.currentMarker.start:0)+n,f=this.duration-n;this.playTime=h-n,this.startTime=h,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,h),Math.max(0,r),Math.max(0,f)),this.resetConfig()},createAndStartLoopBufferSource:function(){var n=this.getLoopTime(),i=this.currentMarker?this.currentMarker.start:0,h=this.duration;this.loopTime=n,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,n),Math.max(0,i),Math.max(0,h))},createBufferSource:function(){var n=this,i=this.manager.context.createBufferSource();return i.buffer=this.audioBuffer,i.connect(this.muteNode),i.onended=function(h){h.target===n.source&&(n.currentConfig.loop?n.hasLooped=!0:n.hasEnded=!0)},i},stopAndRemoveBufferSource:function(){if(this.source){var n=this.source;this.source=null,n.stop(),n.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var n=this.currentConfig.source;if(n&&this.manager.context.createPanner){var i=this.spatialNode;i.panningModel=s(n,"panningModel","equalpower"),i.distanceModel=s(n,"distanceModel","inverse"),i.orientationX.value=s(n,"orientationX",0),i.orientationY.value=s(n,"orientationY",0),i.orientationZ.value=s(n,"orientationZ",-1),i.refDistance=s(n,"refDistance",1),i.maxDistance=s(n,"maxDistance",1e4),i.rolloffFactor=s(n,"rolloffFactor",1),i.coneInnerAngle=s(n,"coneInnerAngle",360),i.coneOuterAngle=s(n,"coneOuterAngle",0),i.coneOuterGain=s(n,"coneOuterGain",0),this.spatialSource=s(n,"follow",null),this.spatialSource||(i.positionX.value=s(n,"x",0),i.positionY.value=s(n,"y",0),i.positionZ.value=s(n,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(n){this.spatialNode&&(this.spatialNode.positionX.value=n)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(n){this.spatialNode&&(this.spatialNode.positionY.value=n)}},update:function(){if(this.isPlaying&&this.spatialSource){var n=s(this.spatialSource,"x",null),i=s(this.spatialSource,"y",null);n&&n!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=n),i&&i!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=i)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(l.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(l.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var n=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,n),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,n)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var n=0,i=0;i<this.rateUpdates.length;i++){var h=0;i<this.rateUpdates.length-1?h=this.rateUpdates[i+1].time:h=this.manager.context.currentTime-this.playTime,n+=(h-this.rateUpdates[i].time)*this.rateUpdates[i].rate}return n},getLoopTime:function(){for(var n=0,i=0;i<this.rateUpdates.length-1;i++)n+=(this.rateUpdates[i+1].time-this.rateUpdates[i].time)*this.rateUpdates[i].rate;var h=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+h.time+(this.duration-n)/h.rate},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,this.calculateRate(),this.emit(l.RATE,this,n)}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,this.calculateRate(),this.emit(l.DETUNE,this,n)}},setDetune:function(n){return this.detune=n,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(n){this.currentConfig.mute=n,this.muteNode.gain.setValueAtTime(n?0:1,0),this.emit(l.MUTE,this,n)}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(n){this.currentConfig.volume=n,this.volumeNode.gain.setValueAtTime(n,0),this.emit(l.VOLUME,this,n)}},setVolume:function(n){return this.volume=n,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.currentConfig.seek=n,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(l.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),n&&this.createAndStartLoopBufferSource()),this.emit(l.LOOP,this,n)}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(n){this.currentConfig.pan=n,this.pannerNode&&this.pannerNode.pan.setValueAtTime(n,this.manager.context.currentTime),this.emit(l.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});e.exports=o},57490:(e,y,t)=>{var a=t(53134),g=t(85034),l=t(83419),s=t(14463),o=t(8443),n=t(71741),i=t(95540),h=new l({Extends:g,initialize:function(f){this.context=this.createAudioContext(f),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),g.call(this,f),this.locked&&f.isBooted?this.unlock():f.events.once(o.BOOT,this.unlock,this)},createAudioContext:function(r){var f=r.config.audio;if(f.context)return f.context.resume(),f.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(r){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=r,this.masterMuteNode=r.createGain(),this.masterVolumeNode=r.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(r.destination),this.destination=this.masterMuteNode,this},add:function(r,f){var c=new n(this,r,f);return this.sounds.push(c),c},decodeAudio:function(r,f){var c;Array.isArray(r)?c=r:c=[{key:r,data:f}];for(var d=this.game.cache.audio,p=c.length,m=0;m<c.length;m++){var C=c[m],S=C.key,E=C.data;typeof E=="string"&&(E=a(E));var D=(function(w,A){d.add(w,A),this.emit(s.DECODED,w),p--,p===0&&this.emit(s.DECODED_ALL)}).bind(this,S),M=(function(w,A){console.error("Error decoding audio: "+w+" - ",A?A.message:""),p--,p===0&&this.emit(s.DECODED_ALL)}).bind(this,S);this.context.decodeAudioData(E,D,M)}},setListenerPosition:function(r,f){return r===void 0&&(r=this.game.scale.width/2),f===void 0&&(f=this.game.scale.height/2),this.listenerPosition.set(r,f),this},unlock:function(){var r=this,f=document.body,c=function d(){if(r.context&&f){var p=f.removeEventListener.bind(f);r.context.resume().then(function(){p("touchstart",d),p("touchend",d),p("click",d),p("keydown",d),r.unlocked=!0},function(){p("touchstart",d),p("touchend",d),p("click",d),p("keydown",d)})}};f&&(f.addEventListener("touchstart",c,!1),f.addEventListener("touchend",c,!1),f.addEventListener("click",c,!1),f.addEventListener("keydown",c,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var r=this.context;r&&!this.locked&&(r.state==="suspended"||r.state==="interrupted")&&r.resume()},update:function(r,f){var c=this.context.listener;if(c&&c.positionX!==void 0){var d=i(this.listenerPosition,"x",null),p=i(this.listenerPosition,"y",null);d&&d!==this._spatialx&&(this._spatialx=c.positionX.value=d),p&&p!==this._spatialy&&(this._spatialy=c.positionY.value=p)}g.prototype.update.call(this,r,f),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var r=this;this.context.close().then(function(){r.context=null})}g.prototype.destroy.call(this)},setMute:function(r){return this.mute=r,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(r){this.masterMuteNode.gain.setValueAtTime(r?0:1,0),this.emit(s.GLOBAL_MUTE,this,r)}},setVolume:function(r){return this.volume=r,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(r){this.masterVolumeNode.gain.setValueAtTime(r,0),this.emit(s.GLOBAL_VOLUME,this,r)}}});e.exports=h},73162:(e,y,t)=>{var a=t(37105),g=t(83419),l=t(29747),s=t(19186),o=new g({initialize:function(i){this.parent=i,this.list=[],this.position=0,this.addCallback=l,this.removeCallback=l,this._sortKey=""},add:function(n,i){return i?a.Add(this.list,n):a.Add(this.list,n,0,this.addCallback,this)},addAt:function(n,i,h){return h?a.AddAt(this.list,n,i):a.AddAt(this.list,n,i,0,this.addCallback,this)},getAt:function(n){return this.list[n]},getIndex:function(n){return this.list.indexOf(n)},sort:function(n,i){return n?(i===void 0&&(i=function(h,r){return h[n]-r[n]}),s(this.list,i),this):this},getByName:function(n){return a.GetFirst(this.list,"name",n)},getRandom:function(n,i){return a.GetRandom(this.list,n,i)},getFirst:function(n,i,h,r){return a.GetFirst(this.list,n,i,h,r)},getAll:function(n,i,h,r){return a.GetAll(this.list,n,i,h,r)},count:function(n,i){return a.CountAllMatching(this.list,n,i)},swap:function(n,i){a.Swap(this.list,n,i)},moveTo:function(n,i){return a.MoveTo(this.list,n,i)},moveAbove:function(n,i){return a.MoveAbove(this.list,n,i)},moveBelow:function(n,i){return a.MoveBelow(this.list,n,i)},remove:function(n,i){return i?a.Remove(this.list,n):a.Remove(this.list,n,this.removeCallback,this)},removeAt:function(n,i){return i?a.RemoveAt(this.list,n):a.RemoveAt(this.list,n,this.removeCallback,this)},removeBetween:function(n,i,h){return h?a.RemoveBetween(this.list,n,i):a.RemoveBetween(this.list,n,i,this.removeCallback,this)},removeAll:function(n){for(var i=this.list.length;i--;)this.remove(this.list[i],n);return this},bringToTop:function(n){return a.BringToTop(this.list,n)},sendToBack:function(n){return a.SendToBack(this.list,n)},moveUp:function(n){return a.MoveUp(this.list,n),n},moveDown:function(n){return a.MoveDown(this.list,n),n},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(n,i){return a.Replace(this.list,n,i)},exists:function(n){return this.list.indexOf(n)>-1},setAll:function(n,i,h,r){return a.SetAll(this.list,n,i,h,r),this},each:function(n,i){for(var h=[null],r=2;r<arguments.length;r++)h.push(arguments[r]);for(r=0;r<this.list.length;r++)h[0]=this.list[r],n.apply(i,h)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});e.exports=o},90330:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s){this.entries={},this.size=0,this.setAll(s)},setAll:function(l){if(Array.isArray(l))for(var s=0;s<l.length;s++)this.set(l[s][0],l[s][1]);return this},set:function(l,s){return this.has(l)||this.size++,this.entries[l]=s,this},get:function(l){if(this.has(l))return this.entries[l]},getArray:function(){var l=[],s=this.entries;for(var o in s)l.push(s[o]);return l},has:function(l){return this.entries.hasOwnProperty(l)},delete:function(l){return this.has(l)&&(delete this.entries[l],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(l){delete this.entries[l]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var l=[],s=this.entries;for(var o in s)l.push(s[o]);return l},dump:function(){var l=this.entries;console.group("Map");for(var s in l)console.log(s,l[s]);console.groupEnd()},each:function(l){var s=this.entries;for(var o in s)if(l(o,s[o])===!1)break;return this},contains:function(l){var s=this.entries;for(var o in s)if(s[o]===l)return!0;return!1},merge:function(l,s){s===void 0&&(s=!1);var o=this.entries,n=l.entries;for(var i in n)o.hasOwnProperty(i)&&s?o[i]=n[i]:this.set(i,n[i]);return this}});e.exports=g},25774:(e,y,t)=>{var a=t(83419),g=t(50792),l=t(82348),s=new a({Extends:g,initialize:function(){g.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(o){return this._active.indexOf(o)>-1},isPending:function(o){return this._toProcess>0&&this._pending.indexOf(o)>-1},isDestroying:function(o){return this._destroy.indexOf(o)>-1},add:function(o){return this.checkQueue&&this.isActive(o)&&!this.isDestroying(o)||this.isPending(o)||(this._pending.push(o),this._toProcess++),o},remove:function(o){if(this.isPending(o)){var n=this._pending,i=n.indexOf(o);i!==-1&&n.splice(i,1)}else this.isActive(o)&&(this._destroy.push(o),this._toProcess++);return o},removeAll:function(){for(var o=this._active,n=this._destroy,i=o.length;i--;)n.push(o[i]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var o=this._destroy,n=this._active,i,h;for(i=0;i<o.length;i++){h=o[i];var r=n.indexOf(h);r!==-1&&(n.splice(r,1),this.emit(l.PROCESS_QUEUE_REMOVE,h))}for(o.length=0,o=this._pending,i=0;i<o.length;i++)h=o[i],(!this.checkQueue||this.checkQueue&&n.indexOf(h)===-1)&&(n.push(h),this.emit(l.PROCESS_QUEUE_ADD,h));return o.length=0,this._toProcess=0,n},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});e.exports=s},59542:(e,y,t)=>{var a=t(43886);function g(E){var D=[".left",".top",".right",".bottom"];if(!(this instanceof g))return new g(E,D);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}g.prototype={all:function(){return this._all(this.data,[])},search:function(E){var D=this.data,M=[],w=this.toBBox;if(!m(E,D))return M;for(var A=[],R,P,O,b;D;){for(R=0,P=D.children.length;R<P;R++)O=D.children[R],b=D.leaf?w(O):O,m(E,b)&&(D.leaf?M.push(O):p(E,b)?this._all(O,M):A.push(O));D=A.pop()}return M},collides:function(E){var D=this.data,M=this.toBBox;if(!m(E,D))return!1;for(var w=[],A,R,P,O;D;){for(A=0,R=D.children.length;A<R;A++)if(P=D.children[A],O=D.leaf?M(P):P,m(E,O)){if(D.leaf||p(E,O))return!0;w.push(P)}D=w.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var D=0,M=E.length;D<M;D++)this.insert(E[D]);return this}var w=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var A=this.data;this.data=w,w=A}this._insert(w,this.data.height-w.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=C([]),this},remove:function(E,D){if(!E)return this;for(var M=this.data,w=this.toBBox(E),A=[],R=[],P,O,b,F;M||A.length;){if(M||(M=A.pop(),O=A[A.length-1],P=R.pop(),F=!0),M.leaf&&(b=l(E,M.children,D),b!==-1))return M.children.splice(b,1),A.push(M),this._condense(A),this;!F&&!M.leaf&&p(M,w)?(A.push(M),R.push(P),P=0,O=M,M=M.children[0]):O?(P++,M=O.children[P],F=!1):M=null}return this},toBBox:function(E){return E},compareMinX:i,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,D){for(var M=[];E;)E.leaf?D.push.apply(D,E.children):M.push.apply(M,E.children),E=M.pop();return D},_build:function(E,D,M,w){var A=M-D+1,R=this._maxEntries,P;if(A<=R)return P=C(E.slice(D,M+1)),s(P,this.toBBox),P;w||(w=Math.ceil(Math.log(A)/Math.log(R)),R=Math.ceil(A/Math.pow(R,w-1))),P=C([]),P.leaf=!1,P.height=w;var O=Math.ceil(A/R),b=O*Math.ceil(Math.sqrt(R)),F,L,G,z;for(S(E,D,M,b,this.compareMinX),F=D;F<=M;F+=b)for(G=Math.min(F+b-1,M),S(E,F,G,O,this.compareMinY),L=F;L<=G;L+=O)z=Math.min(L+O-1,G),P.children.push(this._build(E,L,z,w-1));return s(P,this.toBBox),P},_chooseSubtree:function(E,D,M,w){for(var A,R,P,O,b,F,L,G;w.push(D),!(D.leaf||w.length-1===M);){for(L=G=1/0,A=0,R=D.children.length;A<R;A++)P=D.children[A],b=r(P),F=c(E,P)-b,F<G?(G=F,L=b<L?b:L,O=P):F===G&&b<L&&(L=b,O=P);D=O||D.children[0]}return D},_insert:function(E,D,M){var w=this.toBBox,A=M?E:w(E),R=[],P=this._chooseSubtree(A,this.data,D,R);for(P.children.push(E),n(P,A);D>=0&&R[D].children.length>this._maxEntries;)this._split(R,D),D--;this._adjustParentBBoxes(A,R,D)},_split:function(E,D){var M=E[D],w=M.children.length,A=this._minEntries;this._chooseSplitAxis(M,A,w);var R=this._chooseSplitIndex(M,A,w),P=C(M.children.splice(R,M.children.length-R));P.height=M.height,P.leaf=M.leaf,s(M,this.toBBox),s(P,this.toBBox),D?E[D-1].children.push(P):this._splitRoot(M,P)},_splitRoot:function(E,D){this.data=C([E,D]),this.data.height=E.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(E,D,M){var w,A,R,P,O,b,F,L;for(b=F=1/0,w=D;w<=M-D;w++)A=o(E,0,w,this.toBBox),R=o(E,w,M,this.toBBox),P=d(A,R),O=r(A)+r(R),P<b?(b=P,L=w,F=O<F?O:F):P===b&&O<F&&(F=O,L=w);return L},_chooseSplitAxis:function(E,D,M){var w=E.leaf?this.compareMinX:i,A=E.leaf?this.compareMinY:h,R=this._allDistMargin(E,D,M,w),P=this._allDistMargin(E,D,M,A);R<P&&E.children.sort(w)},_allDistMargin:function(E,D,M,w){E.children.sort(w);var A=this.toBBox,R=o(E,0,D,A),P=o(E,M-D,M,A),O=f(R)+f(P),b,F;for(b=D;b<M-D;b++)F=E.children[b],n(R,E.leaf?A(F):F),O+=f(R);for(b=M-D-1;b>=D;b--)F=E.children[b],n(P,E.leaf?A(F):F),O+=f(P);return O},_adjustParentBBoxes:function(E,D,M){for(var w=M;w>=0;w--)n(D[w],E)},_condense:function(E){for(var D=E.length-1,M;D>=0;D--)E[D].children.length===0?D>0?(M=E[D-1].children,M.splice(M.indexOf(E[D]),1)):this.clear():s(E[D],this.toBBox)},compareMinX:function(E,D){return E.left-D.left},compareMinY:function(E,D){return E.top-D.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function l(E,D,M){if(!M)return D.indexOf(E);for(var w=0;w<D.length;w++)if(M(E,D[w]))return w;return-1}function s(E,D){o(E,0,E.children.length,D,E)}function o(E,D,M,w,A){A||(A=C(null)),A.minX=1/0,A.minY=1/0,A.maxX=-1/0,A.maxY=-1/0;for(var R=D,P;R<M;R++)P=E.children[R],n(A,E.leaf?w(P):P);return A}function n(E,D){return E.minX=Math.min(E.minX,D.minX),E.minY=Math.min(E.minY,D.minY),E.maxX=Math.max(E.maxX,D.maxX),E.maxY=Math.max(E.maxY,D.maxY),E}function i(E,D){return E.minX-D.minX}function h(E,D){return E.minY-D.minY}function r(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function f(E){return E.maxX-E.minX+(E.maxY-E.minY)}function c(E,D){return(Math.max(D.maxX,E.maxX)-Math.min(D.minX,E.minX))*(Math.max(D.maxY,E.maxY)-Math.min(D.minY,E.minY))}function d(E,D){var M=Math.max(E.minX,D.minX),w=Math.max(E.minY,D.minY),A=Math.min(E.maxX,D.maxX),R=Math.min(E.maxY,D.maxY);return Math.max(0,A-M)*Math.max(0,R-w)}function p(E,D){return E.minX<=D.minX&&E.minY<=D.minY&&D.maxX<=E.maxX&&D.maxY<=E.maxY}function m(E,D){return D.minX<=E.maxX&&D.minY<=E.maxY&&D.maxX>=E.minX&&D.maxY>=E.minY}function C(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function S(E,D,M,w,A){for(var R=[D,M],P;R.length;)M=R.pop(),D=R.pop(),!(M-D<=w)&&(P=D+Math.ceil((M-D)/w/2)*w,a(E,P,D,M,A),R.push(D,P,P,M))}e.exports=g},35072:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s){if(this.entries=[],Array.isArray(s))for(var o=0;o<s.length;o++)this.set(s[o])},set:function(l){return this.entries.indexOf(l)===-1&&this.entries.push(l),this},get:function(l,s){for(var o=0;o<this.entries.length;o++){var n=this.entries[o];if(n[l]===s)return n}},getArray:function(){return this.entries.slice(0)},delete:function(l){var s=this.entries.indexOf(l);return s>-1&&this.entries.splice(s,1),this},dump:function(){console.group("Set");for(var l=0;l<this.entries.length;l++){var s=this.entries[l];console.log(s)}console.groupEnd()},each:function(l,s){var o,n=this.entries.slice(),i=n.length;if(s)for(o=0;o<i&&l.call(s,n[o],o)!==!1;o++);else for(o=0;o<i&&l(n[o],o)!==!1;o++);return this},iterate:function(l,s){var o,n=this.entries.length;if(s)for(o=0;o<n&&l.call(s,this.entries[o],o)!==!1;o++);else for(o=0;o<n&&l(this.entries[o],o)!==!1;o++);return this},iterateLocal:function(l){var s,o=[];for(s=1;s<arguments.length;s++)o.push(arguments[s]);var n=this.entries.length;for(s=0;s<n;s++){var i=this.entries[s];i[l].apply(i,o)}return this},clear:function(){return this.entries.length=0,this},contains:function(l){return this.entries.indexOf(l)>-1},union:function(l){var s=new g;return l.entries.forEach(function(o){s.set(o)}),this.entries.forEach(function(o){s.set(o)}),s},intersect:function(l){var s=new g;return this.entries.forEach(function(o){l.contains(o)&&s.set(o)}),s},difference:function(l){var s=new g;return this.entries.forEach(function(o){l.contains(o)||s.set(o)}),s},size:{get:function(){return this.entries.length},set:function(l){return l<this.entries.length?this.entries.length=l:this.entries.length}}});e.exports=g},86555:(e,y,t)=>{var a=t(45319),g=t(83419),l=t(56583),s=t(26099),o=new g({initialize:function(i,h,r,f){i===void 0&&(i=0),h===void 0&&(h=i),r===void 0&&(r=0),f===void 0&&(f=null),this._width=i,this._height=h,this._parent=f,this.aspectMode=r,this.aspectRatio=h===0?1:i/h,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new s},setAspectMode:function(n){return n===void 0&&(n=0),this.aspectMode=n,this.setSize(this._width,this._height)},setSnap:function(n,i){return n===void 0&&(n=0),i===void 0&&(i=n),this.snapTo.set(n,i),this.setSize(this._width,this._height)},setParent:function(n){return this._parent=n,this.setSize(this._width,this._height)},setMin:function(n,i){return n===void 0&&(n=0),i===void 0&&(i=n),this.minWidth=a(n,0,this.maxWidth),this.minHeight=a(i,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(n,i){return n===void 0&&(n=Number.MAX_VALUE),i===void 0&&(i=n),this.maxWidth=a(n,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(i,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(n,i){switch(n===void 0&&(n=0),i===void 0&&(i=n),this.aspectMode){case o.NONE:this._width=this.getNewWidth(l(n,this.snapTo.x)),this._height=this.getNewHeight(l(i,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case o.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(l(n,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case o.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(l(i,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case o.FIT:this.constrain(n,i,!0);break;case o.ENVELOP:this.constrain(n,i,!1);break}return this},setAspectRatio:function(n){return this.aspectRatio=n,this.setSize(this._width,this._height)},resize:function(n,i){return this._width=this.getNewWidth(l(n,this.snapTo.x)),this._height=this.getNewHeight(l(i,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(n,i){return i===void 0&&(i=!0),n=a(n,this.minWidth,this.maxWidth),i&&this._parent&&n>this._parent.width&&(n=Math.max(this.minWidth,this._parent.width)),n},getNewHeight:function(n,i){return i===void 0&&(i=!0),n=a(n,this.minHeight,this.maxHeight),i&&this._parent&&n>this._parent.height&&(n=Math.max(this.minHeight,this._parent.height)),n},constrain:function(n,i,h){n===void 0&&(n=0),i===void 0&&(i=n),h===void 0&&(h=!0),n=this.getNewWidth(n),i=this.getNewHeight(i);var r=this.snapTo,f=i===0?1:n/i;return h&&this.aspectRatio>f||!h&&this.aspectRatio<f?(n=l(n,r.x),i=n/this.aspectRatio,r.y>0&&(i=l(i,r.y),n=i*this.aspectRatio)):(h&&this.aspectRatio<f||!h&&this.aspectRatio>f)&&(i=l(i,r.y),n=i*this.aspectRatio,r.x>0&&(n=l(n,r.x),i=n*(1/this.aspectRatio))),this._width=n,this._height=i,this},fitTo:function(n,i){return this.constrain(n,i,!0)},envelop:function(n,i){return this.constrain(n,i,!1)},setWidth:function(n){return this.setSize(n,this._height)},setHeight:function(n){return this.setSize(this._width,n)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(n){n&&n.style&&(n.style.width=this._width+"px",n.style.height=this._height+"px")},copy:function(n){return n.setAspectMode(this.aspectMode),n.aspectRatio=this.aspectRatio,n.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(n){this.setSize(n,this._height)}},height:{get:function(){return this._height},set:function(n){this.setSize(this._width,n)}}});o.NONE=0,o.WIDTH_CONTROLS_HEIGHT=1,o.HEIGHT_CONTROLS_WIDTH=2,o.FIT=3,o.ENVELOP=4,e.exports=o},15238:e=>{e.exports="add"},56187:e=>{e.exports="remove"},82348:(e,y,t)=>{e.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(e,y,t)=>{e.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(e,y,t)=>{var a=t(83419),g=t(45319),l=t(40987),s=t(8054),o=t(50030),n=t(79237),i=new a({Extends:n,initialize:function(r,f,c,d,p){n.call(this,r,f,c,d,p),this.add("__BASE",0,0,0,d,p),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=d,this.height=p,this.imageData=this.context.getImageData(0,0,d,p),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===s.WEBGL&&this.refresh(),this},draw:function(h,r,f,c){return c===void 0&&(c=!0),this.context.drawImage(f,h,r),c&&this.update(),this},drawFrame:function(h,r,f,c,d){f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=!0);var p=this.manager.getFrame(h,r);if(p){var m=p.canvasData,C=p.cutWidth,S=p.cutHeight,E=p.source.resolution;this.context.drawImage(p.source.image,m.x,m.y,C,S,f,c,C/E,S/E),d&&this.update()}return this},setPixel:function(h,r,f,c,d,p){p===void 0&&(p=255),h=Math.abs(Math.floor(h)),r=Math.abs(Math.floor(r));var m=this.getIndex(h,r);if(m>-1){var C=this.context.getImageData(h,r,1,1);C.data[0]=f,C.data[1]=c,C.data[2]=d,C.data[3]=p,this.context.putImageData(C,h,r)}return this},putData:function(h,r,f,c,d,p,m){return c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=h.width),m===void 0&&(m=h.height),this.context.putImageData(h,r,f,c,d,p,m),this},getData:function(h,r,f,c){h=g(Math.floor(h),0,this.width-1),r=g(Math.floor(r),0,this.height-1),f=g(f,1,this.width-h),c=g(c,1,this.height-r);var d=this.context.getImageData(h,r,f,c);return d},getPixel:function(h,r,f){f||(f=new l);var c=this.getIndex(h,r);if(c>-1){var d=this.data,p=d[c+0],m=d[c+1],C=d[c+2],S=d[c+3];f.setTo(p,m,C,S)}return f},getPixels:function(h,r,f,c){h===void 0&&(h=0),r===void 0&&(r=0),f===void 0&&(f=this.width),c===void 0&&(c=f),h=Math.abs(Math.round(h)),r=Math.abs(Math.round(r));for(var d=g(h,0,this.width),p=g(h+f,0,this.width),m=g(r,0,this.height),C=g(r+c,0,this.height),S=new l,E=[],D=m;D<C;D++){for(var M=[],w=d;w<p;w++)S=this.getPixel(w,D,S),M.push({x:w,y:D,color:S.color,alpha:S.alphaGL});E.push(M)}return E},getIndex:function(h,r){return h=Math.abs(Math.round(h)),r=Math.abs(Math.round(r)),h<this.width&&r<this.height?(h+r*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(h,r,f,c,d){return h===void 0&&(h=0),r===void 0&&(r=0),f===void 0&&(f=this.width),c===void 0&&(c=this.height),d===void 0&&(d=!0),this.context.clearRect(h,r,f,c),d&&this.update(),this},setSize:function(h,r){return r===void 0&&(r=h),(h!==this.width||r!==this.height)&&(this.canvas.width=h,this.canvas.height=r,this._source.width=h,this._source.height=r,this._source.isPowerOf2=o(h,r),this.frames.__BASE.setSize(h,r,0,0),this.width=h,this.height=r,this.refresh()),this},destroy:function(){n.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});e.exports=i},81320:(e,y,t)=>{var a=t(10312),g=t(71911),l=t(27919),s=t(83419),o=t(8054),n=t(4327),i=t(95540),h=t(36060),r=t(32302),f=t(79237),c=t(70554),d=new s({Extends:f,initialize:function(m,C,S,E){S===void 0&&(S=256),E===void 0&&(E=256),this.type="DynamicTexture";var D=m.game.renderer,M=D&&D.type===o.CANVAS,w=M?l.create2D(this,S,E):[this];f.call(this,m,C,w,S,E),this.add("__BASE",0,0,0,S,E),this.renderer=D,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=M?w:null,this.context=M?w.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new g(0,0,S,E).setScene(m.game.scene.systemScene,!1),this.renderTarget=M?null:new r(D,S,E,1,0,!1,!0,!0,!1),this.pipeline=M?null:D.pipelines.get(h.SINGLE_PIPELINE),this.setSize(S,E)},setSize:function(p,m){m===void 0&&(m=p);var C=this.get(),S=C.source;if(p!==this.width||m!==this.height){this.canvas&&(this.canvas.width=p,this.canvas.height=m);var E=this.renderTarget;E&&(E.willResize(p,m)&&E.resize(p,m),E.texture!==S.glTexture&&this.renderer.deleteTexture(S.glTexture),this.setFromRenderTarget()),this.camera.setSize(p,m),S.width=p,S.height=m,C.setSize(p,m),this.width=p,this.height=m}else{var D=this.getSourceImage();C.cutX+p>D.width&&(p=D.width-C.cutX),C.cutY+m>D.height&&(m=D.height-C.cutY),C.setSize(p,m,C.cutX,C.cutY)}return this},setFromRenderTarget:function(){var p=this.get(),m=p.source,C=this.renderTarget;return m.isRenderTexture=!0,m.isGLTexture=!0,m.glTexture=C.texture,this},setIsSpriteTexture:function(p){return this.isSpriteTexture=p,this},fill:function(p,m,C,S,E,D){var M=this.camera,w=this.renderer;m===void 0&&(m=1),C===void 0&&(C=0),S===void 0&&(S=0),E===void 0&&(E=this.width),D===void 0&&(D=this.height);var A=p>>16&255,R=p>>8&255,P=p&255,O=this.renderTarget;if(M.preRender(),O){O.bind(!0);var b=this.pipeline.manager.set(this.pipeline),F=w.width/O.width,L=w.height/O.height,G=O.height-(S+D);b.drawFillRect(C*F,G*L,E*F,D*L,c.getTintFromFloats(P/255,R/255,A/255,1),m),O.unbind(!0)}else{var z=this.context;w.setContext(z),z.globalCompositeOperation="source-over",z.fillStyle="rgba("+A+","+R+","+P+","+m+")",z.fillRect(C,S,E,D),w.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var p=this.context,m=this.renderTarget;m?m.clear():p&&(p.save(),p.setTransform(1,0,0,1,0,0),p.clearRect(0,0,this.width,this.height),p.restore()),this.dirty=!1}return this},stamp:function(p,m,C,S,E){C===void 0&&(C=0),S===void 0&&(S=0);var D=i(E,"alpha",1),M=i(E,"tint",16777215),w=i(E,"angle",0),A=i(E,"rotation",0),R=i(E,"scale",1),P=i(E,"scaleX",R),O=i(E,"scaleY",R),b=i(E,"originX",.5),F=i(E,"originY",.5),L=i(E,"blendMode",0),G=i(E,"erase",!1),z=i(E,"skipBatch",!1),X=this.manager.resetStamp(D,M);return X.setAngle(0),w!==0?X.setAngle(w):A!==0&&X.setRotation(A),X.setScale(P,O),X.setTexture(p,m),X.setOrigin(b,F),X.setBlendMode(L),G&&(this._eraseMode=!0),z?this.batchGameObject(X,C,S):this.draw(X,C,S),G&&(this._eraseMode=!1),this},erase:function(p,m,C){return this._eraseMode=!0,this.draw(p,m,C),this._eraseMode=!1,this},draw:function(p,m,C,S,E){return this.beginDraw(),this.batchDraw(p,m,C,S,E),this.endDraw(),this},drawFrame:function(p,m,C,S,E,D){return this.beginDraw(),this.batchDrawFrame(p,m,C,S,E,D),this.endDraw(),this},repeat:function(p,m,C,S,E,D,M,w,A){if(C===void 0&&(C=0),S===void 0&&(S=0),E===void 0&&(E=this.width),D===void 0&&(D=this.height),M===void 0&&(M=1),w===void 0&&(w=16777215),A===void 0&&(A=!1),p instanceof n?m=p:m=this.manager.getFrame(p,m),!m)return this;var R=this.manager.resetStamp(M,w);R.setFrame(m),R.setOrigin(0);var P=m.width,O=m.height;E=Math.floor(E),D=Math.floor(D);var b=Math.ceil(E/P),F=Math.ceil(D/O),L=b*P-E,G=F*O-D;L>0&&(L=P-L),G>0&&(G=O-G),C<0&&(b+=Math.ceil(Math.abs(C)/P)),S<0&&(F+=Math.ceil(Math.abs(S)/O));var z=C,X=S,B=!1,U=this.manager.stampCrop.setTo(0,0,P,O);A||this.beginDraw();for(var I=0;I<F;I++){if(X+O<0){X+=O;continue}for(var N=0;N<b;N++){if(B=!1,z+P<0){z+=P;continue}else z<0&&(B=!0,U.width=P+z,U.x=P-U.width);X<0&&(B=!0,U.height=O+X,U.y=O-U.height),L>0&&N===b-1&&(B=!0,U.width=L),G>0&&I===F-1&&(B=!0,U.height=G),B&&R.setCrop(U),this.batchGameObject(R,z,X),R.isCropped=!1,U.setTo(0,0,P,O),z+=P}z=C,X+=O}return A||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var p=this.camera,m=this.renderer,C=this.renderTarget;p.preRender(),C?m.beginCapture(C.width,C.height):m.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(p,m,C,S,E){return Array.isArray(p)||(p=[p]),this.batchList(p,m,C,S,E),this},batchDrawFrame:function(p,m,C,S,E,D){C===void 0&&(C=0),S===void 0&&(S=0),E===void 0&&(E=1),D===void 0&&(D=16777215);var M=this.manager.getFrame(p,m);return M&&(this.renderTarget?this.pipeline.batchTextureFrame(M,C,S,D,E,this.camera.matrix,null):this.batchTextureFrame(M,C,S,E,D)),this},endDraw:function(p){if(p===void 0&&(p=this._eraseMode),this.isDrawing){var m=this.renderer,C=this.renderTarget;if(C){var S=m.endCapture(),E=m.pipelines.setUtility();E.blitFrame(S,C,1,!1,!1,p,this.isSpriteTexture),m.resetScissor(),m.resetViewport()}else m.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(p,m,C,S,E){var D=p.length;if(D!==0)for(var M=0;M<D;M++){var w=p[M];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,m,C):w.isParent||w.list?this.batchGroup(w.getChildren(),m,C):typeof w=="string"?this.batchTextureFrameKey(w,null,m,C,S,E):w instanceof n?this.batchTextureFrame(w,m,C,S,E):Array.isArray(w)&&this.batchList(w,m,C,S,E))}},batchGroup:function(p,m,C){m===void 0&&(m=0),C===void 0&&(C=0);for(var S=0;S<p.length;S++){var E=p[S];E.willRender(this.camera)&&this.batchGameObject(E,E.x+m,E.y+C)}},batchGameObject:function(p,m,C){m===void 0&&(m=p.x),C===void 0&&(C=p.y);var S=p.x,E=p.y,D=this.camera,M=this.renderer,w=this._eraseMode,A=p.mask;if(p.setPosition(m,C),this.canvas){if(w){var R=p.blendMode;p.blendMode=a.ERASE}A&&A.preRenderCanvas(M,p,D),p.renderCanvas(M,p,D,null),A&&A.postRenderCanvas(M,p,D),w&&(p.blendMode=R)}else M&&(A&&A.preRenderWebGL(M,p,D),w||M.setBlendMode(p.blendMode),p.renderWebGL(M,p,D),A&&A.postRenderWebGL(M,D,this.renderTarget));p.setPosition(S,E)},batchTextureFrameKey:function(p,m,C,S,E,D){var M=this.manager.getFrame(p,m);M&&this.batchTextureFrame(M,C,S,E,D)},batchTextureFrame:function(p,m,C,S,E){m===void 0&&(m=0),C===void 0&&(C=0),S===void 0&&(S=1),E===void 0&&(E=16777215);var D=this.camera.matrix,M=this.renderTarget;if(M)this.pipeline.batchTextureFrame(p,m,C,E,S,D,null);else{var w=this.context,A=p.canvasData,R=p.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=S,D.setToContext(w),A.width>0&&A.height>0&&w.drawImage(R,A.x,A.y,A.width,A.height,m,C,A.width,A.height),w.restore()}},snapshotArea:function(p,m,C,S,E,D,M){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,p,m,C,S,D,M):this.renderer.snapshotCanvas(this.canvas,E,!1,p,m,C,S,D,M),this},snapshot:function(p,m,C){return this.snapshotArea(0,0,this.width,this.height,p,m,C)},snapshotPixel:function(p,m,C){return this.snapshotArea(p,m,1,1,C,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(p,m,C,S){var E=this.manager.resetStamp();E.setTexture(this),E.setOrigin(0),E.renderWebGL(p,E,C,S)},renderCanvas:function(){},destroy:function(){var p=this.manager.stamp;p&&p.texture===this&&this.manager.resetStamp(),f.prototype.destroy.call(this),l.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});e.exports=d},4327:(e,y,t)=>{var a=t(83419),g=t(45319),l=t(79291),s=new a({initialize:function(n,i,h,r,f,c,d){this.texture=n,this.name=i,this.source=n.source[h],this.sourceIndex=h,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(c,d,r,f)},setSize:function(o,n,i,h){i===void 0&&(i=0),h===void 0&&(h=0),this.cutX=i,this.cutY=h,this.cutWidth=o,this.cutHeight=n,this.width=o,this.height=n,this.halfWidth=Math.floor(o*.5),this.halfHeight=Math.floor(n*.5),this.centerX=Math.floor(o/2),this.centerY=Math.floor(n/2);var r=this.data,f=r.cut;f.x=i,f.y=h,f.w=o,f.h=n,f.r=i+o,f.b=h+n,r.sourceSize.w=o,r.sourceSize.h=n,r.spriteSourceSize.w=o,r.spriteSourceSize.h=n,r.radius=.5*Math.sqrt(o*o+n*n);var c=r.drawImage;return c.x=i,c.y=h,c.width=o,c.height=n,this.updateUVs()},setTrim:function(o,n,i,h,r,f){var c=this.data,d=c.spriteSourceSize;return c.trim=!0,c.sourceSize.w=o,c.sourceSize.h=n,d.x=i,d.y=h,d.w=r,d.h=f,d.r=i+r,d.b=h+f,this.x=i,this.y=h,this.width=r,this.height=f,this.halfWidth=r*.5,this.halfHeight=f*.5,this.centerX=Math.floor(r/2),this.centerY=Math.floor(f/2),this.updateUVs()},setScale9:function(o,n,i,h){var r=this.data;return r.scale9=!0,r.is3Slice=n===0&&h===this.height,r.scale9Borders.x=o,r.scale9Borders.y=n,r.scale9Borders.w=i,r.scale9Borders.h=h,this},setCropUVs:function(o,n,i,h,r,f,c){var d=this.cutX,p=this.cutY,m=this.cutWidth,C=this.cutHeight,S=this.realWidth,E=this.realHeight;n=g(n,0,S),i=g(i,0,E),h=g(h,0,S-n),r=g(r,0,E-i);var D=d+n,M=p+i,w=h,A=r,R=this.data;if(R.trim){var P=R.spriteSourceSize;h=g(h,0,m-n),r=g(r,0,C-i);var O=n+h,b=i+r,F=!(P.r<n||P.b<i||P.x>O||P.y>b);if(F){var L=Math.max(P.x,n),G=Math.max(P.y,i),z=Math.min(P.r,O)-L,X=Math.min(P.b,b)-G;w=z,A=X,f?D=d+(m-(L-P.x)-z):D=d+(L-P.x),c?M=p+(C-(G-P.y)-X):M=p+(G-P.y),n=L,i=G,h=z,r=X}else D=0,M=0,w=0,A=0}else f&&(D=d+(m-n-h)),c&&(M=p+(C-i-r));var B=this.source.width,U=this.source.height;return o.u0=Math.max(0,D/B),o.v0=Math.max(0,M/U),o.u1=Math.min(1,(D+w)/B),o.v1=Math.min(1,(M+A)/U),o.x=n,o.y=i,o.cx=D,o.cy=M,o.cw=w,o.ch=A,o.width=h,o.height=r,o.flipX=f,o.flipY=c,o},updateCropUVs:function(o,n,i){return this.setCropUVs(o,o.x,o.y,o.width,o.height,n,i)},setUVs:function(o,n,i,h,r,f){var c=this.data.drawImage;return c.width=o,c.height=n,this.u0=i,this.v0=h,this.u1=r,this.v1=f,this},updateUVs:function(){var o=this.cutX,n=this.cutY,i=this.cutWidth,h=this.cutHeight,r=this.data.drawImage;r.width=i,r.height=h;var f=this.source.width,c=this.source.height;return this.u0=o/f,this.v0=n/c,this.u1=(o+i)/f,this.v1=(n+h)/c,this},updateUVsInverted:function(){var o=this.source.width,n=this.source.height;return this.u0=(this.cutX+this.cutHeight)/o,this.v0=this.cutY/n,this.u1=this.cutX/o,this.v1=(this.cutY+this.cutWidth)/n,this},clone:function(){var o=new s(this.texture,this.name,this.sourceIndex);return o.cutX=this.cutX,o.cutY=this.cutY,o.cutWidth=this.cutWidth,o.cutHeight=this.cutHeight,o.x=this.x,o.y=this.y,o.width=this.width,o.height=this.height,o.halfWidth=this.halfWidth,o.halfHeight=this.halfHeight,o.centerX=this.centerX,o.centerY=this.centerY,o.rotated=this.rotated,o.data=l(!0,o.data,this.data),o.updateUVs(),o},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});e.exports=s},79237:(e,y,t)=>{var a=t(83419),g=t(4327),l=t(11876),s='Texture "%s" has no frame "%s"',o=new a({initialize:function(i,h,r,f,c){Array.isArray(r)||(r=[r]),this.manager=i,this.key=h,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<r.length;d++)this.source.push(new l(this,r[d],f,c))},add:function(n,i,h,r,f,c){if(this.has(n))return null;var d=new g(this,n,i,h,r,f,c);return this.frames[n]=d,this.firstFrame==="__BASE"&&(this.firstFrame=n),this.frameTotal++,d},remove:function(n){if(this.has(n)){var i=this.get(n);return i.destroy(),delete this.frames[n],!0}return!1},has:function(n){return this.frames.hasOwnProperty(n)},get:function(n){n||(n=this.firstFrame);var i=this.frames[n];return i||(console.warn(s,this.key,n),i=this.frames[this.firstFrame]),i},getTextureSourceIndex:function(n){for(var i=0;i<this.source.length;i++)if(this.source[i]===n)return i;return-1},getFramesFromTextureSource:function(n,i){i===void 0&&(i=!1);var h=[];for(var r in this.frames)if(!(r==="__BASE"&&!i)){var f=this.frames[r];f.sourceIndex===n&&h.push(f)}return h},getFrameBounds:function(n){n===void 0&&(n=0);for(var i=this.getFramesFromTextureSource(n),h=1/0,r=1/0,f=0,c=0,d=0;d<i.length;d++){var p=i[d];p.cutX<h&&(h=p.cutX),p.cutY<r&&(r=p.cutY),p.cutX+p.cutWidth>f&&(f=p.cutX+p.cutWidth),p.cutY+p.cutHeight>c&&(c=p.cutY+p.cutHeight)}return{x:h,y:r,width:f-h,height:c-r}},getFrameNames:function(n){n===void 0&&(n=!1);var i=Object.keys(this.frames);if(!n){var h=i.indexOf("__BASE");h!==-1&&i.splice(h,1)}return i},getSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var i=this.frames[n];return i?i.source.image:(console.warn(s,this.key,n),this.frames.__BASE.source.image)},getDataSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var i=this.frames[n],h;return i?h=i.sourceIndex:(console.warn(s,this.key,n),h=this.frames.__BASE.sourceIndex),this.dataSource[h].image},setDataSource:function(n){Array.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var h=this.source[i];this.dataSource.push(new l(this,n[i],h.width,h.height))}},setFilter:function(n){var i;for(i=0;i<this.source.length;i++)this.source[i].setFilter(n);for(i=0;i<this.dataSource.length;i++)this.dataSource[i].setFilter(n)},destroy:function(){var n,i=this.source,h=this.dataSource;for(n=0;n<i.length;n++)i[n]&&i[n].destroy();for(n=0;n<h.length;n++)h[n]&&h[n].destroy();for(var r in this.frames){var f=this.frames[r];f&&f.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});e.exports=o},17130:(e,y,t)=>{var a=t(27919),g=t(57382),l=t(83419),s=t(40987),o=t(8054),n=t(81320),i=t(50792),h=t(69442),r=t(4327),f=t(8443),c=t(99584),d=t(35154),p=t(88571),m=t(41212),C=t(61309),S=t(87841),E=t(79237),D=new l({Extends:i,initialize:function(w){i.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new S,this.silentWarnings=!1,w.events.once(f.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(h.LOAD,this.updatePending,this),this.on(h.ERROR,this.updatePending,this);var M=this.game.config;this.addBase64("__DEFAULT",M.defaultImage),this.addBase64("__MISSING",M.missingImage),this.addBase64("__WHITE",M.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(f.DESTROY,this.destroy,this),this.game.events.once(f.SYSTEM_READY,function(w){this.stamp=new p(w).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(h.LOAD),this.off(h.ERROR),this.emit(h.READY))},checkKey:function(M){return this.exists(M)?(this.silentWarnings||console.error("Texture key already in use: "+M),!1):!0},remove:function(M){if(typeof M=="string")if(this.exists(M))M=this.get(M);else return this.silentWarnings||console.warn("No texture found matching key: "+M),this;var w=M.key;return this.list.hasOwnProperty(w)&&(M.destroy(),this.emit(h.REMOVE,w),this.emit(h.REMOVE_KEY+w)),this},removeKey:function(M){return this.list.hasOwnProperty(M)&&delete this.list[M],this},addBase64:function(M,w){if(this.checkKey(M)){var A=this,R=new Image;R.onerror=function(){A.emit(h.ERROR,M)},R.onload=function(){var P=A.create(M,R);C.Image(P,0),A.emit(h.ADD,M,P),A.emit(h.ADD_KEY+M,P),A.emit(h.LOAD,M,P)},R.src=w}return this},getBase64:function(M,w,A,R){A===void 0&&(A="image/png"),R===void 0&&(R=.92);var P="",O=this.getFrame(M,w);if(O&&(O.source.isRenderTexture||O.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(O){var b=O.canvasData,F=a.create2D(this,b.width,b.height),L=F.getContext("2d",{willReadFrequently:!0});b.width>0&&b.height>0&&L.drawImage(O.source.image,b.x,b.y,b.width,b.height,0,0,b.width,b.height),P=F.toDataURL(A,R),a.remove(F)}return P},addImage:function(M,w,A){var R=null;return this.checkKey(M)&&(R=this.create(M,w),C.Image(R,0),A&&R.setDataSource(A),this.emit(h.ADD,M,R),this.emit(h.ADD_KEY+M,R)),R},addGLTexture:function(M,w){var A=null;if(this.checkKey(M)){var R=w.width,P=w.height;A=this.create(M,w,R,P),A.add("__BASE",0,0,0,R,P),this.emit(h.ADD,M,A),this.emit(h.ADD_KEY+M,A)}return A},addCompressedTexture:function(M,w,A){var R=null;if(this.checkKey(M)){if(R=this.create(M,w),R.add("__BASE",0,0,0,w.width,w.height),A){var P=function(b,F,L){Array.isArray(L.textures)||Array.isArray(L.frames)?C.JSONArray(b,F,L):C.JSONHash(b,F,L)};if(Array.isArray(A))for(var O=0;O<A.length;O++)P(R,O,A[O]);else P(R,0,A)}this.emit(h.ADD,M,R),this.emit(h.ADD_KEY+M,R)}return R},addRenderTexture:function(M,w){var A=null;return this.checkKey(M)&&(A=this.create(M,w),A.add("__BASE",0,0,0,w.width,w.height),this.emit(h.ADD,M,A),this.emit(h.ADD_KEY+M,A)),A},generate:function(M,w){if(this.checkKey(M)){var A=a.create(this,1,1);return w.canvas=A,c(w),this.addCanvas(M,A)}else return null},createCanvas:function(M,w,A){if(w===void 0&&(w=256),A===void 0&&(A=256),this.checkKey(M)){var R=a.create(this,w,A,o.CANVAS,!0);return this.addCanvas(M,R)}return null},addCanvas:function(M,w,A){A===void 0&&(A=!1);var R=null;return A?R=new g(this,M,w,w.width,w.height):this.checkKey(M)&&(R=new g(this,M,w,w.width,w.height),this.list[M]=R,this.emit(h.ADD,M,R),this.emit(h.ADD_KEY+M,R)),R},addDynamicTexture:function(M,w,A){var R=null;return typeof M=="string"&&!this.exists(M)?R=new n(this,M,w,A):(R=M,M=R.key),this.checkKey(M)?(this.list[M]=R,this.emit(h.ADD,M,R),this.emit(h.ADD_KEY+M,R)):R=null,R},addAtlas:function(M,w,A,R){return Array.isArray(A.textures)||Array.isArray(A.frames)?this.addAtlasJSONArray(M,w,A,R):this.addAtlasJSONHash(M,w,A,R)},addAtlasJSONArray:function(M,w,A,R){var P=null;if(w instanceof E?(M=w.key,P=w):this.checkKey(M)&&(P=this.create(M,w)),P){if(Array.isArray(A))for(var O=A.length===1,b=0;b<P.source.length;b++){var F=O?A[0]:A[b];C.JSONArray(P,b,F)}else C.JSONArray(P,0,A);R&&P.setDataSource(R),this.emit(h.ADD,M,P),this.emit(h.ADD_KEY+M,P)}return P},addAtlasJSONHash:function(M,w,A,R){var P=null;if(w instanceof E?(M=w.key,P=w):this.checkKey(M)&&(P=this.create(M,w)),P){if(Array.isArray(A))for(var O=0;O<A.length;O++)C.JSONHash(P,O,A[O]);else C.JSONHash(P,0,A);R&&P.setDataSource(R),this.emit(h.ADD,M,P),this.emit(h.ADD_KEY+M,P)}return P},addAtlasXML:function(M,w,A,R){var P=null;return w instanceof E?(M=w.key,P=w):this.checkKey(M)&&(P=this.create(M,w)),P&&(C.AtlasXML(P,0,A),R&&P.setDataSource(R),this.emit(h.ADD,M,P),this.emit(h.ADD_KEY+M,P)),P},addUnityAtlas:function(M,w,A,R){var P=null;return w instanceof E?(M=w.key,P=w):this.checkKey(M)&&(P=this.create(M,w)),P&&(C.UnityYAML(P,0,A),R&&P.setDataSource(R),this.emit(h.ADD,M,P),this.emit(h.ADD_KEY+M,P)),P},addSpriteSheet:function(M,w,A,R){var P=null;if(w instanceof E?(M=w.key,P=w):this.checkKey(M)&&(P=this.create(M,w)),P){var O=P.source[0].width,b=P.source[0].height;C.SpriteSheet(P,0,0,0,O,b,A),R&&P.setDataSource(R),this.emit(h.ADD,M,P),this.emit(h.ADD_KEY+M,P)}return P},addSpriteSheetFromAtlas:function(M,w){if(!this.checkKey(M))return null;var A=d(w,"atlas",null),R=d(w,"frame",null);if(!(!A||!R)){var P=this.get(A),O=P.get(R);if(O){var b=O.source.image;b||(b=O.source.glTexture);var F=this.create(M,b);return O.trimmed?C.SpriteSheetFromAtlas(F,O,w):C.SpriteSheet(F,0,O.cutX,O.cutY,O.cutWidth,O.cutHeight,w),this.emit(h.ADD,M,F),this.emit(h.ADD_KEY+M,F),F}}},addUint8Array:function(M,w,A,R){if(!this.checkKey(M)||w.length/4!==A*R)return null;var P=this.create(M,w,A,R);return P.add("__BASE",0,0,0,A,R),this.emit(h.ADD,M,P),this.emit(h.ADD_KEY+M,P),P},create:function(M,w,A,R){var P=null;return this.checkKey(M)&&(P=new E(this,M,w,A,R),this.list[M]=P),P},exists:function(M){return this.list.hasOwnProperty(M)},get:function(M){return M===void 0&&(M="__DEFAULT"),this.list[M]?this.list[M]:M instanceof E?M:M instanceof r?M.texture:this.list.__MISSING},cloneFrame:function(M,w){if(this.list[M])return this.list[M].get(w).clone()},getFrame:function(M,w){if(this.list[M])return this.list[M].get(w)},parseFrame:function(M){if(M){if(typeof M=="string")return this.getFrame(M);if(Array.isArray(M)&&M.length===2)return this.getFrame(M[0],M[1]);if(m(M))return this.getFrame(M.key,M.frame);if(M instanceof E)return M.get();if(M instanceof r)return M}else return},getTextureKeys:function(){var M=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&w!=="__NORMAL"&&M.push(w);return M},getPixel:function(M,w,A,R){var P=this.getFrame(A,R);if(P){M-=P.x,w-=P.y;var O=P.data.cut;if(M+=O.x,w+=O.y,M>=O.x&&M<O.r&&w>=O.y&&w<O.b){var b=this._tempContext;b.clearRect(0,0,1,1),b.drawImage(P.source.image,M,w,1,1,0,0,1,1);var F=b.getImageData(0,0,1,1);return new s(F.data[0],F.data[1],F.data[2],F.data[3])}}return null},getPixelAlpha:function(M,w,A,R){var P=this.getFrame(A,R);if(P){M-=P.x,w-=P.y;var O=P.data.cut;if(M+=O.x,w+=O.y,M>=O.x&&M<O.r&&w>=O.y&&w<O.b){var b=this._tempContext;b.clearRect(0,0,1,1),b.drawImage(P.source.image,M,w,1,1,0,0,1,1);var F=b.getImageData(0,0,1,1);return F.data[3]}}return null},setTexture:function(M,w,A){return this.list[w]&&(M.texture=this.list[w],M.frame=M.texture.get(A)),M},renameTexture:function(M,w){var A=this.get(M);return A&&M!==w?(A.key=w,this.list[w]=A,delete this.list[M],!0):!1},each:function(M,w){for(var A=[null],R=1;R<arguments.length;R++)A.push(arguments[R]);for(var P in this.list)A[0]=this.list[P],M.apply(w,A)},resetStamp:function(M,w){M===void 0&&(M=1),w===void 0&&(w=16777215);var A=this.stamp;return A.setCrop(),A.setPosition(0),A.setAngle(0),A.setScale(1),A.setAlpha(M),A.setTint(w),A.setTexture("__WHITE"),A},destroy:function(){for(var M in this.list)this.list[M].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});e.exports=D},11876:(e,y,t)=>{var a=t(27919),g=t(83419),l=t(50030),s=t(29795),o=t(82751),n=new g({initialize:function(h,r,f,c,d){d===void 0&&(d=!1);var p=h.manager.game;this.renderer=p.renderer,this.texture=h,this.source=r,this.image=r.compressed?null:r,this.compressionAlgorithm=r.compressed?r.format:null,this.resolution=1,this.width=f||r.naturalWidth||r.videoWidth||r.width||0,this.height=c||r.naturalHeight||r.videoHeight||r.height||0,this.scaleMode=s.DEFAULT,this.isCanvas=r instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&r instanceof HTMLVideoElement,this.isRenderTexture=r.type==="RenderTexture"||r.type==="DynamicTexture",this.isGLTexture=r instanceof o,this.isPowerOf2=l(this.width,this.height),this.glTexture=null,this.flipY=d,this.init(p)},init:function(i){var h=this.renderer;if(h){var r=this.source;if(h.gl){var f=this.image,c=this.flipY,d=this.width,p=this.height,m=this.scaleMode;this.isCanvas?this.glTexture=h.createCanvasTexture(f,!1,c):this.isVideo?this.glTexture=h.createVideoTexture(f,!1,c):this.isRenderTexture?this.glTexture=h.createTextureFromSource(null,d,p,m):this.isGLTexture?this.glTexture=r:this.compressionAlgorithm?this.glTexture=h.createTextureFromSource(r,void 0,void 0,m):r instanceof Uint8Array?this.glTexture=h.createUint8ArrayTexture(r,d,p,m):this.glTexture=h.createTextureFromSource(f,d,p,m)}else this.isRenderTexture&&(this.image=r.canvas)}i.config.antialias||this.setFilter(1)},setFilter:function(i){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,i),this.scaleMode=i},setFlipY:function(i){return i===void 0&&(i=!0),i===this.flipY?this:(this.flipY=i,this.update(),this)},update:function(){var i=this.renderer,h=this.image,r=this.flipY,f=i.gl;f&&this.isCanvas?i.updateCanvasTexture(h,this.glTexture,r):f&&this.isVideo&&i.updateVideoTexture(h,this.glTexture,r)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});e.exports=n},19673:e=>{var y={LINEAR:0,NEAREST:1};e.exports=y},44538:e=>{e.exports="addtexture"},63486:e=>{e.exports="addtexture-"},94851:e=>{e.exports="onerror"},29099:e=>{e.exports="onload"},8678:e=>{e.exports="ready"},86415:e=>{e.exports="removetexture"},30879:e=>{e.exports="removetexture-"},69442:(e,y,t)=>{e.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(e,y,t)=>{var a=t(79291),g=t(19673),l={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:g,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};l=a(!1,l,g),e.exports=l},89905:e=>{var y=function(t,a,g){if(!g.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var l=t.source[a];t.add("__BASE",a,0,0,l.width,l.height);for(var s=g.getElementsByTagName("SubTexture"),o,n=0;n<s.length;n++){var i=s[n].attributes,h=i.name.value,r=parseInt(i.x.value,10),f=parseInt(i.y.value,10),c=parseInt(i.width.value,10),d=parseInt(i.height.value,10);if(o=t.add(h,a,r,f,c,d),i.frameX){var p=Math.abs(parseInt(i.frameX.value,10)),m=Math.abs(parseInt(i.frameY.value,10)),C=parseInt(i.frameWidth.value,10),S=parseInt(i.frameHeight.value,10);o.setTrim(c,d,p,m,C,S)}}return t};e.exports=y},72893:e=>{var y=function(t,a){var g=t.source[a];return t.add("__BASE",a,0,0,g.width,g.height),t};e.exports=y},4832:e=>{var y=function(t,a){var g=t.source[a];return t.add("__BASE",a,0,0,g.width,g.height),t};e.exports=y},78566:(e,y,t)=>{var a=t(41786),g=function(l,s,o){if(!o.frames&&!o.textures){console.warn("Invalid Texture Atlas JSON Array");return}var n=l.source[s];l.add("__BASE",s,0,0,n.width,n.height);for(var i=Array.isArray(o.textures)?o.textures[s].frames:o.frames,h,r=0;r<i.length;r++){var f=i[r];if(h=l.add(f.filename,s,f.frame.x,f.frame.y,f.frame.w,f.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+f.filename);continue}f.trimmed&&h.setTrim(f.sourceSize.w,f.sourceSize.h,f.spriteSourceSize.x,f.spriteSourceSize.y,f.spriteSourceSize.w,f.spriteSourceSize.h),f.rotated&&(h.rotated=!0,h.updateUVsInverted());var c=f.anchor||f.pivot;c&&(h.customPivot=!0,h.pivotX=c.x,h.pivotY=c.y),f.scale9Borders&&h.setScale9(f.scale9Borders.x,f.scale9Borders.y,f.scale9Borders.w,f.scale9Borders.h),h.customData=a(f)}for(var d in o)d!=="frames"&&(Array.isArray(o[d])?l.customData[d]=o[d].slice(0):l.customData[d]=o[d]);return l};e.exports=g},39711:(e,y,t)=>{var a=t(41786),g=function(l,s,o){if(!o.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var n=l.source[s];l.add("__BASE",s,0,0,n.width,n.height);var i=o.frames,h;for(var r in i)if(i.hasOwnProperty(r)){var f=i[r];if(h=l.add(r,s,f.frame.x,f.frame.y,f.frame.w,f.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+r);continue}f.trimmed&&h.setTrim(f.sourceSize.w,f.sourceSize.h,f.spriteSourceSize.x,f.spriteSourceSize.y,f.spriteSourceSize.w,f.spriteSourceSize.h),f.rotated&&(h.rotated=!0,h.updateUVsInverted());var c=f.anchor||f.pivot;c&&(h.customPivot=!0,h.pivotX=c.x,h.pivotY=c.y),f.scale9Borders&&h.setScale9(f.scale9Borders.x,f.scale9Borders.y,f.scale9Borders.w,f.scale9Borders.h),h.customData=a(f)}for(var d in o)d!=="frames"&&(Array.isArray(o[d])?l.customData[d]=o[d].slice(0):l.customData[d]=o[d]);return l};e.exports=g},31403:e=>{var y=function(t){var a=[171,75,84,88,32,49,49,187,13,10,26,10],g,l=new Uint8Array(t,0,12);for(g=0;g<l.length;g++)if(l[g]!==a[g]){console.warn("KTXParser - Invalid file format");return}var s=Uint32Array.BYTES_PER_ELEMENT,o=new DataView(t,12,13*s),n=o.getUint32(0,!0)===67305985,i=o.getUint32(1*s,n);if(i!==0){console.warn("KTXParser - Only compressed formats supported");return}var h=o.getUint32(4*s,n),r=o.getUint32(6*s,n),f=o.getUint32(7*s,n),c=Math.max(1,o.getUint32(11*s,n)),d=o.getUint32(12*s,n),p=new Array(c),m=12+13*4+d,C=r,S=f;for(g=0;g<c;g++){var E=new Int32Array(t,m,1)[0];m+=4,p[g]={data:new Uint8Array(t,m,E),width:C,height:S},C=Math.max(1,C>>1),S=Math.max(1,S>>1),m+=E}return{mipmaps:p,width:r,height:f,internalFormat:h,compressed:!0,generateMipmap:!1}};e.exports=y},82038:e=>{function y(w,A,R,P,O,b,F){return F===void 0&&(F=16),Math.floor((w+R)/O)*Math.floor((A+P)/b)*F}function t(w,A){return w=Math.max(w,16),A=Math.max(A,8),w*A/4}function a(w,A){return w=Math.max(w,8),A=Math.max(A,8),w*A/2}function g(w,A){return Math.ceil(w/4)*Math.ceil(A/4)*16}function l(w,A){return y(w,A,3,3,4,4,8)}function s(w,A){return y(w,A,3,3,4,4)}function o(w,A){return y(w,A,4,3,5,4)}function n(w,A){return y(w,A,4,4,5,5)}function i(w,A){return y(w,A,5,4,6,5)}function h(w,A){return y(w,A,5,5,6,6)}function r(w,A){return y(w,A,7,4,8,5)}function f(w,A){return y(w,A,7,5,8,6)}function c(w,A){return y(w,A,7,7,8,8)}function d(w,A){return y(w,A,9,4,10,5)}function p(w,A){return y(w,A,9,5,10,6)}function m(w,A){return y(w,A,9,7,10,8)}function C(w,A){return y(w,A,9,9,10,10)}function S(w,A){return y(w,A,11,9,12,10)}function E(w,A){return y(w,A,11,11,12,12)}var D={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:l,glFormat:[36196]},7:{sizeFunc:l,glFormat:[33776,35916]},8:{sizeFunc:s,glFormat:[33777,35917]},9:{sizeFunc:s,glFormat:[33778,35918]},11:{sizeFunc:s,glFormat:[33779,35919]},14:{sizeFunc:g,glFormat:[36494,36495]},15:{sizeFunc:g,glFormat:[36492,36493]},22:{sizeFunc:l,glFormat:[37492,37493]},23:{sizeFunc:s,glFormat:[37496,37497]},24:{sizeFunc:l,glFormat:[37494,37495]},25:{sizeFunc:l,glFormat:[37488]},26:{sizeFunc:s,glFormat:[37490]},27:{sizeFunc:s,glFormat:[37808,37840]},28:{sizeFunc:o,glFormat:[37809,37841]},29:{sizeFunc:n,glFormat:[37810,37842]},30:{sizeFunc:i,glFormat:[37811,37843]},31:{sizeFunc:h,glFormat:[37812,37844]},32:{sizeFunc:r,glFormat:[37813,37845]},33:{sizeFunc:f,glFormat:[37814,37846]},34:{sizeFunc:c,glFormat:[37815,37847]},35:{sizeFunc:d,glFormat:[37816,37848]},36:{sizeFunc:p,glFormat:[37817,37849]},37:{sizeFunc:m,glFormat:[37818,37850]},38:{sizeFunc:C,glFormat:[37819,37851]},39:{sizeFunc:S,glFormat:[37820,37852]},40:{sizeFunc:E,glFormat:[37821,37853]}},M=function(w){for(var A=new Uint32Array(w,0,13),R=A[0],P=R===55727696,O=P?A[2]:A[3],b=A[4],F=D[O].glFormat[b],L=D[O].sizeFunc,G=A[11],z=A[7],X=A[6],B=52+A[12],U=new Uint8Array(w,B),I=new Array(G),N=0,V=z,H=X,W=0;W<G;W++){var Y=L(V,H);I[W]={data:new Uint8Array(U.buffer,U.byteOffset+N,Y),width:V,height:H},V=Math.max(1,V>>1),H=Math.max(1,H>>1),N+=Y}return{mipmaps:I,width:z,height:X,internalFormat:F,compressed:!0,generateMipmap:!1}};e.exports=M},75549:(e,y,t)=>{var a=t(95540),g=function(l,s,o,n,i,h,r){var f=a(r,"frameWidth",null),c=a(r,"frameHeight",f);if(f===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var d=l.source[s];l.add("__BASE",s,0,0,d.width,d.height);var p=a(r,"startFrame",0),m=a(r,"endFrame",-1),C=a(r,"margin",0),S=a(r,"spacing",0),E=Math.floor((i-C+S)/(f+S)),D=Math.floor((h-C+S)/(c+S)),M=E*D;M===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",l.key),(p>M||p<-M)&&(p=0),p<0&&(p=M+p),(m===-1||m>M||m<p)&&(m=M);for(var w=C,A=C,R=0,P=0,O=0,b=0;b<M;b++){R=0,P=0;var F=w+f,L=A+c;F>i&&(R=F-i),L>h&&(P=L-h),b>=p&&b<=m&&(l.add(O,s,o+w,n+A,f-R,c-P),O++),w+=f+S,w+f>i&&(w=C,A+=c+S)}return l};e.exports=g},47534:(e,y,t)=>{var a=t(95540),g=function(l,s,o){var n=a(o,"frameWidth",null),i=a(o,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var h=l.source[0];l.add("__BASE",0,0,0,h.width,h.height);var r=a(o,"startFrame",0),f=a(o,"endFrame",-1),c=a(o,"margin",0),d=a(o,"spacing",0),p=s.cutX,m=s.cutY,C=s.cutWidth,S=s.cutHeight,E=s.realWidth,D=s.realHeight,M=Math.floor((E-c+d)/(n+d)),w=Math.floor((D-c+d)/(i+d)),A=M*w,R=s.x,P=n-R,O=n-(E-C-R),b=s.y,F=i-b,L=i-(D-S-b);(r>A||r<-A)&&(r=0),r<0&&(r=A+r),f!==-1&&(A=r+(f+1));for(var G,z=c,X=c,B=0,U=0,I=0;I<w;I++){for(var N=I===0,V=I===w-1,H=0;H<M;H++){var W=H===0,Y=H===M-1;if(G=l.add(B,U,p+z,m+X,n,i),W||N||Y||V){var j=W?R:0,k=N?b:0,$=0,Z=0;W&&($+=n-P),Y&&($+=n-O),N&&(Z+=i-F),V&&(Z+=i-L);var K=n-$,J=i-Z;G.cutWidth=K,G.cutHeight=J,G.setTrim(n,i,j,k,K,J)}z+=d,W?z+=P:Y?z+=O:z+=n,B++}z=c,X+=d,N?X+=F:V?X+=L:X+=i}return l};e.exports=g},86147:e=>{var y=0,t=function(g,l,s,o){var n=y-o.y-o.height;g.add(s,l,o.x,n,o.width,o.height)},a=function(g,l,s){var o=g.source[l];g.add("__BASE",l,0,0,o.width,o.height),y=o.height;for(var n=s.split(`
`),i=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",r="",f={x:0,y:0,width:0,height:0},c=0;c<n.length;c++){var d=n[c].match(i);if(d){var p=d[1]==="- ",m=d[2],C=d[3];if(p&&(r!==h&&(t(g,l,r,f),h=r),f={x:0,y:0,width:0,height:0}),m==="name"){r=C;continue}switch(m){case"x":case"y":case"width":case"height":f[m]=parseInt(C,10);break}}}return r!==h&&t(g,l,r,f),g};e.exports=a},55222:(e,y,t)=>{var a=t(50030),g=function(h){for(var r=h.mipmaps,f=1;f<r.length;f++){var c=r[f].width,d=r[f].height;if(!a(c,d))return console.warn("Mip level "+f+" is not a power-of-two size: "+c+"x"+d),!1}var p=i[h.internalFormat];return p?p(h):(console.warn("No format checker found for internal format "+h.internalFormat+". Assuming valid."),!0)};function l(h){for(var r=h.mipmaps,f=0;f<r.length;f++){var c=r[f].width,d=r[f].height;if((c<<f)%4!==0||(d<<f)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+f+" is "+c+"x"+d),!1}return!0}function s(){return!0}function o(h){var r=h.mipmaps,f=r[0];return a(f.width,f.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+f.width+"x"+f.height),!1)}function n(h){var r=h.mipmaps,f=r[0];return f.width%4!==0||f.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+f.width+"x"+f.height+" pixels"),!1):!0}var i={37488:s,37489:s,37490:s,37491:s,37492:s,37493:s,37494:s,37495:s,37496:s,37497:s,36196:s,37808:s,37809:s,37810:s,37811:s,37812:s,37813:s,37814:s,37815:s,37816:s,37817:s,37818:s,37819:s,37820:s,37821:s,37840:s,37841:s,37842:s,37843:s,37844:s,37845:s,37846:s,37847:s,37848:s,37849:s,37850:s,37851:s,37852:s,37853:s,36492:l,36493:l,36494:l,36495:l,36283:l,36284:l,36285:l,36286:l,35840:o,35841:o,35842:o,35843:o,33776:l,33777:l,33778:l,33779:l,35916:n,35917:n,35918:n,35919:n};e.exports=g},61309:(e,y,t)=>{e.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:e=>{e.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s,o,n,i,h,r,f){(n===void 0||n<=0)&&(n=32),(i===void 0||i<=0)&&(i=32),h===void 0&&(h=0),r===void 0&&(r=0),this.name=s,this.firstgid=o|0,this.imageWidth=n|0,this.imageHeight=i|0,this.imageMargin=h|0,this.imageSpacing=r|0,this.properties=f||{},this.images=[],this.total=0},containsImageIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},addImage:function(l,s){return this.images.push({gid:l,image:s}),this.total++,this}});e.exports=g},27462:(e,y,t)=>{var a=t(83419),g=new a({initialize:function(s){if(this.gids=[],s!==void 0)for(var o=0;o<s.length;++o)for(var n=s[o],i=0;i<n.total;++i)this.gids[n.firstgid+i]=n;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(l){this.gids=l?this._gids:void 0}},getTypeIncludingTile:function(l){if(l.type!==void 0&&l.type!=="")return l.type;if(!(!this.gids||l.gid===void 0)){var s=this.gids[l.gid];if(s){var o=s.getTileData(l.gid);if(o)return o.type}}},setTextureAndFrame:function(l,s,o,n){if(s===null&&this.gids&&n.gid!==void 0){var i=this.gids[n.gid];i&&(s===null&&i.image!==void 0&&(s=i.image.key),o===null&&(o=n.gid-i.firstgid),l.scene.textures.getFrame(s,o)||(s=null,o=null))}l.setTexture(s,o)},setPropertiesFromTiledObject:function(l,s){if(this.gids!==void 0&&s.gid!==void 0){var o=this.gids[s.gid];o!==void 0&&this.setFromJSON(l,o.getTileProperties(s.gid))}this.setFromJSON(l,s.properties)},setFromJSON:function(l,s){if(s){if(Array.isArray(s)){for(var o=0;o<s.length;o++){var n=s[o];l[n.name]!==void 0?l[n.name]=n.value:l.setData(n.name,n.value)}return}for(var i in s)l[i]!==void 0?l[i]=s[i]:l.setData(i,s[i])}}});e.exports=g},31989:(e,y,t)=>{var a=t(80341),g=t(87010),l=t(46177),s=t(49075),o=function(n,i,h,r,f,c,d,p){h===void 0&&(h=32),r===void 0&&(r=32),f===void 0&&(f=10),c===void 0&&(c=10),p===void 0&&(p=!1);var m=null;if(Array.isArray(d)){var C=i!==void 0?i:"map";m=l(C,a.ARRAY_2D,d,h,r,p)}else if(i!==void 0){var S=n.cache.tilemap.get(i);S?m=l(i,S.format,S.data,h,r,p):console.warn("No map data found for key "+i)}return m===null&&(m=new g({tileWidth:h,tileHeight:r,width:f,height:c})),new s(n,m)};e.exports=o},23029:(e,y,t)=>{var a=t(83419),g=t(31401),l=t(91907),s=t(62644),o=t(93232),n=new a({Mixins:[g.AlphaSingle,g.Flip,g.Visible],initialize:function(h,r,f,c,d,p,m,C){this.layer=h,this.index=r,this.x=f,this.y=c,this.width=d,this.height=p,this.right,this.bottom,this.baseWidth=m!==void 0?m:d,this.baseHeight=C!==void 0?C:p,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(i,h){return!(i<this.pixelX||h<this.pixelY||i>this.right||h>this.bottom)},copy:function(i){return this.index=i.index,this.alpha=i.alpha,this.properties=s(i.properties),this.visible=i.visible,this.setFlip(i.flipX,i.flipY),this.tint=i.tint,this.rotation=i.rotation,this.collideUp=i.collideUp,this.collideDown=i.collideDown,this.collideLeft=i.collideLeft,this.collideRight=i.collideRight,this.collisionCallback=i.collisionCallback,this.collisionCallbackContext=i.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(i){var h=this.tilemapLayer;if(h){var r=h.tileToWorldXY(this.x,this.y,void 0,i);return r.x}return this.x*this.baseWidth},getRight:function(i){var h=this.tilemapLayer;return h?this.getLeft(i)+this.width*h.scaleX:this.getLeft(i)+this.width},getTop:function(i){var h=this.tilemapLayer;if(h){var r=h.tileToWorldXY(this.x,this.y,void 0,i);return r.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(i){var h=this.tilemapLayer;return h?this.getTop(i)+this.height*h.scaleY:this.getTop(i)+this.height},getBounds:function(i,h){return h===void 0&&(h=new o),h.x=this.getLeft(i),h.y=this.getTop(i),h.width=this.getRight(i)-h.x,h.height=this.getBottom(i)-h.y,h},getCenterX:function(i){return(this.getLeft(i)+this.getRight(i))/2},getCenterY:function(i){return(this.getTop(i)+this.getBottom(i))/2},intersects:function(i,h,r,f){return!(r<=this.pixelX||f<=this.pixelY||i>=this.right||h>=this.bottom)},isInteresting:function(i,h){return i&&h?this.canCollide||this.hasInterestingFace:i?this.collides:h?this.hasInterestingFace:!1},resetCollision:function(i){if(i===void 0&&(i=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,i){var h=this.tilemapLayer;h&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(i,h,r,f,c){if(h===void 0&&(h=i),r===void 0&&(r=i),f===void 0&&(f=i),c===void 0&&(c=!0),this.collideLeft=i,this.collideRight=h,this.collideUp=r,this.collideDown=f,this.faceLeft=i,this.faceRight=h,this.faceTop=r,this.faceBottom=f,c){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(i,h){return i===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=i,this.collisionCallbackContext=h),this},setSize:function(i,h,r,f){return i!==void 0&&(this.width=i),h!==void 0&&(this.height=h),r!==void 0&&(this.baseWidth=r),f!==void 0&&(this.baseHeight=f),this.updatePixelXY(),this},updatePixelXY:function(){var i=this.layer.orientation;if(i===l.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(i===l.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(i===l.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(i===l.HEXAGONAL){var h=this.layer.staggerAxis,r=this.layer.staggerIndex,f=this.layer.hexSideLength,c,d;h==="y"?(d=(this.baseHeight-f)/2+f,r==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*d):h==="x"&&(c=(this.baseWidth-f)/2+f,this.pixelX=this.x*c,r==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var i=this.layer.tilemapLayer;if(i){var h=i.gidMap[this.index];if(h)return h}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var i=this.tilemapLayer;return i?i.tilemap:null}}});e.exports=n},49075:(e,y,t)=>{var a=t(84101),g=t(83419),l=t(39506),s=t(80341),o=t(95540),n=t(14977),i=t(27462),h=t(91907),r=t(36305),f=t(19133),c=t(68287),d=t(23029),p=t(81086),m=t(20442),C=t(33629),S=new g({initialize:function(D,M){this.scene=D,this.tileWidth=M.tileWidth,this.tileHeight=M.tileHeight,this.width=M.width,this.height=M.height,this.orientation=M.orientation,this.renderOrder=M.renderOrder,this.format=M.format,this.version=M.version,this.properties=M.properties,this.widthInPixels=M.widthInPixels,this.heightInPixels=M.heightInPixels,this.imageCollections=M.imageCollections,this.images=M.images,this.layers=M.layers,this.tiles=M.tiles,this.tilesets=M.tilesets,this.objects=M.objects,this.currentLayerIndex=0,this.hexSideLength=M.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:p.GetWorldToTileXYFunction(w),WorldToTileX:p.GetWorldToTileXFunction(w),WorldToTileY:p.GetWorldToTileYFunction(w),TileToWorldXY:p.GetTileToWorldXYFunction(w),TileToWorldX:p.GetTileToWorldXFunction(w),TileToWorldY:p.GetTileToWorldYFunction(w),GetTileCorners:p.GetTileCornersFunction(w)}},setRenderOrder:function(E){var D=["right-down","left-down","right-up","left-up"];return typeof E=="number"&&(E=D[E]),D.indexOf(E)>-1&&(this.renderOrder=E),this},addTilesetImage:function(E,D,M,w,A,R,P,O){if(E===void 0)return null;D==null&&(D=E);var b=this.scene.sys.textures;if(!b.exists(D))return console.warn('Texture key "%s" not found',D),null;var F=b.get(D),L=this.getTilesetIndex(E);if(L===null&&this.format===s.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',E,this.tilesets),null;var G=this.tilesets[L];return G?(G.setTileSize(M,w),G.setSpacing(A,R),G.setImage(F),G):(M===void 0&&(M=this.tileWidth),w===void 0&&(w=this.tileHeight),A===void 0&&(A=0),R===void 0&&(R=0),P===void 0&&(P=0),O===void 0&&(O={x:0,y:0}),G=new C(E,P,M,w,A,R,void 0,void 0,O),G.setImage(F),this.tilesets.push(G),this.tiles=a(this),G)},copy:function(E,D,M,w,A,R,P,O){return O=this.getLayer(O),O!==null?(p.Copy(E,D,M,w,A,R,P,O),this):null},createBlankLayer:function(E,D,M,w,A,R,P,O){M===void 0&&(M=0),w===void 0&&(w=0),A===void 0&&(A=this.width),R===void 0&&(R=this.height),P===void 0&&(P=this.tileWidth),O===void 0&&(O=this.tileHeight);var b=this.getLayerIndex(E);if(b!==null)return console.warn("Invalid Tilemap Layer ID: "+E),null;for(var F=new n({name:E,tileWidth:P,tileHeight:O,width:A,height:R,orientation:this.orientation}),L,G=0;G<R;G++){L=[];for(var z=0;z<A;z++)L.push(new d(F,-1,z,G,P,O,this.tileWidth,this.tileHeight));F.data.push(L)}this.layers.push(F),this.currentLayerIndex=this.layers.length-1;var X=new m(this.scene,this,this.currentLayerIndex,D,M,w);return X.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(X),X},createLayer:function(E,D,M,w){var A=this.getLayerIndex(E);if(A===null)return console.warn("Invalid Tilemap Layer ID: "+E),typeof E=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var R=this.layers[A];if(R.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+E),null;this.currentLayerIndex=A,M===void 0&&(M=R.x),w===void 0&&(w=R.y);var P=new m(this.scene,this,A,D,M,w);return P.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(P),P},createFromObjects:function(E,D,M){M===void 0&&(M=!0);var w=[],A=this.getObjectLayer(E);if(!A)return console.warn("createFromObjects: Invalid objectLayerName given: "+E),w;var R=new i(M?this.tilesets:void 0);Array.isArray(D)||(D=[D]);for(var P=A.objects,O=0;O<D.length;O++){var b=D[O],F=o(b,"id",null),L=o(b,"gid",null),G=o(b,"name",null),z=o(b,"type",null);R.enabled=!o(b,"ignoreTileset",null);for(var X,B=[],U=0;U<P.length;U++)X=P[U],(F===null&&L===null&&G===null&&z===null||F!==null&&X.id===F||L!==null&&X.gid===L||G!==null&&X.name===G||z!==null&&R.getTypeIncludingTile(X)===z)&&B.push(X);for(var I=o(b,"classType",c),N=o(b,"scene",this.scene),V=o(b,"container",null),H=o(b,"key",null),W=o(b,"frame",null),Y=0;Y<B.length;Y++){X=B[Y];var j=new I(N);if(j.setName(X.name),j.setPosition(X.x,X.y),R.setTextureAndFrame(j,H,W,X),X.width&&(j.displayWidth=X.width),X.height&&(j.displayHeight=X.height),this.orientation===h.ISOMETRIC){var k=this.tileWidth/this.tileHeight,$={x:j.x-j.y,y:(j.x+j.y)/k};j.x=$.x,j.y=$.y}var Z={x:j.originX*X.width,y:(j.originY-(X.gid?1:0))*X.height};if(X.rotation){var K=l(X.rotation);r(Z,K),j.rotation=K}j.x+=Z.x,j.y+=Z.y,(X.flippedHorizontal!==void 0||X.flippedVertical!==void 0)&&j.setFlip(X.flippedHorizontal,X.flippedVertical),X.visible||(j.visible=!1),R.setPropertiesFromTiledObject(j,X),V?V.add(j):N.add.existing(j),w.push(j)}}return w},createFromTiles:function(E,D,M,w,A,R){return R=this.getLayer(R),R===null?null:p.CreateFromTiles(E,D,M,w,A,R)},fill:function(E,D,M,w,A,R,P){return R===void 0&&(R=!0),P=this.getLayer(P),P===null?null:(p.Fill(E,D,M,w,A,R,P),this)},filterObjects:function(E,D,M){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.filter(D,M)},filterTiles:function(E,D,M,w,A,R,P,O){return O=this.getLayer(O),O===null?null:p.FilterTiles(E,D,M,w,A,R,P,O)},findByIndex:function(E,D,M,w){return w=this.getLayer(w),w===null?null:p.FindByIndex(E,D,M,w)},findObject:function(E,D,M){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.find(D,M)||null},findTile:function(E,D,M,w,A,R,P,O){return O=this.getLayer(O),O===null?null:p.FindTile(E,D,M,w,A,R,P,O)},forEachTile:function(E,D,M,w,A,R,P,O){return O=this.getLayer(O),O===null?null:(p.ForEachTile(E,D,M,w,A,R,P,O),this)},getImageIndex:function(E){return this.getIndex(this.images,E)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(E){return E.name})},getIndex:function(E,D){for(var M=0;M<E.length;M++)if(E[M].name===D)return M;return null},getLayer:function(E){var D=this.getLayerIndex(E);return D!==null?this.layers[D]:null},getObjectLayer:function(E){var D=this.getIndex(this.objects,E);return D!==null?this.objects[D]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(E){return E.name})},getLayerIndex:function(E){return E===void 0?this.currentLayerIndex:typeof E=="string"?this.getLayerIndexByName(E):typeof E=="number"&&E<this.layers.length?E:E instanceof m&&E.tilemap===this?E.layerIndex:null},getLayerIndexByName:function(E){return this.getIndex(this.layers,E)},getTileAt:function(E,D,M,w){return w=this.getLayer(w),w===null?null:p.GetTileAt(E,D,M,w)},getTileAtWorldXY:function(E,D,M,w,A){return A=this.getLayer(A),A===null?null:p.GetTileAtWorldXY(E,D,M,w,A)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(E){return E.name})},getTilesWithin:function(E,D,M,w,A,R){return R=this.getLayer(R),R===null?null:p.GetTilesWithin(E,D,M,w,A,R)},getTilesWithinShape:function(E,D,M,w){return w=this.getLayer(w),w===null?null:p.GetTilesWithinShape(E,D,M,w)},getTilesWithinWorldXY:function(E,D,M,w,A,R,P){return P=this.getLayer(P),P===null?null:p.GetTilesWithinWorldXY(E,D,M,w,A,R,P)},getTileset:function(E){var D=this.getIndex(this.tilesets,E);return D!==null?this.tilesets[D]:null},getTilesetIndex:function(E){return this.getIndex(this.tilesets,E)},hasTileAt:function(E,D,M){return M=this.getLayer(M),M===null?null:p.HasTileAt(E,D,M)},hasTileAtWorldXY:function(E,D,M,w){return w=this.getLayer(w),w===null?null:p.HasTileAtWorldXY(E,D,M,w)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(E){this.setLayer(E)}},putTileAt:function(E,D,M,w,A){return w===void 0&&(w=!0),A=this.getLayer(A),A===null?null:p.PutTileAt(E,D,M,w,A)},putTileAtWorldXY:function(E,D,M,w,A,R){return w===void 0&&(w=!0),R=this.getLayer(R),R===null?null:p.PutTileAtWorldXY(E,D,M,w,A,R)},putTilesAt:function(E,D,M,w,A){return w===void 0&&(w=!0),A=this.getLayer(A),A===null?null:(p.PutTilesAt(E,D,M,w,A),this)},randomize:function(E,D,M,w,A,R){return R=this.getLayer(R),R===null?null:(p.Randomize(E,D,M,w,A,R),this)},calculateFacesAt:function(E,D,M){return M=this.getLayer(M),M===null?null:(p.CalculateFacesAt(E,D,M),this)},calculateFacesWithin:function(E,D,M,w,A){return A=this.getLayer(A),A===null?null:(p.CalculateFacesWithin(E,D,M,w,A),this)},removeLayer:function(E){var D=this.getLayerIndex(E);if(D!==null){f(this.layers,D);for(var M=D;M<this.layers.length;M++)this.layers[M].tilemapLayer&&this.layers[M].tilemapLayer.layerIndex--;return this.currentLayerIndex===D&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(E){var D=this.getLayerIndex(E);return D!==null?(E=this.layers[D],E.tilemapLayer.destroy(),f(this.layers,D),this.currentLayerIndex===D&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var E=this.layers,D=0;D<E.length;D++)E[D].tilemapLayer&&E[D].tilemapLayer.destroy(!1);return E.length=0,this.currentLayerIndex=0,this},removeTile:function(E,D,M){D===void 0&&(D=-1),M===void 0&&(M=!0);var w=[];Array.isArray(E)||(E=[E]);for(var A=0;A<E.length;A++){var R=E[A];w.push(this.removeTileAt(R.x,R.y,!0,M,R.tilemapLayer)),D>-1&&this.putTileAt(D,R.x,R.y,M,R.tilemapLayer)}return w},removeTileAt:function(E,D,M,w,A){return M===void 0&&(M=!0),w===void 0&&(w=!0),A=this.getLayer(A),A===null?null:p.RemoveTileAt(E,D,M,w,A)},removeTileAtWorldXY:function(E,D,M,w,A,R){return M===void 0&&(M=!0),w===void 0&&(w=!0),R=this.getLayer(R),R===null?null:p.RemoveTileAtWorldXY(E,D,M,w,A,R)},renderDebug:function(E,D,M){return M=this.getLayer(M),M===null?null:(this.orientation===h.ORTHOGONAL&&p.RenderDebug(E,D,M),this)},renderDebugFull:function(E,D){for(var M=this.layers,w=0;w<M.length;w++)p.RenderDebug(E,D,M[w]);return this},replaceByIndex:function(E,D,M,w,A,R,P){return P=this.getLayer(P),P===null?null:(p.ReplaceByIndex(E,D,M,w,A,R,P),this)},setCollision:function(E,D,M,w,A){return D===void 0&&(D=!0),M===void 0&&(M=!0),A===void 0&&(A=!0),w=this.getLayer(w),w===null?null:(p.SetCollision(E,D,M,w,A),this)},setCollisionBetween:function(E,D,M,w,A){return M===void 0&&(M=!0),w===void 0&&(w=!0),A=this.getLayer(A),A===null?null:(p.SetCollisionBetween(E,D,M,w,A),this)},setCollisionByProperty:function(E,D,M,w){return D===void 0&&(D=!0),M===void 0&&(M=!0),w=this.getLayer(w),w===null?null:(p.SetCollisionByProperty(E,D,M,w),this)},setCollisionByExclusion:function(E,D,M,w){return D===void 0&&(D=!0),M===void 0&&(M=!0),w=this.getLayer(w),w===null?null:(p.SetCollisionByExclusion(E,D,M,w),this)},setCollisionFromCollisionGroup:function(E,D,M){return E===void 0&&(E=!0),D===void 0&&(D=!0),M=this.getLayer(M),M===null?null:(p.SetCollisionFromCollisionGroup(E,D,M),this)},setTileIndexCallback:function(E,D,M,w){return w=this.getLayer(w),w===null?null:(p.SetTileIndexCallback(E,D,M,w),this)},setTileLocationCallback:function(E,D,M,w,A,R,P){return P=this.getLayer(P),P===null?null:(p.SetTileLocationCallback(E,D,M,w,A,R,P),this)},setLayer:function(E){var D=this.getLayerIndex(E);return D!==null&&(this.currentLayerIndex=D),this},setBaseTileSize:function(E,D){this.tileWidth=E,this.tileHeight=D,this.widthInPixels=this.width*E,this.heightInPixels=this.height*D;for(var M=0;M<this.layers.length;M++){this.layers[M].baseTileWidth=E,this.layers[M].baseTileHeight=D;for(var w=this.layers[M].data,A=this.layers[M].width,R=this.layers[M].height,P=0;P<R;P++)for(var O=0;O<A;O++){var b=w[P][O];b!==null&&b.setSize(void 0,void 0,E,D)}}return this},setLayerTileSize:function(E,D,M){if(M=this.getLayer(M),M===null)return this;M.tileWidth=E,M.tileHeight=D;for(var w=M.data,A=M.width,R=M.height,P=0;P<R;P++)for(var O=0;O<A;O++){var b=w[P][O];b!==null&&b.setSize(E,D)}return this},shuffle:function(E,D,M,w,A){return A=this.getLayer(A),A===null?null:(p.Shuffle(E,D,M,w,A),this)},swapByIndex:function(E,D,M,w,A,R,P){return P=this.getLayer(P),P===null?null:(p.SwapByIndex(E,D,M,w,A,R,P),this)},tileToWorldX:function(E,D,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldX(E,D,M)},tileToWorldY:function(E,D,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldY(E,D,M)},tileToWorldXY:function(E,D,M,w,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldXY(E,D,M,w,A)},getTileCorners:function(E,D,M,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(E,D,M,w)},weightedRandomize:function(E,D,M,w,A,R){return R=this.getLayer(R),R===null?null:(p.WeightedRandomize(D,M,w,A,E,R),this)},worldToTileX:function(E,D,M,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(E,D,M,w)},worldToTileY:function(E,D,M,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(E,D,M,w)},worldToTileXY:function(E,D,M,w,A,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileXY(E,D,M,w,A,R)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});e.exports=S},45939:(e,y,t)=>{var a=t(44603),g=t(31989);a.register("tilemap",function(l){var s=l!==void 0?l:{};return g(this.scene,s.key,s.tileWidth,s.tileHeight,s.width,s.height,s.data,s.insertNull)})},46029:(e,y,t)=>{var a=t(39429),g=t(31989);a.register("tilemap",function(l,s,o,n,i,h,r){return l===null&&(l=void 0),s===null&&(s=void 0),o===null&&(o=void 0),n===null&&(n=void 0),i===null&&(i=void 0),g(this.scene,l,s,o,n,i,h,r)})},20442:(e,y,t)=>{var a=t(83419),g=t(78389),l=t(31401),s=t(95643),o=t(81086),n=t(19218),i=t(26099),h=new a({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,g,n],initialize:function(f,c,d,p,m,C){s.call(this,f,"TilemapLayer"),this.isTilemap=!0,this.tilemap=c,this.layerIndex=d,this.layer=c.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=o.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new i,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(p),this.setAlpha(this.layer.alpha),this.setPosition(m,C),this.setOrigin(0,0),this.setSize(c.tileWidth*this.layer.width,c.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(r){var f=[],c=[],d=this.tilemap;Array.isArray(r)||(r=[r]);for(var p=0;p<r.length;p++){var m=r[p];if(typeof m=="string"&&(m=d.getTileset(m)),m){c.push(m);for(var C=m.firstgid,S=0;S<m.total;S++)f[C+S]=m}}this.gidMap=f,this.tileset=c},setRenderOrder:function(r){var f=["right-down","left-down","right-up","left-up"];return typeof r=="string"&&(r=f.indexOf(r)),r>=0&&r<4&&(this._renderOrder=r),this},calculateFacesAt:function(r,f){return o.CalculateFacesAt(r,f,this.layer),this},calculateFacesWithin:function(r,f,c,d){return o.CalculateFacesWithin(r,f,c,d,this.layer),this},createFromTiles:function(r,f,c,d,p){return o.CreateFromTiles(r,f,c,d,p,this.layer)},cull:function(r){return this.cullCallback(this.layer,r,this.culledTiles,this._renderOrder)},copy:function(r,f,c,d,p,m,C){return o.Copy(r,f,c,d,p,m,C,this.layer),this},fill:function(r,f,c,d,p,m){return o.Fill(r,f,c,d,p,m,this.layer),this},filterTiles:function(r,f,c,d,p,m,C){return o.FilterTiles(r,f,c,d,p,m,C,this.layer)},findByIndex:function(r,f,c){return o.FindByIndex(r,f,c,this.layer)},findTile:function(r,f,c,d,p,m,C){return o.FindTile(r,f,c,d,p,m,C,this.layer)},forEachTile:function(r,f,c,d,p,m,C){return o.ForEachTile(r,f,c,d,p,m,C,this.layer),this},setTint:function(r,f,c,d,p,m){r===void 0&&(r=16777215);var C=function(S){S.tint=r,S.tintFill=!1};return this.forEachTile(C,this,f,c,d,p,m)},setTintFill:function(r,f,c,d,p,m){r===void 0&&(r=16777215);var C=function(S){S.tint=r,S.tintFill=!0};return this.forEachTile(C,this,f,c,d,p,m)},getTileAt:function(r,f,c){return o.GetTileAt(r,f,c,this.layer)},getTileAtWorldXY:function(r,f,c,d){return o.GetTileAtWorldXY(r,f,c,d,this.layer)},getIsoTileAtWorldXY:function(r,f,c,d,p){c===void 0&&(c=!0);var m=this.tempVec;return o.IsometricWorldToTileXY(r,f,!0,m,p,this.layer,c),this.getTileAt(m.x,m.y,d)},getTilesWithin:function(r,f,c,d,p){return o.GetTilesWithin(r,f,c,d,p,this.layer)},getTilesWithinShape:function(r,f,c){return o.GetTilesWithinShape(r,f,c,this.layer)},getTilesWithinWorldXY:function(r,f,c,d,p,m){return o.GetTilesWithinWorldXY(r,f,c,d,p,m,this.layer)},hasTileAt:function(r,f){return o.HasTileAt(r,f,this.layer)},hasTileAtWorldXY:function(r,f,c){return o.HasTileAtWorldXY(r,f,c,this.layer)},putTileAt:function(r,f,c,d){return o.PutTileAt(r,f,c,d,this.layer)},putTileAtWorldXY:function(r,f,c,d,p){return o.PutTileAtWorldXY(r,f,c,d,p,this.layer)},putTilesAt:function(r,f,c,d){return o.PutTilesAt(r,f,c,d,this.layer),this},randomize:function(r,f,c,d,p){return o.Randomize(r,f,c,d,p,this.layer),this},removeTileAt:function(r,f,c,d){return o.RemoveTileAt(r,f,c,d,this.layer)},removeTileAtWorldXY:function(r,f,c,d,p){return o.RemoveTileAtWorldXY(r,f,c,d,p,this.layer)},renderDebug:function(r,f){return o.RenderDebug(r,f,this.layer),this},replaceByIndex:function(r,f,c,d,p,m){return o.ReplaceByIndex(r,f,c,d,p,m,this.layer),this},setSkipCull:function(r){return r===void 0&&(r=!0),this.skipCull=r,this},setCullPadding:function(r,f){return r===void 0&&(r=1),f===void 0&&(f=1),this.cullPaddingX=r,this.cullPaddingY=f,this},setCollision:function(r,f,c,d){return o.SetCollision(r,f,c,this.layer,d),this},setCollisionBetween:function(r,f,c,d){return o.SetCollisionBetween(r,f,c,d,this.layer),this},setCollisionByProperty:function(r,f,c){return o.SetCollisionByProperty(r,f,c,this.layer),this},setCollisionByExclusion:function(r,f,c){return o.SetCollisionByExclusion(r,f,c,this.layer),this},setCollisionFromCollisionGroup:function(r,f){return o.SetCollisionFromCollisionGroup(r,f,this.layer),this},setTileIndexCallback:function(r,f,c){return o.SetTileIndexCallback(r,f,c,this.layer),this},setTileLocationCallback:function(r,f,c,d,p,m){return o.SetTileLocationCallback(r,f,c,d,p,m,this.layer),this},shuffle:function(r,f,c,d){return o.Shuffle(r,f,c,d,this.layer),this},swapByIndex:function(r,f,c,d,p,m){return o.SwapByIndex(r,f,c,d,p,m,this.layer),this},tileToWorldX:function(r,f){return this.tilemap.tileToWorldX(r,f,this)},tileToWorldY:function(r,f){return this.tilemap.tileToWorldY(r,f,this)},tileToWorldXY:function(r,f,c,d){return this.tilemap.tileToWorldXY(r,f,c,d,this)},getTileCorners:function(r,f,c){return this.tilemap.getTileCorners(r,f,c,this)},weightedRandomize:function(r,f,c,d,p){return o.WeightedRandomize(f,c,d,p,r,this.layer),this},worldToTileX:function(r,f,c){return this.tilemap.worldToTileX(r,f,c,this)},worldToTileY:function(r,f,c){return this.tilemap.worldToTileY(r,f,c,this)},worldToTileXY:function(r,f,c,d,p){return this.tilemap.worldToTileXY(r,f,c,d,p,this)},destroy:function(r){r===void 0&&(r=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),r&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],s.prototype.destroy.call(this))}});e.exports=h},16153:(e,y,t)=>{var a=t(61340),g=new a,l=new a,s=new a,o=function(n,i,h,r){var f=i.cull(h),c=f.length,d=h.alpha*i.alpha;if(!(c===0||d<=0)){var p=g,m=l,C=s;m.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),p.copyFrom(h.matrix);var S=n.currentContext,E=i.gidMap;S.save(),r?(p.multiplyWithOffset(r,-h.scrollX*i.scrollFactorX,-h.scrollY*i.scrollFactorY),m.e=i.x,m.f=i.y,p.multiply(m,C),C.copyToContext(S)):(m.e-=h.scrollX*i.scrollFactorX,m.f-=h.scrollY*i.scrollFactorY,m.copyToContext(S)),(!n.antialias||i.scaleX>1||i.scaleY>1)&&(S.imageSmoothingEnabled=!1);for(var D=0;D<c;D++){var M=f[D],w=E[M.index];if(w){var A=w.image.getSourceImage(),R=w.getTileTextureCoordinates(M.index),P=w.tileWidth,O=w.tileHeight;if(!(R===null||P===0||O===0)){var b=P*.5,F=O*.5;R.x+=w.tileOffset.x,R.y+=w.tileOffset.y,S.save(),S.translate(M.pixelX+b,M.pixelY+F),M.rotation!==0&&S.rotate(M.rotation),(M.flipX||M.flipY)&&S.scale(M.flipX?-1:1,M.flipY?-1:1),S.globalAlpha=d*M.alpha,S.drawImage(A,R.x,R.y,P,O,-b,-F,P,O),S.restore()}}}S.restore()}};e.exports=o},19218:(e,y,t)=>{var a=t(29747),g=a,l=a;g=t(99558),l=t(16153),e.exports={renderWebGL:g,renderCanvas:l}},99558:(e,y,t)=>{var a=t(70554),g=function(l,s,o){var n=s.cull(o),i=n.length,h=o.alpha*s.alpha;if(!(i===0||h<=0)){var r=s.gidMap,f=l.pipelines.set(s.pipeline,s),c=a.getTintAppendFloatAlpha,d=s.scrollFactorX,p=s.scrollFactorY,m=s.x,C=s.y,S=s.scaleX,E=s.scaleY;l.pipelines.preBatch(s);for(var D=0;D<i;D++){var M=n[D],w=r[M.index];if(w){var A=w.getTileTextureCoordinates(M.index),R=w.tileWidth,P=w.tileHeight;if(!(!A||R===0||P===0)){var O=R*.5,b=P*.5,F=w.glTexture,L=f.setTexture2D(F,s),G=R,z=P,X=A.x,B=A.y,U=w.tileOffset.x,I=w.tileOffset.y,N=c(M.tint,h*M.alpha);f.batchTexture(s,F,F.width,F.height,m+M.pixelX*S+(O*S-U),C+M.pixelY*E+(b*E-I),R,P,S,E,M.rotation,M.flipX,M.flipY,d,p,O,b,X,B,G,z,N,N,N,N,M.tintFill,0,0,o,null,!0,L,!0)}}}l.pipelines.postBatch(s)}};e.exports=g},33629:(e,y,t)=>{var a=t(83419),g=t(26099),l=new a({initialize:function(o,n,i,h,r,f,c,d,p){(i===void 0||i<=0)&&(i=32),(h===void 0||h<=0)&&(h=32),r===void 0&&(r=0),f===void 0&&(f=0),c===void 0&&(c={}),d===void 0&&(d={}),this.name=o,this.firstgid=n,this.tileWidth=i,this.tileHeight=h,this.tileMargin=r,this.tileSpacing=f,this.tileProperties=c,this.tileData=d,this.tileOffset=new g,p!==void 0&&this.tileOffset.set(p.x,p.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(s){return this.containsTileIndex(s)?this.tileProperties[s-this.firstgid]:null},getTileData:function(s){return this.containsTileIndex(s)?this.tileData[s-this.firstgid]:null},getTileCollisionGroup:function(s){var o=this.getTileData(s);return o&&o.objectgroup?o.objectgroup:null},containsTileIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},getTileTextureCoordinates:function(s){return this.containsTileIndex(s)?this.texCoordinates[s-this.firstgid]:null},setImage:function(s){this.image=s;var o=s.get(),n=s.getFrameBounds();return this.glTexture=o.source.glTexture,o.width>n.width||o.height>n.height?this.updateTileData(o.width,o.height):this.updateTileData(n.width,n.height,n.x,n.y),this},setTileSize:function(s,o){return s!==void 0&&(this.tileWidth=s),o!==void 0&&(this.tileHeight=o),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(s,o){return s!==void 0&&(this.tileMargin=s),o!==void 0&&(this.tileSpacing=o),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(s,o,n,i){n===void 0&&(n=0),i===void 0&&(i=0);var h=(o-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),r=(s-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(h%1!==0||r%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),h=Math.floor(h),r=Math.floor(r),this.rows=h,this.columns=r,this.total=h*r,this.texCoordinates.length=0;for(var f=this.tileMargin+n,c=this.tileMargin+i,d=0;d<this.rows;d++){for(var p=0;p<this.columns;p++)this.texCoordinates.push({x:f,y:c}),f+=this.tileWidth+this.tileSpacing;f=this.tileMargin+n,c+=this.tileHeight+this.tileSpacing}return this}});e.exports=l},72023:(e,y,t)=>{var a=t(7423),g=function(l,s,o){var n=a(l,s,!0,o),i=a(l,s-1,!0,o),h=a(l,s+1,!0,o),r=a(l-1,s,!0,o),f=a(l+1,s,!0,o),c=n&&n.collides;return c&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),i&&i.collides&&(c&&(n.faceTop=!1),i.faceBottom=!c),h&&h.collides&&(c&&(n.faceBottom=!1),h.faceTop=!c),r&&r.collides&&(c&&(n.faceLeft=!1),r.faceRight=!c),f&&f.collides&&(c&&(n.faceRight=!1),f.faceLeft=!c),n&&!n.collides&&n.resetFaces(),n};e.exports=g},42573:(e,y,t)=>{var a=t(7423),g=t(7386),l=function(s,o,n,i,h){for(var r=null,f=null,c=null,d=null,p=g(s,o,n,i,null,h),m=0;m<p.length;m++){var C=p[m];C&&(C.collides?(r=a(C.x,C.y-1,!0,h),f=a(C.x,C.y+1,!0,h),c=a(C.x-1,C.y,!0,h),d=a(C.x+1,C.y,!0,h),C.faceTop=!(r&&r.collides),C.faceBottom=!(f&&f.collides),C.faceLeft=!(c&&c.collides),C.faceRight=!(d&&d.collides)):C.resetFaces())}};e.exports=l},33528:(e,y,t)=>{var a=t(26099),g=new a,l=function(s,o,n,i){var h=n.tilemapLayer,r=h.cullPaddingX,f=h.cullPaddingY,c=h.tilemap.tileToWorldXY(s,o,g,i,h);return c.x>i.worldView.x+h.scaleX*n.tileWidth*(-r-.5)&&c.x<i.worldView.right+h.scaleX*n.tileWidth*(r-.5)&&c.y>i.worldView.y+h.scaleY*n.tileHeight*(-f-1)&&c.y<i.worldView.bottom+h.scaleY*n.tileHeight*(f-.5)};e.exports=l},1785:(e,y,t)=>{var a=t(42573),g=t(7386),l=t(62991),s=t(23029),o=function(n,i,h,r,f,c,d,p){d===void 0&&(d=!0);var m=g(n,i,h,r,null,p),C=[];m.forEach(function(R){var P=new s(R.layer,R.index,R.x,R.y,R.width,R.height,R.baseWidth,R.baseHeight);P.copy(R),C.push(P)});for(var S=f-n,E=c-i,D=0;D<C.length;D++){var M=C[D],w=M.x+S,A=M.y+E;l(w,A,p)&&p.data[A][w]&&(M.x=w,M.y=A,M.updatePixelXY(),p.data[A][w]=M)}d&&a(f-1,c-1,h+2,r+2,p),m.length=0,C.length=0};e.exports=o},78419:(e,y,t)=>{var a=t(62644),g=t(7386),l=t(27987),s=function(o,n,i,h,r,f){i||(i={}),Array.isArray(o)||(o=[o]);var c=f.tilemapLayer;h||(h=c.scene),r||(r=h.cameras.main);var d=f.width,p=f.height,m=g(0,0,d,p,null,f),C=[],S,E=function(A,R,P){for(var O=0;O<P.length;O++){var b=P[O];A.hasOwnProperty(b)||(A[b]=R[b])}};for(S=0;S<m.length;S++){var D=m[S],M=a(i);if(o.indexOf(D.index)!==-1){var w=c.tileToWorldXY(D.x,D.y,void 0,r,f);M.x=w.x,M.y=w.y,E(M,D,["rotation","flipX","flipY","alpha","visible","tint"]),M.hasOwnProperty("origin")||(M.x+=D.width*.5,M.y+=D.height*.5),M.hasOwnProperty("useSpriteSheet")&&(M.key=D.tileset.image,M.frame=D.index-1),C.push(h.make.sprite(M))}}if(Array.isArray(n))for(S=0;S<o.length;S++)l(o[S],n[S],0,0,d,p,f);else if(n!==null)for(S=0;S<o.length;S++)l(o[S],n,0,0,d,p,f);return C};e.exports=s},19545:(e,y,t)=>{var a=t(87841),g=t(63448),l=t(56583),s=new a,o=function(n,i){var h=n.tilemapLayer.tilemap,r=n.tilemapLayer,f=Math.floor(h.tileWidth*r.scaleX),c=Math.floor(h.tileHeight*r.scaleY),d=l(i.worldView.x-r.x,f,0,!0)-r.cullPaddingX,p=g(i.worldView.right-r.x,f,0,!0)+r.cullPaddingX,m=l(i.worldView.y-r.y,c,0,!0)-r.cullPaddingY,C=g(i.worldView.bottom-r.y,c,0,!0)+r.cullPaddingY;return s.setTo(d,m,p-d,C-m)};e.exports=o},30003:(e,y,t)=>{var a=t(19545),g=t(32483),l=function(s,o,n,i){n===void 0&&(n=[]),i===void 0&&(i=0),n.length=0;var h=s.tilemapLayer,r=a(s,o);return(h.skipCull||h.scrollFactorX!==1||h.scrollFactorY!==1)&&(r.left=0,r.right=s.width,r.top=0,r.bottom=s.height),g(s,r,i,n),n};e.exports=l},35137:(e,y,t)=>{var a=t(7386),g=t(42573),l=t(20576),s=function(o,n,i,h,r,f,c){for(var d=c.collideIndexes.indexOf(o)!==-1,p=a(n,i,h,r,null,c),m=0;m<p.length;m++)p[m].index=o,l(p[m],d);f&&g(n-1,i-1,h+2,r+2,c)};e.exports=s},40253:(e,y,t)=>{var a=t(7386),g=function(l,s,o,n,i,h,r,f){var c=a(o,n,i,h,r,f);return c.filter(l,s)};e.exports=g},52692:e=>{var y=function(t,a,g,l){a===void 0&&(a=0),g===void 0&&(g=!1);var s=0,o,n,i;if(g){for(n=l.height-1;n>=0;n--)for(o=l.width-1;o>=0;o--)if(i=l.data[n][o],i&&i.index===t){if(s===a)return i;s+=1}}else for(n=0;n<l.height;n++)for(o=0;o<l.width;o++)if(i=l.data[n][o],i&&i.index===t){if(s===a)return i;s+=1}return null};e.exports=y},66151:(e,y,t)=>{var a=t(7386),g=function(l,s,o,n,i,h,r,f){var c=a(o,n,i,h,r,f);return c.find(l,s)||null};e.exports=g},97560:(e,y,t)=>{var a=t(7386),g=function(l,s,o,n,i,h,r,f){var c=a(o,n,i,h,r,f);c.forEach(l,s)};e.exports=g},43305:(e,y,t)=>{var a=t(91907),g=t(30003),l=t(9474),s=t(14018),o=t(29747),n=t(54503),i=function(h){return h===a.ORTHOGONAL?g:h===a.HEXAGONAL?l:h===a.STAGGERED?n:h===a.ISOMETRIC?s:o};e.exports=i},7423:(e,y,t)=>{var a=t(62991),g=function(l,s,o,n){if(o===void 0&&(o=!1),a(l,s,n)){var i=n.data[s][l]||null;return i?i.index===-1?o?i:null:i:null}else return null};e.exports=g},60540:(e,y,t)=>{var a=t(7423),g=t(26099),l=new g,s=function(o,n,i,h,r){return r.tilemapLayer.worldToTileXY(o,n,!0,l,h),a(l.x,l.y,i,r)};e.exports=s},55826:(e,y,t)=>{var a=t(26099),g=function(l,s,o,n){var i=n.baseTileWidth,h=n.baseTileHeight,r=n.tilemapLayer,f=0,c=0;r&&(o||(o=r.scene.cameras.main),f=r.x+o.scrollX*(1-r.scrollFactorX),c=r.y+o.scrollY*(1-r.scrollFactorY),i*=r.scaleX,h*=r.scaleY);var d=f+l*i,p=c+s*h;return[new a(d,p),new a(d+i,p),new a(d+i,p+h),new a(d,p+h)]};e.exports=g},11758:(e,y,t)=>{var a=t(91907),g=t(27229),l=t(29747),s=t(55826),o=function(n){return n===a.ORTHOGONAL?s:n===a.ISOMETRIC?l:n===a.HEXAGONAL?g:(n===a.STAGGERED,l)};e.exports=o},39167:(e,y,t)=>{var a=t(91907),g=t(29747),l=t(97281),s=function(o){return o===a.ORTHOGONAL?l:g};e.exports=s},62e3:(e,y,t)=>{var a=t(91907),g=t(19951),l=t(14127),s=t(29747),o=t(97202),n=t(70326),i=function(h){return h===a.ORTHOGONAL?n:h===a.ISOMETRIC?l:h===a.HEXAGONAL?g:h===a.STAGGERED?o:s};e.exports=i},5984:(e,y,t)=>{var a=t(91907),g=t(29747),l=t(28054),s=t(29650),o=function(n){return n===a.ORTHOGONAL?s:n===a.STAGGERED?l:g};e.exports=o},7386:(e,y,t)=>{var a=t(95540),g=function(l,s,o,n,i,h){l===void 0&&(l=0),s===void 0&&(s=0),o===void 0&&(o=h.width),n===void 0&&(n=h.height),i||(i={});var r=a(i,"isNotEmpty",!1),f=a(i,"isColliding",!1),c=a(i,"hasInterestingFace",!1);l<0&&(o+=l,l=0),s<0&&(n+=s,s=0),l+o>h.width&&(o=Math.max(h.width-l,0)),s+n>h.height&&(n=Math.max(h.height-s,0));for(var d=[],p=s;p<s+n;p++)for(var m=l;m<l+o;m++){var C=h.data[p][m];if(C!==null){if(r&&C.index===-1||f&&!C.collides||c&&!C.hasInterestingFace)continue;d.push(C)}}return d};e.exports=g},91141:(e,y,t)=>{var a=t(55738),g=t(7386),l=t(91865),s=t(29747),o=t(26099),n=function(c,d){return l.RectangleToTriangle(d,c)},i=new o,h=new o,r=new o,f=function(c,d,p,m){if(c===void 0)return[];var C=s;c instanceof a.Circle?C=l.CircleToRectangle:c instanceof a.Rectangle?C=l.RectangleToRectangle:c instanceof a.Triangle?C=n:c instanceof a.Line&&(C=l.LineToRectangle),m.tilemapLayer.worldToTileXY(c.left,c.top,!0,h,p);var S=h.x,E=h.y;m.tilemapLayer.worldToTileXY(c.right,c.bottom,!1,r,p);var D=Math.ceil(r.x),M=Math.ceil(r.y),w=Math.max(D-S,1),A=Math.max(M-E,1),R=g(S,E,w,A,d,m),P=m.tileWidth,O=m.tileHeight;m.tilemapLayer&&(P*=m.tilemapLayer.scaleX,O*=m.tilemapLayer.scaleY);for(var b=[],F=new a.Rectangle(0,0,P,O),L=0;L<R.length;L++){var G=R[L];m.tilemapLayer.tileToWorldXY(G.x,G.y,i,p),F.x=i.x,F.y=i.y,C(c,F)&&b.push(G)}return b};e.exports=f},96523:(e,y,t)=>{var a=t(7386),g=t(26099),l=new g,s=new g,o=function(n,i,h,r,f,c,d){var p=d.tilemapLayer.tilemap._convert.WorldToTileXY;p(n,i,!0,l,c,d);var m=l.x,C=l.y;p(n+h,i+r,!1,s,c,d);var S=Math.ceil(s.x),E=Math.ceil(s.y);return a(m,C,S-m,E-C,f,d)};e.exports=o},96113:(e,y,t)=>{var a=t(91907),g=t(20242),l=t(10095),s=function(o){return o===a.ORTHOGONAL?l:g};e.exports=s},16926:(e,y,t)=>{var a=t(91907),g=t(86625),l=t(96897),s=t(29747),o=t(15108),n=t(85896),i=function(h){return h===a.ORTHOGONAL?n:h===a.ISOMETRIC?l:h===a.HEXAGONAL?g:h===a.STAGGERED?o:s};e.exports=i},55762:(e,y,t)=>{var a=t(91907),g=t(20242),l=t(51900),s=t(63288),o=function(n){return n===a.ORTHOGONAL?s:n===a.STAGGERED?l:g};e.exports=o},45091:(e,y,t)=>{var a=t(62991),g=function(l,s,o){if(a(l,s,o)){var n=o.data[s][l];return n!==null&&n.index>-1}else return!1};e.exports=g},24152:(e,y,t)=>{var a=t(45091),g=t(26099),l=new g,s=function(o,n,i,h){h.tilemapLayer.worldToTileXY(o,n,!0,l,i);var r=l.x,f=l.y;return a(r,f,h)};e.exports=s},90454:(e,y,t)=>{var a=t(63448),g=t(56583),l=function(s,o){var n=s.tilemapLayer.tilemap,i=s.tilemapLayer,h=Math.floor(n.tileWidth*i.scaleX),r=Math.floor(n.tileHeight*i.scaleY),f=s.hexSideLength,c,d,p,m;if(s.staggerAxis==="y"){var C=(r-f)/2+f;c=g(o.worldView.x-i.x,h,0,!0)-i.cullPaddingX,d=a(o.worldView.right-i.x,h,0,!0)+i.cullPaddingX,p=g(o.worldView.y-i.y,C,0,!0)-i.cullPaddingY,m=a(o.worldView.bottom-i.y,C,0,!0)+i.cullPaddingY}else{var S=(h-f)/2+f;c=g(o.worldView.x-i.x,S,0,!0)-i.cullPaddingX,d=a(o.worldView.right-i.x,S,0,!0)+i.cullPaddingX,p=g(o.worldView.y-i.y,r,0,!0)-i.cullPaddingY,m=a(o.worldView.bottom-i.y,r,0,!0)+i.cullPaddingY}return{left:c,right:d,top:p,bottom:m}};e.exports=l},9474:(e,y,t)=>{var a=t(90454),g=t(32483),l=function(s,o,n,i){n===void 0&&(n=[]),i===void 0&&(i=0),n.length=0;var h=s.tilemapLayer,r=a(s,o);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(r.left=0,r.right=s.width,r.top=0,r.bottom=s.height),g(s,r,i,n),n};e.exports=l},27229:(e,y,t)=>{var a=t(19951),g=t(26099),l=new g,s=function(o,n,i,h){var r=h.baseTileWidth,f=h.baseTileHeight,c=h.tilemapLayer;c&&(r*=c.scaleX,f*=c.scaleY);var d=a(o,n,l,i,h),p=[],m=.5773502691896257,C,S;h.staggerAxis==="y"?(C=m*r,S=f/2):(C=r/2,S=m*f);for(var E=0;E<6;E++){var D=2*Math.PI*(.5-E)/6;p.push(new g(d.x+C*Math.cos(D),d.y+S*Math.sin(D)))}return p};e.exports=s},19951:(e,y,t)=>{var a=t(26099),g=function(l,s,o,n,i){o||(o=new a);var h=i.baseTileWidth,r=i.baseTileHeight,f=i.tilemapLayer,c=0,d=0;f&&(n||(n=f.scene.cameras.main),c=f.x+n.scrollX*(1-f.scrollFactorX),d=f.y+n.scrollY*(1-f.scrollFactorY),h*=f.scaleX,r*=f.scaleY);var p=h/2,m=r/2,C,S;return i.staggerAxis==="y"?(C=c+h*l+h,S=d+1.5*s*m+m,s%2===0&&(this.staggerIndex==="odd"?C-=p:C+=p)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(C=c+1.5*l*p+p,S=d+r*l+r,l%2===0&&(this.staggerIndex==="odd"?S-=m:S+=m)),o.set(C,S)};e.exports=g},86625:(e,y,t)=>{var a=t(26099),g=function(l,s,o,n,i,h){n||(n=new a);var r=h.baseTileWidth,f=h.baseTileHeight,c=h.tilemapLayer;c&&(i||(i=c.scene.cameras.main),l=l-(c.x+i.scrollX*(1-c.scrollFactorX)),s=s-(c.y+i.scrollY*(1-c.scrollFactorY)),r*=c.scaleX,f*=c.scaleY);var d=.5773502691896257,p=-.3333333333333333,m=0,C=.6666666666666666,S=r/2,E=f/2,D,M,w,A,R;h.staggerAxis==="y"?(D=(l-S)/(d*r),M=(s-E)/E,w=d*D+p*M,A=m*D+C*M):(D=(l-S)/S,M=(s-E)/(d*f),w=p*D+d*M,A=C*D+m*M),R=-w-A;var P=Math.round(w),O=Math.round(A),b=Math.round(R),F=Math.abs(P-w),L=Math.abs(O-A),G=Math.abs(b-R);F>L&&F>G?P=-O-b:L>G&&(O=-P-b);var z,X=O;return h.staggerIndex==="odd"?z=X%2===0?O/2+P:O/2+P-.5:z=X%2===0?O/2+P:O/2+P+.5,n.set(z,X)};e.exports=g},62991:e=>{var y=function(t,a,g){return t>=0&&t<g.width&&a>=0&&a<g.height};e.exports=y},14018:(e,y,t)=>{var a=t(33528),g=function(l,s,o,n){o===void 0&&(o=[]),n===void 0&&(n=0),o.length=0;var i=l.tilemapLayer,h=l.data,r=l.width,f=l.height,c=i.skipCull,d=0,p=r,m=0,C=f,S,E,D;if(n===0)for(E=m;E<C;E++)for(S=d;S<p;S++)D=h[E][S],!(!D||D.index===-1||!D.visible||D.alpha===0)&&(!c&&!a(S,E,l,s)||o.push(D));else if(n===1)for(E=m;E<C;E++)for(S=p;S>=d;S--)D=h[E][S],!(!D||D.index===-1||!D.visible||D.alpha===0)&&(!c&&!a(S,E,l,s)||o.push(D));else if(n===2)for(E=C;E>=m;E--)for(S=d;S<p;S++)D=h[E][S],!(!D||D.index===-1||!D.visible||D.alpha===0)&&(!c&&!a(S,E,l,s)||o.push(D));else if(n===3)for(E=C;E>=m;E--)for(S=p;S>=d;S--)D=h[E][S],!(!D||D.index===-1||!D.visible||D.alpha===0)&&(!c&&!a(S,E,l,s)||o.push(D));return i.tilesDrawn=o.length,i.tilesTotal=r*f,o};e.exports=g},14127:(e,y,t)=>{var a=t(26099),g=function(l,s,o,n,i){o||(o=new a);var h=i.baseTileWidth,r=i.baseTileHeight,f=i.tilemapLayer,c=0,d=0;f&&(n||(n=f.scene.cameras.main),c=f.x+n.scrollX*(1-f.scrollFactorX),h*=f.scaleX,d=f.y+n.scrollY*(1-f.scrollFactorY),r*=f.scaleY);var p=c+(l-s)*(h/2),m=d+(l+s)*(r/2);return o.set(p,m)};e.exports=g},96897:(e,y,t)=>{var a=t(26099),g=function(l,s,o,n,i,h,r){n||(n=new a);var f=h.baseTileWidth,c=h.baseTileHeight,d=h.tilemapLayer;d&&(i||(i=d.scene.cameras.main),s=s-(d.y+i.scrollY*(1-d.scrollFactorY)),c*=d.scaleY,l=l-(d.x+i.scrollX*(1-d.scrollFactorX)),f*=d.scaleX);var p=f/2,m=c/2;l=l-p,r||(s=s-c);var C=.5*(l/p+s/m),S=.5*(-l/p+s/m);return o&&(C=Math.floor(C),S=Math.floor(S)),n.set(C,S)};e.exports=g},71558:(e,y,t)=>{var a=t(23029),g=t(62991),l=t(72023),s=t(20576),o=function(n,i,h,r,f){if(r===void 0&&(r=!0),!g(i,h,f))return null;var c,d=f.data[h][i],p=d&&d.collides;n instanceof a?(f.data[h][i]===null&&(f.data[h][i]=new a(f,n.index,i,h,f.tileWidth,f.tileHeight)),f.data[h][i].copy(n)):(c=n,f.data[h][i]===null?f.data[h][i]=new a(f,c,i,h,f.tileWidth,f.tileHeight):f.data[h][i].index=c);var m=f.data[h][i],C=f.collideIndexes.indexOf(m.index)!==-1;if(c=n instanceof a?n.index:n,c===-1)m.width=f.tileWidth,m.height=f.tileHeight;else{var S=f.tilemapLayer.tilemap,E=S.tiles,D=E[c][2],M=S.tilesets[D];m.width=M.tileWidth,m.height=M.tileHeight}return s(m,C),r&&p!==m.collides&&l(i,h,f),m};e.exports=o},26303:(e,y,t)=>{var a=t(71558),g=t(26099),l=new g,s=function(o,n,i,h,r,f){return f.tilemapLayer.worldToTileXY(n,i,!0,l,r,f),a(o,l.x,l.y,h,f)};e.exports=s},14051:(e,y,t)=>{var a=t(42573),g=t(71558),l=function(s,o,n,i,h){if(i===void 0&&(i=!0),!Array.isArray(s))return null;Array.isArray(s[0])||(s=[s]);for(var r=s.length,f=s[0].length,c=0;c<r;c++)for(var d=0;d<f;d++){var p=s[c][d];g(p,o+d,n+c,!1,h)}i&&a(o-1,n-1,f+2,r+2,h)};e.exports=l},77389:(e,y,t)=>{var a=t(7386),g=t(26546),l=function(s,o,n,i,h,r){var f,c=a(s,o,n,i,{},r);if(!h)for(h=[],f=0;f<c.length;f++)h.indexOf(c[f].index)===-1&&h.push(c[f].index);for(f=0;f<c.length;f++)c[f].index=g(h)};e.exports=l},63557:(e,y,t)=>{var a=t(23029),g=t(62991),l=t(72023),s=function(o,n,i,h,r){if(i===void 0&&(i=!0),h===void 0&&(h=!0),!g(o,n,r))return null;var f=r.data[n][o];if(f)r.data[n][o]=i?null:new a(r,-1,o,n,r.tileWidth,r.tileHeight);else return null;return h&&f&&f.collides&&l(o,n,r),f};e.exports=s},94178:(e,y,t)=>{var a=t(63557),g=t(26099),l=new g,s=function(o,n,i,h,r,f){return f.tilemapLayer.worldToTileXY(o,n,!0,l,r,f),a(l.x,l.y,i,h,f)};e.exports=s},15533:(e,y,t)=>{var a=t(7386),g=t(3956),l=new g(105,210,231,150),s=new g(243,134,48,200),o=new g(40,39,37,150),n=function(i,h,r){h===void 0&&(h={});var f=h.tileColor!==void 0?h.tileColor:l,c=h.collidingTileColor!==void 0?h.collidingTileColor:s,d=h.faceColor!==void 0?h.faceColor:o,p=a(0,0,r.width,r.height,null,r);i.translateCanvas(r.tilemapLayer.x,r.tilemapLayer.y),i.scaleCanvas(r.tilemapLayer.scaleX,r.tilemapLayer.scaleY);for(var m=0;m<p.length;m++){var C=p[m],S=C.width,E=C.height,D=C.pixelX,M=C.pixelY,w=C.collides?c:f;w!==null&&(i.fillStyle(w.color,w.alpha/255),i.fillRect(D,M,S,E)),D+=1,M+=1,S-=2,E-=2,d!==null&&(i.lineStyle(1,d.color,d.alpha/255),C.faceTop&&i.lineBetween(D,M,D+S,M),C.faceRight&&i.lineBetween(D+S,M,D+S,M+E),C.faceBottom&&i.lineBetween(D,M+E,D+S,M+E),C.faceLeft&&i.lineBetween(D,M,D,M+E))}};e.exports=n},27987:(e,y,t)=>{var a=t(7386),g=function(l,s,o,n,i,h,r){for(var f=a(o,n,i,h,null,r),c=0;c<f.length;c++)f[c]&&f[c].index===l&&(f[c].index=s)};e.exports=g},32483:e=>{var y=function(t,a,g,l){var s=t.data,o=t.width,n=t.height,i=t.tilemapLayer,h=Math.max(0,a.left),r=Math.min(o,a.right),f=Math.max(0,a.top),c=Math.min(n,a.bottom),d,p,m;if(g===0)for(p=f;p<c;p++)for(d=h;s[p]&&d<r;d++)m=s[p][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&l.push(m);else if(g===1)for(p=f;p<c;p++)for(d=r;s[p]&&d>=h;d--)m=s[p][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&l.push(m);else if(g===2)for(p=c;p>=f;p--)for(d=h;s[p]&&d<r;d++)m=s[p][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&l.push(m);else if(g===3)for(p=c;p>=f;p--)for(d=r;s[p]&&d>=h;d--)m=s[p][d],!(!m||m.index===-1||!m.visible||m.alpha===0)&&l.push(m);return i.tilesDrawn=l.length,i.tilesTotal=o*n,l};e.exports=y},57068:(e,y,t)=>{var a=t(20576),g=t(42573),l=t(9589),s=function(o,n,i,h,r){n===void 0&&(n=!0),i===void 0&&(i=!0),r===void 0&&(r=!0),Array.isArray(o)||(o=[o]);for(var f=0;f<o.length;f++)l(o[f],n,h);if(r)for(var c=0;c<h.height;c++)for(var d=0;d<h.width;d++){var p=h.data[c][d];p&&o.indexOf(p.index)!==-1&&a(p,n)}i&&g(0,0,h.width,h.height,h)};e.exports=s},37266:(e,y,t)=>{var a=t(20576),g=t(42573),l=t(9589),s=function(o,n,i,h,r,f){if(i===void 0&&(i=!0),h===void 0&&(h=!0),f===void 0&&(f=!0),!(o>n)){for(var c=o;c<=n;c++)l(c,i,r);if(f)for(var d=0;d<r.height;d++)for(var p=0;p<r.width;p++){var m=r.data[d][p];m&&m.index>=o&&m.index<=n&&a(m,i)}h&&g(0,0,r.width,r.height,r)}};e.exports=s},75661:(e,y,t)=>{var a=t(20576),g=t(42573),l=t(9589),s=function(o,n,i,h){n===void 0&&(n=!0),i===void 0&&(i=!0),Array.isArray(o)||(o=[o]);for(var r=0;r<h.height;r++)for(var f=0;f<h.width;f++){var c=h.data[r][f];c&&o.indexOf(c.index)===-1&&(a(c,n),l(c.index,n,h))}i&&g(0,0,h.width,h.height,h)};e.exports=s},64740:(e,y,t)=>{var a=t(20576),g=t(42573),l=t(97022),s=function(o,n,i,h){n===void 0&&(n=!0),i===void 0&&(i=!0);for(var r=0;r<h.height;r++)for(var f=0;f<h.width;f++){var c=h.data[r][f];if(c){for(var d in o)if(l(c.properties,d)){var p=o[d];Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++)c.properties[d]===p[m]&&a(c,n)}}}i&&g(0,0,h.width,h.height,h)};e.exports=s},63307:(e,y,t)=>{var a=t(20576),g=t(42573),l=function(s,o,n){s===void 0&&(s=!0),o===void 0&&(o=!0);for(var i=0;i<n.height;i++)for(var h=0;h<n.width;h++){var r=n.data[i][h];if(r){var f=r.getCollisionGroup();f&&f.objects&&f.objects.length>0&&a(r,s)}}o&&g(0,0,n.width,n.height,n)};e.exports=l},9589:e=>{var y=function(t,a,g){var l=g.collideIndexes.indexOf(t);a&&l===-1?g.collideIndexes.push(t):!a&&l!==-1&&g.collideIndexes.splice(l,1)};e.exports=y},20576:e=>{var y=function(t,a){a?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};e.exports=y},79583:e=>{var y=function(t,a,g,l){if(typeof t=="number")l.callbacks[t]=a!==null?{callback:a,callbackContext:g}:void 0;else for(var s=0,o=t.length;s<o;s++)l.callbacks[t[s]]=a!==null?{callback:a,callbackContext:g}:void 0};e.exports=y},93254:(e,y,t)=>{var a=t(7386),g=function(l,s,o,n,i,h,r){for(var f=a(l,s,o,n,null,r),c=0;c<f.length;c++)f[c].setCollisionCallback(i,h)};e.exports=g},32903:(e,y,t)=>{var a=t(7386),g=t(33680),l=function(s,o,n,i,h){var r=a(s,o,n,i,null,h),f=r.map(function(d){return d.index});g(f);for(var c=0;c<r.length;c++)r[c].index=f[c]};e.exports=l},61325:(e,y,t)=>{var a=t(63448),g=t(56583),l=function(s,o){var n=s.tilemapLayer.tilemap,i=s.tilemapLayer,h=Math.floor(n.tileWidth*i.scaleX),r=Math.floor(n.tileHeight*i.scaleY),f=g(o.worldView.x-i.x,h,0,!0)-i.cullPaddingX,c=a(o.worldView.right-i.x,h,0,!0)+i.cullPaddingX,d=g(o.worldView.y-i.y,r/2,0,!0)-i.cullPaddingY,p=a(o.worldView.bottom-i.y,r/2,0,!0)+i.cullPaddingY;return{left:f,right:c,top:d,bottom:p}};e.exports=l},54503:(e,y,t)=>{var a=t(61325),g=t(32483),l=function(s,o,n,i){n===void 0&&(n=[]),i===void 0&&(i=0),n.length=0;var h=s.tilemapLayer,r=a(s,o);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(r.left=0,r.right=s.width,r.top=0,r.bottom=s.height),g(s,r,i,n),n};e.exports=l},97202:(e,y,t)=>{var a=t(26099),g=function(l,s,o,n,i){o||(o=new a);var h=i.baseTileWidth,r=i.baseTileHeight,f=i.tilemapLayer,c=0,d=0;f&&(n||(n=f.scene.cameras.main),c=f.x+n.scrollX*(1-f.scrollFactorX),h*=f.scaleX,d=f.y+n.scrollY*(1-f.scrollFactorY),r*=f.scaleY);var p=c+l*h+s%2*(h/2),m=d+s*(r/2);return o.set(p,m)};e.exports=g},28054:e=>{var y=function(t,a,g){var l=g.baseTileHeight,s=g.tilemapLayer,o=0;return s&&(a===void 0&&(a=s.scene.cameras.main),o=s.y+a.scrollY*(1-s.scrollFactorY),l*=s.scaleY),o+t*(l/2)+l};e.exports=y},15108:(e,y,t)=>{var a=t(26099),g=function(l,s,o,n,i,h){n||(n=new a);var r=h.baseTileWidth,f=h.baseTileHeight,c=h.tilemapLayer;c&&(i||(i=c.scene.cameras.main),s=s-(c.y+i.scrollY*(1-c.scrollFactorY)),f*=c.scaleY,l=l-(c.x+i.scrollX*(1-c.scrollFactorX)),r*=c.scaleX);var d=o?Math.floor(s/(f/2)):s/(f/2),p=o?Math.floor((l+d%2*.5*r)/r):(l+d%2*.5*r)/r;return n.set(p,d)};e.exports=g},51900:e=>{var y=function(t,a,g,l){var s=l.baseTileHeight,o=l.tilemapLayer;return o&&(g||(g=o.scene.cameras.main),t=t-(o.y+g.scrollY*(1-o.scrollFactorY)),s*=o.scaleY),a?Math.floor(t/(s/2)):t/(s/2)};e.exports=y},86560:(e,y,t)=>{var a=t(7386),g=function(l,s,o,n,i,h,r){for(var f=a(o,n,i,h,null,r),c=0;c<f.length;c++)f[c]&&(f[c].index===l?f[c].index=s:f[c].index===s&&(f[c].index=l))};e.exports=g},97281:e=>{var y=function(t,a,g){var l=g.baseTileWidth,s=g.tilemapLayer,o=0;return s&&(a||(a=s.scene.cameras.main),o=s.x+a.scrollX*(1-s.scrollFactorX),l*=s.scaleX),o+t*l};e.exports=y},70326:(e,y,t)=>{var a=t(97281),g=t(29650),l=t(26099),s=function(o,n,i,h,r){return i||(i=new l(0,0)),i.x=a(o,h,r),i.y=g(n,h,r),i};e.exports=s},29650:e=>{var y=function(t,a,g){var l=g.baseTileHeight,s=g.tilemapLayer,o=0;return s&&(a||(a=s.scene.cameras.main),o=s.y+a.scrollY*(1-s.scrollFactorY),l*=s.scaleY),o+t*l};e.exports=y},77366:(e,y,t)=>{var a=t(7386),g=t(75508),l=function(s,o,n,i,h,r){if(h){var f,c=a(s,o,n,i,null,r),d=0;for(f=0;f<h.length;f++)d+=h[f].weight;if(!(d<=0))for(f=0;f<c.length;f++){for(var p=g.RND.frac()*d,m=0,C=-1,S=0;S<h.length;S++)if(m+=h[S].weight,p<=m){var E=h[S].index;C=Array.isArray(E)?E[Math.floor(g.RND.frac()*E.length)]:E;break}c[f].index=C}}};e.exports=l},10095:(e,y,t)=>{var a=t(85896),g=t(26099),l=new g,s=function(o,n,i,h){return a(o,0,n,l,i,h),l.x};e.exports=s},85896:(e,y,t)=>{var a=t(26099),g=function(l,s,o,n,i,h){o===void 0&&(o=!0),n||(n=new a);var r=h.baseTileWidth,f=h.baseTileHeight,c=h.tilemapLayer;c&&(i||(i=c.scene.cameras.main),l=l-(c.x+i.scrollX*(1-c.scrollFactorX)),s=s-(c.y+i.scrollY*(1-c.scrollFactorY)),r*=c.scaleX,f*=c.scaleY);var d=l/r,p=s/f;return o&&(d=Math.floor(d),p=Math.floor(p)),n.set(d,p)};e.exports=g},63288:(e,y,t)=>{var a=t(85896),g=t(26099),l=new g,s=function(o,n,i,h){return a(0,o,n,l,i,h),l.y};e.exports=s},81086:(e,y,t)=>{e.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:e=>{e.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(e,y,t)=>{var a={ORIENTATION:t(91907)};e.exports=a},62501:(e,y,t)=>{var a=t(79291),g=t(21829),l={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};l=a(!1,l,g.ORIENTATION),e.exports=l},14977:(e,y,t)=>{var a=t(83419),g=t(91907),l=t(95540),s=new a({initialize:function(n){n===void 0&&(n={}),this.name=l(n,"name","layer"),this.id=l(n,"id",0),this.x=l(n,"x",0),this.y=l(n,"y",0),this.width=l(n,"width",0),this.height=l(n,"height",0),this.tileWidth=l(n,"tileWidth",0),this.tileHeight=l(n,"tileHeight",0),this.baseTileWidth=l(n,"baseTileWidth",this.tileWidth),this.baseTileHeight=l(n,"baseTileHeight",this.tileHeight),this.orientation=l(n,"orientation",g.ORTHOGONAL),this.widthInPixels=l(n,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=l(n,"heightInPixels",this.height*this.baseTileHeight),this.alpha=l(n,"alpha",1),this.visible=l(n,"visible",!0),this.properties=l(n,"properties",[]),this.indexes=l(n,"indexes",[]),this.collideIndexes=l(n,"collideIndexes",[]),this.callbacks=l(n,"callbacks",[]),this.bodies=l(n,"bodies",[]),this.data=l(n,"data",[]),this.tilemapLayer=l(n,"tilemapLayer",null),this.hexSideLength=l(n,"hexSideLength",0),this.staggerAxis=l(n,"staggerAxis","y"),this.staggerIndex=l(n,"staggerIndex","odd")}});e.exports=s},87010:(e,y,t)=>{var a=t(83419),g=t(91907),l=t(95540),s=new a({initialize:function(n){n===void 0&&(n={}),this.name=l(n,"name","map"),this.width=l(n,"width",0),this.height=l(n,"height",0),this.infinite=l(n,"infinite",!1),this.tileWidth=l(n,"tileWidth",0),this.tileHeight=l(n,"tileHeight",0),this.widthInPixels=l(n,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=l(n,"heightInPixels",this.height*this.tileHeight),this.format=l(n,"format",null),this.orientation=l(n,"orientation",g.ORTHOGONAL),this.renderOrder=l(n,"renderOrder","right-down"),this.version=l(n,"version","1"),this.properties=l(n,"properties",{}),this.layers=l(n,"layers",[]),this.images=l(n,"images",[]),this.objects=l(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=l(n,"collision",{}),this.tilesets=l(n,"tilesets",[]),this.imageCollections=l(n,"imageCollections",[]),this.tiles=l(n,"tiles",[]),this.hexSideLength=l(n,"hexSideLength",0),this.staggerAxis=l(n,"staggerAxis","y"),this.staggerIndex=l(n,"staggerIndex","odd")}});e.exports=s},48700:(e,y,t)=>{var a=t(83419),g=t(95540),l=new a({initialize:function(o){o===void 0&&(o={}),this.name=g(o,"name","object layer"),this.id=g(o,"id",0),this.opacity=g(o,"opacity",1),this.properties=g(o,"properties",{}),this.propertyTypes=g(o,"propertytypes",{}),this.type=g(o,"type","objectgroup"),this.visible=g(o,"visible",!0),this.objects=g(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});e.exports=l},6641:(e,y,t)=>{var a=t(91907),g=function(l){return l=l.toLowerCase(),l==="isometric"?a.ISOMETRIC:l==="staggered"?a.STAGGERED:l==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};e.exports=g},46177:(e,y,t)=>{var a=t(80341),g=t(2342),l=t(82593),s=t(46594),o=t(87021),n=function(i,h,r,f,c,d){var p;switch(h){case a.ARRAY_2D:p=g(i,r,f,c,d);break;case a.CSV:p=l(i,r,f,c,d);break;case a.TILED_JSON:p=s(i,r,d);break;case a.WELTMEISTER:p=o(i,r,d);break;default:console.warn("Unrecognized tilemap data format: "+h),p=null}return p};e.exports=n},2342:(e,y,t)=>{var a=t(80341),g=t(14977),l=t(87010),s=t(23029),o=function(n,i,h,r,f){for(var c=new g({tileWidth:h,tileHeight:r}),d=new l({name:n,tileWidth:h,tileHeight:r,format:a.ARRAY_2D,layers:[c]}),p=[],m=i.length,C=0,S=0;S<i.length;S++){p[S]=[];for(var E=i[S],D=0;D<E.length;D++){var M=parseInt(E[D],10);isNaN(M)||M===-1?p[S][D]=f?null:new s(c,-1,D,S,h,r):p[S][D]=new s(c,M,D,S,h,r)}C===0&&(C=E.length)}return d.width=c.width=C,d.height=c.height=m,d.widthInPixels=c.widthInPixels=C*h,d.heightInPixels=c.heightInPixels=m*r,c.data=p,d};e.exports=o},82593:(e,y,t)=>{var a=t(80341),g=t(2342),l=function(s,o,n,i,h){var r=o.trim().split(`
`).map(function(c){return c.split(",")}),f=g(s,r,n,i,h);return f.format=a.CSV,f};e.exports=l},6656:(e,y,t)=>{var a=t(14977),g=t(23029),l=function(s,o){for(var n=[],i=0;i<s.layer.length;i++){for(var h=s.layer[i],r=new a({name:h.name,width:h.width,height:h.height,tileWidth:h.tilesize,tileHeight:h.tilesize,visible:h.visible===1}),f=[],c=[],d=0;d<h.data.length;d++){for(var p=0;p<h.data[d].length;p++){var m=h.data[d][p]-1,C;m>-1?C=new g(r,m,p,d,h.tilesize,h.tilesize):C=o?null:new g(r,-1,p,d,h.tilesize,h.tilesize),f.push(C)}c.push(f),f=[]}r.data=c,n.push(r)}return n};e.exports=l},96483:(e,y,t)=>{var a=t(33629),g=function(l){for(var s=[],o=[],n=0;n<l.layer.length;n++){var i=l.layer[n],h=i.tilesetName;h!==""&&o.indexOf(h)===-1&&(o.push(h),s.push(new a(h,0,i.tilesize,i.tilesize,0,0)))}return s};e.exports=g},87021:(e,y,t)=>{var a=t(80341),g=t(87010),l=t(6656),s=t(96483),o=function(n,i,h){if(i.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+n),null;for(var r=0,f=0,c=0;c<i.layer.length;c++)i.layer[c].width>r&&(r=i.layer[c].width),i.layer[c].height>f&&(f=i.layer[c].height);var d=new g({width:r,height:f,name:n,tileWidth:i.layer[0].tilesize,tileHeight:i.layer[0].tilesize,format:a.WELTMEISTER});return d.layers=l(i,h),d.tilesets=s(i),d};e.exports=o},52833:(e,y,t)=>{e.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(e,y,t)=>{e.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(e,y,t)=>{var a=t(79291),g=function(l){for(var s,o,n,i,h,r=0;r<l.layers.length;r++){s=l.layers[r],i=null;for(var f=0;f<s.data.length;f++){h=s.data[f];for(var c=0;c<h.length;c++)o=h[c],!(o===null||o.index<0)&&(n=l.tiles[o.index][2],i=l.tilesets[n],o.width=i.tileWidth,o.height=i.tileHeight,i.tileProperties&&i.tileProperties[o.index-i.firstgid]&&(o.properties=a(o.properties,i.tileProperties[o.index-i.firstgid])))}}};e.exports=g},41868:e=>{var y=function(t){for(var a=window.atob(t),g=a.length,l=new Array(g/4),s=0;s<g;s+=4)l[s/4]=(a.charCodeAt(s)|a.charCodeAt(s+1)<<8|a.charCodeAt(s+2)<<16|a.charCodeAt(s+3)<<24)>>>0;return l};e.exports=y},84101:(e,y,t)=>{var a=t(33629),g=function(l){var s,o,n=[];for(s=0;s<l.imageCollections.length;s++)for(var i=l.imageCollections[s],h=i.images,r=0;r<h.length;r++){var f=h[r];o=new a(f.image,f.gid,i.imageWidth,i.imageHeight,0,0),o.updateTileData(i.imageWidth,i.imageHeight),l.tilesets.push(o)}for(s=0;s<l.tilesets.length;s++){o=l.tilesets[s];for(var c=o.tileMargin,d=o.tileMargin,p=0,m=0,C=0,S=o.firstgid;S<o.firstgid+o.total&&(n[S]=[c,d,s],c+=o.tileWidth+o.tileSpacing,p++,!(p===o.total||(m++,m===o.columns&&(c=o.tileMargin,d+=o.tileHeight+o.tileSpacing,m=0,C++,C===o.rows))));S++);}return n};e.exports=g},79677:(e,y,t)=>{var a=t(95540),g=function(l,s,o){if(!s)return{i:0,layers:l.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=s.x+a(s,"startx",0)*l.tilewidth+a(s,"offsetx",0),i=s.y+a(s,"starty",0)*l.tileheight+a(s,"offsety",0);return{i:0,layers:s.layers,name:o.name+s.name+"/",opacity:o.opacity*s.opacity,visible:o.visible&&s.visible,x:o.x+n,y:o.y+i}};e.exports=g},29920:e=>{var y=2147483648,t=1073741824,a=536870912,g=function(l){var s=!!(l&y),o=!!(l&t),n=!!(l&a);l=l&~(y|t|a);var i=0,h=!1;return s&&o&&n?(i=Math.PI/2,h=!0):s&&o&&!n?(i=Math.PI,h=!1):s&&!o&&n?(i=Math.PI/2,h=!1):s&&!o&&!n?(i=0,h=!0):!s&&o&&n?(i=3*Math.PI/2,h=!1):!s&&o&&!n?(i=Math.PI,h=!0):!s&&!o&&n?(i=3*Math.PI/2,h=!0):!s&&!o&&!n&&(i=0,h=!1),{gid:l,flippedHorizontal:s,flippedVertical:o,flippedAntiDiagonal:n,rotation:i,flipped:h}};e.exports=g},12635:(e,y,t)=>{var a=t(95540),g=t(79677),l=function(s){for(var o=[],n=[],i=g(s);i.i<i.layers.length||n.length>0;){if(i.i>=i.layers.length){if(n.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=n.pop();continue}var h=i.layers[i.i];if(i.i++,h.type!=="imagelayer"){if(h.type==="group"){var r=g(s,h,i);n.push(i),i=r}continue}var f=a(h,"offsetx",0)+a(h,"startx",0),c=a(h,"offsety",0)+a(h,"starty",0);o.push({name:i.name+h.name,image:h.image,x:i.x+f+h.x,y:i.y+c+h.y,alpha:i.opacity*h.opacity,visible:i.visible&&h.visible,properties:a(h,"properties",{})})}return o};e.exports=l},46594:(e,y,t)=>{var a=t(51233),g=t(84101),l=t(91907),s=t(62644),o=t(80341),n=t(6641),i=t(87010),h=t(12635),r=t(22611),f=t(28200),c=t(24619),d=function(p,m,C){var S=s(m),E=new i({width:S.width,height:S.height,name:p,tileWidth:S.tilewidth,tileHeight:S.tileheight,orientation:n(S.orientation),format:o.TILED_JSON,version:S.version,properties:S.properties,renderOrder:S.renderorder,infinite:S.infinite});E.orientation===l.HEXAGONAL&&(E.hexSideLength=S.hexsidelength,E.staggerAxis=S.staggeraxis,E.staggerIndex=S.staggerindex),E.layers=f(S,C),E.images=h(S);var D=c(S);return E.tilesets=D.tilesets,E.imageCollections=D.imageCollections,E.objects=r(S),E.tiles=g(E),a(E),E};e.exports=d},52205:(e,y,t)=>{var a=t(18254),g=t(29920),l=function(n){return{x:n.x,y:n.y}},s=["id","name","type","rotation","properties","visible","x","y","width","height"],o=function(n,i,h){i===void 0&&(i=0),h===void 0&&(h=0);var r=a(n,s);if(r.x+=i,r.y+=h,n.gid){var f=g(n.gid);r.gid=f.gid,r.flippedHorizontal=f.flippedHorizontal,r.flippedVertical=f.flippedVertical,r.flippedAntiDiagonal=f.flippedAntiDiagonal}else n.polyline?r.polyline=n.polyline.map(l):n.polygon?r.polygon=n.polygon.map(l):n.ellipse?r.ellipse=n.ellipse:n.text?r.text=n.text:n.point?r.point=!0:r.rectangle=!0;return r};e.exports=o},22611:(e,y,t)=>{var a=t(95540),g=t(52205),l=t(48700),s=t(79677),o=function(n){for(var i=[],h=[],r=s(n);r.i<r.layers.length||h.length>0;){if(r.i>=r.layers.length){if(h.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=h.pop();continue}var f=r.layers[r.i];if(r.i++,f.opacity*=r.opacity,f.visible=r.visible&&f.visible,f.type!=="objectgroup"){if(f.type==="group"){var c=s(n,f,r);h.push(r),r=c}continue}f.name=r.name+f.name;for(var d=r.x+a(f,"startx",0)+a(f,"offsetx",0),p=r.y+a(f,"starty",0)+a(f,"offsety",0),m=[],C=0;C<f.objects.length;C++){var S=g(f.objects[C],d,p);m.push(S)}var E=new l(f);E.objects=m,i.push(E)}return i};e.exports=o},28200:(e,y,t)=>{var a=t(41868),g=t(91907),l=t(79677),s=t(6641),o=t(95540),n=t(14977),i=t(29920),h=t(23029),r=function(f,c){for(var d=o(f,"infinite",!1),p=[],m=[],C=l(f);C.i<C.layers.length||m.length>0;){if(C.i>=C.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}C=m.pop();continue}var S=C.layers[C.i];if(C.i++,S.type!=="tilelayer"){if(S.type==="group"){var E=l(f,S,C);m.push(C),C=E}continue}if(S.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+S.name+"'");continue}else if(S.encoding&&S.encoding==="base64"){if(S.chunks)for(var D=0;D<S.chunks.length;D++)S.chunks[D].data=a(S.chunks[D].data);S.data&&(S.data=a(S.data)),delete S.encoding}var M,w,A,R,P=[],O=0;if(d){var b=o(S,"startx",0)+S.x,F=o(S,"starty",0)+S.y;M=new n({name:C.name+S.name,id:S.id,x:C.x+o(S,"offsetx",0)+b*f.tilewidth,y:C.y+o(S,"offsety",0)+F*f.tileheight,width:S.width,height:S.height,tileWidth:f.tilewidth,tileHeight:f.tileheight,alpha:C.opacity*S.opacity,visible:C.visible&&S.visible,properties:o(S,"properties",[]),orientation:s(f.orientation)}),M.orientation===g.HEXAGONAL&&(M.hexSideLength=f.hexsidelength,M.staggerAxis=f.staggeraxis,M.staggerIndex=f.staggerindex);for(var L=0;L<S.height;L++){P[L]=[null];for(var G=0;G<S.width;G++)P[L][G]=null}for(L=0,j=S.chunks.length;L<j;L++)for(var z=S.chunks[L],X=z.x-b,B=z.y-F,U=0,I=0,N=z.data.length;I<N;I++){var V=O+X,H=U+B;w=i(z.data[I]),w.gid>0?(A=new h(M,w.gid,V,H,f.tilewidth,f.tileheight),A.rotation=w.rotation,A.flipX=w.flipped,P[H][V]=A):(R=c?null:new h(M,-1,V,H,f.tilewidth,f.tileheight),P[H][V]=R),O++,O===z.width&&(U++,O=0)}}else{M=new n({name:C.name+S.name,id:S.id,x:C.x+o(S,"offsetx",0)+S.x,y:C.y+o(S,"offsety",0)+S.y,width:S.width,height:S.height,tileWidth:f.tilewidth,tileHeight:f.tileheight,alpha:C.opacity*S.opacity,visible:C.visible&&S.visible,properties:o(S,"properties",[]),orientation:s(f.orientation)}),M.orientation===g.HEXAGONAL&&(M.hexSideLength=f.hexsidelength,M.staggerAxis=f.staggeraxis,M.staggerIndex=f.staggerindex);for(var W=[],Y=0,j=S.data.length;Y<j;Y++)w=i(S.data[Y]),w.gid>0?(A=new h(M,w.gid,O,P.length,f.tilewidth,f.tileheight),A.rotation=w.rotation,A.flipX=w.flipped,W.push(A)):(R=c?null:new h(M,-1,O,P.length,f.tilewidth,f.tileheight),W.push(R)),O++,O===S.width&&(P.push(W),O=0,W=[])}M.data=P,p.push(M)}return p};e.exports=r},24619:(e,y,t)=>{var a=t(33629),g=t(16536),l=t(52205),s=t(57880),o=function(n){for(var i=[],h=[],r=null,f,c=0;c<n.tilesets.length;c++){var d=n.tilesets[c];if(d.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(d.image){var p=new a(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,void 0,void 0,d.tileoffset);if(n.version>1){var m=void 0,C=void 0;if(Array.isArray(d.tiles)){m=m||{},C=C||{};for(var S=0;S<d.tiles.length;S++){var E=d.tiles[S];if(E.properties){var D={};E.properties.forEach(function(L){D[L.name]=L.value}),C[E.id]=D}if(E.objectgroup&&((m[E.id]||(m[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var M=E.objectgroup.objects.map(function(L){return l(L)});m[E.id].objectgroup.objects=M}E.animation&&((m[E.id]||(m[E.id]={})).animation=E.animation),E.type&&((m[E.id]||(m[E.id]={})).type=E.type)}}Array.isArray(d.wangsets)&&(m=m||{},C=C||{},s(d.wangsets,m)),m&&(p.tileData=m,p.tileProperties=C)}else if(d.tileproperties&&(p.tileProperties=d.tileproperties),d.tiles){p.tileData=d.tiles;for(f in p.tileData){var w=p.tileData[f].objectgroup;if(w&&w.objects){var A=w.objects.map(function(L){return l(L)});p.tileData[f].objectgroup.objects=A}}}p.updateTileData(d.imagewidth,d.imageheight),i.push(p)}else{var R=new g(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,d.properties),P=0;for(S=0;S<d.tiles.length;S++){E=d.tiles[S];var O=E.image,b=parseInt(E.id,10),F=d.firstgid+b;R.addImage(F,O),P=Math.max(b,P)}R.maxId=P,h.push(R)}r&&(r.lastgid=d.firstgid-1),r=d}return{tilesets:i,imageCollections:h}};e.exports=o},57880:e=>{var y=function(t,a){for(var g=0;g<t.length;g++){var l=t[g],s=g;if(l.name&&l.name!==""&&(s=l.name),Array.isArray(l.wangtiles)&&l.wangtiles.length>0){var o={},n={},i,h,r;if(Array.isArray(l.edgecolors))for(i=0;i<l.edgecolors.length;i++)r=1+i,h=l.edgecolors[i],h.name!==""&&(o[r]=h.name);if(Array.isArray(l.cornercolors))for(i=0;i<l.cornercolors.length;i++)r=1+i,h=l.cornercolors[i],h.name!==""&&(n[r]=h.name);if(Array.isArray(l.colors))for(i=0;i<l.colors.length;i++)h=l.colors[i],r=1+i,h.name!==""&&(o[r]=n[r]=h.name);for(var f=[o,n,o,n,o,n,o,n],c=0;c<l.wangtiles.length;c++){var d=l.wangtiles[c],p=a[d.tileid]||(a[d.tileid]={});p=p.wangid||(p.wangid={});for(var m=[],C=0;C<Math.min(f.length,d.wangid.length);C++){if(h=d.wangid[C],h===0){m.push(void 0);continue}var S=f[C][h];if(S!==void 0){m.push(S);continue}m.push(h)}p[s]=m}}}};e.exports=y},96761:(e,y,t)=>{e.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(e,y,t)=>{var a=t(83419),g=t(37277),l=t(44594),s=t(94880),o=t(72905),n=new a({initialize:function(h){this.scene=h,this.systems=h.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],h.sys.events.once(l.BOOT,this.boot,this),h.sys.events.on(l.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var i=this.systems.events;i.on(l.PRE_UPDATE,this.preUpdate,this),i.on(l.UPDATE,this.update,this),i.once(l.SHUTDOWN,this.shutdown,this)},addEvent:function(i){var h;return i instanceof s?(h=i,this.removeEvent(h),h.elapsed=h.startAt,h.hasDispatched=!1,h.repeatCount=h.repeat===-1||h.loop?999999999999:h.repeat):h=new s(i),this._pendingInsertion.push(h),h},delayedCall:function(i,h,r,f){return this.addEvent({delay:i,callback:h,args:r,callbackScope:f})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(i){Array.isArray(i)||(i=[i]);for(var h=0;h<i.length;h++){var r=i[h];o(this._pendingRemoval,r),o(this._pendingInsertion,r),o(this._active,r)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var i=this._pendingRemoval.length,h=this._pendingInsertion.length;if(!(i===0&&h===0)){var r,f;for(r=0;r<i;r++){f=this._pendingRemoval[r];var c=this._active.indexOf(f);c>-1&&this._active.splice(c,1),f.destroy()}for(r=0;r<h;r++)f=this._pendingInsertion[r],this._active.push(f);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(i,h){if(this.now=i,!this.paused){h*=this.timeScale;for(var r=0;r<this._active.length;r++){var f=this._active[r];if(!f.paused&&(f.elapsed+=h*f.timeScale,f.elapsed>=f.delay)){var c=f.elapsed-f.delay;if(f.elapsed=f.delay,!f.hasDispatched&&f.callback&&(f.hasDispatched=!0,f.callback.apply(f.callbackScope,f.args)),f.repeatCount>0){if(f.repeatCount--,c>=f.delay)for(;c>=f.delay&&f.repeatCount>0;)f.callback&&f.callback.apply(f.callbackScope,f.args),c-=f.delay,f.repeatCount--;f.elapsed=c,f.hasDispatched=!1}else f.hasDispatched&&this._pendingRemoval.push(f)}}}},shutdown:function(){var i;for(i=0;i<this._pendingInsertion.length;i++)this._pendingInsertion[i].destroy();for(i=0;i<this._active.length;i++)this._active[i].destroy();for(i=0;i<this._pendingRemoval.length;i++)this._pendingRemoval[i].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var h=this.systems.events;h.off(l.PRE_UPDATE,this.preUpdate,this),h.off(l.UPDATE,this.update,this),h.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});g.register("Clock",n,"time"),e.exports=n},96120:(e,y,t)=>{var a=t(83419),g=t(50792),l=t(39429),s=t(95540),o=t(44594),n=t(89809),i=new a({Extends:g,initialize:function(r,f){g.call(this),this.scene=r,this.systems=r.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var c=this.systems.events;c.on(o.PRE_UPDATE,this.preUpdate,this),c.on(o.UPDATE,this.update,this),c.once(o.SHUTDOWN,this.destroy,this),f&&this.add(f)},preUpdate:function(h,r){this.paused||(this.elapsed+=r)},update:function(){if(!(this.paused||this.complete)){var h,r=this.events,f=!1,c=this.systems,d;for(h=0;h<r.length;h++){var p=r[h];if(!p.complete&&p.time<=this.elapsed){if(p.complete=!0,this.totalComplete++,d=p.target?p.target:this,p.if&&!p.if.call(d,p))continue;if(p.once&&(f=!0),p.set&&p.target)for(var m in p.set)p.target[m]=p.set[m];this.iteration&&p.repeat++,p.loop&&p.repeat&&p.loop.call(d),p.tween&&c.tweens.add(p.tween),p.sound&&(typeof p.sound=="string"?c.sound.play(p.sound):c.sound.play(p.sound.key,p.sound.config)),p.event&&this.emit(p.event,d),p.run&&p.run.call(d),p.stop&&this.stop()}}if(f)for(h=0;h<r.length;h++)r[h].complete&&r[h].once&&(r.splice(h,1),h--);this.totalComplete>=r.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(n.COMPLETE,this)}},play:function(h){return h===void 0&&(h=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,h&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(h){return(h===void 0||h===!0)&&(h=-1),h===!1&&(h=0),this.loop=h,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(h){h===void 0&&(h=!1),this.elapsed=0,h||(this.iteration=0);for(var r=0;r<this.events.length;r++)this.events[r].complete=!1,h||(this.events[r].repeat=0);return this.play(!1)},add:function(h){Array.isArray(h)||(h=[h]);var r=this.events,f=0;r.length>0&&(f=r[r.length-1].time);for(var c=0;c<h.length;c++){var d=h[c],p=s(d,"at",0),m=s(d,"in",null);m!==null&&(p=this.elapsed+m);var C=s(d,"from",null);C!==null&&(p=f+C),r.push({complete:!1,time:p,repeat:0,if:s(d,"if",null),run:s(d,"run",null),loop:s(d,"loop",null),event:s(d,"event",null),target:s(d,"target",null),set:s(d,"set",null),tween:s(d,"tween",null),sound:s(d,"sound",null),once:s(d,"once",!1),stop:s(d,"stop",!1)}),f=p}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var h=Math.min(this.totalComplete,this.events.length);return h/this.events.length},destroy:function(){var h=this.systems.events;h.off(o.PRE_UPDATE,this.preUpdate,this),h.off(o.UPDATE,this.update,this),h.off(o.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});l.register("timeline",function(h){return new i(this.scene,h)}),e.exports=i},94880:(e,y,t)=>{var a=t(83419),g=t(95540),l=new a({initialize:function(o){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(o)},reset:function(s){if(this.delay=g(s,"delay",0),this.repeat=g(s,"repeat",0),this.loop=g(s,"loop",!1),this.callback=g(s,"callback",void 0),this.callbackScope=g(s,"callbackScope",this),this.args=g(s,"args",[]),this.timeScale=g(s,"timeScale",1),this.startAt=g(s,"startAt",0),this.paused=g(s,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var s=this.delay+this.delay*this.repeat,o=this.elapsed+this.delay*(this.repeat-this.repeatCount);return o/s}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(s){s===void 0&&(s=!1),this.elapsed=this.delay,this.hasDispatched=!s,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});e.exports=l},35945:e=>{e.exports="complete"},89809:(e,y,t)=>{e.exports={COMPLETE:t(35945)}},90291:(e,y,t)=>{e.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(e,y,t)=>{var a=t(72905),g=t(83419),l=t(43491),s=t(88032),o=t(37277),n=t(44594),i=t(93109),h=t(86081),r=t(8357),f=t(43960),c=t(26012),d=new g({initialize:function(m){this.scene=m,this.events=m.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(n.UPDATE,this.update,this),this.events.once(n.SHUTDOWN,this.shutdown,this)},create:function(p){Array.isArray(p)||(p=[p]);for(var m=[],C=0;C<p.length;C++){var S=p[C];S instanceof h||S instanceof f?m.push(S):Array.isArray(S.tweens)?m.push(c(this,S)):m.push(r(this,S))}return m.length===1?m[0]:m},add:function(p){var m=p,C=this.tweens;return m instanceof h||m instanceof f||(Array.isArray(m.tweens)?m=c(this,m):m=r(this,m)),C.push(m.reset()),m},addMultiple:function(p){for(var m,C=[],S=this.tweens,E=0;E<p.length;E++)m=p[E],m instanceof h||m instanceof f||(Array.isArray(m.tweens)?m=c(this,m):m=r(this,m)),S.push(m.reset()),C.push(m);return C},chain:function(p){var m=c(this,p);return this.tweens.push(m.init()),m},getChainedTweens:function(p){return p.getChainedTweens()},has:function(p){return this.tweens.indexOf(p)>-1},existing:function(p){return this.has(p)||this.tweens.push(p.reset()),this},addCounter:function(p){var m=s(this,p);return this.tweens.push(m.reset()),m},stagger:function(p,m){return i(p,m)},setLagSmooth:function(p,m){return p===void 0&&(p=1/1e-8),m===void 0&&(m=0),this.maxLag=p,this.lagSkip=Math.min(m,this.maxLag),this},setFps:function(p){return p===void 0&&(p=240),this.gap=1e3/p,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(p){var m=Date.now()-this.prevTime;m>this.maxLag&&(this.startTime+=m-this.lagSkip),this.prevTime+=m;var C=this.prevTime-this.startTime,S=C-this.nextTime,E=C-this.time*1e3;return S>0||p?(C/=1e3,this.time=C,this.nextTime+=S+(S>=this.gap?4:this.gap-S)):E=0,E},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(p){p===void 0&&(p=!1);var m=this.getDelta(p);if(!(m<=0)){this.processing=!0;var C,S,E=[],D=this.tweens;for(C=0;C<D.length;C++)S=D[C],S.update(m)&&E.push(S);var M=E.length;if(M&&D.length>0){for(C=0;C<M;C++){S=E[C];var w=D.indexOf(S);w>-1&&(S.isPendingRemove()||S.isDestroyed())&&(D.splice(w,1),S.destroy())}E.length=0}this.processing=!1}},remove:function(p){return this.processing?p.setPendingRemoveState():(a(this.tweens,p),p.setRemovedState()),this},reset:function(p){return this.existing(p),p.seek(),p.setActiveState(),this},makeActive:function(p){return this.existing(p),p.setActiveState(),this},each:function(p,m){var C,S=[null];for(C=1;C<arguments.length;C++)S.push(arguments[C]);return this.tweens.forEach(function(E){S[0]=E,p.apply(m,S)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(p){var m=[],C=this.tweens;Array.isArray(p)?p=l(p):p=[p];for(var S=p.length,E=0;E<C.length;E++)for(var D=C[E],M=0;M<S;M++)!D.isDestroyed()&&D.hasTarget(p[M])&&m.push(D);return m},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(p){return this.timeScale=p,this},isTweening:function(p){for(var m=this.tweens,C,S=0;S<m.length;S++)if(C=m[S],C.isPlaying()&&C.hasTarget(p))return!0;return!1},killAll:function(){for(var p=this.processing?this.getTweens():this.tweens,m=0;m<p.length;m++)p[m].destroy();return this.processing||(p.length=0),this},killTweensOf:function(p){for(var m=this.getTweensOf(p),C=0;C<m.length;C++)m[C].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(n.UPDATE,this.update,this),this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.events=null}});o.register("TweenManager",d,"tweens"),e.exports=d},57355:e=>{var y=function(t,a,g){return t&&t.hasOwnProperty(a)?t[a]:g};e.exports=y},6113:(e,y,t)=>{var a=t(62640),g=t(35355),l=function(s,o){var n=a.Power0;if(typeof s=="string")if(a.hasOwnProperty(s))n=a[s];else{var i="";if(s.indexOf(".")){i=s.substring(s.indexOf(".")+1);var h=i.toLowerCase();h==="in"?i="easeIn":h==="out"?i="easeOut":h==="inout"&&(i="easeInOut")}s=g(s.substring(0,s.indexOf(".")+1)+i),a.hasOwnProperty(s)&&(n=a[s])}else typeof s=="function"&&(n=s);if(!o)return n;var r=o.slice(0);return r.unshift(0),function(f){return r[0]=f,n.apply(this,r)}};e.exports=l},91389:(e,y,t)=>{var a=t(89318),g=t(77259),l=t(28392),s={bezier:a,catmull:g,catmullrom:g,linear:l},o=function(n){if(n===null)return null;var i=s.linear;return typeof n=="string"?s.hasOwnProperty(n)&&(i=s[n]):typeof n=="function"&&(i=n),i};e.exports=o},55292:e=>{var y=function(t,a,g){var l;if(t.hasOwnProperty(a)){var s=typeof t[a];s==="function"?l=function(o,n,i,h,r,f){return t[a](o,n,i,h,r,f)}:l=function(){return t[a]}}else typeof g=="function"?l=g:l=function(){return g};return l};e.exports=y},82985:(e,y,t)=>{var a=t(81076),g=function(l){var s,o=[];if(l.hasOwnProperty("props"))for(s in l.props)s.substring(0,1)!=="_"&&o.push({key:s,value:l.props[s]});else for(s in l)a.indexOf(s)===-1&&s.substring(0,1)!=="_"&&o.push({key:s,value:l[s]});return o};e.exports=g},62329:(e,y,t)=>{var a=t(35154),g=function(l){var s=a(l,"targets",null);return s===null||(typeof s=="function"&&(s=s.call()),Array.isArray(s)||(s=[s])),s};e.exports=g},17777:(e,y,t)=>{var a=t(30976),g=t(99472);function l(h){return!!h.getActive&&typeof h.getActive=="function"}function s(h){return!!h.getStart&&typeof h.getStart=="function"}function o(h){return!!h.getEnd&&typeof h.getEnd=="function"}function n(h){return s(h)||o(h)||l(h)}var i=function(h,r){var f,c=function(z,X,B){return B},d=function(z,X,B){return B},p=null,m=typeof r;if(m==="number")c=function(){return r};else if(Array.isArray(r))d=function(){return r[0]},c=function(){return r[r.length-1]};else if(m==="string"){var C=r.toLowerCase(),S=C.substring(0,6)==="random",E=C.substring(0,3)==="int";if(S||E){var D=C.indexOf("("),M=C.indexOf(")"),w=C.indexOf(",");if(D&&M&&w){var A=parseFloat(C.substring(D+1,w)),R=parseFloat(C.substring(w+1,M));S?c=function(){return g(A,R)}:c=function(){return a(A,R)}}else throw new Error("invalid random() format")}else{C=C[0];var P=parseFloat(r.substr(2));switch(C){case"+":c=function(z,X,B){return B+P};break;case"-":c=function(z,X,B){return B-P};break;case"*":c=function(z,X,B){return B*P};break;case"/":c=function(z,X,B){return B/P};break;default:c=function(){return parseFloat(r)}}}}else if(m==="function")c=r;else if(m==="object")if(n(r))l(r)&&(p=r.getActive),o(r)&&(c=r.getEnd),s(r)&&(d=r.getStart);else if(r.hasOwnProperty("value"))f=i(h,r.value);else{var O=r.hasOwnProperty("to"),b=r.hasOwnProperty("from"),F=r.hasOwnProperty("start");if(O&&(b||F)){if(f=i(h,r.to),F){var L=i(h,r.start);f.getActive=L.getEnd}if(b){var G=i(h,r.from);f.getStart=G.getEnd}}}return f||(f={getActive:p,getEnd:c,getStart:d}),f};e.exports=i},88032:(e,y,t)=>{var a=t(70402),g=t(69902),l=t(23568),s=t(57355),o=t(6113),n=t(55292),i=t(35154),h=t(17777),r=t(269),f=t(86081),c=function(d,p,m){if(p instanceof f)return p.parent=d,p;m===void 0?m=g:m=r(g,m);var C=i(p,"from",0),S=i(p,"to",1),E=[{value:C}],D=i(p,"delay",m.delay),M=i(p,"easeParams",m.easeParams),w=i(p,"ease",m.ease),A=h("value",S),R=new f(d,E),P=R.add(0,"value",A.getEnd,A.getStart,A.getActive,o(i(p,"ease",w),i(p,"easeParams",M)),n(p,"delay",D),i(p,"duration",m.duration),s(p,"yoyo",m.yoyo),i(p,"hold",m.hold),i(p,"repeat",m.repeat),i(p,"repeatDelay",m.repeatDelay),!1,!1);P.start=C,P.current=C,R.completeDelay=l(p,"completeDelay",0),R.loop=Math.round(l(p,"loop",0)),R.loopDelay=Math.round(l(p,"loopDelay",0)),R.paused=s(p,"paused",!1),R.persist=s(p,"persist",!1),R.callbackScope=i(p,"callbackScope",R);for(var O=a.TYPES,b=0;b<O.length;b++){var F=O[b],L=i(p,F,!1);if(L){var G=i(p,F+"Params",[]);R.setCallback(F,L,G)}}return R};e.exports=c},93109:(e,y,t)=>{var a=t(6113),g=t(35154),l=t(36383),s=function(o,n){n===void 0&&(n={});var i,h=g(n,"start",0),r=g(n,"ease",null),f=g(n,"grid",null),c=g(n,"from",0),d=c==="first",p=c==="center",m=c==="last",C=typeof c=="number",S=Array.isArray(o),E=parseFloat(S?o[0]:o),D=S?parseFloat(o[1]):0,M=Math.max(E,D);if(S&&(h+=E),f){var w=f[0],A=f[1],R=0,P=0,O=0,b=0,F=[];m?(R=w-1,P=A-1):C?(R=c%w,P=Math.floor(c/w)):p&&(R=(w-1)/2,P=(A-1)/2);for(var L=l.MIN_SAFE_INTEGER,G=0;G<A;G++){F[G]=[];for(var z=0;z<w;z++){O=R-z,b=P-G;var X=Math.sqrt(O*O+b*b);X>L&&(L=X),F[G][z]=X}}}var B=r?a(r):null;return f?i=function(U,I,N,V){var H=0,W=V%w,Y=Math.floor(V/w);W>=0&&W<w&&Y>=0&&Y<A&&(H=F[Y][W]);var j;if(S){var k=D-E;B?j=H/L*k*B(H/L):j=H/L*k}else B?j=H*E*B(H/L):j=H*E;return j+h}:i=function(U,I,N,V,H){H--;var W;d?W=V:p?W=Math.abs(H/2-V):m?W=H-V:C&&(W=Math.abs(c-V));var Y;if(S){var j;p?j=(D-E)/H*(W*2):j=(D-E)/H*W,B?Y=j*B(W/H):Y=j}else B?Y=H*M*B(W/H):Y=W*E;return Y+h},i};e.exports=s},8357:(e,y,t)=>{var a=t(70402),g=t(69902),l=t(23568),s=t(57355),o=t(6113),n=t(91389),i=t(55292),h=t(82985),r=t(62329),f=t(35154),c=t(17777),d=t(269),p=t(86081),m=function(C,S,E){if(S instanceof p)return S.parent=C,S;E===void 0?E=g:E=d(g,E);var D=r(S);!D&&E.targets&&(D=E.targets);for(var M=h(S),w=f(S,"delay",E.delay),A=f(S,"duration",E.duration),R=f(S,"easeParams",E.easeParams),P=f(S,"ease",E.ease),O=f(S,"hold",E.hold),b=f(S,"repeat",E.repeat),F=f(S,"repeatDelay",E.repeatDelay),L=s(S,"yoyo",E.yoyo),G=s(S,"flipX",E.flipX),z=s(S,"flipY",E.flipY),X=f(S,"interpolation",E.interpolation),B=function(Z,K,J,Q){if(J==="texture"){var _=Q,rt=void 0;Array.isArray(Q)?(_=Q[0],rt=Q[1]):Q.hasOwnProperty("value")?(_=Q.value,Array.isArray(Q.value)?(_=Q.value[0],rt=Q.value[1]):typeof Q.value=="string"&&(_=Q.value)):typeof Q=="string"&&(_=Q),Z.addFrame(K,_,rt,i(Q,"delay",w),f(Q,"duration",A),f(Q,"hold",O),f(Q,"repeat",b),f(Q,"repeatDelay",F),s(Q,"flipX",G),s(Q,"flipY",z))}else{var ut=c(J,Q),ot=n(f(Q,"interpolation",X));Z.add(K,J,ut.getEnd,ut.getStart,ut.getActive,o(f(Q,"ease",P),f(Q,"easeParams",R)),i(Q,"delay",w),f(Q,"duration",A),s(Q,"yoyo",L),f(Q,"hold",O),f(Q,"repeat",b),f(Q,"repeatDelay",F),s(Q,"flipX",G),s(Q,"flipY",z),ot,ot?Q:null)}},U=new p(C,D),I=0;I<M.length;I++)for(var N=M[I].key,V=M[I].value,H=0;H<D.length;H++)N==="scale"&&!D[H].hasOwnProperty("scale")?(B(U,H,"scaleX",V),B(U,H,"scaleY",V)):B(U,H,N,V);U.completeDelay=l(S,"completeDelay",0),U.loop=Math.round(l(S,"loop",0)),U.loopDelay=Math.round(l(S,"loopDelay",0)),U.paused=s(S,"paused",!1),U.persist=s(S,"persist",!1),U.callbackScope=f(S,"callbackScope",U);for(var W=a.TYPES,Y=0;Y<W.length;Y++){var j=W[Y],k=f(S,j,!1);if(k){var $=f(S,j+"Params",[]);U.setCallback(j,k,$)}}return U};e.exports=m},26012:(e,y,t)=>{var a=t(70402),g=t(23568),l=t(57355),s=t(62329),o=t(35154),n=t(8357),i=t(43960),h=function(r,f){if(f instanceof i)return f.parent=r,f;var c=new i(r);c.startDelay=o(f,"delay",0),c.completeDelay=g(f,"completeDelay",0),c.loop=Math.round(g(f,"loop",o(f,"repeat",0))),c.loopDelay=Math.round(g(f,"loopDelay",o(f,"repeatDelay",0))),c.paused=l(f,"paused",!1),c.persist=l(f,"persist",!1),c.callbackScope=o(f,"callbackScope",c);var d,p=a.TYPES;for(d=0;d<p.length;d++){var m=p[d],C=o(f,m,!1);if(C){var S=o(f,m+"Params",[]);c.setCallback(m,C,S)}}var E=o(f,"tweens",null);if(Array.isArray(E)){var D=[],M=s(f),w=void 0;for(M&&(w={targets:M}),d=0;d<E.length;d++)D.push(n(c,E[d],w));c.add(D)}return c};e.exports=h},30231:(e,y,t)=>{e.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:e=>{e.exports="active"},98540:e=>{e.exports="complete"},67233:e=>{e.exports="loop"},2859:e=>{e.exports="pause"},98336:e=>{e.exports="repeat"},25764:e=>{e.exports="resume"},32193:e=>{e.exports="start"},84371:e=>{e.exports="stop"},70766:e=>{e.exports="update"},55659:e=>{e.exports="yoyo"},842:(e,y,t)=>{e.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(e,y,t)=>{var a={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};e.exports=a},70402:(e,y,t)=>{var a=t(83419),g=t(50792),l=t(842),s=t(86353),o=new a({Extends:g,initialize:function(i){g.call(this),this.parent=i,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(n){return this.timeScale=n,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(l.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(l.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(l.TWEEN_COMPLETE,"onComplete")},complete:function(n){return n===void 0&&(n=0),n?(this.setCompleteDelayState(),this.countdown=n):this.onCompleteHandler(),this},completeAfterLoop:function(n){return n===void 0&&(n=0),this.loopCounter>n&&(this.loopCounter=n),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(l.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(n){this.countdown-=n,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(n){return this.countdown-=n,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(l.TWEEN_START,"onStart"),n=0),n},updateCompleteDelay:function(n){this.countdown-=n,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(n,i,h){return h===void 0&&(h=[]),this.callbacks.hasOwnProperty(n)&&(this.callbacks[n]={func:i,params:h}),this},setPendingState:function(){this.state=s.PENDING},setActiveState:function(){this.state=s.ACTIVE},setLoopDelayState:function(){this.state=s.LOOP_DELAY},setCompleteDelayState:function(){this.state=s.COMPLETE_DELAY},setStartDelayState:function(){this.state=s.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=s.PENDING_REMOVE},setRemovedState:function(){this.state=s.REMOVED},setFinishedState:function(){this.state=s.FINISHED},setDestroyedState:function(){this.state=s.DESTROYED},isPending:function(){return this.state===s.PENDING},isActive:function(){return this.state===s.ACTIVE},isLoopDelayed:function(){return this.state===s.LOOP_DELAY},isCompleteDelayed:function(){return this.state===s.COMPLETE_DELAY},isStartDelayed:function(){return this.state===s.START_DELAY},isPendingRemove:function(){return this.state===s.PENDING_REMOVE},isRemoved:function(){return this.state===s.REMOVED},isFinished:function(){return this.state===s.FINISHED},isDestroyed:function(){return this.state===s.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(n){n.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});o.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],e.exports=o},95042:(e,y,t)=>{var a=t(83419),g=t(842),l=t(86353),s=new a({initialize:function(n,i,h,r,f,c,d,p,m,C){this.tween=n,this.targetIndex=i,this.duration=r,this.totalDuration=0,this.delay=0,this.getDelay=h,this.yoyo=f,this.hold=c,this.repeat=d,this.repeatDelay=p,this.repeatCounter=0,this.flipX=m,this.flipY=C,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(o){o===void 0&&(o=this.current),this.tween.targets[this.targetIndex][this.key]=o},setCreatedState:function(){this.state=l.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=l.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=l.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=l.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=l.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=l.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=l.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=l.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===l.CREATED},isDelayed:function(){return this.state===l.DELAY},isPendingRender:function(){return this.state===l.PENDING_RENDER},isPlayingForward:function(){return this.state===l.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===l.PLAYING_BACKWARD},isHolding:function(){return this.state===l.HOLD_DELAY},isRepeating:function(){return this.state===l.REPEAT_DELAY},isComplete:function(){return this.state===l.COMPLETE},setStateFromEnd:function(o){this.yoyo?this.onRepeat(o,!0,!0):this.repeatCounter>0?this.onRepeat(o,!0,!1):this.setCompleteState()},setStateFromStart:function(o){this.repeatCounter>0?this.onRepeat(o,!1):this.setCompleteState()},reset:function(){var o=this.tween,n=o.totalTargets,i=this.targetIndex,h=o.targets[i],r=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(h,r,0,i,n,o),this.repeatCounter=this.repeat===-1?l.MAX:this.repeat,this.setPendingRenderState();var f=this.duration+this.hold;this.yoyo&&(f+=this.duration);var c=f+this.repeatDelay;this.totalDuration=this.delay+f,this.repeat===-1?(this.totalDuration+=c*l.MAX,o.isInfinite=!0):this.repeat>0&&(this.totalDuration+=c*this.repeat),this.totalDuration>o.duration&&(o.duration=this.totalDuration),this.delay<o.startDelay&&(o.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(o,n,i){var h=this.tween,r=h.totalTargets,f=this.targetIndex,c=h.targets[f],d=this.key,p=d!=="texture";if(this.elapsed=o,this.progress=o/this.duration,this.flipX&&c.toggleFlipX(),this.flipY&&c.toggleFlipY(),p&&(n||i)&&(this.start=this.getStartValue(c,d,this.start,f,r,h)),i){this.setPlayingBackwardState(),this.dispatchEvent(g.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,p&&(this.end=this.getEndValue(c,d,this.start,f,r,h)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-o,p&&(this.current=this.start,c[d]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(g.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});e.exports=s},69902:e=>{var y={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};e.exports=y},81076:e=>{e.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(e,y,t)=>{var a=t(70402),g=t(83419),l=t(842),s=t(44603),o=t(39429),n=t(36383),i=t(86353),h=t(48177),r=t(42220),f=new g({Extends:a,initialize:function(d,p){a.call(this,d),this.targets=p,this.totalTargets=p.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(c,d,p,m,C,S,E,D,M,w,A,R,P,O,b,F){var L=new h(this,c,d,p,m,C,S,E,D,M,w,A,R,P,O,b,F);return this.totalData=this.data.push(L),L},addFrame:function(c,d,p,m,C,S,E,D,M,w){var A=new r(this,c,d,p,m,C,S,E,D,M,w);return this.totalData=this.data.push(A),A},getValue:function(c){c===void 0&&(c=0);var d=null;return this.data&&(d=this.data[c].current),d},hasTarget:function(c){return this.targets&&this.targets.indexOf(c)!==-1},updateTo:function(c,d,p){if(p===void 0&&(p=!1),c!=="texture")for(var m=0;m<this.totalData;m++){var C=this.data[m];C.key===c&&(C.isPlayingForward()||C.isPlayingBackward())&&(C.end=d,p&&(C.start=C.current))}return this},restart:function(){switch(this.state){case i.REMOVED:case i.FINISHED:this.seek(),this.parent.makeActive(this);break;case i.PENDING:case i.PENDING_REMOVE:this.parent.reset(this);break;case i.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(c,d,p){if(c===void 0&&(c=0),d===void 0&&(d=16.6),p===void 0&&(p=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;p||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive");var m=this.paused;if(this.paused=!1,c>0){for(var C=Math.floor(c/d),S=c-C*d,E=0;E<C;E++)this.update(d);S>0&&this.update(S)}return this.paused=m,this.isSeeking=!1,this},initTweenData:function(c){c===void 0&&(c=!1),this.duration=0,this.startDelay=n.MAX_SAFE_INTEGER;for(var d=this.data,p=0;p<this.totalData;p++)d[p].reset(c);this.duration=Math.max(this.duration,.01);var m=this.duration,C=this.completeDelay,S=this.loopCounter,E=this.loopDelay;S>0?this.totalDuration=m+C+(m+E)*S:this.totalDuration=m+C},reset:function(c){return c===void 0&&(c=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=i.MAX),c||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive")),this},update:function(c){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(c*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(c),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(c),!1;this.hasStarted||(this.startDelay-=c,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(l.TWEEN_START,"onStart"),c=0));var d=!1;if(this.isActive())for(var p=this.data,m=0;m<this.totalData;m++)p[m].update(c)&&(d=!0);this.elapsed+=c,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=c,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),d||this.nextState();var C=this.isPendingRemove();return C&&this.persist&&(this.setFinishedState(),C=!1),C},forward:function(c){return this.update(c),this},rewind:function(c){return this.update(-c),this},dispatchEvent:function(c,d){if(!this.isSeeking){this.emit(c,this,this.targets);var p=this.callbacks[d];p&&p.func.apply(this.callbackScope,[this,this.targets].concat(p.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});o.register("tween",function(c){return this.scene.sys.tweens.add(c)}),s.register("tween",function(c){return this.scene.sys.tweens.create(c)}),e.exports=f},43960:(e,y,t)=>{var a=t(72905),g=t(70402),l=t(83419),s=t(842),o=t(44603),n=t(39429),i=t(86353),h=new l({Extends:g,initialize:function(f){g.call(this,f),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?i.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive"),this},add:function(r){var f=this.parent.create(r);Array.isArray(f)||(f=[f]);for(var c=this.data,d=0;d<f.length;d++){var p=f[d];p.parent=this,c.push(p.reset())}return this.totalData=c.length,this},remove:function(r){return a(this.data,r),r.setRemovedState(),r===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(r){for(var f=this.data,c=0;c<this.totalData;c++)if(f[c].hasTarget(r))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(r){return r.seek(),r.setActiveState(),this},makeActive:function(r){return r.reset(),r.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var r=this.data,f=this.totalData,c=0;c<f;c++)r[c].reset(!1);this.currentIndex=0,this.currentTween=r[0]},update:function(r){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;r*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(r):this.isCompleteDelayed()?this.updateCompleteDelay(r):this.isStartDelayed()&&(r=this.updateStartCountdown(r));var f=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(r)&&this.nextTween()&&this.nextState(),f=this.isPendingRemove(),f&&this.persist&&(this.setFinishedState(),f=!1)),f},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(r){this.currentIndex=r,this.currentTween=this.data[r],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(s.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(r,f){this.emit(r,this);var c=this.callbacks[f];c&&c.func.apply(this.callbackScope,[this].concat(c.params))},destroy:function(){g.prototype.destroy.call(this),this.currentTween=null}});n.register("tweenchain",function(r){return this.scene.sys.tweens.chain(r)}),o.register("tweenchain",function(r){return this.scene.sys.tweens.create(r)}),e.exports=h},48177:(e,y,t)=>{var a=t(95042),g=t(45319),l=t(83419),s=t(842),o=new l({Extends:a,initialize:function(i,h,r,f,c,d,p,m,C,S,E,D,M,w,A,R,P){a.call(this,i,h,m,C,S,E,D,M,w,A),this.key=r,this.getActiveValue=d,this.getEndValue=f,this.getStartValue=c,this.ease=p,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=R,this.interpolationData=P},reset:function(n){a.prototype.reset.call(this);var i=this.tween.targets[this.targetIndex],h=this.key;n&&(i[h]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(i[h]=this.getActiveValue(i,h,0))},update:function(n){var i=this.tween,h=i.totalTargets,r=this.targetIndex,f=i.targets[r],c=this.key;if(!f)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=n,this.elapsed<=0&&(this.elapsed=0,n=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(f,c,f[c],r,h,i),this.end=this.getEndValue(f,c,this.start,r,h,i),this.current=this.start,f[c]=this.start,this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),p=this.isPlayingBackward();if(d||p){var m=this.elapsed,C=this.duration,S=0,E=!1;m+=n,m>=C?(S=m-C,m=C,E=!0):m<0&&(m=0);var D=g(m/C,0,1);if(this.elapsed=m,this.progress=D,this.previous=this.current,E)d?(this.current=this.end,f[c]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(S)):(this.current=this.start,f[c]=this.start,this.setStateFromStart(S));else{d||(D=1-D);var M=this.ease(D);this.interpolation?this.current=this.interpolation(this.interpolationData,M):this.current=this.start+(this.end-this.start)*M,f[c]=this.current}this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(n,i){var h=this.tween;if(!h.isSeeking){var r=h.targets[this.targetIndex],f=this.key,c=this.current,d=this.previous;h.emit(n,h,f,r,c,d);var p=h.callbacks[i];p&&p.func.apply(h.callbackScope,[h,r,f,c,d].concat(p.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});e.exports=o},42220:(e,y,t)=>{var a=t(95042),g=t(45319),l=t(83419),s=t(842),o=new l({Extends:a,initialize:function(i,h,r,f,c,d,p,m,C,S,E){a.call(this,i,h,c,d,!1,p,m,C,S,E),this.key="texture",this.startTexture=null,this.endTexture=r,this.startFrame=null,this.endFrame=f,this.yoyo=m!==0},reset:function(n){a.prototype.reset.call(this);var i=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=i.texture.key,this.startFrame=i.frame.name),n&&i.setTexture(this.startTexture,this.startFrame)},update:function(n){var i=this.tween,h=this.targetIndex,r=i.targets[h];if(!r)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=n,this.elapsed<=0&&(this.elapsed=0,n=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&r.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var f=this.isPlayingForward(),c=this.isPlayingBackward();if(f||c){var d=this.elapsed,p=this.duration,m=0,C=!1;d+=n,d>=p?(m=d-p,d=p,C=!0):d<0&&(d=0);var S=g(d/p,0,1);this.elapsed=d,this.progress=S,C&&(f?(r.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(r.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(m))),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(n,i){var h=this.tween;if(!h.isSeeking){var r=h.targets[this.targetIndex],f=this.key;h.emit(n,h,f,r);var c=h.callbacks[i];c&&c.func.apply(h.callbackScope,[h,r,f].concat(c.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});e.exports=o},86353:e=>{var y={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};e.exports=y},83419:e=>{function y(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}function t(o,n,i){var h=i?o[n]:Object.getOwnPropertyDescriptor(o,n);return!i&&h.value&&typeof h.value=="object"&&(h=h.value),h&&y(h)?(typeof h.enumerable>"u"&&(h.enumerable=!0),typeof h.configurable>"u"&&(h.configurable=!0),h):!1}function a(o,n){var i=Object.getOwnPropertyDescriptor(o,n);return i?(i.value&&typeof i.value=="object"&&(i=i.value),i.configurable===!1):!1}function g(o,n,i,h){for(var r in n)if(n.hasOwnProperty(r)){var f=t(n,r,i);if(f!==!1){var c=h||o;if(a(c.prototype,r)){if(s.ignoreFinals)continue;throw new Error("cannot override final property '"+r+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(o.prototype,r,f)}else o.prototype[r]=n[r]}}function l(o,n){if(n){Array.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++)g(o,n[i].prototype||n[i])}}function s(o){o||(o={});var n,i;if(o.initialize){if(typeof o.initialize!="function")throw new Error("initialize must be a function");n=o.initialize,delete o.initialize}else if(o.Extends){var h=o.Extends;n=function(){h.apply(this,arguments)}}else n=function(){};o.Extends?(n.prototype=Object.create(o.Extends.prototype),n.prototype.constructor=n,i=o.Extends,delete o.Extends):n.prototype.constructor=n;var r=null;return o.Mixins&&(r=o.Mixins,delete o.Mixins),l(n,r),g(n,o,!0,i),n}s.extend=g,s.mixin=l,s.ignoreFinals=!1,e.exports=s},29747:e=>{var y=function(){};e.exports=y},20242:e=>{var y=function(){return null};e.exports=y},71146:e=>{var y=function(t,a,g,l,s){if(s===void 0&&(s=t),g>0){var o=g-t.length;if(o<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.push(a),l&&l.call(s,a),a):null;for(var n=a.length-1;n>=0;)t.indexOf(a[n])!==-1&&a.splice(n,1),n--;if(n=a.length,n===0)return null;g>0&&n>o&&(a.splice(o),n=o);for(var i=0;i<n;i++){var h=a[i];t.push(h),l&&l.call(s,h)}return a};e.exports=y},51067:e=>{var y=function(t,a,g,l,s,o){if(g===void 0&&(g=0),o===void 0&&(o=t),l>0){var n=l-t.length;if(n<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.splice(g,0,a),s&&s.call(o,a),a):null;for(var i=a.length-1;i>=0;)t.indexOf(a[i])!==-1&&a.pop(),i--;if(i=a.length,i===0)return null;l>0&&i>n&&(a.splice(n),i=n);for(var h=i-1;h>=0;h--){var r=a[h];t.splice(g,0,r),s&&s.call(o,r)}return a};e.exports=y},66905:e=>{var y=function(t,a){var g=t.indexOf(a);return g!==-1&&g<t.length&&(t.splice(g,1),t.push(a)),a};e.exports=y},21612:(e,y,t)=>{var a=t(82011),g=function(l,s,o,n,i){n===void 0&&(n=0),i===void 0&&(i=l.length);var h=0;if(a(l,n,i))for(var r=n;r<i;r++){var f=l[r];f[s]===o&&h++}return h};e.exports=g},95428:e=>{var y=function(t,a,g){var l,s=[null];for(l=3;l<arguments.length;l++)s.push(arguments[l]);for(l=0;l<t.length;l++)s[0]=t[l],a.apply(g,s);return t};e.exports=y},36914:(e,y,t)=>{var a=t(82011),g=function(l,s,o,n,i){if(n===void 0&&(n=0),i===void 0&&(i=l.length),a(l,n,i)){var h,r=[null];for(h=5;h<arguments.length;h++)r.push(arguments[h]);for(h=n;h<i;h++)r[0]=l[h],s.apply(o,r)}return l};e.exports=g},81957:e=>{var y=function(t,a,g){if(a.length){if(a.length===1)return a[0]}else return NaN;var l=1,s,o;if(g){if(t<a[0][g])return a[0];for(;a[l][g]<t;)l++}else for(;a[l]<t;)l++;return l>a.length&&(l=a.length),g?(s=a[l-1][g],o=a[l][g],o-t<=t-s?a[l]:a[l-1]):(s=a[l-1],o=a[l],o-t<=t-s?o:s)};e.exports=y},43491:e=>{var y=function(t,a){a===void 0&&(a=[]);for(var g=0;g<t.length;g++)Array.isArray(t[g])?y(t[g],a):a.push(t[g]);return a};e.exports=y},46710:(e,y,t)=>{var a=t(82011),g=function(l,s,o,n,i){n===void 0&&(n=0),i===void 0&&(i=l.length);var h=[];if(a(l,n,i))for(var r=n;r<i;r++){var f=l[r];(!s||s&&o===void 0&&f.hasOwnProperty(s)||s&&o!==void 0&&f[s]===o)&&h.push(f)}return h};e.exports=g},58731:(e,y,t)=>{var a=t(82011),g=function(l,s,o,n,i){if(n===void 0&&(n=0),i===void 0&&(i=l.length),a(l,n,i))for(var h=n;h<i;h++){var r=l[h];if(!s||s&&o===void 0&&r.hasOwnProperty(s)||s&&o!==void 0&&r[s]===o)return r}return null};e.exports=g},26546:e=>{var y=function(t,a,g){a===void 0&&(a=0),g===void 0&&(g=t.length);var l=a+Math.floor(Math.random()*g);return t[l]===void 0?null:t[l]};e.exports=y},85835:e=>{var y=function(t,a,g){if(a===g)return t;var l=t.indexOf(a),s=t.indexOf(g);if(l<0||s<0)throw new Error("Supplied items must be elements of the same array");return l>s||(t.splice(l,1),s===t.length-1?t.push(a):t.splice(s,0,a)),t};e.exports=y},83371:e=>{var y=function(t,a,g){if(a===g)return t;var l=t.indexOf(a),s=t.indexOf(g);if(l<0||s<0)throw new Error("Supplied items must be elements of the same array");return l<s||(t.splice(l,1),s===0?t.unshift(a):t.splice(s,0,a)),t};e.exports=y},70864:e=>{var y=function(t,a){var g=t.indexOf(a);if(g>0){var l=t[g-1],s=t.indexOf(l);t[g]=l,t[s]=a}return t};e.exports=y},69693:e=>{var y=function(t,a,g){var l=t.indexOf(a);if(l===-1||g<0||g>=t.length)throw new Error("Supplied index out of bounds");return l!==g&&(t.splice(l,1),t.splice(g,0,a)),a};e.exports=y},40853:e=>{var y=function(t,a){var g=t.indexOf(a);if(g!==-1&&g<t.length-1){var l=t[g+1],s=t.indexOf(l);t[g]=l,t[s]=a}return t};e.exports=y},20283:e=>{var y=function(t,a,g,l){var s=[],o,n=!1;if((g||l)&&(n=!0,g||(g=""),l||(l="")),a<t)for(o=t;o>=a;o--)n?s.push(g+o.toString()+l):s.push(o);else for(o=t;o<=a;o++)n?s.push(g+o.toString()+l):s.push(o);return s};e.exports=y},593:(e,y,t)=>{var a=t(2284),g=function(l,s,o){l===void 0&&(l=0),s===void 0&&(s=null),o===void 0&&(o=1),s===null&&(s=l,l=0);for(var n=[],i=Math.max(a((s-l)/(o||1)),0),h=0;h<i;h++)n.push(l),l+=o;return n};e.exports=g},43886:e=>{function y(g,l,s){var o=g[l];g[l]=g[s],g[s]=o}function t(g,l){return g<l?-1:g>l?1:0}var a=function(g,l,s,o,n){for(s===void 0&&(s=0),o===void 0&&(o=g.length-1),n===void 0&&(n=t);o>s;){if(o-s>600){var i=o-s+1,h=l-s+1,r=Math.log(i),f=.5*Math.exp(2*r/3),c=.5*Math.sqrt(r*f*(i-f)/i)*(h-i/2<0?-1:1),d=Math.max(s,Math.floor(l-h*f/i+c)),p=Math.min(o,Math.floor(l+(i-h)*f/i+c));a(g,l,d,p,n)}var m=g[l],C=s,S=o;for(y(g,s,l),n(g[o],m)>0&&y(g,s,o);C<S;){for(y(g,C,S),C++,S--;n(g[C],m)<0;)C++;for(;n(g[S],m)>0;)S--}n(g[s],m)===0?y(g,s,S):(S++,y(g,S,o)),S<=l&&(s=S+1),l<=S&&(o=S-1)}};e.exports=a},88492:(e,y,t)=>{var a=t(35154),g=t(33680),l=function(o,n,i){for(var h=[],r=0;r<o.length;r++)for(var f=0;f<n.length;f++)for(var c=0;c<i;c++)h.push({a:o[r],b:n[f]});return h},s=function(o,n,i){var h=a(i,"max",0),r=a(i,"qty",1),f=a(i,"random",!1),c=a(i,"randomB",!1),d=a(i,"repeat",0),p=a(i,"yoyo",!1),m=[];if(c&&g(n),d===-1)if(h===0)d=0;else{var C=o.length*n.length*r;p&&(C*=2),d=Math.ceil(h/C)}for(var S=0;S<=d;S++){var E=l(o,n,r);f&&g(E),m=m.concat(E),p&&(E.reverse(),m=m.concat(E))}return h&&m.splice(h),m};e.exports=s},72905:(e,y,t)=>{var a=t(19133),g=function(l,s,o,n){n===void 0&&(n=l);var i;if(!Array.isArray(s))return i=l.indexOf(s),i!==-1?(a(l,i),o&&o.call(n,s),s):null;for(var h=s.length-1,r=[];h>=0;){var f=s[h];i=l.indexOf(f),i!==-1&&(a(l,i),r.push(f),o&&o.call(n,f)),h--}return r};e.exports=g},60248:(e,y,t)=>{var a=t(19133),g=function(l,s,o,n){if(n===void 0&&(n=l),s<0||s>l.length-1)throw new Error("Index out of bounds");var i=a(l,s);return o&&o.call(n,i),i};e.exports=g},81409:(e,y,t)=>{var a=t(82011),g=function(l,s,o,n,i){if(s===void 0&&(s=0),o===void 0&&(o=l.length),i===void 0&&(i=l),a(l,s,o)){var h=o-s,r=l.splice(s,h);if(n)for(var f=0;f<r.length;f++){var c=r[f];n.call(i,c)}return r}else return[]};e.exports=g},31856:(e,y,t)=>{var a=t(19133),g=function(l,s,o){s===void 0&&(s=0),o===void 0&&(o=l.length);var n=s+Math.floor(Math.random()*o);return a(l,n)};e.exports=g},42169:e=>{var y=function(t,a,g){var l=t.indexOf(a),s=t.indexOf(g);return l!==-1&&s===-1?(t[l]=g,!0):!1};e.exports=y},86003:e=>{var y=function(t,a){a===void 0&&(a=1);for(var g=null,l=0;l<a;l++)g=t.shift(),t.push(g);return g};e.exports=y},49498:e=>{var y=function(t,a){a===void 0&&(a=1);for(var g=null,l=0;l<a;l++)g=t.pop(),t.unshift(g);return g};e.exports=y},82011:e=>{var y=function(t,a,g,l){var s=t.length;if(a<0||a>s||a>=g||g>s){if(l)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};e.exports=y},89545:e=>{var y=function(t,a){var g=t.indexOf(a);return g!==-1&&g>0&&(t.splice(g,1),t.unshift(a)),a};e.exports=y},17810:(e,y,t)=>{var a=t(82011),g=function(l,s,o,n,i){if(n===void 0&&(n=0),i===void 0&&(i=l.length),a(l,n,i))for(var h=n;h<i;h++){var r=l[h];r.hasOwnProperty(s)&&(r[s]=o)}return l};e.exports=g},33680:e=>{var y=function(t){for(var a=t.length-1;a>0;a--){var g=Math.floor(Math.random()*(a+1)),l=t[a];t[a]=t[g],t[g]=l}return t};e.exports=y},90126:e=>{var y=function(t){var a=/\D/g;return t.sort(function(g,l){return parseInt(g.replace(a,""),10)-parseInt(l.replace(a,""),10)}),t};e.exports=y},19133:e=>{var y=function(t,a){if(!(a>=t.length)){for(var g=t.length-1,l=t[a],s=a;s<g;s++)t[s]=t[s+1];return t.length=g,l}};e.exports=y},19186:(e,y,t)=>{var a=t(82264);function g(n,i){return String(n).localeCompare(i)}function l(n,i){var h=n.length;if(h<=1)return n;for(var r=new Array(h),f=1;f<h;f*=2){s(n,i,f,r);var c=n;n=r,r=c}return n}function s(n,i,h,r){var f=n.length,c=0,d=h*2,p,m,C,S,E;for(p=0;p<f;p+=d)for(m=p+h,C=m+h,m>f&&(m=f),C>f&&(C=f),S=p,E=m;;)if(S<m&&E<C)i(n[S],n[E])<=0?r[c++]=n[S++]:r[c++]=n[E++];else if(S<m)r[c++]=n[S++];else if(E<C)r[c++]=n[E++];else break}var o=function(n,i){if(i===void 0&&(i=g),!n||n.length<2)return n;if(a.features.stableSort)return n.sort(i);var h=l(n,i);return h!==n&&s(h,null,n.length,n),n};e.exports=o},25630:e=>{var y=function(t,a,g){if(a===g)return t;var l=t.indexOf(a),s=t.indexOf(g);if(l<0||s<0)throw new Error("Supplied items must be elements of the same array");return t[l]=g,t[s]=a,t};e.exports=y},37105:(e,y,t)=>{e.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:e=>{var y=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var a=t[0].length,g=1;g<t.length;g++)if(t[g].length!==a)return!1;return!0};e.exports=y},63362:(e,y,t)=>{var a=t(41836),g=t(86922),l=function(s){var o="";if(!g(s))return o;for(var n=0;n<s.length;n++){for(var i=0;i<s[n].length;i++){var h=s[n][i].toString();h!=="undefined"?o+=a(h,2):o+="?",i<s[n].length-1&&(o+=" |")}if(n<s.length-1){o+=`
`;for(var r=0;r<s[n].length;r++)o+="---",r<s[n].length-1&&(o+="+");o+=`
`}}return o};e.exports=l},92598:e=>{var y=function(t){return t.reverse()};e.exports=y},21224:e=>{var y=function(t){for(var a=0;a<t.length;a++)t[a].reverse();return t};e.exports=y},98717:(e,y,t)=>{var a=t(37829),g=function(l){return a(l,180)};e.exports=g},44657:(e,y,t)=>{var a=t(37829),g=function(l,s){s===void 0&&(s=1);for(var o=0;o<s;o++)l=a(l,90);return l};e.exports=g},37829:(e,y,t)=>{var a=t(86922),g=t(2429),l=function(s,o){if(o===void 0&&(o=90),!a(s))return null;if(typeof o!="string"&&(o=(o%360+360)%360),o===90||o===-270||o==="rotateLeft")s=g(s),s.reverse();else if(o===-90||o===270||o==="rotateRight")s.reverse(),s=g(s);else if(Math.abs(o)===180||o==="rotate180"){for(var n=0;n<s.length;n++)s[n].reverse();s.reverse()}return s};e.exports=l},92632:(e,y,t)=>{var a=t(37829),g=function(l,s){s===void 0&&(s=1);for(var o=0;o<s;o++)l=a(l,-90);return l};e.exports=g},69512:(e,y,t)=>{var a=t(86003),g=t(49498),l=function(s,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),n!==0&&(n<0?a(s,Math.abs(n)):g(s,n)),o!==0)for(var i=0;i<s.length;i++){var h=s[i];o<0?a(h,Math.abs(o)):g(h,o)}return s};e.exports=l},2429:e=>{var y=function(t){for(var a=t.length,g=t[0].length,l=new Array(g),s=0;s<g;s++){l[s]=new Array(a);for(var o=a-1;o>-1;o--)l[s][o]=t[o][s]}return l};e.exports=y},54915:(e,y,t)=>{e.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:e=>{var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(a,g){for(var l=new Uint8Array(a),s=l.length,o=g?"data:"+g+";base64,":"",n=0;n<s;n+=3)o+=y[l[n]>>2],o+=y[(l[n]&3)<<4|l[n+1]>>4],o+=y[(l[n+1]&15)<<2|l[n+2]>>6],o+=y[l[n+2]&63];return s%3===2?o=o.substring(0,o.length-1)+"=":s%3===1&&(o=o.substring(0,o.length-2)+"=="),o};e.exports=t},53134:e=>{for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),a=0;a<y.length;a++)t[y.charCodeAt(a)]=a;var g=function(l){l=l.substr(l.indexOf(",")+1);var s=l.length,o=s*.75,n=0,i,h,r,f;l[s-1]==="="&&(o--,l[s-2]==="="&&o--);for(var c=new ArrayBuffer(o),d=new Uint8Array(c),p=0;p<s;p+=4)i=t[l.charCodeAt(p)],h=t[l.charCodeAt(p+1)],r=t[l.charCodeAt(p+2)],f=t[l.charCodeAt(p+3)],d[n++]=i<<2|h>>4,d[n++]=(h&15)<<4|r>>2,d[n++]=(r&3)<<6|f&63;return c};e.exports=g},65839:(e,y,t)=>{e.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(e,y,t)=>{e.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:e=>{var y=function(t){var a={};for(var g in t)Array.isArray(t[g])?a[g]=t[g].slice(0):a[g]=t[g];return a};e.exports=y},62644:e=>{var y=function(t){var a,g,l;if(typeof t!="object"||t===null)return t;a=Array.isArray(t)?[]:{};for(l in t)g=t[l],a[l]=y(g);return a};e.exports=y},79291:(e,y,t)=>{var a=t(41212),g=function(){var l,s,o,n,i,h,r=arguments[0]||{},f=1,c=arguments.length,d=!1;for(typeof r=="boolean"&&(d=r,r=arguments[1]||{},f=2),c===f&&(r=this,--f);f<c;f++)if((l=arguments[f])!=null)for(s in l)o=r[s],n=l[s],r!==n&&(d&&n&&(a(n)||(i=Array.isArray(n)))?(i?(i=!1,h=o&&Array.isArray(o)?o:[]):h=o&&a(o)?o:{},r[s]=g(d,h,n)):n!==void 0&&(r[s]=n));return r};e.exports=g},23568:(e,y,t)=>{var a=t(75508),g=t(35154),l=function(s,o,n){var i=g(s,o,null);if(i===null)return n;if(Array.isArray(i))return a.RND.pick(i);if(typeof i=="object"){if(i.hasOwnProperty("randInt"))return a.RND.integerInRange(i.randInt[0],i.randInt[1]);if(i.hasOwnProperty("randFloat"))return a.RND.realInRange(i.randFloat[0],i.randFloat[1])}else if(typeof i=="function")return i(o);return i};e.exports=l},95540:e=>{var y=function(t,a,g){var l=typeof t;return!t||l==="number"||l==="string"?g:t.hasOwnProperty(a)&&t[a]!==void 0?t[a]:g};e.exports=y},82840:(e,y,t)=>{var a=t(35154),g=t(45319),l=function(s,o,n,i,h){h===void 0&&(h=n);var r=a(s,o,h);return g(r,n,i)};e.exports=l},35154:e=>{var y=function(t,a,g,l){if(!t&&!l||typeof t=="number")return g;if(t&&t.hasOwnProperty(a))return t[a];if(l&&l.hasOwnProperty(a))return l[a];if(a.indexOf(".")!==-1){for(var s=a.split("."),o=t,n=l,i=g,h=g,r=!0,f=!0,c=0;c<s.length;c++)o&&o.hasOwnProperty(s[c])?(i=o[s[c]],o=o[s[c]]):r=!1,n&&n.hasOwnProperty(s[c])?(h=n[s[c]],n=n[s[c]]):f=!1;return r?i:f?h:g}else return g};e.exports=y},69036:e=>{var y=function(t,a){for(var g=0;g<a.length;g++)if(!t.hasOwnProperty(a[g]))return!1;return!0};e.exports=y},1985:e=>{var y=function(t,a){for(var g=0;g<a.length;g++)if(t.hasOwnProperty(a[g]))return!0;return!1};e.exports=y},97022:e=>{var y=function(t,a){return t.hasOwnProperty(a)};e.exports=y},41212:e=>{var y=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};e.exports=y},46975:(e,y,t)=>{var a=t(41786),g=function(l,s){var o=a(l);for(var n in s)o.hasOwnProperty(n)||(o[n]=s[n]);return o};e.exports=g},269:(e,y,t)=>{var a=t(41786),g=function(l,s){var o=a(l);for(var n in s)o.hasOwnProperty(n)&&(o[n]=s[n]);return o};e.exports=g},18254:(e,y,t)=>{var a=t(97022),g=function(l,s){for(var o={},n=0;n<s.length;n++){var i=s[n];a(l,i)&&(o[i]=l[i])}return o};e.exports=g},61622:e=>{var y=function(t,a,g){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(a))return t[a]=g,!0;if(a.indexOf(".")!==-1){for(var l=a.split("."),s=t,o=t,n=0;n<l.length;n++)if(s.hasOwnProperty(l[n]))o=s,s=s[l[n]];else return!1;return o[l[l.length-1]]=g,!0}return!1};e.exports=y},1183:(e,y,t)=>{e.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:e=>{var y=function(t,a){return t.replace(/%([0-9]+)/g,function(g,l){return a[Number(l)-1]})};e.exports=y},41836:e=>{var y=function(t,a,g,l){a===void 0&&(a=0),g===void 0&&(g=" "),l===void 0&&(l=3),t=t.toString();var s=0;if(a+1>=t.length)switch(l){case 1:t=new Array(a+1-t.length).join(g)+t;break;case 3:var o=Math.ceil((s=a-t.length)/2),n=s-o;t=new Array(n+1).join(g)+t+new Array(o+1).join(g);break;default:t=t+new Array(a+1-t.length).join(g);break}return t};e.exports=y},33628:e=>{var y=function(t,a){return a===0?t.slice(1):t.slice(0,a-1)+t.slice(a)};e.exports=y},27671:e=>{var y=function(t){return t.split("").reverse().join("")};e.exports=y},45650:e=>{var y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=Math.random()*16|0,g=t==="x"?a:a&3|8;return g.toString(16)})};e.exports=y},35355:e=>{var y=function(t){return t&&t[0].toUpperCase()+t.slice(1)};e.exports=y},31749:(e,y,t)=>{e.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},u={};function T(e){var y=u[e];if(y!==void 0)return y.exports;var t=u[e]={exports:{}};return v[e](t,t.exports,T),t.exports}T.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var x=T(85454);return x})())});function pc(v,u){return Object.is(v,u)}var ne=null,ao=!1,lo=1,gn=Symbol("SIGNAL");function Lt(v){let u=ne;return ne=v,u}function vc(){return ne}var jr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Kl(v){if(ao)throw new Error("");if(ne===null)return;ne.consumerOnSignalRead(v);let u=ne.nextProducerIndex++;if(co(ne),u<ne.producerNode.length&&ne.producerNode[u]!==v&&Yr(ne)){let T=ne.producerNode[u];fo(T,ne.producerIndexOfThis[u])}ne.producerNode[u]!==v&&(ne.producerNode[u]=v,ne.producerIndexOfThis[u]=Yr(ne)?xc(v,ne,u):0),ne.producerLastReadVersion[u]=v.version}function Nx(){lo++}function gc(v){if(!(Yr(v)&&!v.dirty)&&!(!v.dirty&&v.lastCleanEpoch===lo)){if(!v.producerMustRecompute(v)&&!Jl(v)){v.dirty=!1,v.lastCleanEpoch=lo;return}v.producerRecomputeValue(v),v.dirty=!1,v.lastCleanEpoch=lo}}function mc(v){if(v.liveConsumerNode===void 0)return;let u=ao;ao=!0;try{for(let T of v.liveConsumerNode)T.dirty||Bx(T)}finally{ao=u}}function yc(){return ne?.consumerAllowSignalWrites!==!1}function Bx(v){v.dirty=!0,mc(v),v.consumerMarkedDirty?.(v)}function ho(v){return v&&(v.nextProducerIndex=0),Lt(v)}function Ql(v,u){if(Lt(u),!(!v||v.producerNode===void 0||v.producerIndexOfThis===void 0||v.producerLastReadVersion===void 0)){if(Yr(v))for(let T=v.nextProducerIndex;T<v.producerNode.length;T++)fo(v.producerNode[T],v.producerIndexOfThis[T]);for(;v.producerNode.length>v.nextProducerIndex;)v.producerNode.pop(),v.producerLastReadVersion.pop(),v.producerIndexOfThis.pop()}}function Jl(v){co(v);for(let u=0;u<v.producerNode.length;u++){let T=v.producerNode[u],x=v.producerLastReadVersion[u];if(x!==T.version||(gc(T),x!==T.version))return!0}return!1}function ql(v){if(co(v),Yr(v))for(let u=0;u<v.producerNode.length;u++)fo(v.producerNode[u],v.producerIndexOfThis[u]);v.producerNode.length=v.producerLastReadVersion.length=v.producerIndexOfThis.length=0,v.liveConsumerNode&&(v.liveConsumerNode.length=v.liveConsumerIndexOfThis.length=0)}function xc(v,u,T){if(Tc(v),v.liveConsumerNode.length===0&&Cc(v))for(let x=0;x<v.producerNode.length;x++)v.producerIndexOfThis[x]=xc(v.producerNode[x],v,x);return v.liveConsumerIndexOfThis.push(T),v.liveConsumerNode.push(u)-1}function fo(v,u){if(Tc(v),v.liveConsumerNode.length===1&&Cc(v))for(let x=0;x<v.producerNode.length;x++)fo(v.producerNode[x],v.producerIndexOfThis[x]);let T=v.liveConsumerNode.length-1;if(v.liveConsumerNode[u]=v.liveConsumerNode[T],v.liveConsumerIndexOfThis[u]=v.liveConsumerIndexOfThis[T],v.liveConsumerNode.length--,v.liveConsumerIndexOfThis.length--,u<v.liveConsumerNode.length){let x=v.liveConsumerIndexOfThis[u],e=v.liveConsumerNode[u];co(e),e.producerIndexOfThis[x]=u}}function Yr(v){return v.consumerIsAlwaysLive||(v?.liveConsumerNode?.length??0)>0}function co(v){v.producerNode??=[],v.producerIndexOfThis??=[],v.producerLastReadVersion??=[]}function Tc(v){v.liveConsumerNode??=[],v.liveConsumerIndexOfThis??=[]}function Cc(v){return v.producerNode!==void 0}function Ec(v){let u=Object.create(Vx);u.computation=v;let T=()=>{if(gc(u),Kl(u),u.value===uo)throw u.error;return u.value};return T[gn]=u,T}var $l=Symbol("UNSET"),Zl=Symbol("COMPUTING"),uo=Symbol("ERRORED"),Vx=mt(et({},jr),{value:$l,dirty:!0,error:null,equal:pc,producerMustRecompute(v){return v.value===$l||v.value===Zl},producerRecomputeValue(v){if(v.value===Zl)throw new Error("Detected cycle in computations.");let u=v.value;v.value=Zl;let T=ho(v),x;try{x=v.computation()}catch(e){x=uo,v.error=e}finally{Ql(v,T)}if(u!==$l&&u!==uo&&x!==uo&&v.equal(u,x)){v.value=u;return}v.value=x,v.version++}});function Gx(){throw new Error}var Sc=Gx;function Dc(){Sc()}function Mc(v){Sc=v}var Ux=null;function wc(v){let u=Object.create(Pc);u.value=v;let T=()=>(Kl(u),u.value);return T[gn]=u,T}function _l(v,u){yc()||Dc(),v.equal(v.value,u)||(v.value=u,zx(v))}function Ac(v,u){yc()||Dc(),_l(v,u(v.value))}var Pc=mt(et({},jr),{equal:pc,value:void 0});function zx(v){v.version++,Nx(),mc(v),Ux?.()}function yt(v){return typeof v=="function"}function Wi(v){let T=v(x=>{Error.call(x),x.stack=new Error().stack});return T.prototype=Object.create(Error.prototype),T.prototype.constructor=T,T}var po=Wi(v=>function(T){v(this),this.message=T?`${T.length} errors occurred during unsubscription:
${T.map((x,e)=>`${e+1}) ${x.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=T});function kr(v,u){if(v){let T=v.indexOf(u);0<=T&&v.splice(T,1)}}var Qt=class v{constructor(u){this.initialTeardown=u,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let u;if(!this.closed){this.closed=!0;let{_parentage:T}=this;if(T)if(this._parentage=null,Array.isArray(T))for(let y of T)y.remove(this);else T.remove(this);let{initialTeardown:x}=this;if(yt(x))try{x()}catch(y){u=y instanceof po?y.errors:[y]}let{_finalizers:e}=this;if(e){this._finalizers=null;for(let y of e)try{Rc(y)}catch(t){u=u??[],t instanceof po?u=[...u,...t.errors]:u.push(t)}}if(u)throw new po(u)}}add(u){var T;if(u&&u!==this)if(this.closed)Rc(u);else{if(u instanceof v){if(u.closed||u._hasParent(this))return;u._addParent(this)}(this._finalizers=(T=this._finalizers)!==null&&T!==void 0?T:[]).push(u)}}_hasParent(u){let{_parentage:T}=this;return T===u||Array.isArray(T)&&T.includes(u)}_addParent(u){let{_parentage:T}=this;this._parentage=Array.isArray(T)?(T.push(u),T):T?[T,u]:u}_removeParent(u){let{_parentage:T}=this;T===u?this._parentage=null:Array.isArray(T)&&kr(T,u)}remove(u){let{_finalizers:T}=this;T&&kr(T,u),u instanceof v&&u._removeParent(this)}};Qt.EMPTY=(()=>{let v=new Qt;return v.closed=!0,v})();var tu=Qt.EMPTY;function vo(v){return v instanceof Qt||v&&"closed"in v&&yt(v.remove)&&yt(v.add)&&yt(v.unsubscribe)}function Rc(v){yt(v)?v():v.unsubscribe()}var Ue={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xi={setTimeout(v,u,...T){let{delegate:x}=Xi;return x?.setTimeout?x.setTimeout(v,u,...T):setTimeout(v,u,...T)},clearTimeout(v){let{delegate:u}=Xi;return(u?.clearTimeout||clearTimeout)(v)},delegate:void 0};function go(v){Xi.setTimeout(()=>{let{onUnhandledError:u}=Ue;if(u)u(v);else throw v})}function $r(){}var Ic=eu("C",void 0,void 0);function Fc(v){return eu("E",void 0,v)}function Oc(v){return eu("N",v,void 0)}function eu(v,u,T){return{kind:v,value:u,error:T}}var fi=null;function Yi(v){if(Ue.useDeprecatedSynchronousErrorHandling){let u=!fi;if(u&&(fi={errorThrown:!1,error:null}),v(),u){let{errorThrown:T,error:x}=fi;if(fi=null,T)throw x}}else v()}function Lc(v){Ue.useDeprecatedSynchronousErrorHandling&&fi&&(fi.errorThrown=!0,fi.error=v)}var di=class extends Qt{constructor(u){super(),this.isStopped=!1,u?(this.destination=u,vo(u)&&u.add(this)):this.destination=Xx}static create(u,T,x){return new ji(u,T,x)}next(u){this.isStopped?iu(Oc(u),this):this._next(u)}error(u){this.isStopped?iu(Fc(u),this):(this.isStopped=!0,this._error(u))}complete(){this.isStopped?iu(Ic,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(u){this.destination.next(u)}_error(u){try{this.destination.error(u)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Hx=Function.prototype.bind;function nu(v,u){return Hx.call(v,u)}var ru=class{constructor(u){this.partialObserver=u}next(u){let{partialObserver:T}=this;if(T.next)try{T.next(u)}catch(x){mo(x)}}error(u){let{partialObserver:T}=this;if(T.error)try{T.error(u)}catch(x){mo(x)}else mo(u)}complete(){let{partialObserver:u}=this;if(u.complete)try{u.complete()}catch(T){mo(T)}}},ji=class extends di{constructor(u,T,x){super();let e;if(yt(u)||!u)e={next:u??void 0,error:T??void 0,complete:x??void 0};else{let y;this&&Ue.useDeprecatedNextContext?(y=Object.create(u),y.unsubscribe=()=>this.unsubscribe(),e={next:u.next&&nu(u.next,y),error:u.error&&nu(u.error,y),complete:u.complete&&nu(u.complete,y)}):e=u}this.destination=new ru(e)}};function mo(v){Ue.useDeprecatedSynchronousErrorHandling?Lc(v):go(v)}function Wx(v){throw v}function iu(v,u){let{onStoppedNotification:T}=Ue;T&&Xi.setTimeout(()=>T(v,u))}var Xx={closed:!0,next:$r,error:Wx,complete:$r};var ki=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ee(v){return v}function su(...v){return ou(v)}function ou(v){return v.length===0?Ee:v.length===1?v[0]:function(T){return v.reduce((x,e)=>e(x),T)}}var It=(()=>{class v{constructor(T){T&&(this._subscribe=T)}lift(T){let x=new v;return x.source=this,x.operator=T,x}subscribe(T,x,e){let y=jx(T)?T:new ji(T,x,e);return Yi(()=>{let{operator:t,source:a}=this;y.add(t?t.call(y,a):a?this._subscribe(y):this._trySubscribe(y))}),y}_trySubscribe(T){try{return this._subscribe(T)}catch(x){T.error(x)}}forEach(T,x){return x=bc(x),new x((e,y)=>{let t=new ji({next:a=>{try{T(a)}catch(g){y(g),t.unsubscribe()}},error:y,complete:e});this.subscribe(t)})}_subscribe(T){var x;return(x=this.source)===null||x===void 0?void 0:x.subscribe(T)}[ki](){return this}pipe(...T){return ou(T)(this)}toPromise(T){return T=bc(T),new T((x,e)=>{let y;this.subscribe(t=>y=t,t=>e(t),()=>x(y))})}}return v.create=u=>new v(u),v})();function bc(v){var u;return(u=v??Ue.Promise)!==null&&u!==void 0?u:Promise}function Yx(v){return v&&yt(v.next)&&yt(v.error)&&yt(v.complete)}function jx(v){return v&&v instanceof di||Yx(v)&&vo(v)}function au(v){return yt(v?.lift)}function Ft(v){return u=>{if(au(u))return u.lift(function(T){try{return v(T,this)}catch(x){this.error(x)}});throw new TypeError("Unable to lift unknown Observable type")}}function wt(v,u,T,x,e){return new lu(v,u,T,x,e)}var lu=class extends di{constructor(u,T,x,e,y,t){super(u),this.onFinalize=y,this.shouldUnsubscribe=t,this._next=T?function(a){try{T(a)}catch(g){u.error(g)}}:super._next,this._error=e?function(a){try{e(a)}catch(g){u.error(g)}finally{this.unsubscribe()}}:super._error,this._complete=x?function(){try{x()}catch(a){u.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var u;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:T}=this;super.unsubscribe(),!T&&((u=this.onFinalize)===null||u===void 0||u.call(this))}}};function $i(){return Ft((v,u)=>{let T=null;v._refCount++;let x=wt(u,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount){T=null;return}let e=v._connection,y=T;T=null,e&&(!y||e===y)&&e.unsubscribe(),u.unsubscribe()});v.subscribe(x),x.closed||(T=v.connect())})}var Zi=class extends It{constructor(u,T){super(),this.source=u,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,au(u)&&(this.lift=u.lift)}_subscribe(u){return this.getSubject().subscribe(u)}getSubject(){let u=this._subject;return(!u||u.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:u}=this;this._subject=this._connection=null,u?.unsubscribe()}connect(){let u=this._connection;if(!u){u=this._connection=new Qt;let T=this.getSubject();u.add(this.source.subscribe(wt(T,void 0,()=>{this._teardown(),T.complete()},x=>{this._teardown(),T.error(x)},()=>this._teardown()))),u.closed&&(this._connection=null,u=Qt.EMPTY)}return u}refCount(){return $i()(this)}};var Nc=Wi(v=>function(){v(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Jt=(()=>{class v extends It{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(T){let x=new yo(this,this);return x.operator=T,x}_throwIfClosed(){if(this.closed)throw new Nc}next(T){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let x of this.currentObservers)x.next(T)}})}error(T){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=T;let{observers:x}=this;for(;x.length;)x.shift().error(T)}})}complete(){Yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:T}=this;for(;T.length;)T.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var T;return((T=this.observers)===null||T===void 0?void 0:T.length)>0}_trySubscribe(T){return this._throwIfClosed(),super._trySubscribe(T)}_subscribe(T){return this._throwIfClosed(),this._checkFinalizedStatuses(T),this._innerSubscribe(T)}_innerSubscribe(T){let{hasError:x,isStopped:e,observers:y}=this;return x||e?tu:(this.currentObservers=null,y.push(T),new Qt(()=>{this.currentObservers=null,kr(y,T)}))}_checkFinalizedStatuses(T){let{hasError:x,thrownError:e,isStopped:y}=this;x?T.error(e):y&&T.complete()}asObservable(){let T=new It;return T.source=this,T}}return v.create=(u,T)=>new yo(u,T),v})(),yo=class extends Jt{constructor(u,T){super(),this.destination=u,this.source=T}next(u){var T,x;(x=(T=this.destination)===null||T===void 0?void 0:T.next)===null||x===void 0||x.call(T,u)}error(u){var T,x;(x=(T=this.destination)===null||T===void 0?void 0:T.error)===null||x===void 0||x.call(T,u)}complete(){var u,T;(T=(u=this.destination)===null||u===void 0?void 0:u.complete)===null||T===void 0||T.call(u)}_subscribe(u){var T,x;return(x=(T=this.source)===null||T===void 0?void 0:T.subscribe(u))!==null&&x!==void 0?x:tu}};var kt=class extends Jt{constructor(u){super(),this._value=u}get value(){return this.getValue()}_subscribe(u){let T=super._subscribe(u);return!T.closed&&u.next(this._value),T}getValue(){let{hasError:u,thrownError:T,_value:x}=this;if(u)throw T;return this._throwIfClosed(),x}next(u){super.next(this._value=u)}};var Se=new It(v=>v.complete());function Bc(v){return v&&yt(v.schedule)}function Vc(v){return v[v.length-1]}function xo(v){return yt(Vc(v))?v.pop():void 0}function Nn(v){return Bc(Vc(v))?v.pop():void 0}function Uc(v,u,T,x){function e(y){return y instanceof T?y:new T(function(t){t(y)})}return new(T||(T=Promise))(function(y,t){function a(s){try{l(x.next(s))}catch(o){t(o)}}function g(s){try{l(x.throw(s))}catch(o){t(o)}}function l(s){s.done?y(s.value):e(s.value).then(a,g)}l((x=x.apply(v,u||[])).next())})}function Gc(v){var u=typeof Symbol=="function"&&Symbol.iterator,T=u&&v[u],x=0;if(T)return T.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&x>=v.length&&(v=void 0),{value:v&&v[x++],done:!v}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function ci(v){return this instanceof ci?(this.v=v,this):new ci(v)}function zc(v,u,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x=T.apply(v,u||[]),e,y=[];return e=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",t),e[Symbol.asyncIterator]=function(){return this},e;function t(i){return function(h){return Promise.resolve(h).then(i,o)}}function a(i,h){x[i]&&(e[i]=function(r){return new Promise(function(f,c){y.push([i,r,f,c])>1||g(i,r)})},h&&(e[i]=h(e[i])))}function g(i,h){try{l(x[i](h))}catch(r){n(y[0][3],r)}}function l(i){i.value instanceof ci?Promise.resolve(i.value.v).then(s,o):n(y[0][2],i)}function s(i){g("next",i)}function o(i){g("throw",i)}function n(i,h){i(h),y.shift(),y.length&&g(y[0][0],y[0][1])}}function Hc(v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=v[Symbol.asyncIterator],T;return u?u.call(v):(v=typeof Gc=="function"?Gc(v):v[Symbol.iterator](),T={},x("next"),x("throw"),x("return"),T[Symbol.asyncIterator]=function(){return this},T);function x(y){T[y]=v[y]&&function(t){return new Promise(function(a,g){t=v[y](t),e(a,g,t.done,t.value)})}}function e(y,t,a,g){Promise.resolve(g).then(function(l){y({value:l,done:a})},t)}}var To=v=>v&&typeof v.length=="number"&&typeof v!="function";function Co(v){return yt(v?.then)}function Eo(v){return yt(v[ki])}function So(v){return Symbol.asyncIterator&&yt(v?.[Symbol.asyncIterator])}function Do(v){return new TypeError(`You provided ${v!==null&&typeof v=="object"?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Mo=kx();function wo(v){return yt(v?.[Mo])}function Ao(v){return zc(this,arguments,function*(){let T=v.getReader();try{for(;;){let{value:x,done:e}=yield ci(T.read());if(e)return yield ci(void 0);yield yield ci(x)}}finally{T.releaseLock()}})}function Po(v){return yt(v?.getReader)}function qt(v){if(v instanceof It)return v;if(v!=null){if(Eo(v))return $x(v);if(To(v))return Zx(v);if(Co(v))return Kx(v);if(So(v))return Wc(v);if(wo(v))return Qx(v);if(Po(v))return Jx(v)}throw Do(v)}function $x(v){return new It(u=>{let T=v[ki]();if(yt(T.subscribe))return T.subscribe(u);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Zx(v){return new It(u=>{for(let T=0;T<v.length&&!u.closed;T++)u.next(v[T]);u.complete()})}function Kx(v){return new It(u=>{v.then(T=>{u.closed||(u.next(T),u.complete())},T=>u.error(T)).then(null,go)})}function Qx(v){return new It(u=>{for(let T of v)if(u.next(T),u.closed)return;u.complete()})}function Wc(v){return new It(u=>{qx(v,u).catch(T=>u.error(T))})}function Jx(v){return Wc(Ao(v))}function qx(v,u){var T,x,e,y;return Uc(this,void 0,void 0,function*(){try{for(T=Hc(v);x=yield T.next(),!x.done;){let t=x.value;if(u.next(t),u.closed)return}}catch(t){e={error:t}}finally{try{x&&!x.done&&(y=T.return)&&(yield y.call(T))}finally{if(e)throw e.error}}u.complete()})}function me(v,u,T,x=0,e=!1){let y=u.schedule(function(){T(),e?v.add(this.schedule(null,x)):this.unsubscribe()},x);if(v.add(y),!e)return y}function Ro(v,u=0){return Ft((T,x)=>{T.subscribe(wt(x,e=>me(x,v,()=>x.next(e),u),()=>me(x,v,()=>x.complete(),u),e=>me(x,v,()=>x.error(e),u)))})}function Io(v,u=0){return Ft((T,x)=>{x.add(v.schedule(()=>T.subscribe(x),u))})}function Xc(v,u){return qt(v).pipe(Io(u),Ro(u))}function Yc(v,u){return qt(v).pipe(Io(u),Ro(u))}function jc(v,u){return new It(T=>{let x=0;return u.schedule(function(){x===v.length?T.complete():(T.next(v[x++]),T.closed||this.schedule())})})}function kc(v,u){return new It(T=>{let x;return me(T,u,()=>{x=v[Mo](),me(T,u,()=>{let e,y;try{({value:e,done:y}=x.next())}catch(t){T.error(t);return}y?T.complete():T.next(e)},0,!0)}),()=>yt(x?.return)&&x.return()})}function Fo(v,u){if(!v)throw new Error("Iterable cannot be null");return new It(T=>{me(T,u,()=>{let x=v[Symbol.asyncIterator]();me(T,u,()=>{x.next().then(e=>{e.done?T.complete():T.next(e.value)})},0,!0)})})}function $c(v,u){return Fo(Ao(v),u)}function Zc(v,u){if(v!=null){if(Eo(v))return Xc(v,u);if(To(v))return jc(v,u);if(Co(v))return Yc(v,u);if(So(v))return Fo(v,u);if(wo(v))return kc(v,u);if(Po(v))return $c(v,u)}throw Do(v)}function zt(v,u){return u?Zc(v,u):qt(v)}function pt(...v){let u=Nn(v);return zt(v,u)}function ze(v,u){let T=yt(v)?v:()=>v,x=e=>e.error(T());return new It(u?e=>u.schedule(x,0,e):x)}function uu(v){return!!v&&(v instanceof It||yt(v.lift)&&yt(v.subscribe))}var He=Wi(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});function hu(v,u){let T=typeof u=="object";return new Promise((x,e)=>{let y=!1,t;v.subscribe({next:a=>{t=a,y=!0},error:e,complete:()=>{y?x(t):T?x(u.defaultValue):e(new He)}})})}function vt(v,u){return Ft((T,x)=>{let e=0;T.subscribe(wt(x,y=>{x.next(v.call(u,y,e++))}))})}var{isArray:_x}=Array;function t1(v,u){return _x(u)?v(...u):v(u)}function Oo(v){return vt(u=>t1(v,u))}var{isArray:e1}=Array,{getPrototypeOf:n1,prototype:i1,keys:r1}=Object;function Lo(v){if(v.length===1){let u=v[0];if(e1(u))return{args:u,keys:null};if(s1(u)){let T=r1(u);return{args:T.map(x=>u[x]),keys:T}}}return{args:v,keys:null}}function s1(v){return v&&typeof v=="object"&&n1(v)===i1}function bo(v,u){return v.reduce((T,x,e)=>(T[x]=u[e],T),{})}function Zr(...v){let u=Nn(v),T=xo(v),{args:x,keys:e}=Lo(v);if(x.length===0)return zt([],u);let y=new It(o1(x,u,e?t=>bo(e,t):Ee));return T?y.pipe(Oo(T)):y}function o1(v,u,T=Ee){return x=>{Kc(u,()=>{let{length:e}=v,y=new Array(e),t=e,a=e;for(let g=0;g<e;g++)Kc(u,()=>{let l=zt(v[g],u),s=!1;l.subscribe(wt(x,o=>{y[g]=o,s||(s=!0,a--),a||x.next(T(y.slice()))},()=>{--t||x.complete()}))},x)},x)}}function Kc(v,u,T){v?me(T,v,u):u()}function Qc(v,u,T,x,e,y,t,a){let g=[],l=0,s=0,o=!1,n=()=>{o&&!g.length&&!l&&u.complete()},i=r=>l<x?h(r):g.push(r),h=r=>{y&&u.next(r),l++;let f=!1;qt(T(r,s++)).subscribe(wt(u,c=>{e?.(c),y?i(c):u.next(c)},()=>{f=!0},void 0,()=>{if(f)try{for(l--;g.length&&l<x;){let c=g.shift();t?me(u,t,()=>h(c)):h(c)}n()}catch(c){u.error(c)}}))};return v.subscribe(wt(u,i,()=>{o=!0,n()})),()=>{a?.()}}function _t(v,u,T=1/0){return yt(u)?_t((x,e)=>vt((y,t)=>u(x,y,e,t))(qt(v(x,e))),T):(typeof u=="number"&&(T=u),Ft((x,e)=>Qc(x,e,v,T)))}function Bn(v=1/0){return _t(Ee,v)}function Jc(){return Bn(1)}function Ki(...v){return Jc()(zt(v,Nn(v)))}function No(v){return new It(u=>{qt(v()).subscribe(u)})}function fu(...v){let u=xo(v),{args:T,keys:x}=Lo(v),e=new It(y=>{let{length:t}=T;if(!t){y.complete();return}let a=new Array(t),g=t,l=t;for(let s=0;s<t;s++){let o=!1;qt(T[s]).subscribe(wt(y,n=>{o||(o=!0,l--),a[s]=n},()=>g--,void 0,()=>{(!g||!o)&&(l||y.next(x?bo(x,a):a),y.complete())}))}});return u?e.pipe(Oo(u)):e}function ye(v,u){return Ft((T,x)=>{let e=0;T.subscribe(wt(x,y=>v.call(u,y,e++)&&x.next(y)))})}function fe(v){return Ft((u,T)=>{let x=null,e=!1,y;x=u.subscribe(wt(T,void 0,void 0,t=>{y=qt(v(t,fe(v)(u))),x?(x.unsubscribe(),x=null,y.subscribe(T)):e=!0})),e&&(x.unsubscribe(),x=null,y.subscribe(T))})}function qc(v,u,T,x,e){return(y,t)=>{let a=T,g=u,l=0;y.subscribe(wt(t,s=>{let o=l++;g=a?v(g,s,o):(a=!0,s),x&&t.next(g)},e&&(()=>{a&&t.next(g),t.complete()})))}}function mn(v,u){return yt(u)?_t(v,u,1):_t(v,1)}function Vn(v){return Ft((u,T)=>{let x=!1;u.subscribe(wt(T,e=>{x=!0,T.next(e)},()=>{x||T.next(v),T.complete()}))})}function yn(v){return v<=0?()=>Se:Ft((u,T)=>{let x=0;u.subscribe(wt(T,e=>{++x<=v&&(T.next(e),v<=x&&T.complete())}))})}function du(v){return vt(()=>v)}function Bo(v=a1){return Ft((u,T)=>{let x=!1;u.subscribe(wt(T,e=>{x=!0,T.next(e)},()=>x?T.complete():T.error(v())))})}function a1(){return new He}function Gn(v){return Ft((u,T)=>{try{u.subscribe(T)}finally{T.add(v)}})}function nn(v,u){let T=arguments.length>=2;return x=>x.pipe(v?ye((e,y)=>v(e,y,x)):Ee,yn(1),T?Vn(u):Bo(()=>new He))}function Qi(v){return v<=0?()=>Se:Ft((u,T)=>{let x=[];u.subscribe(wt(T,e=>{x.push(e),v<x.length&&x.shift()},()=>{for(let e of x)T.next(e);T.complete()},void 0,()=>{x=null}))})}function cu(v,u){let T=arguments.length>=2;return x=>x.pipe(v?ye((e,y)=>v(e,y,x)):Ee,Qi(1),T?Vn(u):Bo(()=>new He))}function pu(v,u){return Ft(qc(v,u,arguments.length>=2,!0))}function vu(...v){let u=Nn(v);return Ft((T,x)=>{(u?Ki(v,T,u):Ki(v,T)).subscribe(x)})}function xe(v,u){return Ft((T,x)=>{let e=null,y=0,t=!1,a=()=>t&&!e&&x.complete();T.subscribe(wt(x,g=>{e?.unsubscribe();let l=0,s=y++;qt(v(g,s)).subscribe(e=wt(x,o=>x.next(u?u(g,o,s,l++):o),()=>{e=null,a()}))},()=>{t=!0,a()}))})}function pi(v){return Ft((u,T)=>{qt(v).subscribe(wt(T,()=>T.complete(),$r)),!T.closed&&u.subscribe(T)})}function Yt(v,u,T){let x=yt(v)||u||T?{next:v,error:u,complete:T}:v;return x?Ft((e,y)=>{var t;(t=x.subscribe)===null||t===void 0||t.call(x);let a=!0;e.subscribe(wt(y,g=>{var l;(l=x.next)===null||l===void 0||l.call(x,g),y.next(g)},()=>{var g;a=!1,(g=x.complete)===null||g===void 0||g.call(x),y.complete()},g=>{var l;a=!1,(l=x.error)===null||l===void 0||l.call(x,g),y.error(g)},()=>{var g,l;a&&((g=x.unsubscribe)===null||g===void 0||g.call(x)),(l=x.finalize)===null||l===void 0||l.call(x)}))}):Ee}var Vp="https://g.co/ng/security#xss",ft=class extends Error{constructor(u,T){super(ya(u,T)),this.code=u}};function ya(v,u){return`${`NG0${Math.abs(v)}`}${u?": "+u:""}`}function is(v){return{toString:v}.toString()}var Vo="__parameters__";function l1(v){return function(...T){if(v){let x=v(...T);for(let e in x)this[e]=x[e]}}}function Gp(v,u,T){return is(()=>{let x=l1(u);function e(...y){if(this instanceof e)return x.apply(this,y),this;let t=new e(...y);return a.annotation=t,a;function a(g,l,s){let o=g.hasOwnProperty(Vo)?g[Vo]:Object.defineProperty(g,Vo,{value:[]})[Vo];for(;o.length<=s;)o.push(null);return(o[s]=o[s]||[]).push(t),g}}return T&&(e.prototype=Object.create(T.prototype)),e.prototype.ngMetadataName=v,e.annotationCls=e,e})}var Ru=globalThis;function Gt(v){for(let u in v)if(v[u]===Gt)return u;throw Error("Could not find renamed property on target object.")}function u1(v,u){for(let T in u)u.hasOwnProperty(T)&&!v.hasOwnProperty(T)&&(v[T]=u[T])}function ce(v){if(typeof v=="string")return v;if(Array.isArray(v))return"["+v.map(ce).join(", ")+"]";if(v==null)return""+v;if(v.overriddenName)return`${v.overriddenName}`;if(v.name)return`${v.name}`;let u=v.toString();if(u==null)return""+u;let T=u.indexOf(`
`);return T===-1?u:u.substring(0,T)}function _c(v,u){return v==null||v===""?u===null?"":u:u==null||u===""?v:v+" "+u}var h1=Gt({__forward_ref__:Gt});function En(v){return v.__forward_ref__=En,v.toString=function(){return ce(this())},v}function de(v){return Up(v)?v():v}function Up(v){return typeof v=="function"&&v.hasOwnProperty(h1)&&v.__forward_ref__===En}function st(v){return{token:v.token,providedIn:v.providedIn||null,factory:v.factory,value:void 0}}function $e(v){return{providers:v.providers||[],imports:v.imports||[]}}function xa(v){return tp(v,Hp)||tp(v,Wp)}function zp(v){return xa(v)!==null}function tp(v,u){return v.hasOwnProperty(u)?v[u]:null}function f1(v){let u=v&&(v[Hp]||v[Wp]);return u||null}function ep(v){return v&&(v.hasOwnProperty(np)||v.hasOwnProperty(d1))?v[np]:null}var Hp=Gt({\u0275prov:Gt}),np=Gt({\u0275inj:Gt}),Wp=Gt({ngInjectableDef:Gt}),d1=Gt({ngInjectorDef:Gt}),lt=class{constructor(u,T){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof T=="number"?this.__NG_ELEMENT_ID__=T:T!==void 0&&(this.\u0275prov=st({token:this,providedIn:T.providedIn||"root",factory:T.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Xp(v){return v&&!!v.\u0275providers}var c1=Gt({\u0275cmp:Gt}),p1=Gt({\u0275dir:Gt}),v1=Gt({\u0275pipe:Gt}),g1=Gt({\u0275mod:Gt}),Zo=Gt({\u0275fac:Gt}),Qr=Gt({__NG_ELEMENT_ID__:Gt}),ip=Gt({__NG_ENV_ID__:Gt});function ir(v){return typeof v=="string"?v:v==null?"":String(v)}function m1(v){return typeof v=="function"?v.name||v.toString():typeof v=="object"&&v!=null&&typeof v.type=="function"?v.type.name||v.type.toString():ir(v)}function y1(v,u){let T=u?`. Dependency path: ${u.join(" > ")} > ${v}`:"";throw new ft(-200,v)}function wh(v,u){throw new ft(-201,!1)}var Mt=function(v){return v[v.Default=0]="Default",v[v.Host=1]="Host",v[v.Self=2]="Self",v[v.SkipSelf=4]="SkipSelf",v[v.Optional=8]="Optional",v}(Mt||{}),Iu;function Yp(){return Iu}function Te(v){let u=Iu;return Iu=v,u}function jp(v,u,T){let x=xa(v);if(x&&x.providedIn=="root")return x.value===void 0?x.value=x.factory():x.value;if(T&Mt.Optional)return null;if(u!==void 0)return u;wh(v,"Injector")}var x1={},Jr=x1,Fu="__NG_DI_FLAG__",Ko="ngTempTokenPath",T1="ngTokenPath",C1=/\n/gm,E1="\u0275",rp="__source",er;function S1(){return er}function Un(v){let u=er;return er=v,u}function D1(v,u=Mt.Default){if(er===void 0)throw new ft(-203,!1);return er===null?jp(v,void 0,u):er.get(v,u&Mt.Optional?null:void 0,u)}function at(v,u=Mt.Default){return(Yp()||D1)(de(v),u)}function tt(v,u=Mt.Default){return at(v,Ta(u))}function Ta(v){return typeof v>"u"||typeof v=="number"?v:0|(v.optional&&8)|(v.host&&1)|(v.self&&2)|(v.skipSelf&&4)}function Ou(v){let u=[];for(let T=0;T<v.length;T++){let x=de(v[T]);if(Array.isArray(x)){if(x.length===0)throw new ft(900,!1);let e,y=Mt.Default;for(let t=0;t<x.length;t++){let a=x[t],g=M1(a);typeof g=="number"?g===-1?e=a.token:y|=g:e=a}u.push(at(e,y))}else u.push(at(x))}return u}function kp(v,u){return v[Fu]=u,v.prototype[Fu]=u,v}function M1(v){return v[Fu]}function w1(v,u,T,x){let e=v[Ko];throw u[rp]&&e.unshift(u[rp]),v.message=A1(`
`+v.message,e,T,x),v[T1]=e,v[Ko]=null,v}function A1(v,u,T,x=null){v=v&&v.charAt(0)===`
`&&v.charAt(1)==E1?v.slice(2):v;let e=ce(u);if(Array.isArray(u))e=u.map(ce).join(" -> ");else if(typeof u=="object"){let y=[];for(let t in u)if(u.hasOwnProperty(t)){let a=u[t];y.push(t+":"+(typeof a=="string"?JSON.stringify(a):ce(a)))}e=`{${y.join(", ")}}`}return`${T}${x?"("+x+")":""}[${e}]: ${v.replace(C1,`
  `)}`}var Ca=kp(Gp("Optional"),8);var Ah=kp(Gp("SkipSelf"),4);function yi(v,u){let T=v.hasOwnProperty(Zo);return T?v[Zo]:null}function P1(v,u,T){if(v.length!==u.length)return!1;for(let x=0;x<v.length;x++){let e=v[x],y=u[x];if(T&&(e=T(e),y=T(y)),y!==e)return!1}return!0}function R1(v){return v.flat(Number.POSITIVE_INFINITY)}function Ph(v,u){v.forEach(T=>Array.isArray(T)?Ph(T,u):u(T))}function $p(v,u,T){u>=v.length?v.push(T):v.splice(u,0,T)}function Qo(v,u){return u>=v.length-1?v.pop():v.splice(u,1)[0]}function I1(v,u,T,x){let e=v.length;if(e==u)v.push(T,x);else if(e===1)v.push(x,v[0]),v[0]=T;else{for(e--,v.push(v[e-1],v[e]);e>u;){let y=e-2;v[e]=v[y],e--}v[u]=T,v[u+1]=x}}function F1(v,u,T){let x=rs(v,u);return x>=0?v[x|1]=T:(x=~x,I1(v,x,u,T)),x}function gu(v,u){let T=rs(v,u);if(T>=0)return v[T|1]}function rs(v,u){return O1(v,u,1)}function O1(v,u,T){let x=0,e=v.length>>T;for(;e!==x;){let y=x+(e-x>>1),t=v[y<<T];if(u===t)return y<<T;t>u?e=y:x=y+1}return~(e<<T)}var rr={},Fe=[],sr=new lt(""),Zp=new lt("",-1),Kp=new lt(""),Jo=class{get(u,T=Jr){if(T===Jr){let x=new Error(`NullInjectorError: No provider for ${ce(u)}!`);throw x.name="NullInjectorError",x}return T}},Qp=function(v){return v[v.OnPush=0]="OnPush",v[v.Default=1]="Default",v}(Qp||{}),on=function(v){return v[v.Emulated=0]="Emulated",v[v.None=2]="None",v[v.ShadowDom=3]="ShadowDom",v}(on||{}),Wn=function(v){return v[v.None=0]="None",v[v.SignalBased=1]="SignalBased",v[v.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",v}(Wn||{});function L1(v,u,T){let x=v.length;for(;;){let e=v.indexOf(u,T);if(e===-1)return e;if(e===0||v.charCodeAt(e-1)<=32){let y=u.length;if(e+y===x||v.charCodeAt(e+y)<=32)return e}T=e+1}}function Lu(v,u,T){let x=0;for(;x<T.length;){let e=T[x];if(typeof e=="number"){if(e!==0)break;x++;let y=T[x++],t=T[x++],a=T[x++];v.setAttribute(u,t,a,y)}else{let y=e,t=T[++x];b1(y)?v.setProperty(u,y,t):v.setAttribute(u,y,t),x++}}return x}function Jp(v){return v===3||v===4||v===6}function b1(v){return v.charCodeAt(0)===64}function qr(v,u){if(!(u===null||u.length===0))if(v===null||v.length===0)v=u.slice();else{let T=-1;for(let x=0;x<u.length;x++){let e=u[x];typeof e=="number"?T=e:T===0||(T===-1||T===2?sp(v,T,e,null,u[++x]):sp(v,T,e,null,null))}}return v}function sp(v,u,T,x,e){let y=0,t=v.length;if(u===-1)t=-1;else for(;y<v.length;){let a=v[y++];if(typeof a=="number"){if(a===u){t=-1;break}else if(a>u){t=y-1;break}}}for(;y<v.length;){let a=v[y];if(typeof a=="number")break;if(a===T){if(x===null){e!==null&&(v[y+1]=e);return}else if(x===v[y+1]){v[y+2]=e;return}}y++,x!==null&&y++,e!==null&&y++}t!==-1&&(v.splice(t,0,u),y=t+1),v.splice(y++,0,T),x!==null&&v.splice(y++,0,x),e!==null&&v.splice(y++,0,e)}var qp="ng-template";function N1(v,u,T,x){let e=0;if(x){for(;e<u.length&&typeof u[e]=="string";e+=2)if(u[e]==="class"&&L1(u[e+1].toLowerCase(),T,0)!==-1)return!0}else if(Rh(v))return!1;if(e=u.indexOf(1,e),e>-1){let y;for(;++e<u.length&&typeof(y=u[e])=="string";)if(y.toLowerCase()===T)return!0}return!1}function Rh(v){return v.type===4&&v.value!==qp}function B1(v,u,T){let x=v.type===4&&!T?qp:v.value;return u===x}function V1(v,u,T){let x=4,e=v.attrs,y=e!==null?z1(e):0,t=!1;for(let a=0;a<u.length;a++){let g=u[a];if(typeof g=="number"){if(!t&&!We(x)&&!We(g))return!1;if(t&&We(g))continue;t=!1,x=g|x&1;continue}if(!t)if(x&4){if(x=2|x&1,g!==""&&!B1(v,g,T)||g===""&&u.length===1){if(We(x))return!1;t=!0}}else if(x&8){if(e===null||!N1(v,e,g,T)){if(We(x))return!1;t=!0}}else{let l=u[++a],s=G1(g,e,Rh(v),T);if(s===-1){if(We(x))return!1;t=!0;continue}if(l!==""){let o;if(s>y?o="":o=e[s+1].toLowerCase(),x&2&&l!==o){if(We(x))return!1;t=!0}}}}return We(x)||t}function We(v){return(v&1)===0}function G1(v,u,T,x){if(u===null)return-1;let e=0;if(x||!T){let y=!1;for(;e<u.length;){let t=u[e];if(t===v)return e;if(t===3||t===6)y=!0;else if(t===1||t===2){let a=u[++e];for(;typeof a=="string";)a=u[++e];continue}else{if(t===4)break;if(t===0){e+=4;continue}}e+=y?1:2}return-1}else return H1(u,v)}function U1(v,u,T=!1){for(let x=0;x<u.length;x++)if(V1(v,u[x],T))return!0;return!1}function z1(v){for(let u=0;u<v.length;u++){let T=v[u];if(Jp(T))return u}return v.length}function H1(v,u){let T=v.indexOf(4);if(T>-1)for(T++;T<v.length;){let x=v[T];if(typeof x=="number")return-1;if(x===u)return T;T++}return-1}function op(v,u){return v?":not("+u.trim()+")":u}function W1(v){let u=v[0],T=1,x=2,e="",y=!1;for(;T<v.length;){let t=v[T];if(typeof t=="string")if(x&2){let a=v[++T];e+="["+t+(a.length>0?'="'+a+'"':"")+"]"}else x&8?e+="."+t:x&4&&(e+=" "+t);else e!==""&&!We(t)&&(u+=op(y,e),e=""),x=t,y=y||!We(x);T++}return e!==""&&(u+=op(y,e)),u}function X1(v){return v.map(W1).join(",")}function Y1(v){let u=[],T=[],x=1,e=2;for(;x<v.length;){let y=v[x];if(typeof y=="string")e===2?y!==""&&u.push(y,v[++x]):e===8&&T.push(y);else{if(!We(e))break;e=y}x++}return{attrs:u,classes:T}}function $n(v){return is(()=>{let u=rv(v),T=mt(et({},u),{decls:v.decls,vars:v.vars,template:v.template,consts:v.consts||null,ngContentSelectors:v.ngContentSelectors,onPush:v.changeDetection===Qp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:u.standalone&&v.dependencies||null,getStandaloneInjector:null,signals:v.signals??!1,data:v.data||{},encapsulation:v.encapsulation||on.Emulated,styles:v.styles||Fe,_:null,schemas:v.schemas||null,tView:null,id:""});sv(T);let x=v.dependencies;return T.directiveDefs=lp(x,!1),T.pipeDefs=lp(x,!0),T.id=$1(T),T})}function j1(v){return Xn(v)||tv(v)}function k1(v){return v!==null}function Ze(v){return is(()=>({type:v.type,bootstrap:v.bootstrap||Fe,declarations:v.declarations||Fe,imports:v.imports||Fe,exports:v.exports||Fe,transitiveCompileScopes:null,schemas:v.schemas||null,id:v.id||null}))}function ap(v,u){if(v==null)return rr;let T={};for(let x in v)if(v.hasOwnProperty(x)){let e=v[x],y,t,a=Wn.None;Array.isArray(e)?(a=e[0],y=e[1],t=e[2]??y):(y=e,t=e),u?(T[y]=a!==Wn.None?[x,a]:x,u[y]=t):T[y]=x}return T}function Zt(v){return is(()=>{let u=rv(v);return sv(u),u})}function _p(v){return{type:v.type,name:v.name,factory:null,pure:v.pure!==!1,standalone:v.standalone===!0,onDestroy:v.type.prototype.ngOnDestroy||null}}function Xn(v){return v[c1]||null}function tv(v){return v[p1]||null}function ev(v){return v[v1]||null}function nv(v){let u=Xn(v)||tv(v)||ev(v);return u!==null?u.standalone:!1}function iv(v,u){let T=v[g1]||null;if(!T&&u===!0)throw new Error(`Type ${ce(v)} does not have '\u0275mod' property.`);return T}function rv(v){let u={};return{type:v.type,providersResolver:null,factory:null,hostBindings:v.hostBindings||null,hostVars:v.hostVars||0,hostAttrs:v.hostAttrs||null,contentQueries:v.contentQueries||null,declaredInputs:u,inputTransforms:null,inputConfig:v.inputs||rr,exportAs:v.exportAs||null,standalone:v.standalone===!0,signals:v.signals===!0,selectors:v.selectors||Fe,viewQuery:v.viewQuery||null,features:v.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ap(v.inputs,u),outputs:ap(v.outputs),debugInfo:null}}function sv(v){v.features?.forEach(u=>u(v))}function lp(v,u){if(!v)return null;let T=u?ev:j1;return()=>(typeof v=="function"?v():v).map(x=>T(x)).filter(k1)}function $1(v){let u=0,T=[v.selectors,v.ngContentSelectors,v.hostVars,v.hostAttrs,v.consts,v.vars,v.decls,v.encapsulation,v.standalone,v.signals,v.exportAs,JSON.stringify(v.inputs),JSON.stringify(v.outputs),Object.getOwnPropertyNames(v.type.prototype),!!v.contentQueries,!!v.viewQuery].join("|");for(let e of T)u=Math.imul(31,u)+e.charCodeAt(0)<<0;return u+=2147483648,"c"+u}function ss(v){return{\u0275providers:v}}function Z1(...v){return{\u0275providers:ov(!0,v),\u0275fromNgModule:!0}}function ov(v,...u){let T=[],x=new Set,e,y=t=>{T.push(t)};return Ph(u,t=>{let a=t;bu(a,y,[],x)&&(e||=[],e.push(a))}),e!==void 0&&av(e,y),T}function av(v,u){for(let T=0;T<v.length;T++){let{ngModule:x,providers:e}=v[T];Ih(e,y=>{u(y,x)})}}function bu(v,u,T,x){if(v=de(v),!v)return!1;let e=null,y=ep(v),t=!y&&Xn(v);if(!y&&!t){let g=v.ngModule;if(y=ep(g),y)e=g;else return!1}else{if(t&&!t.standalone)return!1;e=v}let a=x.has(e);if(t){if(a)return!1;if(x.add(e),t.dependencies){let g=typeof t.dependencies=="function"?t.dependencies():t.dependencies;for(let l of g)bu(l,u,T,x)}}else if(y){if(y.imports!=null&&!a){x.add(e);let l;try{Ph(y.imports,s=>{bu(s,u,T,x)&&(l||=[],l.push(s))})}finally{}l!==void 0&&av(l,u)}if(!a){let l=yi(e)||(()=>new e);u({provide:e,useFactory:l,deps:Fe},e),u({provide:Kp,useValue:e,multi:!0},e),u({provide:sr,useValue:()=>at(e),multi:!0},e)}let g=y.providers;if(g!=null&&!a){let l=v;Ih(g,s=>{u(s,l)})}}else return!1;return e!==v&&v.providers!==void 0}function Ih(v,u){for(let T of v)Xp(T)&&(T=T.\u0275providers),Array.isArray(T)?Ih(T,u):u(T)}var K1=Gt({provide:String,useValue:Gt});function lv(v){return v!==null&&typeof v=="object"&&K1 in v}function Q1(v){return!!(v&&v.useExisting)}function J1(v){return!!(v&&v.useFactory)}function or(v){return typeof v=="function"}function q1(v){return!!v.useClass}var Ea=new lt(""),Wo={},_1={},mu;function Fh(){return mu===void 0&&(mu=new Jo),mu}var pe=class{},_r=class extends pe{get destroyed(){return this._destroyed}constructor(u,T,x,e){super(),this.parent=T,this.source=x,this.scopes=e,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bu(u,t=>this.processProvider(t)),this.records.set(Zp,Ji(void 0,this)),e.has("environment")&&this.records.set(pe,Ji(void 0,this));let y=this.records.get(Ea);y!=null&&typeof y.value=="string"&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Kp,Fe,Mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let u=Lt(null);try{for(let x of this._ngOnDestroyHooks)x.ngOnDestroy();let T=this._onDestroyHooks;this._onDestroyHooks=[];for(let x of T)x()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Lt(u)}}onDestroy(u){return this.assertNotDestroyed(),this._onDestroyHooks.push(u),()=>this.removeOnDestroy(u)}runInContext(u){this.assertNotDestroyed();let T=Un(this),x=Te(void 0),e;try{return u()}finally{Un(T),Te(x)}}get(u,T=Jr,x=Mt.Default){if(this.assertNotDestroyed(),u.hasOwnProperty(ip))return u[ip](this);x=Ta(x);let e,y=Un(this),t=Te(void 0);try{if(!(x&Mt.SkipSelf)){let g=this.records.get(u);if(g===void 0){let l=rT(u)&&xa(u);l&&this.injectableDefInScope(l)?g=Ji(Nu(u),Wo):g=null,this.records.set(u,g)}if(g!=null)return this.hydrate(u,g)}let a=x&Mt.Self?Fh():this.parent;return T=x&Mt.Optional&&T===Jr?null:T,a.get(u,T)}catch(a){if(a.name==="NullInjectorError"){if((a[Ko]=a[Ko]||[]).unshift(ce(u)),y)throw a;return w1(a,u,"R3InjectorError",this.source)}else throw a}finally{Te(t),Un(y)}}resolveInjectorInitializers(){let u=Lt(null),T=Un(this),x=Te(void 0),e;try{let y=this.get(sr,Fe,Mt.Self);for(let t of y)t()}finally{Un(T),Te(x),Lt(u)}}toString(){let u=[],T=this.records;for(let x of T.keys())u.push(ce(x));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ft(205,!1)}processProvider(u){u=de(u);let T=or(u)?u:de(u&&u.provide),x=eT(u);if(!or(u)&&u.multi===!0){let e=this.records.get(T);e||(e=Ji(void 0,Wo,!0),e.factory=()=>Ou(e.multi),this.records.set(T,e)),T=u,e.multi.push(u)}this.records.set(T,x)}hydrate(u,T){let x=Lt(null);try{return T.value===Wo&&(T.value=_1,T.value=T.factory()),typeof T.value=="object"&&T.value&&iT(T.value)&&this._ngOnDestroyHooks.add(T.value),T.value}finally{Lt(x)}}injectableDefInScope(u){if(!u.providedIn)return!1;let T=de(u.providedIn);return typeof T=="string"?T==="any"||this.scopes.has(T):this.injectorDefTypes.has(T)}removeOnDestroy(u){let T=this._onDestroyHooks.indexOf(u);T!==-1&&this._onDestroyHooks.splice(T,1)}};function Nu(v){let u=xa(v),T=u!==null?u.factory:yi(v);if(T!==null)return T;if(v instanceof lt)throw new ft(204,!1);if(v instanceof Function)return tT(v);throw new ft(204,!1)}function tT(v){if(v.length>0)throw new ft(204,!1);let T=f1(v);return T!==null?()=>T.factory(v):()=>new v}function eT(v){if(lv(v))return Ji(void 0,v.useValue);{let u=uv(v);return Ji(u,Wo)}}function uv(v,u,T){let x;if(or(v)){let e=de(v);return yi(e)||Nu(e)}else if(lv(v))x=()=>de(v.useValue);else if(J1(v))x=()=>v.useFactory(...Ou(v.deps||[]));else if(Q1(v))x=()=>at(de(v.useExisting));else{let e=de(v&&(v.useClass||v.provide));if(nT(v))x=()=>new e(...Ou(v.deps));else return yi(e)||Nu(e)}return x}function Ji(v,u,T=!1){return{factory:v,value:u,multi:T?[]:void 0}}function nT(v){return!!v.deps}function iT(v){return v!==null&&typeof v=="object"&&typeof v.ngOnDestroy=="function"}function rT(v){return typeof v=="function"||typeof v=="object"&&v instanceof lt}function Bu(v,u){for(let T of v)Array.isArray(T)?Bu(T,u):T&&Xp(T)?Bu(T.\u0275providers,u):u(T)}function Le(v,u){v instanceof _r&&v.assertNotDestroyed();let T,x=Un(v),e=Te(void 0);try{return u()}finally{Un(x),Te(e)}}function hv(){return Yp()!==void 0||S1()!=null}function sT(v){if(!hv())throw new ft(-203,!1)}function oT(v){return typeof v=="function"}var Sn=0,Et=1,gt=2,le=3,Xe=4,Ke=5,qo=6,_o=7,Ye=8,ar=9,an=10,te=11,ts=12,up=13,pr=14,ln=15,xi=16,qi=17,xn=18,Sa=19,fv=20,zn=21,yu=22,Oe=23,je=25,dv=1;var Ti=7,ta=8,lr=9,De=10,ea=function(v){return v[v.None=0]="None",v[v.HasTransplantedViews=2]="HasTransplantedViews",v}(ea||{});function Hn(v){return Array.isArray(v)&&typeof v[dv]=="object"}function Dn(v){return Array.isArray(v)&&v[dv]===!0}function cv(v){return(v.flags&4)!==0}function Da(v){return v.componentOffset>-1}function Oh(v){return(v.flags&1)===1}function Yn(v){return!!v.template}function Vu(v){return(v[gt]&512)!==0}var Gu=class{constructor(u,T,x){this.previousValue=u,this.currentValue=T,this.firstChange=x}isFirstChange(){return this.firstChange}};function pv(v,u,T,x){u!==null?u.applyValueToInputSignal(u,x):v[T]=x}function Qe(){return vv}function vv(v){return v.type.prototype.ngOnChanges&&(v.setInput=lT),aT}Qe.ngInherit=!0;function aT(){let v=mv(this),u=v?.current;if(u){let T=v.previous;if(T===rr)v.previous=u;else for(let x in u)T[x]=u[x];v.current=null,this.ngOnChanges(u)}}function lT(v,u,T,x,e){let y=this.declaredInputs[x],t=mv(v)||uT(v,{previous:rr,current:null}),a=t.current||(t.current={}),g=t.previous,l=g[y];a[y]=new Gu(l&&l.currentValue,T,g===rr),pv(v,u,e,T)}var gv="__ngSimpleChanges__";function mv(v){return v[gv]||null}function uT(v,u){return v[gv]=u}var hp=null;var rn=function(v,u,T){hp?.(v,u,T)},yv="svg",hT="math";function un(v){for(;Array.isArray(v);)v=v[Sn];return v}function xv(v,u){return un(u[v])}function be(v,u){return un(u[v.index])}function Tv(v,u){return v.data[u]}function Cv(v,u){return v[u]}function Zn(v,u){let T=u[v];return Hn(T)?T:T[Sn]}function fT(v){return(v[gt]&4)===4}function Lh(v){return(v[gt]&128)===128}function dT(v){return Dn(v[le])}function na(v,u){return u==null?null:v[u]}function Ev(v){v[qi]=0}function Sv(v){v[gt]&1024||(v[gt]|=1024,Lh(v)&&wa(v))}function cT(v,u){for(;v>0;)u=u[pr],v--;return u}function Ma(v){return!!(v[gt]&9216||v[Oe]?.dirty)}function Uu(v){v[an].changeDetectionScheduler?.notify(8),v[gt]&64&&(v[gt]|=1024),Ma(v)&&wa(v)}function wa(v){v[an].changeDetectionScheduler?.notify(0);let u=Ci(v);for(;u!==null&&!(u[gt]&8192||(u[gt]|=8192,!Lh(u)));)u=Ci(u)}function Dv(v,u){if((v[gt]&256)===256)throw new ft(911,!1);v[zn]===null&&(v[zn]=[]),v[zn].push(u)}function pT(v,u){if(v[zn]===null)return;let T=v[zn].indexOf(u);T!==-1&&v[zn].splice(T,1)}function Ci(v){let u=v[le];return Dn(u)?u[le]:u}var Ct={lFrame:bv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Mv=!1;function vT(){return Ct.lFrame.elementDepthCount}function gT(){Ct.lFrame.elementDepthCount++}function mT(){Ct.lFrame.elementDepthCount--}function wv(){return Ct.bindingsEnabled}function yT(){return Ct.skipHydrationRootTNode!==null}function xT(v){return Ct.skipHydrationRootTNode===v}function TT(){Ct.skipHydrationRootTNode=null}function At(){return Ct.lFrame.lView}function ae(){return Ct.lFrame.tView}function bh(v){return Ct.lFrame.contextLView=v,v[Ye]}function Nh(v){return Ct.lFrame.contextLView=null,v}function ue(){let v=Av();for(;v!==null&&v.type===64;)v=v.parent;return v}function Av(){return Ct.lFrame.currentTNode}function CT(){let v=Ct.lFrame,u=v.currentTNode;return v.isParent?u:u.parent}function os(v,u){let T=Ct.lFrame;T.currentTNode=v,T.isParent=u}function Pv(){return Ct.lFrame.isParent}function ET(){Ct.lFrame.isParent=!1}function ST(){return Ct.lFrame.contextLView}function Rv(){return Mv}function fp(v){Mv=v}function Aa(){let v=Ct.lFrame,u=v.bindingRootIndex;return u===-1&&(u=v.bindingRootIndex=v.tView.bindingStartIndex),u}function DT(){return Ct.lFrame.bindingIndex}function MT(v){return Ct.lFrame.bindingIndex=v}function Pa(){return Ct.lFrame.bindingIndex++}function Iv(v){let u=Ct.lFrame,T=u.bindingIndex;return u.bindingIndex=u.bindingIndex+v,T}function wT(){return Ct.lFrame.inI18n}function AT(v,u){let T=Ct.lFrame;T.bindingIndex=T.bindingRootIndex=v,zu(u)}function PT(){return Ct.lFrame.currentDirectiveIndex}function zu(v){Ct.lFrame.currentDirectiveIndex=v}function RT(v){let u=Ct.lFrame.currentDirectiveIndex;return u===-1?null:v[u]}function Fv(){return Ct.lFrame.currentQueryIndex}function Bh(v){Ct.lFrame.currentQueryIndex=v}function IT(v){let u=v[Et];return u.type===2?u.declTNode:u.type===1?v[Ke]:null}function Ov(v,u,T){if(T&Mt.SkipSelf){let e=u,y=v;for(;e=e.parent,e===null&&!(T&Mt.Host);)if(e=IT(y),e===null||(y=y[pr],e.type&10))break;if(e===null)return!1;u=e,v=y}let x=Ct.lFrame=Lv();return x.currentTNode=u,x.lView=v,!0}function Vh(v){let u=Lv(),T=v[Et];Ct.lFrame=u,u.currentTNode=T.firstChild,u.lView=v,u.tView=T,u.contextLView=v,u.bindingIndex=T.bindingStartIndex,u.inI18n=!1}function Lv(){let v=Ct.lFrame,u=v===null?null:v.child;return u===null?bv(v):u}function bv(v){let u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:v,child:null,inI18n:!1};return v!==null&&(v.child=u),u}function Nv(){let v=Ct.lFrame;return Ct.lFrame=v.parent,v.currentTNode=null,v.lView=null,v}var Bv=Nv;function Gh(){let v=Nv();v.isParent=!0,v.tView=null,v.selectedIndex=-1,v.contextLView=null,v.elementDepthCount=0,v.currentDirectiveIndex=-1,v.currentNamespace=null,v.bindingRootIndex=-1,v.bindingIndex=-1,v.currentQueryIndex=0}function FT(v){return(Ct.lFrame.contextLView=cT(v,Ct.lFrame.contextLView))[Ye]}function Ri(){return Ct.lFrame.selectedIndex}function Ei(v){Ct.lFrame.selectedIndex=v}function Ra(){let v=Ct.lFrame;return Tv(v.tView,v.selectedIndex)}function r3(){Ct.lFrame.currentNamespace=yv}function s3(){OT()}function OT(){Ct.lFrame.currentNamespace=null}function LT(){return Ct.lFrame.currentNamespace}var Vv=!0;function Uh(){return Vv}function zh(v){Vv=v}function bT(v,u,T){let{ngOnChanges:x,ngOnInit:e,ngDoCheck:y}=u.type.prototype;if(x){let t=vv(u);(T.preOrderHooks??=[]).push(v,t),(T.preOrderCheckHooks??=[]).push(v,t)}e&&(T.preOrderHooks??=[]).push(0-v,e),y&&((T.preOrderHooks??=[]).push(v,y),(T.preOrderCheckHooks??=[]).push(v,y))}function Hh(v,u){for(let T=u.directiveStart,x=u.directiveEnd;T<x;T++){let y=v.data[T].type.prototype,{ngAfterContentInit:t,ngAfterContentChecked:a,ngAfterViewInit:g,ngAfterViewChecked:l,ngOnDestroy:s}=y;t&&(v.contentHooks??=[]).push(-T,t),a&&((v.contentHooks??=[]).push(T,a),(v.contentCheckHooks??=[]).push(T,a)),g&&(v.viewHooks??=[]).push(-T,g),l&&((v.viewHooks??=[]).push(T,l),(v.viewCheckHooks??=[]).push(T,l)),s!=null&&(v.destroyHooks??=[]).push(T,s)}}function Xo(v,u,T){Gv(v,u,3,T)}function Yo(v,u,T,x){(v[gt]&3)===T&&Gv(v,u,T,x)}function xu(v,u){let T=v[gt];(T&3)===u&&(T&=16383,T+=1,v[gt]=T)}function Gv(v,u,T,x){let e=x!==void 0?v[qi]&65535:0,y=x??-1,t=u.length-1,a=0;for(let g=e;g<t;g++)if(typeof u[g+1]=="number"){if(a=u[g],x!=null&&a>=x)break}else u[g]<0&&(v[qi]+=65536),(a<y||y==-1)&&(NT(v,T,u,g),v[qi]=(v[qi]&4294901760)+g+2),g++}function dp(v,u){rn(4,v,u);let T=Lt(null);try{u.call(v)}finally{Lt(T),rn(5,v,u)}}function NT(v,u,T,x){let e=T[x]<0,y=T[x+1],t=e?-T[x]:T[x],a=v[t];e?v[gt]>>14<v[qi]>>16&&(v[gt]&3)===u&&(v[gt]+=16384,dp(a,y)):dp(a,y)}var nr=-1,Si=class{constructor(u,T,x){this.factory=u,this.resolving=!1,this.canSeeViewProviders=T,this.injectImpl=x}};function BT(v){return v instanceof Si}function VT(v){return(v.flags&8)!==0}function GT(v){return(v.flags&16)!==0}var Tu={},Hu=class{constructor(u,T){this.injector=u,this.parentInjector=T}get(u,T,x){x=Ta(x);let e=this.injector.get(u,Tu,x);return e!==Tu||T===Tu?e:this.parentInjector.get(u,T,x)}};function Uv(v){return v!==nr}function ia(v){return v&32767}function UT(v){return v>>16}function ra(v,u){let T=UT(v),x=u;for(;T>0;)x=x[pr],T--;return x}var Wu=!0;function sa(v){let u=Wu;return Wu=v,u}var zT=256,zv=zT-1,Hv=5,HT=0,sn={};function WT(v,u,T){let x;typeof T=="string"?x=T.charCodeAt(0)||0:T.hasOwnProperty(Qr)&&(x=T[Qr]),x==null&&(x=T[Qr]=HT++);let e=x&zv,y=1<<e;u.data[v+(e>>Hv)]|=y}function oa(v,u){let T=Wv(v,u);if(T!==-1)return T;let x=u[Et];x.firstCreatePass&&(v.injectorIndex=u.length,Cu(x.data,v),Cu(u,null),Cu(x.blueprint,null));let e=Wh(v,u),y=v.injectorIndex;if(Uv(e)){let t=ia(e),a=ra(e,u),g=a[Et].data;for(let l=0;l<8;l++)u[y+l]=a[t+l]|g[t+l]}return u[y+8]=e,y}function Cu(v,u){v.push(0,0,0,0,0,0,0,0,u)}function Wv(v,u){return v.injectorIndex===-1||v.parent&&v.parent.injectorIndex===v.injectorIndex||u[v.injectorIndex+8]===null?-1:v.injectorIndex}function Wh(v,u){if(v.parent&&v.parent.injectorIndex!==-1)return v.parent.injectorIndex;let T=0,x=null,e=u;for(;e!==null;){if(x=$v(e),x===null)return nr;if(T++,e=e[pr],x.injectorIndex!==-1)return x.injectorIndex|T<<16}return nr}function Xu(v,u,T){WT(v,u,T)}function XT(v,u){if(u==="class")return v.classes;if(u==="style")return v.styles;let T=v.attrs;if(T){let x=T.length,e=0;for(;e<x;){let y=T[e];if(Jp(y))break;if(y===0)e=e+2;else if(typeof y=="number")for(e++;e<x&&typeof T[e]=="string";)e++;else{if(y===u)return T[e+1];e=e+2}}}return null}function Xv(v,u,T){if(T&Mt.Optional||v!==void 0)return v;wh(u,"NodeInjector")}function Yv(v,u,T,x){if(T&Mt.Optional&&x===void 0&&(x=null),!(T&(Mt.Self|Mt.Host))){let e=v[ar],y=Te(void 0);try{return e?e.get(u,x,T&Mt.Optional):jp(u,x,T&Mt.Optional)}finally{Te(y)}}return Xv(x,u,T)}function jv(v,u,T,x=Mt.Default,e){if(v!==null){if(u[gt]&2048&&!(x&Mt.Self)){let t=$T(v,u,T,x,sn);if(t!==sn)return t}let y=kv(v,u,T,x,sn);if(y!==sn)return y}return Yv(u,T,x,e)}function kv(v,u,T,x,e){let y=jT(T);if(typeof y=="function"){if(!Ov(u,v,x))return x&Mt.Host?Xv(e,T,x):Yv(u,T,x,e);try{let t;if(t=y(x),t==null&&!(x&Mt.Optional))wh(T);else return t}finally{Bv()}}else if(typeof y=="number"){let t=null,a=Wv(v,u),g=nr,l=x&Mt.Host?u[ln][Ke]:null;for((a===-1||x&Mt.SkipSelf)&&(g=a===-1?Wh(v,u):u[a+8],g===nr||!pp(x,!1)?a=-1:(t=u[Et],a=ia(g),u=ra(g,u)));a!==-1;){let s=u[Et];if(cp(y,a,s.data)){let o=YT(a,u,T,t,x,l);if(o!==sn)return o}g=u[a+8],g!==nr&&pp(x,u[Et].data[a+8]===l)&&cp(y,a,u)?(t=s,a=ia(g),u=ra(g,u)):a=-1}}return e}function YT(v,u,T,x,e,y){let t=u[Et],a=t.data[v+8],g=x==null?Da(a)&&Wu:x!=t&&(a.type&3)!==0,l=e&Mt.Host&&y===a,s=jo(a,t,T,g,l);return s!==null?Di(u,t,s,a):sn}function jo(v,u,T,x,e){let y=v.providerIndexes,t=u.data,a=y&1048575,g=v.directiveStart,l=v.directiveEnd,s=y>>20,o=x?a:a+s,n=e?a+s:l;for(let i=o;i<n;i++){let h=t[i];if(i<g&&T===h||i>=g&&h.type===T)return i}if(e){let i=t[g];if(i&&Yn(i)&&i.type===T)return g}return null}function Di(v,u,T,x){let e=v[T],y=u.data;if(BT(e)){let t=e;t.resolving&&y1(m1(y[T]));let a=sa(t.canSeeViewProviders);t.resolving=!0;let g,l=t.injectImpl?Te(t.injectImpl):null,s=Ov(v,x,Mt.Default);try{e=v[T]=t.factory(void 0,y,v,x),u.firstCreatePass&&T>=x.directiveStart&&bT(T,y[T],u)}finally{l!==null&&Te(l),sa(a),t.resolving=!1,Bv()}}return e}function jT(v){if(typeof v=="string")return v.charCodeAt(0)||0;let u=v.hasOwnProperty(Qr)?v[Qr]:void 0;return typeof u=="number"?u>=0?u&zv:kT:u}function cp(v,u,T){let x=1<<v;return!!(T[u+(v>>Hv)]&x)}function pp(v,u){return!(v&Mt.Self)&&!(v&Mt.Host&&u)}var mi=class{constructor(u,T){this._tNode=u,this._lView=T}get(u,T,x){return jv(this._tNode,this._lView,u,Ta(x),T)}};function kT(){return new mi(ue(),At())}function vr(v){return is(()=>{let u=v.prototype.constructor,T=u[Zo]||Yu(u),x=Object.prototype,e=Object.getPrototypeOf(v.prototype).constructor;for(;e&&e!==x;){let y=e[Zo]||Yu(e);if(y&&y!==T)return y;e=Object.getPrototypeOf(e)}return y=>new y})}function Yu(v){return Up(v)?()=>{let u=Yu(de(v));return u&&u()}:yi(v)}function $T(v,u,T,x,e){let y=v,t=u;for(;y!==null&&t!==null&&t[gt]&2048&&!(t[gt]&512);){let a=kv(y,t,T,x|Mt.Self,sn);if(a!==sn)return a;let g=y.parent;if(!g){let l=t[fv];if(l){let s=l.get(T,sn,x);if(s!==sn)return s}g=$v(t),t=t[pr]}y=g}return e}function $v(v){let u=v[Et],T=u.type;return T===2?u.declTNode:T===1?v[Ke]:null}function Xh(v){return XT(ue(),v)}function vp(v,u=null,T=null,x){let e=Zv(v,u,T,x);return e.resolveInjectorInitializers(),e}function Zv(v,u=null,T=null,x,e=new Set){let y=[T||Fe,Z1(v)];return x=x||(typeof v=="object"?void 0:ce(v)),new _r(y,u||Fh(),x||null,e)}var vi=class vi{static create(u,T){if(Array.isArray(u))return vp({name:""},T,u,"");{let x=u.name??"";return vp({name:x},u.parent,u.providers,x)}}};vi.THROW_IF_NOT_FOUND=Jr,vi.NULL=new Jo,vi.\u0275prov=st({token:vi,providedIn:"any",factory:()=>at(Zp)}),vi.__NG_ELEMENT_ID__=-1;var ke=vi;var ZT=new lt("");ZT.__NG_ELEMENT_ID__=v=>{let u=ue();if(u===null)throw new ft(204,!1);if(u.type&2)return u.value;if(v&Mt.Optional)return null;throw new ft(204,!1)};var KT="ngOriginalError";function Eu(v){return v[KT]}var Kv=!0,Yh=(()=>{let u=class u{};u.__NG_ELEMENT_ID__=QT,u.__NG_ENV_ID__=x=>x;let v=u;return v})(),ju=class extends Yh{constructor(u){super(),this._lView=u}onDestroy(u){return Dv(this._lView,u),()=>pT(this._lView,u)}};function QT(){return new ju(At())}var Mn=(()=>{let u=class u{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let x=this.taskId++;return this.pendingTasks.add(x),x}remove(x){this.pendingTasks.delete(x),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};u.\u0275prov=st({token:u,providedIn:"root",factory:()=>new u});let v=u;return v})();var ku=class extends Jt{constructor(u=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=u,hv()&&(this.destroyRef=tt(Yh,{optional:!0})??void 0,this.pendingTasks=tt(Mn,{optional:!0})??void 0)}emit(u){let T=Lt(null);try{super.next(u)}finally{Lt(T)}}subscribe(u,T,x){let e=u,y=T||(()=>null),t=x;if(u&&typeof u=="object"){let g=u;e=g.next?.bind(g),y=g.error?.bind(g),t=g.complete?.bind(g)}this.__isAsync&&(y=this.wrapInTimeout(y),e&&(e=this.wrapInTimeout(e)),t&&(t=this.wrapInTimeout(t)));let a=super.subscribe({next:e,error:y,complete:t});return u instanceof Qt&&u.add(a),a}wrapInTimeout(u){return T=>{let x=this.pendingTasks?.add();setTimeout(()=>{u(T),x!==void 0&&this.pendingTasks?.remove(x)})}}},Xt=ku;function aa(...v){}function Qv(v){let u,T;function x(){v=aa;try{T!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(T),u!==void 0&&clearTimeout(u)}catch{}}return u=setTimeout(()=>{v(),x()}),typeof requestAnimationFrame=="function"&&(T=requestAnimationFrame(()=>{v(),x()})),()=>x()}function gp(v){return queueMicrotask(()=>v()),()=>{v=aa}}var jh="isAngularZone",la=jh+"_ID",JT=0,jt=class v{constructor(u){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xt(!1),this.onMicrotaskEmpty=new Xt(!1),this.onStable=new Xt(!1),this.onError=new Xt(!1);let{enableLongStackTrace:T=!1,shouldCoalesceEventChangeDetection:x=!1,shouldCoalesceRunChangeDetection:e=!1,scheduleInRootZone:y=Kv}=u;if(typeof Zone>"u")throw new ft(908,!1);Zone.assertZonePatched();let t=this;t._nesting=0,t._outer=t._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(t._inner=t._inner.fork(new Zone.TaskTrackingZoneSpec)),T&&Zone.longStackTraceZoneSpec&&(t._inner=t._inner.fork(Zone.longStackTraceZoneSpec)),t.shouldCoalesceEventChangeDetection=!e&&x,t.shouldCoalesceRunChangeDetection=e,t.callbackScheduled=!1,t.scheduleInRootZone=y,tC(t)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jh)===!0}static assertInAngularZone(){if(!v.isInAngularZone())throw new ft(909,!1)}static assertNotInAngularZone(){if(v.isInAngularZone())throw new ft(909,!1)}run(u,T,x){return this._inner.run(u,T,x)}runTask(u,T,x,e){let y=this._inner,t=y.scheduleEventTask("NgZoneEvent: "+e,u,qT,aa,aa);try{return y.runTask(t,T,x)}finally{y.cancelTask(t)}}runGuarded(u,T,x){return this._inner.runGuarded(u,T,x)}runOutsideAngular(u){return this._outer.run(u)}},qT={};function kh(v){if(v._nesting==0&&!v.hasPendingMicrotasks&&!v.isStable)try{v._nesting++,v.onMicrotaskEmpty.emit(null)}finally{if(v._nesting--,!v.hasPendingMicrotasks)try{v.runOutsideAngular(()=>v.onStable.emit(null))}finally{v.isStable=!0}}}function _T(v){if(v.isCheckStableRunning||v.callbackScheduled)return;v.callbackScheduled=!0;function u(){Qv(()=>{v.callbackScheduled=!1,$u(v),v.isCheckStableRunning=!0,kh(v),v.isCheckStableRunning=!1})}v.scheduleInRootZone?Zone.root.run(()=>{u()}):v._outer.run(()=>{u()}),$u(v)}function tC(v){let u=()=>{_T(v)},T=JT++;v._inner=v._inner.fork({name:"angular",properties:{[jh]:!0,[la]:T,[la+T]:!0},onInvokeTask:(x,e,y,t,a,g)=>{if(eC(g))return x.invokeTask(y,t,a,g);try{return mp(v),x.invokeTask(y,t,a,g)}finally{(v.shouldCoalesceEventChangeDetection&&t.type==="eventTask"||v.shouldCoalesceRunChangeDetection)&&u(),yp(v)}},onInvoke:(x,e,y,t,a,g,l)=>{try{return mp(v),x.invoke(y,t,a,g,l)}finally{v.shouldCoalesceRunChangeDetection&&!v.callbackScheduled&&!nC(g)&&u(),yp(v)}},onHasTask:(x,e,y,t)=>{x.hasTask(y,t),e===y&&(t.change=="microTask"?(v._hasPendingMicrotasks=t.microTask,$u(v),kh(v)):t.change=="macroTask"&&(v.hasPendingMacrotasks=t.macroTask))},onHandleError:(x,e,y,t)=>(x.handleError(y,t),v.runOutsideAngular(()=>v.onError.emit(t)),!1)})}function $u(v){v._hasPendingMicrotasks||(v.shouldCoalesceEventChangeDetection||v.shouldCoalesceRunChangeDetection)&&v.callbackScheduled===!0?v.hasPendingMicrotasks=!0:v.hasPendingMicrotasks=!1}function mp(v){v._nesting++,v.isStable&&(v.isStable=!1,v.onUnstable.emit(null))}function yp(v){v._nesting--,kh(v)}var Zu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xt,this.onMicrotaskEmpty=new Xt,this.onStable=new Xt,this.onError=new Xt}run(u,T,x){return u.apply(T,x)}runGuarded(u,T,x){return u.apply(T,x)}runOutsideAngular(u){return u()}runTask(u,T,x,e){return u.apply(T,x)}};function eC(v){return Jv(v,"__ignore_ng_zone__")}function nC(v){return Jv(v,"__scheduler_tick__")}function Jv(v,u){return!Array.isArray(v)||v.length!==1?!1:v[0]?.data?.[u]===!0}var Tn=class{constructor(){this._console=console}handleError(u){let T=this._findOriginalError(u);this._console.error("ERROR",u),T&&this._console.error("ORIGINAL ERROR",T)}_findOriginalError(u){let T=u&&Eu(u);for(;T&&Eu(T);)T=Eu(T);return T||null}},iC=new lt("",{providedIn:"root",factory:()=>{let v=tt(jt),u=tt(Tn);return T=>v.runOutsideAngular(()=>u.handleError(T))}});function rC(){return gr(ue(),At())}function gr(v,u){return new Me(be(v,u))}var Me=(()=>{let u=class u{constructor(x){this.nativeElement=x}};u.__NG_ELEMENT_ID__=rC;let v=u;return v})();function sC(v){return v instanceof Me?v.nativeElement:v}function oC(){return this._results[Symbol.iterator]()}var Ku=class v{get changes(){return this._changes??=new Xt}constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let T=v.prototype;T[Symbol.iterator]||(T[Symbol.iterator]=oC)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,T){return this._results.reduce(u,T)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,T){this.dirty=!1;let x=R1(u);(this._changesDetected=!P1(this._results,x,T))&&(this._results=x,this.length=x.length,this.last=x[this.length-1],this.first=x[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(u){this._onDirty=u}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function qv(v){return(v.flags&128)===128}var _v=new Map,aC=0;function lC(){return aC++}function uC(v){_v.set(v[Sa],v)}function Qu(v){_v.delete(v[Sa])}var xp="__ngContext__";function Mi(v,u){Hn(u)?(v[xp]=u[Sa],uC(u)):v[xp]=u}function tg(v){return ng(v[ts])}function eg(v){return ng(v[Xe])}function ng(v){for(;v!==null&&!Dn(v);)v=v[Xe];return v}var Ju;function ig(v){Ju=v}function hC(){if(Ju!==void 0)return Ju;if(typeof document<"u")return document;throw new ft(210,!1)}var $h=new lt("",{providedIn:"root",factory:()=>fC}),fC="ng",Zh=new lt(""),Ne=new lt("",{providedIn:"platform",factory:()=>"unknown"});var Kh=new lt("",{providedIn:"root",factory:()=>hC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var dC="h",cC="b";var pC=()=>null;function Qh(v,u,T=!1){return pC(v,u,T)}var rg=!1,vC=new lt("",{providedIn:"root",factory:()=>rg});var Go;function gC(){if(Go===void 0&&(Go=null,Ru.trustedTypes))try{Go=Ru.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:v=>v,createScript:v=>v,createScriptURL:v=>v})}catch{}return Go}function Tp(v){return gC()?.createScriptURL(v)||v}var ua=class{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vp})`}};function as(v){return v instanceof ua?v.changingThisBreaksApplicationSecurity:v}function Jh(v,u){let T=mC(v);if(T!=null&&T!==u){if(T==="ResourceURL"&&u==="URL")return!0;throw new Error(`Required a safe ${u}, got a ${T} (see ${Vp})`)}return T===u}function mC(v){return v instanceof ua&&v.getTypeName()||null}var yC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sg(v){return v=String(v),v.match(yC)?v:"unsafe:"+v}var Ia=function(v){return v[v.NONE=0]="NONE",v[v.HTML=1]="HTML",v[v.STYLE=2]="STYLE",v[v.SCRIPT=3]="SCRIPT",v[v.URL=4]="URL",v[v.RESOURCE_URL=5]="RESOURCE_URL",v}(Ia||{});function Ii(v){let u=ag();return u?u.sanitize(Ia.URL,v)||"":Jh(v,"URL")?as(v):sg(ir(v))}function xC(v){let u=ag();if(u)return Tp(u.sanitize(Ia.RESOURCE_URL,v)||"");if(Jh(v,"ResourceURL"))return Tp(as(v));throw new ft(904,!1)}function TC(v,u){return u==="src"&&(v==="embed"||v==="frame"||v==="iframe"||v==="media"||v==="script")||u==="href"&&(v==="base"||v==="link")?xC:Ii}function og(v,u,T){return TC(u,T)(v)}function ag(){let v=At();return v&&v[an].sanitizer}function lg(v){return v instanceof Function?v():v}function CC(v){return(v??tt(ke)).get(Ne)==="browser"}var Cn=function(v){return v[v.Important=1]="Important",v[v.DashCase=2]="DashCase",v}(Cn||{}),EC;function qh(v,u){return EC(v,u)}function _i(v,u,T,x,e){if(x!=null){let y,t=!1;Dn(x)?y=x:Hn(x)&&(t=!0,x=x[Sn]);let a=un(x);v===0&&T!==null?e==null?cg(u,T,a):ha(u,T,a,e||null,!0):v===1&&T!==null?ha(u,T,a,e||null,!0):v===2?VC(u,a,t):v===3&&u.destroyNode(a),y!=null&&UC(u,v,y,T,e)}}function SC(v,u){return v.createText(u)}function DC(v,u,T){v.setValue(u,T)}function ug(v,u,T){return v.createElement(u,T)}function MC(v,u){hg(v,u),u[Sn]=null,u[Ke]=null}function wC(v,u,T,x,e,y){x[Sn]=e,x[Ke]=u,Fa(v,x,T,1,e,y)}function hg(v,u){u[an].changeDetectionScheduler?.notify(9),Fa(v,u,u[te],2,null,null)}function AC(v){let u=v[ts];if(!u)return Su(v[Et],v);for(;u;){let T=null;if(Hn(u))T=u[ts];else{let x=u[De];x&&(T=x)}if(!T){for(;u&&!u[Xe]&&u!==v;)Hn(u)&&Su(u[Et],u),u=u[le];u===null&&(u=v),Hn(u)&&Su(u[Et],u),T=u&&u[Xe]}u=T}}function PC(v,u,T,x){let e=De+x,y=T.length;x>0&&(T[e-1][Xe]=u),x<y-De?(u[Xe]=T[e],$p(T,De+x,u)):(T.push(u),u[Xe]=null),u[le]=T;let t=u[xi];t!==null&&T!==t&&fg(t,u);let a=u[xn];a!==null&&a.insertView(v),Uu(u),u[gt]|=128}function fg(v,u){let T=v[lr],x=u[le];if(Hn(x))v[gt]|=ea.HasTransplantedViews;else{let e=x[le][ln];u[ln]!==e&&(v[gt]|=ea.HasTransplantedViews)}T===null?v[lr]=[u]:T.push(u)}function _h(v,u){let T=v[lr],x=T.indexOf(u);T.splice(x,1)}function qu(v,u){if(v.length<=De)return;let T=De+u,x=v[T];if(x){let e=x[xi];e!==null&&e!==v&&_h(e,x),u>0&&(v[T-1][Xe]=x[Xe]);let y=Qo(v,De+u);MC(x[Et],x);let t=y[xn];t!==null&&t.detachView(y[Et]),x[le]=null,x[Xe]=null,x[gt]&=-129}return x}function dg(v,u){if(!(u[gt]&256)){let T=u[te];T.destroyNode&&Fa(v,u,T,3,null,null),AC(u)}}function Su(v,u){if(u[gt]&256)return;let T=Lt(null);try{u[gt]&=-129,u[gt]|=256,u[Oe]&&ql(u[Oe]),IC(v,u),RC(v,u),u[Et].type===1&&u[te].destroy();let x=u[xi];if(x!==null&&Dn(u[le])){x!==u[le]&&_h(x,u);let e=u[xn];e!==null&&e.detachView(v)}Qu(u)}finally{Lt(T)}}function RC(v,u){let T=v.cleanup,x=u[_o];if(T!==null)for(let y=0;y<T.length-1;y+=2)if(typeof T[y]=="string"){let t=T[y+3];t>=0?x[t]():x[-t].unsubscribe(),y+=2}else{let t=x[T[y+1]];T[y].call(t)}x!==null&&(u[_o]=null);let e=u[zn];if(e!==null){u[zn]=null;for(let y=0;y<e.length;y++){let t=e[y];t()}}}function IC(v,u){let T;if(v!=null&&(T=v.destroyHooks)!=null)for(let x=0;x<T.length;x+=2){let e=u[T[x]];if(!(e instanceof Si)){let y=T[x+1];if(Array.isArray(y))for(let t=0;t<y.length;t+=2){let a=e[y[t]],g=y[t+1];rn(4,a,g);try{g.call(a)}finally{rn(5,a,g)}}else{rn(4,e,y);try{y.call(e)}finally{rn(5,e,y)}}}}}function FC(v,u,T){return OC(v,u.parent,T)}function OC(v,u,T){let x=u;for(;x!==null&&x.type&168;)u=x,x=u.parent;if(x===null)return T[Sn];{let{componentOffset:e}=x;if(e>-1){let{encapsulation:y}=v.data[x.directiveStart+e];if(y===on.None||y===on.Emulated)return null}return be(x,T)}}function ha(v,u,T,x,e){v.insertBefore(u,T,x,e)}function cg(v,u,T){v.appendChild(u,T)}function Cp(v,u,T,x,e){x!==null?ha(v,u,T,x,e):cg(v,u,T)}function pg(v,u){return v.parentNode(u)}function LC(v,u){return v.nextSibling(u)}function bC(v,u,T){return BC(v,u,T)}function NC(v,u,T){return v.type&40?be(v,T):null}var BC=NC,Ep;function tf(v,u,T,x){let e=FC(v,x,u),y=u[te],t=x.parent||u[Ke],a=bC(t,x,u);if(e!=null)if(Array.isArray(T))for(let g=0;g<T.length;g++)Cp(y,e,T[g],a,!1);else Cp(y,e,T,a,!1);Ep!==void 0&&Ep(y,x,u,T,e)}function Kr(v,u){if(u!==null){let T=u.type;if(T&3)return be(u,v);if(T&4)return _u(-1,v[u.index]);if(T&8){let x=u.child;if(x!==null)return Kr(v,x);{let e=v[u.index];return Dn(e)?_u(-1,e):un(e)}}else{if(T&128)return Kr(v,u.next);if(T&32)return qh(u,v)()||un(v[u.index]);{let x=vg(v,u);if(x!==null){if(Array.isArray(x))return x[0];let e=Ci(v[ln]);return Kr(e,x)}else return Kr(v,u.next)}}}return null}function vg(v,u){if(u!==null){let x=v[ln][Ke],e=u.projection;return x.projection[e]}return null}function _u(v,u){let T=De+v+1;if(T<u.length){let x=u[T],e=x[Et].firstChild;if(e!==null)return Kr(x,e)}return u[Ti]}function VC(v,u,T){v.removeChild(null,u,T)}function ef(v,u,T,x,e,y,t){for(;T!=null;){if(T.type===128){T=T.next;continue}let a=x[T.index],g=T.type;if(t&&u===0&&(a&&Mi(un(a),x),T.flags|=2),(T.flags&32)!==32)if(g&8)ef(v,u,T.child,x,e,y,!1),_i(u,v,e,a,y);else if(g&32){let l=qh(T,x),s;for(;s=l();)_i(u,v,e,s,y);_i(u,v,e,a,y)}else g&16?GC(v,u,x,T,e,y):_i(u,v,e,a,y);T=t?T.projectionNext:T.next}}function Fa(v,u,T,x,e,y){ef(T,x,v.firstChild,u,e,y,!1)}function GC(v,u,T,x,e,y){let t=T[ln],g=t[Ke].projection[x.projection];if(Array.isArray(g))for(let l=0;l<g.length;l++){let s=g[l];_i(u,v,e,s,y)}else{let l=g,s=t[le];qv(x)&&(l.flags|=128),ef(v,u,l,s,e,y,!0)}}function UC(v,u,T,x,e){let y=T[Ti],t=un(T);y!==t&&_i(u,v,x,y,e);for(let a=De;a<T.length;a++){let g=T[a];Fa(g[Et],g,v,u,x,y)}}function zC(v,u,T,x,e){if(u)e?v.addClass(T,x):v.removeClass(T,x);else{let y=x.indexOf("-")===-1?void 0:Cn.DashCase;e==null?v.removeStyle(T,x,y):(typeof e=="string"&&e.endsWith("!important")&&(e=e.slice(0,-10),y|=Cn.Important),v.setStyle(T,x,e,y))}}function HC(v,u,T){v.setAttribute(u,"style",T)}function gg(v,u,T){T===""?v.removeAttribute(u,"class"):v.setAttribute(u,"class",T)}function mg(v,u,T){let{mergedAttrs:x,classes:e,styles:y}=T;x!==null&&Lu(v,u,x),e!==null&&gg(v,u,e),y!==null&&HC(v,u,y)}var Je={};function bt(v=1){yg(ae(),At(),Ri()+v,!1)}function yg(v,u,T,x){if(!x)if((u[gt]&3)===3){let y=v.preOrderCheckHooks;y!==null&&Xo(u,y,T)}else{let y=v.preOrderHooks;y!==null&&Yo(u,y,0,T)}Ei(T)}function dt(v,u=Mt.Default){let T=At();if(T===null)return at(v,u);let x=ue();return jv(x,T,de(v),u)}function xg(){let v="invalid";throw new Error(v)}function Tg(v,u,T,x,e,y){let t=Lt(null);try{let a=null;e&Wn.SignalBased&&(a=u[x][gn]),a!==null&&a.transformFn!==void 0&&(y=a.transformFn(y)),e&Wn.HasDecoratorInputTransform&&(y=v.inputTransforms[x].call(u,y)),v.setInput!==null?v.setInput(u,a,y,T,x):pv(u,a,x,y)}finally{Lt(t)}}function WC(v,u){let T=v.hostBindingOpCodes;if(T!==null)try{for(let x=0;x<T.length;x++){let e=T[x];if(e<0)Ei(~e);else{let y=e,t=T[++x],a=T[++x];AT(t,y);let g=u[y];a(2,g)}}}finally{Ei(-1)}}function Oa(v,u,T,x,e,y,t,a,g,l,s){let o=u.blueprint.slice();return o[Sn]=e,o[gt]=x|4|128|8|64,(l!==null||v&&v[gt]&2048)&&(o[gt]|=2048),Ev(o),o[le]=o[pr]=v,o[Ye]=T,o[an]=t||v&&v[an],o[te]=a||v&&v[te],o[ar]=g||v&&v[ar]||null,o[Ke]=y,o[Sa]=lC(),o[qo]=s,o[fv]=l,o[ln]=u.type==2?v[ln]:o,o}function La(v,u,T,x,e){let y=v.data[u];if(y===null)y=XC(v,u,T,x,e),wT()&&(y.flags|=32);else if(y.type&64){y.type=T,y.value=x,y.attrs=e;let t=CT();y.injectorIndex=t===null?-1:t.injectorIndex}return os(y,!0),y}function XC(v,u,T,x,e){let y=Av(),t=Pv(),a=t?y:y&&y.parent,g=v.data[u]=KC(v,a,T,u,x,e);return v.firstChild===null&&(v.firstChild=g),y!==null&&(t?y.child==null&&g.parent!==null&&(y.child=g):y.next===null&&(y.next=g,g.prev=y)),g}function Cg(v,u,T,x){if(T===0)return-1;let e=u.length;for(let y=0;y<T;y++)u.push(x),v.blueprint.push(x),v.data.push(null);return e}function Eg(v,u,T,x,e){let y=Ri(),t=x&2;try{Ei(-1),t&&u.length>je&&yg(v,u,je,!1),rn(t?2:0,e),T(x,e)}finally{Ei(y),rn(t?3:1,e)}}function Sg(v,u,T){if(cv(u)){let x=Lt(null);try{let e=u.directiveStart,y=u.directiveEnd;for(let t=e;t<y;t++){let a=v.data[t];if(a.contentQueries){let g=T[t];a.contentQueries(1,g,t)}}}finally{Lt(x)}}}function Dg(v,u,T){wv()&&(eE(v,u,T,be(T,u)),(T.flags&64)===64&&Rg(v,u,T))}function Mg(v,u,T=be){let x=u.localNames;if(x!==null){let e=u.index+1;for(let y=0;y<x.length;y+=2){let t=x[y+1],a=t===-1?T(u,v):v[t];v[e++]=a}}}function wg(v){let u=v.tView;return u===null||u.incompleteFirstPass?v.tView=nf(1,null,v.template,v.decls,v.vars,v.directiveDefs,v.pipeDefs,v.viewQuery,v.schemas,v.consts,v.id):u}function nf(v,u,T,x,e,y,t,a,g,l,s){let o=je+x,n=o+e,i=YC(o,n),h=typeof l=="function"?l():l;return i[Et]={type:v,blueprint:i,template:T,queries:null,viewQuery:a,declTNode:u,data:i.slice().fill(null,o),bindingStartIndex:o,expandoStartIndex:n,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof y=="function"?y():y,pipeRegistry:typeof t=="function"?t():t,firstChild:null,schemas:g,consts:h,incompleteFirstPass:!1,ssrId:s}}function YC(v,u){let T=[];for(let x=0;x<u;x++)T.push(x<v?null:Je);return T}function jC(v,u,T,x){let y=x.get(vC,rg)||T===on.ShadowDom,t=v.selectRootElement(u,y);return kC(t),t}function kC(v){$C(v)}var $C=()=>null;function ZC(v,u,T,x){let e=Og(u);e.push(T),v.firstCreatePass&&Lg(v).push(x,e.length-1)}function KC(v,u,T,x,e,y){let t=u?u.injectorIndex:-1,a=0;return yT()&&(a|=128),{type:T,index:x,insertBeforeIndex:null,injectorIndex:t,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:e,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Sp(v,u,T,x,e){for(let y in u){if(!u.hasOwnProperty(y))continue;let t=u[y];if(t===void 0)continue;x??={};let a,g=Wn.None;Array.isArray(t)?(a=t[0],g=t[1]):a=t;let l=y;if(e!==null){if(!e.hasOwnProperty(y))continue;l=e[y]}v===0?Dp(x,T,l,a,g):Dp(x,T,l,a)}return x}function Dp(v,u,T,x,e){let y;v.hasOwnProperty(T)?(y=v[T]).push(u,x):y=v[T]=[u,x],e!==void 0&&y.push(e)}function QC(v,u,T){let x=u.directiveStart,e=u.directiveEnd,y=v.data,t=u.attrs,a=[],g=null,l=null;for(let s=x;s<e;s++){let o=y[s],n=T?T.get(o):null,i=n?n.inputs:null,h=n?n.outputs:null;g=Sp(0,o.inputs,s,g,i),l=Sp(1,o.outputs,s,l,h);let r=g!==null&&t!==null&&!Rh(u)?dE(g,s,t):null;a.push(r)}g!==null&&(g.hasOwnProperty("class")&&(u.flags|=8),g.hasOwnProperty("style")&&(u.flags|=16)),u.initialInputs=a,u.inputs=g,u.outputs=l}function JC(v){return v==="class"?"className":v==="for"?"htmlFor":v==="formaction"?"formAction":v==="innerHtml"?"innerHTML":v==="readonly"?"readOnly":v==="tabindex"?"tabIndex":v}function rf(v,u,T,x,e,y,t,a){let g=be(u,T),l=u.inputs,s;!a&&l!=null&&(s=l[x])?(sf(v,T,s,x,e),Da(u)&&qC(T,u.index)):u.type&3?(x=JC(x),e=t!=null?t(e,u.value||"",x):e,y.setProperty(g,x,e)):u.type&12}function qC(v,u){let T=Zn(u,v);T[gt]&16||(T[gt]|=64)}function Ag(v,u,T,x){if(wv()){let e=x===null?null:{"":-1},y=iE(v,T),t,a;y===null?t=a=null:[t,a]=y,t!==null&&Pg(v,u,T,t,e,a),e&&rE(T,x,e)}T.mergedAttrs=qr(T.mergedAttrs,T.attrs)}function Pg(v,u,T,x,e,y){for(let l=0;l<x.length;l++)Xu(oa(T,u),v,x[l].type);oE(T,v.data.length,x.length);for(let l=0;l<x.length;l++){let s=x[l];s.providersResolver&&s.providersResolver(s)}let t=!1,a=!1,g=Cg(v,u,x.length,null);for(let l=0;l<x.length;l++){let s=x[l];T.mergedAttrs=qr(T.mergedAttrs,s.hostAttrs),aE(v,T,u,g,s),sE(g,s,e),s.contentQueries!==null&&(T.flags|=4),(s.hostBindings!==null||s.hostAttrs!==null||s.hostVars!==0)&&(T.flags|=64);let o=s.type.prototype;!t&&(o.ngOnChanges||o.ngOnInit||o.ngDoCheck)&&((v.preOrderHooks??=[]).push(T.index),t=!0),!a&&(o.ngOnChanges||o.ngDoCheck)&&((v.preOrderCheckHooks??=[]).push(T.index),a=!0),g++}QC(v,T,y)}function _C(v,u,T,x,e){let y=e.hostBindings;if(y){let t=v.hostBindingOpCodes;t===null&&(t=v.hostBindingOpCodes=[]);let a=~u.index;tE(t)!=a&&t.push(a),t.push(T,x,y)}}function tE(v){let u=v.length;for(;u>0;){let T=v[--u];if(typeof T=="number"&&T<0)return T}return 0}function eE(v,u,T,x){let e=T.directiveStart,y=T.directiveEnd;Da(T)&&lE(u,T,v.data[e+T.componentOffset]),v.firstCreatePass||oa(T,u),Mi(x,u);let t=T.initialInputs;for(let a=e;a<y;a++){let g=v.data[a],l=Di(u,v,a,T);if(Mi(l,u),t!==null&&fE(u,a-e,l,g,T,t),Yn(g)){let s=Zn(T.index,u);s[Ye]=Di(u,v,a,T)}}}function Rg(v,u,T){let x=T.directiveStart,e=T.directiveEnd,y=T.index,t=PT();try{Ei(y);for(let a=x;a<e;a++){let g=v.data[a],l=u[a];zu(a),(g.hostBindings!==null||g.hostVars!==0||g.hostAttrs!==null)&&nE(g,l)}}finally{Ei(-1),zu(t)}}function nE(v,u){v.hostBindings!==null&&v.hostBindings(1,u)}function iE(v,u){let T=v.directiveRegistry,x=null,e=null;if(T)for(let y=0;y<T.length;y++){let t=T[y];if(U1(u,t.selectors,!1))if(x||(x=[]),Yn(t))if(t.findHostDirectiveDefs!==null){let a=[];e=e||new Map,t.findHostDirectiveDefs(t,a,e),x.unshift(...a,t);let g=a.length;th(v,u,g)}else x.unshift(t),th(v,u,0);else e=e||new Map,t.findHostDirectiveDefs?.(t,x,e),x.push(t)}return x===null?null:[x,e]}function th(v,u,T){u.componentOffset=T,(v.components??=[]).push(u.index)}function rE(v,u,T){if(u){let x=v.localNames=[];for(let e=0;e<u.length;e+=2){let y=T[u[e+1]];if(y==null)throw new ft(-301,!1);x.push(u[e],y)}}}function sE(v,u,T){if(T){if(u.exportAs)for(let x=0;x<u.exportAs.length;x++)T[u.exportAs[x]]=v;Yn(u)&&(T[""]=v)}}function oE(v,u,T){v.flags|=1,v.directiveStart=u,v.directiveEnd=u+T,v.providerIndexes=u}function aE(v,u,T,x,e){v.data[x]=e;let y=e.factory||(e.factory=yi(e.type,!0)),t=new Si(y,Yn(e),dt);v.blueprint[x]=t,T[x]=t,_C(v,u,x,Cg(v,T,e.hostVars,Je),e)}function lE(v,u,T){let x=be(u,v),e=wg(T),y=v[an].rendererFactory,t=16;T.signals?t=4096:T.onPush&&(t=64);let a=ba(v,Oa(v,e,null,t,x,u,null,y.createRenderer(x,T),null,null,null));v[u.index]=a}function uE(v,u,T,x,e,y){let t=be(v,u);hE(u[te],t,y,v.value,T,x,e)}function hE(v,u,T,x,e,y,t){if(y==null)v.removeAttribute(u,e,T);else{let a=t==null?ir(y):t(y,x||"",e);v.setAttribute(u,e,a,T)}}function fE(v,u,T,x,e,y){let t=y[u];if(t!==null)for(let a=0;a<t.length;){let g=t[a++],l=t[a++],s=t[a++],o=t[a++];Tg(x,T,g,l,s,o)}}function dE(v,u,T){let x=null,e=0;for(;e<T.length;){let y=T[e];if(y===0){e+=4;continue}else if(y===5){e+=2;continue}if(typeof y=="number")break;if(v.hasOwnProperty(y)){x===null&&(x=[]);let t=v[y];for(let a=0;a<t.length;a+=3)if(t[a]===u){x.push(y,t[a+1],t[a+2],T[e+1]);break}}e+=2}return x}function Ig(v,u,T,x){return[v,!0,0,u,null,x,null,T,null,null]}function Fg(v,u){let T=v.contentQueries;if(T!==null){let x=Lt(null);try{for(let e=0;e<T.length;e+=2){let y=T[e],t=T[e+1];if(t!==-1){let a=v.data[t];Bh(y),a.contentQueries(2,u[t],t)}}}finally{Lt(x)}}}function ba(v,u){return v[ts]?v[up][Xe]=u:v[ts]=u,v[up]=u,u}function eh(v,u,T){Bh(0);let x=Lt(null);try{u(v,T)}finally{Lt(x)}}function Og(v){return v[_o]??=[]}function Lg(v){return v.cleanup??=[]}function bg(v,u){let T=v[ar],x=T?T.get(Tn,null):null;x&&x.handleError(u)}function sf(v,u,T,x,e){for(let y=0;y<T.length;){let t=T[y++],a=T[y++],g=T[y++],l=u[t],s=v.data[t];Tg(s,l,x,a,g,e)}}function Ng(v,u,T){let x=xv(u,v);DC(v[te],x,T)}function cE(v,u){let T=Zn(u,v),x=T[Et];pE(x,T);let e=T[Sn];e!==null&&T[qo]===null&&(T[qo]=Qh(e,T[ar])),of(x,T,T[Ye])}function pE(v,u){for(let T=u.length;T<v.blueprint.length;T++)u.push(v.blueprint[T])}function of(v,u,T){Vh(u);try{let x=v.viewQuery;x!==null&&eh(1,x,T);let e=v.template;e!==null&&Eg(v,u,e,1,T),v.firstCreatePass&&(v.firstCreatePass=!1),u[xn]?.finishViewCreation(v),v.staticContentQueries&&Fg(v,u),v.staticViewQueries&&eh(2,v.viewQuery,T);let y=v.components;y!==null&&vE(u,y)}catch(x){throw v.firstCreatePass&&(v.incompleteFirstPass=!0,v.firstCreatePass=!1),x}finally{u[gt]&=-5,Gh()}}function vE(v,u){for(let T=0;T<u.length;T++)cE(v,u[T])}function gE(v,u,T,x){let e=Lt(null);try{let y=u.tView,a=v[gt]&4096?4096:16,g=Oa(v,y,T,a,null,u,null,null,x?.injector??null,x?.embeddedViewInjector??null,x?.dehydratedView??null),l=v[u.index];g[xi]=l;let s=v[xn];return s!==null&&(g[xn]=s.createEmbeddedView(y)),of(y,g,T),g}finally{Lt(e)}}function Mp(v,u){return!u||u.firstChild===null||qv(v)}function mE(v,u,T,x=!0){let e=u[Et];if(PC(e,u,v,T),x){let t=_u(T,v),a=u[te],g=pg(a,v[Ti]);g!==null&&wC(e,v[Ke],a,u,g,t)}let y=u[qo];y!==null&&y.firstChild!==null&&(y.firstChild=null)}function fa(v,u,T,x,e=!1){for(;T!==null;){if(T.type===128){T=e?T.projectionNext:T.next;continue}let y=u[T.index];y!==null&&x.push(un(y)),Dn(y)&&yE(y,x);let t=T.type;if(t&8)fa(v,u,T.child,x);else if(t&32){let a=qh(T,u),g;for(;g=a();)x.push(g)}else if(t&16){let a=vg(u,T);if(Array.isArray(a))x.push(...a);else{let g=Ci(u[ln]);fa(g[Et],g,a,x,!0)}}T=e?T.projectionNext:T.next}return x}function yE(v,u){for(let T=De;T<v.length;T++){let x=v[T],e=x[Et].firstChild;e!==null&&fa(x[Et],x,e,u)}v[Ti]!==v[Sn]&&u.push(v[Ti])}var Bg=[];function xE(v){return v[Oe]??TE(v)}function TE(v){let u=Bg.pop()??Object.create(EE);return u.lView=v,u}function CE(v){v.lView[Oe]!==v&&(v.lView=null,Bg.push(v))}var EE=mt(et({},jr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:v=>{wa(v.lView)},consumerOnSignalRead(){this.lView[Oe]=this}});function SE(v){let u=v[Oe]??Object.create(DE);return u.lView=v,u}var DE=mt(et({},jr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:v=>{let u=Ci(v.lView);for(;u&&!Vg(u[Et]);)u=Ci(u);u&&Sv(u)},consumerOnSignalRead(){this.lView[Oe]=this}});function Vg(v){return v.type!==2}var ME=100;function Gg(v,u=!0,T=0){let x=v[an],e=x.rendererFactory,y=!1;y||e.begin?.();try{wE(v,T)}catch(t){throw u&&bg(v,t),t}finally{y||(e.end?.(),x.inlineEffectRunner?.flush())}}function wE(v,u){let T=Rv();try{fp(!0),nh(v,u);let x=0;for(;Ma(v);){if(x===ME)throw new ft(103,!1);x++,nh(v,1)}}finally{fp(T)}}function AE(v,u,T,x){let e=u[gt];if((e&256)===256)return;let y=!1,t=!1;!y&&u[an].inlineEffectRunner?.flush(),Vh(u);let a=!0,g=null,l=null;y||(Vg(v)?(l=xE(u),g=ho(l)):vc()===null?(a=!1,l=SE(u),g=ho(l)):u[Oe]&&(ql(u[Oe]),u[Oe]=null));try{Ev(u),MT(v.bindingStartIndex),T!==null&&Eg(v,u,T,2,x);let s=(e&3)===3;if(!y)if(s){let i=v.preOrderCheckHooks;i!==null&&Xo(u,i,null)}else{let i=v.preOrderHooks;i!==null&&Yo(u,i,0,null),xu(u,0)}if(t||PE(u),Ug(u,0),v.contentQueries!==null&&Fg(v,u),!y)if(s){let i=v.contentCheckHooks;i!==null&&Xo(u,i)}else{let i=v.contentHooks;i!==null&&Yo(u,i,1),xu(u,1)}WC(v,u);let o=v.components;o!==null&&Hg(u,o,0);let n=v.viewQuery;if(n!==null&&eh(2,n,x),!y)if(s){let i=v.viewCheckHooks;i!==null&&Xo(u,i)}else{let i=v.viewHooks;i!==null&&Yo(u,i,2),xu(u,2)}if(v.firstUpdatePass===!0&&(v.firstUpdatePass=!1),u[yu]){for(let i of u[yu])i();u[yu]=null}y||(u[gt]&=-73)}catch(s){throw y||wa(u),s}finally{l!==null&&(Ql(l,g),a&&CE(l)),Gh()}}function Ug(v,u){for(let T=tg(v);T!==null;T=eg(T))for(let x=De;x<T.length;x++){let e=T[x];zg(e,u)}}function PE(v){for(let u=tg(v);u!==null;u=eg(u)){if(!(u[gt]&ea.HasTransplantedViews))continue;let T=u[lr];for(let x=0;x<T.length;x++){let e=T[x];Sv(e)}}}function RE(v,u,T){let x=Zn(u,v);zg(x,T)}function zg(v,u){Lh(v)&&nh(v,u)}function nh(v,u){let x=v[Et],e=v[gt],y=v[Oe],t=!!(u===0&&e&16);if(t||=!!(e&64&&u===0),t||=!!(e&1024),t||=!!(y?.dirty&&Jl(y)),t||=!1,y&&(y.dirty=!1),v[gt]&=-9217,t)AE(x,v,x.template,v[Ye]);else if(e&8192){Ug(v,1);let a=x.components;a!==null&&Hg(v,a,1)}}function Hg(v,u,T){for(let x=0;x<u.length;x++)RE(v,u[x],T)}function af(v,u){let T=Rv()?64:1088;for(v[an].changeDetectionScheduler?.notify(u);v;){v[gt]|=T;let x=Ci(v);if(Vu(v)&&!x)return v;v=x}return null}var wi=class{get rootNodes(){let u=this._lView,T=u[Et];return fa(T,u,T.firstChild,[])}constructor(u,T,x=!0){this._lView=u,this._cdRefInjectingView=T,this.notifyErrorHandler=x,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ye]}set context(u){this._lView[Ye]=u}get destroyed(){return(this._lView[gt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let u=this._lView[le];if(Dn(u)){let T=u[ta],x=T?T.indexOf(this):-1;x>-1&&(qu(u,x),Qo(T,x))}this._attachedToViewContainer=!1}dg(this._lView[Et],this._lView)}onDestroy(u){Dv(this._lView,u)}markForCheck(){af(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[gt]&=-129}reattach(){Uu(this._lView),this._lView[gt]|=128}detectChanges(){this._lView[gt]|=1024,Gg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let u=Vu(this._lView),T=this._lView[xi];T!==null&&!u&&_h(T,this._lView),hg(this._lView[Et],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new ft(902,!1);this._appRef=u;let T=Vu(this._lView),x=this._lView[xi];x!==null&&!T&&fg(x,this._lView),Uu(this._lView)}},Ai=(()=>{let u=class u{};u.__NG_ELEMENT_ID__=OE;let v=u;return v})(),IE=Ai,FE=class extends IE{constructor(u,T,x){super(),this._declarationLView=u,this._declarationTContainer=T,this.elementRef=x}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(u,T){return this.createEmbeddedViewImpl(u,T)}createEmbeddedViewImpl(u,T,x){let e=gE(this._declarationLView,this._declarationTContainer,u,{embeddedViewInjector:T,dehydratedView:x});return new wi(e)}};function OE(){return Na(ue(),At())}function Na(v,u){return v.type&4?new FE(u,v,gr(v,u)):null}var a3=new RegExp(`^(\\d+)*(${cC}|${dC})*(.*)`);var LE=()=>null;function wp(v,u){return LE(v,u)}var ur=class{},Wg=new lt("",{providedIn:"root",factory:()=>!1});var Xg=new lt(""),Yg=new lt(""),ih=class{},da=class{};function bE(v){let u=Error(`No component factory found for ${ce(v)}.`);return u[NE]=v,u}var NE="ngComponent";var rh=class{resolveComponentFactory(u){throw bE(u)}},vf=class vf{};vf.NULL=new rh;var hr=vf,fr=class{},wn=(()=>{let u=class u{constructor(){this.destroyNode=null}};u.__NG_ELEMENT_ID__=()=>BE();let v=u;return v})();function BE(){let v=At(),u=ue(),T=Zn(u.index,v);return(Hn(T)?T:v)[te]}var VE=(()=>{let u=class u{};u.\u0275prov=st({token:u,providedIn:"root",factory:()=>null});let v=u;return v})();function sh(v,u,T){let x=T?v.styles:null,e=T?v.classes:null,y=0;if(u!==null)for(let t=0;t<u.length;t++){let a=u[t];if(typeof a=="number")y=a;else if(y==1)e=_c(e,a);else if(y==2){let g=a,l=u[++t];x=_c(x,g+": "+l+";")}}T?v.styles=x:v.stylesWithoutHost=x,T?v.classes=e:v.classesWithoutHost=e}var ca=class extends hr{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){let T=Xn(u);return new dr(T,this.ngModule)}};function Ap(v,u){let T=[];for(let x in v){if(!v.hasOwnProperty(x))continue;let e=v[x];if(e===void 0)continue;let y=Array.isArray(e),t=y?e[0]:e,a=y?e[1]:Wn.None;u?T.push({propName:t,templateName:x,isSignal:(a&Wn.SignalBased)!==0}):T.push({propName:t,templateName:x})}return T}function GE(v){let u=v.toLowerCase();return u==="svg"?yv:u==="math"?hT:null}var dr=class extends da{get inputs(){let u=this.componentDef,T=u.inputTransforms,x=Ap(u.inputs,!0);if(T!==null)for(let e of x)T.hasOwnProperty(e.propName)&&(e.transform=T[e.propName]);return x}get outputs(){return Ap(this.componentDef.outputs,!1)}constructor(u,T){super(),this.componentDef=u,this.ngModule=T,this.componentType=u.type,this.selector=X1(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!T}create(u,T,x,e){let y=Lt(null);try{e=e||this.ngModule;let t=e instanceof pe?e:e?.injector;t&&this.componentDef.getStandaloneInjector!==null&&(t=this.componentDef.getStandaloneInjector(t)||t);let a=t?new Hu(u,t):u,g=a.get(fr,null);if(g===null)throw new ft(407,!1);let l=a.get(VE,null),s=a.get(ur,null),o={rendererFactory:g,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:s},n=g.createRenderer(null,this.componentDef),i=this.componentDef.selectors[0][0]||"div",h=x?jC(n,x,this.componentDef.encapsulation,a):ug(n,i,GE(i)),r=512;this.componentDef.signals?r|=4096:this.componentDef.onPush||(r|=16);let f=null;h!==null&&(f=Qh(h,a,!0));let c=nf(0,null,null,1,0,null,null,null,null,null,null),d=Oa(null,c,null,r,null,null,o,n,a,null,f);Vh(d);let p,m,C=null;try{let S=this.componentDef,E,D=null;S.findHostDirectiveDefs?(E=[],D=new Map,S.findHostDirectiveDefs(S,E,D),E.push(S)):E=[S];let M=UE(d,h);C=zE(M,h,S,E,d,o,n),m=Tv(c,je),h&&XE(n,S,h,x),T!==void 0&&YE(m,this.ngContentSelectors,T),p=WE(C,S,E,D,d,[jE]),of(c,d,null)}catch(S){throw C!==null&&Qu(C),Qu(d),S}finally{Gh()}return new oh(this.componentType,p,gr(m,d),d,m)}finally{Lt(y)}}},oh=class extends ih{constructor(u,T,x,e,y){super(),this.location=x,this._rootLView=e,this._tNode=y,this.previousInputValues=null,this.instance=T,this.hostView=this.changeDetectorRef=new wi(e,void 0,!1),this.componentType=u}setInput(u,T){let x=this._tNode.inputs,e;if(x!==null&&(e=x[u])){if(this.previousInputValues??=new Map,this.previousInputValues.has(u)&&Object.is(this.previousInputValues.get(u),T))return;let y=this._rootLView;sf(y[Et],y,e,u,T),this.previousInputValues.set(u,T);let t=Zn(this._tNode.index,y);af(t,1)}}get injector(){return new mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}};function UE(v,u){let T=v[Et],x=je;return v[x]=u,La(T,x,2,"#host",null)}function zE(v,u,T,x,e,y,t){let a=e[Et];HE(x,v,u,t);let g=null;u!==null&&(g=Qh(u,e[ar]));let l=y.rendererFactory.createRenderer(u,T),s=16;T.signals?s=4096:T.onPush&&(s=64);let o=Oa(e,wg(T),null,s,e[v.index],v,y,l,null,null,g);return a.firstCreatePass&&th(a,v,x.length-1),ba(e,o),e[v.index]=o}function HE(v,u,T,x){for(let e of v)u.mergedAttrs=qr(u.mergedAttrs,e.hostAttrs);u.mergedAttrs!==null&&(sh(u,u.mergedAttrs,!0),T!==null&&mg(x,T,u))}function WE(v,u,T,x,e,y){let t=ue(),a=e[Et],g=be(t,e);Pg(a,e,t,T,null,x);for(let s=0;s<T.length;s++){let o=t.directiveStart+s,n=Di(e,a,o,t);Mi(n,e)}Rg(a,e,t),g&&Mi(g,e);let l=Di(e,a,t.directiveStart+t.componentOffset,t);if(v[Ye]=e[Ye]=l,y!==null)for(let s of y)s(l,u);return Sg(a,t,e),l}function XE(v,u,T,x){if(x)Lu(v,T,["ng-version","18.2.2"]);else{let{attrs:e,classes:y}=Y1(u.selectors[0]);e&&Lu(v,T,e),y&&y.length>0&&gg(v,T,y.join(" "))}}function YE(v,u,T){let x=v.projection=[];for(let e=0;e<u.length;e++){let y=T[e];x.push(y!=null?Array.from(y):null)}}function jE(){let v=ue();Hh(At()[Et],v)}var Kn=(()=>{let u=class u{};u.__NG_ELEMENT_ID__=kE;let v=u;return v})();function kE(){let v=ue();return kg(v,At())}var $E=Kn,jg=class extends $E{constructor(u,T,x){super(),this._lContainer=u,this._hostTNode=T,this._hostLView=x}get element(){return gr(this._hostTNode,this._hostLView)}get injector(){return new mi(this._hostTNode,this._hostLView)}get parentInjector(){let u=Wh(this._hostTNode,this._hostLView);if(Uv(u)){let T=ra(u,this._hostLView),x=ia(u),e=T[Et].data[x+8];return new mi(e,T)}else return new mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){let T=Pp(this._lContainer);return T!==null&&T[u]||null}get length(){return this._lContainer.length-De}createEmbeddedView(u,T,x){let e,y;typeof x=="number"?e=x:x!=null&&(e=x.index,y=x.injector);let t=wp(this._lContainer,u.ssrId),a=u.createEmbeddedViewImpl(T||{},y,t);return this.insertImpl(a,e,Mp(this._hostTNode,t)),a}createComponent(u,T,x,e,y){let t=u&&!oT(u),a;if(t)a=T;else{let h=T||{};a=h.index,x=h.injector,e=h.projectableNodes,y=h.environmentInjector||h.ngModuleRef}let g=t?u:new dr(Xn(u)),l=x||this.parentInjector;if(!y&&g.ngModule==null){let r=(t?l:this.parentInjector).get(pe,null);r&&(y=r)}let s=Xn(g.componentType??{}),o=wp(this._lContainer,s?.id??null),n=o?.firstChild??null,i=g.create(l,e,n,y);return this.insertImpl(i.hostView,a,Mp(this._hostTNode,o)),i}insert(u,T){return this.insertImpl(u,T,!0)}insertImpl(u,T,x){let e=u._lView;if(dT(e)){let a=this.indexOf(u);if(a!==-1)this.detach(a);else{let g=e[le],l=new jg(g,g[Ke],g[le]);l.detach(l.indexOf(u))}}let y=this._adjustIndex(T),t=this._lContainer;return mE(t,e,y,x),u.attachToViewContainerRef(),$p(Du(t),y,u),u}move(u,T){return this.insert(u,T)}indexOf(u){let T=Pp(this._lContainer);return T!==null?T.indexOf(u):-1}remove(u){let T=this._adjustIndex(u,-1),x=qu(this._lContainer,T);x&&(Qo(Du(this._lContainer),T),dg(x[Et],x))}detach(u){let T=this._adjustIndex(u,-1),x=qu(this._lContainer,T);return x&&Qo(Du(this._lContainer),T)!=null?new wi(x):null}_adjustIndex(u,T=0){return u??this.length+T}};function Pp(v){return v[ta]}function Du(v){return v[ta]||(v[ta]=[])}function kg(v,u){let T,x=u[v.index];return Dn(x)?T=x:(T=Ig(x,u,null,v),u[v.index]=T,ba(u,T)),KE(T,u,v,x),new jg(T,v,u)}function ZE(v,u){let T=v[te],x=T.createComment(""),e=be(u,v),y=pg(T,e);return ha(T,y,x,LC(T,e),!1),x}var KE=qE,QE=()=>!1;function JE(v,u,T){return QE(v,u,T)}function qE(v,u,T,x){if(v[Ti])return;let e;T.type&8?e=un(x):e=ZE(u,T),v[Ti]=e}var ah=class v{constructor(u){this.queryList=u,this.matches=null}clone(){return new v(this.queryList)}setDirty(){this.queryList.setDirty()}},lh=class v{constructor(u=[]){this.queries=u}createEmbeddedView(u){let T=u.queries;if(T!==null){let x=u.contentQueries!==null?u.contentQueries[0]:T.length,e=[];for(let y=0;y<x;y++){let t=T.getByIndex(y),a=this.queries[t.indexInDeclarationView];e.push(a.clone())}return new v(e)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}finishViewCreation(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let T=0;T<this.queries.length;T++)lf(u,T).matches!==null&&this.queries[T].setDirty()}},uh=class{constructor(u,T,x=null){this.flags=T,this.read=x,typeof u=="string"?this.predicate=oS(u):this.predicate=u}},hh=class v{constructor(u=[]){this.queries=u}elementStart(u,T){for(let x=0;x<this.queries.length;x++)this.queries[x].elementStart(u,T)}elementEnd(u){for(let T=0;T<this.queries.length;T++)this.queries[T].elementEnd(u)}embeddedTView(u){let T=null;for(let x=0;x<this.length;x++){let e=T!==null?T.length:0,y=this.getByIndex(x).embeddedTView(u,e);y&&(y.indexInDeclarationView=x,T!==null?T.push(y):T=[y])}return T!==null?new v(T):null}template(u,T){for(let x=0;x<this.queries.length;x++)this.queries[x].template(u,T)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}},fh=class v{constructor(u,T=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=T}elementStart(u,T){this.isApplyingToNode(T)&&this.matchTNode(u,T)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,T){this.elementStart(u,T)}embeddedTView(u,T){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,T),new v(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let T=this._declarationNodeIndex,x=u.parent;for(;x!==null&&x.type&8&&x.index!==T;)x=x.parent;return T===(x!==null?x.index:-1)}return this._appliesToNextNode}matchTNode(u,T){let x=this.metadata.predicate;if(Array.isArray(x))for(let e=0;e<x.length;e++){let y=x[e];this.matchTNodeWithReadOption(u,T,_E(T,y)),this.matchTNodeWithReadOption(u,T,jo(T,u,y,!1,!1))}else x===Ai?T.type&4&&this.matchTNodeWithReadOption(u,T,-1):this.matchTNodeWithReadOption(u,T,jo(T,u,x,!1,!1))}matchTNodeWithReadOption(u,T,x){if(x!==null){let e=this.metadata.read;if(e!==null)if(e===Me||e===Kn||e===Ai&&T.type&4)this.addMatch(T.index,-2);else{let y=jo(T,u,e,!1,!1);y!==null&&this.addMatch(T.index,y)}else this.addMatch(T.index,x)}}addMatch(u,T){this.matches===null?this.matches=[u,T]:this.matches.push(u,T)}};function _E(v,u){let T=v.localNames;if(T!==null){for(let x=0;x<T.length;x+=2)if(T[x]===u)return T[x+1]}return null}function tS(v,u){return v.type&11?gr(v,u):v.type&4?Na(v,u):null}function eS(v,u,T,x){return T===-1?tS(u,v):T===-2?nS(v,u,x):Di(v,v[Et],T,u)}function nS(v,u,T){if(T===Me)return gr(u,v);if(T===Ai)return Na(u,v);if(T===Kn)return kg(u,v)}function $g(v,u,T,x){let e=u[xn].queries[x];if(e.matches===null){let y=v.data,t=T.matches,a=[];for(let g=0;t!==null&&g<t.length;g+=2){let l=t[g];if(l<0)a.push(null);else{let s=y[l];a.push(eS(u,s,t[g+1],T.metadata.read))}}e.matches=a}return e.matches}function dh(v,u,T,x){let e=v.queries.getByIndex(T),y=e.matches;if(y!==null){let t=$g(v,u,e,T);for(let a=0;a<y.length;a+=2){let g=y[a];if(g>0)x.push(t[a/2]);else{let l=y[a+1],s=u[-g];for(let o=De;o<s.length;o++){let n=s[o];n[xi]===n[le]&&dh(n[Et],n,l,x)}if(s[lr]!==null){let o=s[lr];for(let n=0;n<o.length;n++){let i=o[n];dh(i[Et],i,l,x)}}}}}return x}function iS(v,u){return v[xn].queries[u].queryList}function rS(v,u,T){let x=new Ku((T&4)===4);return ZC(v,u,x,x.destroy),(u[xn]??=new lh).queries.push(new ah(x))-1}function sS(v,u,T,x){let e=ae();if(e.firstCreatePass){let y=ue();aS(e,new uh(u,T,x),y.index),lS(e,v),(T&2)===2&&(e.staticContentQueries=!0)}return rS(e,At(),T)}function oS(v){return v.split(",").map(u=>u.trim())}function aS(v,u,T){v.queries===null&&(v.queries=new hh),v.queries.track(new fh(u,T))}function lS(v,u){let T=v.contentQueries||(v.contentQueries=[]),x=T.length?T[T.length-1]:-1;u!==x&&T.push(v.queries.length-1,u)}function lf(v,u){return v.queries.getByIndex(u)}function uS(v,u){let T=v[Et],x=lf(T,u);return x.crossesNgTemplate?dh(T,v,u,[]):$g(T,v,x,u)}var Rp=new Set;function mr(v){Rp.has(v)||(Rp.add(v),performance?.mark?.("mark_feature_usage",{detail:{feature:v}}))}function hS(v){return typeof v=="function"&&v[gn]!==void 0}function yr(v,u){mr("NgSignals");let T=wc(v),x=T[gn];return u?.equal&&(x.equal=u.equal),T.set=e=>_l(x,e),T.update=e=>Ac(x,e),T.asReadonly=fS.bind(T),T}function fS(){let v=this[gn];if(v.readonlyFn===void 0){let u=()=>this();u[gn]=v,v.readonlyFn=u}return v.readonlyFn}function Zg(v){return hS(v)&&typeof v.set=="function"}function dS(v){return Object.getPrototypeOf(v.prototype).constructor}function qe(v){let u=dS(v.type),T=!0,x=[v];for(;u;){let e;if(Yn(v))e=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new ft(903,!1);e=u.\u0275dir}if(e){if(T){x.push(e);let t=v;t.inputs=Uo(v.inputs),t.inputTransforms=Uo(v.inputTransforms),t.declaredInputs=Uo(v.declaredInputs),t.outputs=Uo(v.outputs);let a=e.hostBindings;a&&mS(v,a);let g=e.viewQuery,l=e.contentQueries;if(g&&vS(v,g),l&&gS(v,l),cS(v,e),u1(v.outputs,e.outputs),Yn(e)&&e.data.animation){let s=v.data;s.animation=(s.animation||[]).concat(e.data.animation)}}let y=e.features;if(y)for(let t=0;t<y.length;t++){let a=y[t];a&&a.ngInherit&&a(v),a===qe&&(T=!1)}}u=Object.getPrototypeOf(u)}pS(x)}function cS(v,u){for(let T in u.inputs){if(!u.inputs.hasOwnProperty(T)||v.inputs.hasOwnProperty(T))continue;let x=u.inputs[T];if(x!==void 0&&(v.inputs[T]=x,v.declaredInputs[T]=u.declaredInputs[T],u.inputTransforms!==null)){let e=Array.isArray(x)?x[0]:x;if(!u.inputTransforms.hasOwnProperty(e))continue;v.inputTransforms??={},v.inputTransforms[e]=u.inputTransforms[e]}}}function pS(v){let u=0,T=null;for(let x=v.length-1;x>=0;x--){let e=v[x];e.hostVars=u+=e.hostVars,e.hostAttrs=qr(e.hostAttrs,T=qr(T,e.hostAttrs))}}function Uo(v){return v===rr?{}:v===Fe?[]:v}function vS(v,u){let T=v.viewQuery;T?v.viewQuery=(x,e)=>{u(x,e),T(x,e)}:v.viewQuery=u}function gS(v,u){let T=v.contentQueries;T?v.contentQueries=(x,e,y)=>{u(x,e,y),T(x,e,y)}:v.contentQueries=u}function mS(v,u){let T=v.hostBindings;T?v.hostBindings=(x,e)=>{u(x,e),T(x,e)}:v.hostBindings=u}function uf(v){let u=v.inputConfig,T={};for(let x in u)if(u.hasOwnProperty(x)){let e=u[x];Array.isArray(e)&&e[3]&&(T[x]=e[3])}v.inputTransforms=T}var jn=class{},es=class{};var ch=class extends jn{constructor(u,T,x,e=!0){super(),this.ngModuleType=u,this._parent=T,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ca(this);let y=iv(u);this._bootstrapComponents=lg(y.bootstrap),this._r3Injector=Zv(u,T,[{provide:jn,useValue:this},{provide:hr,useValue:this.componentFactoryResolver},...x],ce(u),new Set(["environment"])),e&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(T=>T()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}},ph=class extends es{constructor(u){super(),this.moduleType=u}create(u){return new ch(this.moduleType,u,[])}};var pa=class extends jn{constructor(u){super(),this.componentFactoryResolver=new ca(this),this.instance=null;let T=new _r([...u.providers,{provide:jn,useValue:this},{provide:hr,useValue:this.componentFactoryResolver}],u.parent||Fh(),u.debugName,new Set(["environment"]));this.injector=T,u.runEnvironmentInitializers&&T.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}};function Ba(v,u,T=null){return new pa({providers:v,parent:u,debugName:T,runEnvironmentInitializers:!0}).injector}function Kg(v){return xS(v)?Array.isArray(v)||!(v instanceof Map)&&Symbol.iterator in v:!1}function yS(v,u){if(Array.isArray(v))for(let T=0;T<v.length;T++)u(v[T]);else{let T=v[Symbol.iterator](),x;for(;!(x=T.next()).done;)u(x.value)}}function xS(v){return v!==null&&(typeof v=="function"||typeof v=="object")}function hf(v,u,T){return v[u]=T}function TS(v,u){return v[u]}function kn(v,u,T){let x=v[u];return Object.is(x,T)?!1:(v[u]=T,!0)}function Qg(v,u,T,x){let e=kn(v,u,T);return kn(v,u+1,x)||e}function CS(v){return(v.flags&32)===32}function ES(v,u,T,x,e,y,t,a,g){let l=u.consts,s=La(u,v,4,t||null,a||null);Ag(u,T,s,na(l,g)),Hh(u,s);let o=s.tView=nf(2,s,x,e,y,u.directiveRegistry,u.pipeRegistry,null,u.schemas,l,null);return u.queries!==null&&(u.queries.template(u,s),o.queries=u.queries.embeddedTView(s)),s}function SS(v,u,T,x,e,y,t,a,g,l){let s=T+je,o=u.firstCreatePass?ES(s,u,v,x,e,y,t,a,g):u.data[s];os(o,!1);let n=DS(u,v,o,T);Uh()&&tf(u,v,n,o),Mi(n,v);let i=Ig(n,v,n,o);return v[s]=i,ba(v,i),JE(i,o,v),Oh(o)&&Dg(u,v,o),g!=null&&Mg(v,o,l),o}function Kt(v,u,T,x,e,y,t,a){let g=At(),l=ae(),s=na(l.consts,y);return SS(g,l,v,u,T,x,e,s,t,a),Kt}var DS=MS;function MS(v,u,T,x){return zh(!0),u[te].createComment("")}var tr=function(v){return v[v.EarlyRead=0]="EarlyRead",v[v.Write=1]="Write",v[v.MixedReadWrite=2]="MixedReadWrite",v[v.Read=3]="Read",v}(tr||{}),Jg=(()=>{let u=class u{constructor(){this.impl=null}execute(){this.impl?.execute()}};u.\u0275prov=st({token:u,providedIn:"root",factory:()=>new u});let v=u;return v})(),gi=class gi{constructor(){this.ngZone=tt(jt),this.scheduler=tt(ur),this.errorHandler=tt(Tn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let u of gi.PHASES)for(let T of this.sequences)if(!(T.erroredOrDestroyed||!T.hooks[u]))try{T.pipelinedValue=this.ngZone.runOutsideAngular(()=>T.hooks[u](T.pipelinedValue))}catch(x){T.erroredOrDestroyed=!0,this.errorHandler?.handleError(x)}this.executing=!1;for(let u of this.sequences)u.afterRun(),u.once&&this.sequences.delete(u);for(let u of this.deferredRegistrations)this.sequences.add(u);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(u){this.executing?this.deferredRegistrations.add(u):(this.sequences.add(u),this.scheduler.notify(6))}unregister(u){this.executing&&this.sequences.has(u)?(u.erroredOrDestroyed=!0,u.pipelinedValue=void 0,u.once=!0):(this.sequences.delete(u),this.deferredRegistrations.delete(u))}};gi.PHASES=[tr.EarlyRead,tr.Write,tr.MixedReadWrite,tr.Read],gi.\u0275prov=st({token:gi,providedIn:"root",factory:()=>new gi});var vh=gi,gh=class{constructor(u,T,x,e){this.impl=u,this.hooks=T,this.once=x,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=e.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function ff(v,u){!u?.injector&&sT(ff);let T=u?.injector??tt(ke);return CC(T)?(mr("NgAfterNextRender"),AS(v,T,u,!0)):PS}function wS(v,u){if(v instanceof Function){let T=[void 0,void 0,void 0,void 0];return T[u]=v,T}else return[v.earlyRead,v.write,v.mixedReadWrite,v.read]}function AS(v,u,T,x){let e=u.get(Jg);e.impl??=u.get(vh);let y=T?.phase??tr.MixedReadWrite,t=new gh(e.impl,wS(v,y),x,u.get(Yh));return e.impl.register(t),t}var PS={destroy(){}};function ls(v,u,T,x){let e=At(),y=Pa();if(kn(e,y,u)){let t=ae(),a=Ra();uE(a,e,v,u,T,x)}return ls}function qg(v,u,T,x){return kn(v,Pa(),T)?u+ir(T)+x:Je}function RS(v,u,T,x,e,y){let t=DT(),a=Qg(v,t,T,e);return Iv(2),a?u+ir(T)+x+ir(e)+y:Je}function zo(v,u){return v<<17|u<<2}function Pi(v){return v>>17&32767}function IS(v){return(v&2)==2}function FS(v,u){return v&131071|u<<17}function mh(v){return v|2}function cr(v){return(v&131068)>>2}function Mu(v,u){return v&-131069|u<<2}function OS(v){return(v&1)===1}function yh(v){return v|1}function LS(v,u,T,x,e,y){let t=y?u.classBindings:u.styleBindings,a=Pi(t),g=cr(t);v[x]=T;let l=!1,s;if(Array.isArray(T)){let o=T;s=o[1],(s===null||rs(o,s)>0)&&(l=!0)}else s=T;if(e)if(g!==0){let n=Pi(v[a+1]);v[x+1]=zo(n,a),n!==0&&(v[n+1]=Mu(v[n+1],x)),v[a+1]=FS(v[a+1],x)}else v[x+1]=zo(a,0),a!==0&&(v[a+1]=Mu(v[a+1],x)),a=x;else v[x+1]=zo(g,0),a===0?a=x:v[g+1]=Mu(v[g+1],x),g=x;l&&(v[x+1]=mh(v[x+1])),Ip(v,s,x,!0),Ip(v,s,x,!1),bS(u,s,v,x,y),t=zo(a,g),y?u.classBindings=t:u.styleBindings=t}function bS(v,u,T,x,e){let y=e?v.residualClasses:v.residualStyles;y!=null&&typeof u=="string"&&rs(y,u)>=0&&(T[x+1]=yh(T[x+1]))}function Ip(v,u,T,x){let e=v[T+1],y=u===null,t=x?Pi(e):cr(e),a=!1;for(;t!==0&&(a===!1||y);){let g=v[t],l=v[t+1];NS(g,u)&&(a=!0,v[t+1]=x?yh(l):mh(l)),t=x?Pi(l):cr(l)}a&&(v[T+1]=x?mh(e):yh(e))}function NS(v,u){return v===null||u==null||(Array.isArray(v)?v[1]:v)===u?!0:Array.isArray(v)&&typeof u=="string"?rs(v,u)>=0:!1}function Ot(v,u,T){let x=At(),e=Pa();if(kn(x,e,u)){let y=ae(),t=Ra();rf(y,t,x,v,u,x[te],T,!1)}return Ot}function Fp(v,u,T,x,e){let y=u.inputs,t=e?"class":"style";sf(v,T,y[t],t,x)}function Va(v,u){return BS(v,u,null,!0),Va}function BS(v,u,T,x){let e=At(),y=ae(),t=Iv(2);if(y.firstUpdatePass&&GS(y,v,t,x),u!==Je&&kn(e,t,u)){let a=y.data[Ri()];XS(y,a,e,e[te],v,e[t+1]=YS(u,T),x,t)}}function VS(v,u){return u>=v.expandoStartIndex}function GS(v,u,T,x){let e=v.data;if(e[T+1]===null){let y=e[Ri()],t=VS(v,T);jS(y,x)&&u===null&&!t&&(u=!1),u=US(e,y,u,x),LS(e,y,u,T,t,x)}}function US(v,u,T,x){let e=RT(v),y=x?u.residualClasses:u.residualStyles;if(e===null)(x?u.classBindings:u.styleBindings)===0&&(T=wu(null,v,u,T,x),T=ns(T,u.attrs,x),y=null);else{let t=u.directiveStylingLast;if(t===-1||v[t]!==e)if(T=wu(e,v,u,T,x),y===null){let g=zS(v,u,x);g!==void 0&&Array.isArray(g)&&(g=wu(null,v,u,g[1],x),g=ns(g,u.attrs,x),HS(v,u,x,g))}else y=WS(v,u,x)}return y!==void 0&&(x?u.residualClasses=y:u.residualStyles=y),T}function zS(v,u,T){let x=T?u.classBindings:u.styleBindings;if(cr(x)!==0)return v[Pi(x)]}function HS(v,u,T,x){let e=T?u.classBindings:u.styleBindings;v[Pi(e)]=x}function WS(v,u,T){let x,e=u.directiveEnd;for(let y=1+u.directiveStylingLast;y<e;y++){let t=v[y].hostAttrs;x=ns(x,t,T)}return ns(x,u.attrs,T)}function wu(v,u,T,x,e){let y=null,t=T.directiveEnd,a=T.directiveStylingLast;for(a===-1?a=T.directiveStart:a++;a<t&&(y=u[a],x=ns(x,y.hostAttrs,e),y!==v);)a++;return v!==null&&(T.directiveStylingLast=a),x}function ns(v,u,T){let x=T?1:2,e=-1;if(u!==null)for(let y=0;y<u.length;y++){let t=u[y];typeof t=="number"?e=t:e===x&&(Array.isArray(v)||(v=v===void 0?[]:["",v]),F1(v,t,T?!0:u[++y]))}return v===void 0?null:v}function XS(v,u,T,x,e,y,t,a){if(!(u.type&3))return;let g=v.data,l=g[a+1],s=OS(l)?Op(g,u,T,e,cr(l),t):void 0;if(!va(s)){va(y)||IS(l)&&(y=Op(g,null,T,e,a,t));let o=xv(Ri(),T);zC(x,t,o,e,y)}}function Op(v,u,T,x,e,y){let t=u===null,a;for(;e>0;){let g=v[e],l=Array.isArray(g),s=l?g[1]:g,o=s===null,n=T[e+1];n===Je&&(n=o?Fe:void 0);let i=o?gu(n,x):s===x?n:void 0;if(l&&!va(i)&&(i=gu(g,x)),va(i)&&(a=i,t))return a;let h=v[e+1];e=t?Pi(h):cr(h)}if(u!==null){let g=y?u.residualClasses:u.residualStyles;g!=null&&(a=gu(g,x))}return a}function va(v){return v!==void 0}function YS(v,u){return v==null||v===""||(typeof u=="string"?v=v+u:typeof v=="object"&&(v=ce(as(v)))),v}function jS(v,u){return(v.flags&(u?8:16))!==0}function kS(v,u,T,x,e,y){let t=u.consts,a=na(t,e),g=La(u,v,2,x,a);return Ag(u,T,g,na(t,y)),g.attrs!==null&&sh(g,g.attrs,!1),g.mergedAttrs!==null&&sh(g,g.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,g),g}function ht(v,u,T,x){let e=At(),y=ae(),t=je+v,a=e[te],g=y.firstCreatePass?kS(t,y,e,u,T,x):y.data[t],l=$S(y,e,g,a,u,v);e[t]=l;let s=Oh(g);return os(g,!0),mg(a,l,g),!CS(g)&&Uh()&&tf(y,e,l,g),vT()===0&&Mi(l,e),gT(),s&&(Dg(y,e,g),Sg(y,g,e)),x!==null&&Mg(e,g),ht}function ct(){let v=ue();Pv()?ET():(v=v.parent,os(v,!1));let u=v;xT(u)&&TT(),mT();let T=ae();return T.firstCreatePass&&(Hh(T,v),cv(v)&&T.queries.elementEnd(v)),u.classesWithoutHost!=null&&VT(u)&&Fp(T,u,At(),u.classesWithoutHost,!0),u.stylesWithoutHost!=null&&GT(u)&&Fp(T,u,At(),u.stylesWithoutHost,!1),ct}function ee(v,u,T,x){return ht(v,u,T,x),ct(),ee}var $S=(v,u,T,x,e,y)=>(zh(!0),ug(x,e,LT()));function df(){return At()}var ga="en-US";var ZS=ga;function KS(v){typeof v=="string"&&(ZS=v.toLowerCase().replace(/_/g,"-"))}var QS=(v,u,T)=>{};function ve(v,u,T,x){let e=At(),y=ae(),t=ue();return _g(y,e,e[te],t,v,u,x),ve}function JS(v,u,T,x){let e=v.cleanup;if(e!=null)for(let y=0;y<e.length-1;y+=2){let t=e[y];if(t===T&&e[y+1]===x){let a=u[_o],g=e[y+2];return a.length>g?a[g]:null}typeof t=="string"&&(y+=2)}return null}function _g(v,u,T,x,e,y,t){let a=Oh(x),l=v.firstCreatePass&&Lg(v),s=u[Ye],o=Og(u),n=!0;if(x.type&3||t){let r=be(x,u),f=t?t(r):r,c=o.length,d=t?m=>t(un(m[x.index])):x.index,p=null;if(!t&&a&&(p=JS(v,u,e,x.index)),p!==null){let m=p.__ngLastListenerFn__||p;m.__ngNextListenerFn__=y,p.__ngLastListenerFn__=y,n=!1}else{y=bp(x,u,s,y),QS(r,e,y);let m=T.listen(f,e,y);o.push(y,m),l&&l.push(e,d,c,c+1)}}else y=bp(x,u,s,y);let i=x.outputs,h;if(n&&i!==null&&(h=i[e])){let r=h.length;if(r)for(let f=0;f<r;f+=2){let c=h[f],d=h[f+1],C=u[c][d].subscribe(y),S=o.length;o.push(y,C),l&&l.push(e,x.index,S,-(S+1))}}}function Lp(v,u,T,x){let e=Lt(null);try{return rn(6,u,T),T(x)!==!1}catch(y){return bg(v,y),!1}finally{rn(7,u,T),Lt(e)}}function bp(v,u,T,x){return function e(y){if(y===Function)return x;let t=v.componentOffset>-1?Zn(v.index,u):u;af(t,5);let a=Lp(u,T,x,y),g=e.__ngNextListenerFn__;for(;g;)a=Lp(u,T,g,y)&&a,g=g.__ngNextListenerFn__;return a}}function ge(v=1){return FT(v)}function Ga(v,u,T){return tm(v,"",u,"",T),Ga}function tm(v,u,T,x,e){let y=At(),t=qg(y,u,T,x);if(t!==Je){let a=ae(),g=Ra();rf(a,g,y,v,t,y[te],e,!1)}return tm}function em(v,u,T,x){sS(v,u,T,x)}function nm(v){let u=At(),T=ae(),x=Fv();Bh(x+1);let e=lf(T,x);if(v.dirty&&fT(u)===((e.metadata.flags&2)===2)){if(e.matches===null)v.reset([]);else{let y=uS(u,x);v.reset(y,sC),v.notifyOnChanges()}return!0}return!1}function im(){return iS(At(),Fv())}function qS(v,u,T,x){T>=v.data.length&&(v.data[T]=null,v.blueprint[T]=null),u[T]=x}function rm(v){let u=ST();return Cv(u,je+v)}function Vt(v,u=""){let T=At(),x=ae(),e=v+je,y=x.firstCreatePass?La(x,e,1,u,null):x.data[e],t=_S(x,T,y,u,v);T[e]=t,Uh()&&tf(x,T,t,y),os(y,!1)}var _S=(v,u,T,x,e)=>(zh(!0),SC(u[te],x));function tD(v,u,T){let x=At(),e=qg(x,v,u,T);return e!==Je&&Ng(x,Ri(),e),tD}function eD(v,u,T,x,e){let y=At(),t=RS(y,v,u,T,x,e);return t!==Je&&Ng(y,Ri(),t),eD}function nD(v,u,T){Zg(u)&&(u=u());let x=At(),e=Pa();if(kn(x,e,u)){let y=ae(),t=Ra();rf(y,t,x,v,u,x[te],T,!1)}return nD}function u3(v,u){let T=Zg(v);return T&&v.set(u),T}function iD(v,u){let T=At(),x=ae(),e=ue();return _g(x,T,T[te],e,v,u),iD}function rD(v,u,T){let x=ae();if(x.firstCreatePass){let e=Yn(v);xh(T,x.data,x.blueprint,e,!0),xh(u,x.data,x.blueprint,e,!1)}}function xh(v,u,T,x,e){if(v=de(v),Array.isArray(v))for(let y=0;y<v.length;y++)xh(v[y],u,T,x,e);else{let y=ae(),t=At(),a=ue(),g=or(v)?v:de(v.provide),l=uv(v),s=a.providerIndexes&1048575,o=a.directiveStart,n=a.providerIndexes>>20;if(or(v)||!v.multi){let i=new Si(l,e,dt),h=Pu(g,u,e?s:s+n,o);h===-1?(Xu(oa(a,t),y,g),Au(y,v,u.length),u.push(g),a.directiveStart++,a.directiveEnd++,e&&(a.providerIndexes+=1048576),T.push(i),t.push(i)):(T[h]=i,t[h]=i)}else{let i=Pu(g,u,s+n,o),h=Pu(g,u,s,s+n),r=i>=0&&T[i],f=h>=0&&T[h];if(e&&!f||!e&&!r){Xu(oa(a,t),y,g);let c=aD(e?oD:sD,T.length,e,x,l);!e&&f&&(T[h].providerFactory=c),Au(y,v,u.length,0),u.push(g),a.directiveStart++,a.directiveEnd++,e&&(a.providerIndexes+=1048576),T.push(c),t.push(c)}else{let c=sm(T[e?h:i],l,!e&&x);Au(y,v,i>-1?i:h,c)}!e&&x&&f&&T[h].componentProviders++}}}function Au(v,u,T,x){let e=or(u),y=q1(u);if(e||y){let g=(y?de(u.useClass):u).prototype.ngOnDestroy;if(g){let l=v.destroyHooks||(v.destroyHooks=[]);if(!e&&u.multi){let s=l.indexOf(T);s===-1?l.push(T,[x,g]):l[s+1].push(x,g)}else l.push(T,g)}}}function sm(v,u,T){return T&&v.componentProviders++,v.multi.push(u)-1}function Pu(v,u,T,x){for(let e=T;e<x;e++)if(u[e]===v)return e;return-1}function sD(v,u,T,x){return Th(this.multi,[])}function oD(v,u,T,x){let e=this.multi,y;if(this.providerFactory){let t=this.providerFactory.componentProviders,a=Di(T,T[Et],this.providerFactory.index,x);y=a.slice(0,t),Th(e,y);for(let g=t;g<a.length;g++)y.push(a[g])}else y=[],Th(e,y);return y}function Th(v,u){for(let T=0;T<v.length;T++){let x=v[T];u.push(x())}return u}function aD(v,u,T,x,e){let y=new Si(v,T,dt);return y.multi=[],y.index=u,y.componentProviders=0,sm(y,e,x&&!T),y}function Fi(v,u=[]){return T=>{T.providersResolver=(x,e)=>rD(x,e?e(v):v,u)}}var lD=(()=>{let u=class u{constructor(x){this._injector=x,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(x){if(!x.standalone)return null;if(!this.cachedInjectors.has(x)){let e=ov(!1,x.type),y=e.length>0?Ba([e],this._injector,`Standalone[${x.type.name}]`):null;this.cachedInjectors.set(x,y)}return this.cachedInjectors.get(x)}ngOnDestroy(){try{for(let x of this.cachedInjectors.values())x!==null&&x.destroy()}finally{this.cachedInjectors.clear()}}};u.\u0275prov=st({token:u,providedIn:"environment",factory:()=>new u(at(pe))});let v=u;return v})();function Qn(v){mr("NgStandalone"),v.getStandaloneInjector=u=>u.get(lD).getOrCreateStandaloneInjector(v)}function h3(v,u,T){let x=Aa()+v,e=At();return e[x]===Je?hf(e,x,T?u.call(T):u()):TS(e,x)}function om(v,u,T,x){return lm(At(),Aa(),v,u,T,x)}function f3(v,u,T,x,e){return uD(At(),Aa(),v,u,T,x,e)}function am(v,u){let T=v[u];return T===Je?void 0:T}function lm(v,u,T,x,e,y){let t=u+T;return kn(v,t,e)?hf(v,t+1,y?x.call(y,e):x(e)):am(v,t+1)}function uD(v,u,T,x,e,y,t){let a=u+T;return Qg(v,a,e,y)?hf(v,a+2,t?x.call(t,e,y):x(e,y)):am(v,a+2)}function d3(v,u){let T=ae(),x,e=v+je;T.firstCreatePass?(x=hD(u,T.pipeRegistry),T.data[e]=x,x.onDestroy&&(T.destroyHooks??=[]).push(e,x.onDestroy)):x=T.data[e];let y=x.factory||(x.factory=yi(x.type,!0)),t,a=Te(dt);try{let g=sa(!1),l=y();return sa(g),qS(T,At(),e,l),l}finally{Te(a)}}function hD(v,u){if(u)for(let T=u.length-1;T>=0;T--){let x=u[T];if(v===x.name)return x}}function c3(v,u,T){let x=v+je,e=At(),y=Cv(e,x);return fD(e,x)?lm(e,Aa(),u,y.transform,T,y):y.transform(T)}function fD(v,u){return v[Et].data[u].pure}function um(v,u){return Na(v,u)}var Ua=(()=>{let u=class u{log(x){console.log(x)}warn(x){console.warn(x)}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"platform"});let v=u;return v})();var hm=new lt("");function Oi(v){return!!v&&typeof v.then=="function"}function fm(v){return!!v&&typeof v.subscribe=="function"}var za=new lt(""),dm=(()=>{let u=class u{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((x,e)=>{this.resolve=x,this.reject=e}),this.appInits=tt(za,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let x=[];for(let y of this.appInits){let t=y();if(Oi(t))x.push(t);else if(fm(t)){let a=new Promise((g,l)=>{t.subscribe({complete:g,error:l})});x.push(a)}}let e=()=>{this.done=!0,this.resolve()};Promise.all(x).then(()=>{e()}).catch(y=>{this.reject(y)}),x.length===0&&e(),this.initialized=!0}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})(),us=new lt("");function dD(){Mc(()=>{throw new ft(600,!1)})}function cD(v){return v.isBoundToModule}var pD=10;function vD(v,u,T){try{let x=T();return Oi(x)?x.catch(e=>{throw u.runOutsideAngular(()=>v.handleError(e)),e}):x}catch(x){throw u.runOutsideAngular(()=>v.handleError(x)),x}}var Jn=(()=>{let u=class u{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=tt(iC),this.afterRenderManager=tt(Jg),this.zonelessEnabled=tt(Wg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Jt,this.afterTick=new Jt,this.componentTypes=[],this.components=[],this.isStable=tt(Mn).hasPendingTasks.pipe(vt(x=>!x)),this._injector=tt(pe)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let x;return new Promise(e=>{x=this.isStable.subscribe({next:y=>{y&&e()}})}).finally(()=>{x.unsubscribe()})}get injector(){return this._injector}bootstrap(x,e){let y=x instanceof da;if(!this._injector.get(dm).done){let i=!y&&nv(x),h=!1;throw new ft(405,h)}let a;y?a=x:a=this._injector.get(hr).resolveComponentFactory(x),this.componentTypes.push(a.componentType);let g=cD(a)?void 0:this._injector.get(jn),l=e||a.selector,s=a.create(ke.NULL,[],l,g),o=s.location.nativeElement,n=s.injector.get(hm,null);return n?.registerApplication(o),s.onDestroy(()=>{this.detachView(s.hostView),ko(this.components,s),n?.unregisterApplication(o)}),this._loadComponent(s),s}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ft(101,!1);let x=Lt(null);try{this._runningTick=!0,this.synchronize()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1,Lt(x),this.afterTick.next()}}synchronize(){let x=null;this._injector.destroyed||(x=this._injector.get(fr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<pD;)this.synchronizeOnce(x)}synchronizeOnce(x){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(e);for(let{_lView:y,notifyErrorHandler:t}of this._views)gD(y,t,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else x?.begin?.(),x?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:x})=>Ma(x))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(x){let e=x;this._views.push(e),e.attachToAppRef(this)}detachView(x){let e=x;ko(this._views,e),e.detachFromAppRef()}_loadComponent(x){this.attachView(x.hostView),this.tick(),this.components.push(x);let e=this._injector.get(us,[]);[...this._bootstrapListeners,...e].forEach(y=>y(x))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(x=>x()),this._views.slice().forEach(x=>x.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(x){return this._destroyListeners.push(x),()=>ko(this._destroyListeners,x)}destroy(){if(this._destroyed)throw new ft(406,!1);let x=this._injector;x.destroy&&!x.destroyed&&x.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();function ko(v,u){let T=v.indexOf(u);T>-1&&v.splice(T,1)}function gD(v,u,T,x){if(!T&&!Ma(v))return;Gg(v,u,T&&!x?0:1)}var Ch=class{constructor(u,T){this.ngModuleFactory=u,this.componentFactories=T}},Ha=(()=>{let u=class u{compileModuleSync(x){return new ph(x)}compileModuleAsync(x){return Promise.resolve(this.compileModuleSync(x))}compileModuleAndAllComponentsSync(x){let e=this.compileModuleSync(x),y=iv(x),t=lg(y.declarations).reduce((a,g)=>{let l=Xn(g);return l&&a.push(new dr(l)),a},[]);return new Ch(e,t)}compileModuleAndAllComponentsAsync(x){return Promise.resolve(this.compileModuleAndAllComponentsSync(x))}clearCache(){}clearCacheFor(x){}getModuleId(x){}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();var mD=(()=>{let u=class u{constructor(){this.zone=tt(jt),this.changeDetectionScheduler=tt(ur),this.applicationRef=tt(Jn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();function yD({ngZoneFactory:v,ignoreChangesOutsideZone:u,scheduleInRootZone:T}){return v??=()=>new jt(mt(et({},xD()),{scheduleInRootZone:T})),[{provide:jt,useFactory:v},{provide:sr,multi:!0,useFactory:()=>{let x=tt(mD,{optional:!0});return()=>x.initialize()}},{provide:sr,multi:!0,useFactory:()=>{let x=tt(TD);return()=>{x.initialize()}}},u===!0?{provide:Xg,useValue:!0}:[],{provide:Yg,useValue:T??Kv}]}function xD(v){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:v?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:v?.runCoalescing??!1}}var TD=(()=>{let u=class u{constructor(){this.subscription=new Qt,this.initialized=!1,this.zone=tt(jt),this.pendingTasks=tt(Mn)}initialize(){if(this.initialized)return;this.initialized=!0;let x=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(x=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{jt.assertNotInAngularZone(),queueMicrotask(()=>{x!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(x),x=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{jt.assertInAngularZone(),x??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();var CD=(()=>{let u=class u{constructor(){this.appRef=tt(Jn),this.taskService=tt(Mn),this.ngZone=tt(jt),this.zonelessEnabled=tt(Wg),this.disableScheduling=tt(Xg,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(la):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(tt(Yg,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Zu||!this.zoneIsDefined)}notify(x){if(!this.zonelessEnabled&&x===5)return;switch(x){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let e=this.useMicrotaskScheduler?gp:Qv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>e(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>e(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(la+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let x=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(e){throw this.taskService.remove(x),e}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(x)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let x=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(x)}}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();function ED(){return typeof $localize<"u"&&$localize.locale||ga}var cf=new lt("",{providedIn:"root",factory:()=>tt(cf,Mt.Optional|Mt.SkipSelf)||ED()});var cm=new lt("");function Ho(v){return!!v.platformInjector}function SD(v){let u=Ho(v)?v.r3Injector:v.moduleRef.injector,T=u.get(jt);return T.run(()=>{Ho(v)?v.r3Injector.resolveInjectorInitializers():v.moduleRef.resolveInjectorInitializers();let x=u.get(Tn,null),e;if(T.runOutsideAngular(()=>{e=T.onError.subscribe({next:y=>{x.handleError(y)}})}),Ho(v)){let y=()=>u.destroy(),t=v.platformInjector.get(cm);t.add(y),u.onDestroy(()=>{e.unsubscribe(),t.delete(y)})}else v.moduleRef.onDestroy(()=>{ko(v.allPlatformModules,v.moduleRef),e.unsubscribe()});return vD(x,T,()=>{let y=u.get(dm);return y.runInitializers(),y.donePromise.then(()=>{let t=u.get(cf,ga);if(KS(t||ga),Ho(v)){let a=u.get(Jn);return v.rootComponent!==void 0&&a.bootstrap(v.rootComponent),a}else return DD(v.moduleRef,v.allPlatformModules),v.moduleRef})})})}function DD(v,u){let T=v.injector.get(Jn);if(v._bootstrapComponents.length>0)v._bootstrapComponents.forEach(x=>T.bootstrap(x));else if(v.instance.ngDoBootstrap)v.instance.ngDoBootstrap(T);else throw new ft(-403,!1);u.push(v)}var $o=null;function MD(v=[],u){return ke.create({name:u,providers:[{provide:Ea,useValue:"platform"},{provide:cm,useValue:new Set([()=>$o=null])},...v]})}function wD(v=[]){if($o)return $o;let u=MD(v);return $o=u,dD(),AD(u),u}function AD(v){v.get(Zh,null)?.forEach(T=>T())}var qn=(()=>{let u=class u{};u.__NG_ELEMENT_ID__=PD;let v=u;return v})();function PD(v){return RD(ue(),At(),(v&16)===16)}function RD(v,u,T){if(Da(v)&&!T){let x=Zn(v.index,u);return new wi(x,x)}else if(v.type&175){let x=u[ln];return new wi(x,u)}return null}var Eh=class{constructor(){}supports(u){return Kg(u)}create(u){return new Sh(u)}},ID=(v,u)=>u,Sh=class{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||ID}forEachItem(u){let T;for(T=this._itHead;T!==null;T=T._next)u(T)}forEachOperation(u){let T=this._itHead,x=this._removalsHead,e=0,y=null;for(;T||x;){let t=!x||T&&T.currentIndex<Np(x,e,y)?T:x,a=Np(t,e,y),g=t.currentIndex;if(t===x)e--,x=x._nextRemoved;else if(T=T._next,t.previousIndex==null)e++;else{y||(y=[]);let l=a-e,s=g-e;if(l!=s){for(let n=0;n<l;n++){let i=n<y.length?y[n]:y[n]=0,h=i+n;s<=h&&h<l&&(y[n]=i+1)}let o=t.previousIndex;y[o]=s-l}}a!==g&&u(t,a,g)}}forEachPreviousItem(u){let T;for(T=this._previousItHead;T!==null;T=T._nextPrevious)u(T)}forEachAddedItem(u){let T;for(T=this._additionsHead;T!==null;T=T._nextAdded)u(T)}forEachMovedItem(u){let T;for(T=this._movesHead;T!==null;T=T._nextMoved)u(T)}forEachRemovedItem(u){let T;for(T=this._removalsHead;T!==null;T=T._nextRemoved)u(T)}forEachIdentityChange(u){let T;for(T=this._identityChangesHead;T!==null;T=T._nextIdentityChange)u(T)}diff(u){if(u==null&&(u=[]),!Kg(u))throw new ft(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let T=this._itHead,x=!1,e,y,t;if(Array.isArray(u)){this.length=u.length;for(let a=0;a<this.length;a++)y=u[a],t=this._trackByFn(a,y),T===null||!Object.is(T.trackById,t)?(T=this._mismatch(T,y,t,a),x=!0):(x&&(T=this._verifyReinsertion(T,y,t,a)),Object.is(T.item,y)||this._addIdentityChange(T,y)),T=T._next}else e=0,yS(u,a=>{t=this._trackByFn(e,a),T===null||!Object.is(T.trackById,t)?(T=this._mismatch(T,a,t,e),x=!0):(x&&(T=this._verifyReinsertion(T,a,t,e)),Object.is(T.item,a)||this._addIdentityChange(T,a)),T=T._next,e++}),this.length=e;return this._truncate(T),this.collection=u,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;u!==null;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;u!==null;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;u!==null;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,T,x,e){let y;return u===null?y=this._itTail:(y=u._prev,this._remove(u)),u=this._unlinkedRecords===null?null:this._unlinkedRecords.get(x,null),u!==null?(Object.is(u.item,T)||this._addIdentityChange(u,T),this._reinsertAfter(u,y,e)):(u=this._linkedRecords===null?null:this._linkedRecords.get(x,e),u!==null?(Object.is(u.item,T)||this._addIdentityChange(u,T),this._moveAfter(u,y,e)):u=this._addAfter(new Dh(T,x),y,e)),u}_verifyReinsertion(u,T,x,e){let y=this._unlinkedRecords===null?null:this._unlinkedRecords.get(x,null);return y!==null?u=this._reinsertAfter(y,u._prev,e):u.currentIndex!=e&&(u.currentIndex=e,this._addToMoves(u,e)),u}_truncate(u){for(;u!==null;){let T=u._next;this._addToRemovals(this._unlink(u)),u=T}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,T,x){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(u);let e=u._prevRemoved,y=u._nextRemoved;return e===null?this._removalsHead=y:e._nextRemoved=y,y===null?this._removalsTail=e:y._prevRemoved=e,this._insertAfter(u,T,x),this._addToMoves(u,x),u}_moveAfter(u,T,x){return this._unlink(u),this._insertAfter(u,T,x),this._addToMoves(u,x),u}_addAfter(u,T,x){return this._insertAfter(u,T,x),this._additionsTail===null?this._additionsTail=this._additionsHead=u:this._additionsTail=this._additionsTail._nextAdded=u,u}_insertAfter(u,T,x){let e=T===null?this._itHead:T._next;return u._next=e,u._prev=T,e===null?this._itTail=u:e._prev=u,T===null?this._itHead=u:T._next=u,this._linkedRecords===null&&(this._linkedRecords=new ma),this._linkedRecords.put(u),u.currentIndex=x,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){this._linkedRecords!==null&&this._linkedRecords.remove(u);let T=u._prev,x=u._next;return T===null?this._itHead=x:T._next=x,x===null?this._itTail=T:x._prev=T,u}_addToMoves(u,T){return u.previousIndex===T||(this._movesTail===null?this._movesTail=this._movesHead=u:this._movesTail=this._movesTail._nextMoved=u),u}_addToRemovals(u){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ma),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,T){return u.item=T,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=u:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=u,u}},Dh=class{constructor(u,T){this.item=u,this.trackById=T,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Mh=class{constructor(){this._head=null,this._tail=null}add(u){this._head===null?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,T){let x;for(x=this._head;x!==null;x=x._nextDup)if((T===null||T<=x.currentIndex)&&Object.is(x.trackById,u))return x;return null}remove(u){let T=u._prevDup,x=u._nextDup;return T===null?this._head=x:T._nextDup=x,x===null?this._tail=T:x._prevDup=T,this._head===null}},ma=class{constructor(){this.map=new Map}put(u){let T=u.trackById,x=this.map.get(T);x||(x=new Mh,this.map.set(T,x)),x.add(u)}get(u,T){let x=u,e=this.map.get(x);return e?e.get(u,T):null}remove(u){let T=u.trackById;return this.map.get(T).remove(u)&&this.map.delete(T),u}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Np(v,u,T){let x=v.previousIndex;if(x===null)return x;let e=0;return T&&x<T.length&&(e=T[x]),x+u+e}function Bp(){return new pf([new Eh])}var pf=(()=>{let u=class u{constructor(x){this.factories=x}static create(x,e){if(e!=null){let y=e.factories.slice();x=x.concat(y)}return new u(x)}static extend(x){return{provide:u,useFactory:e=>u.create(x,e||Bp()),deps:[[u,new Ah,new Ca]]}}find(x){let e=this.factories.find(y=>y.supports(x));if(e!=null)return e;throw new ft(901,!1)}};u.\u0275prov=st({token:u,providedIn:"root",factory:Bp});let v=u;return v})();function pm(v){try{let{rootComponent:u,appProviders:T,platformProviders:x}=v,e=wD(x),y=[yD({}),{provide:ur,useExisting:CD},...T||[]],t=new pa({providers:y,parent:e,debugName:"",runEnvironmentInitializers:!1});return SD({r3Injector:t.injector,platformInjector:e,rootComponent:u})}catch(u){return Promise.reject(u)}}var vm=new lt("");function _n(v){return typeof v=="boolean"?v:v!=null&&v!=="false"}function xr(v,u){mr("NgSignals");let T=Ec(v);return u?.equal&&(T[gn].equal=u.equal),T}function hn(v){let u=Lt(null);try{return v()}finally{Lt(u)}}function gm(v){let u=Xn(v);if(!u)return null;let T=new dr(u);return{get selector(){return T.selector},get type(){return T.componentType},get inputs(){return T.inputs},get outputs(){return T.outputs},get ngContentSelectors(){return T.ngContentSelectors},get isStandalone(){return u.standalone},get isSignal(){return u.signals}}}var Em=null;function Pn(){return Em}function Sm(v){Em??=v}var Wa=class{};var ie=new lt(""),Ef=(()=>{let u=class u{historyGo(x){throw new Error("")}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:()=>tt(OD),providedIn:"platform"});let v=u;return v})(),Dm=new lt(""),OD=(()=>{let u=class u extends Ef{constructor(){super(),this._doc=tt(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pn().getBaseHref(this._doc)}onPopState(x){let e=Pn().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",x,!1),()=>e.removeEventListener("popstate",x)}onHashChange(x){let e=Pn().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",x,!1),()=>e.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,e,y){this._history.pushState(x,e,y)}replaceState(x,e,y){this._history.replaceState(x,e,y)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:()=>new u,providedIn:"platform"});let v=u;return v})();function Sf(v,u){if(v.length==0)return u;if(u.length==0)return v;let T=0;return v.endsWith("/")&&T++,u.startsWith("/")&&T++,T==2?v+u.substring(1):T==1?v+u:v+"/"+u}function mm(v){let u=v.match(/#|\?|$/),T=u&&u.index||v.length,x=T-(v[T-1]==="/"?1:0);return v.slice(0,x)+v.slice(T)}function An(v){return v&&v[0]!=="?"?"?"+v:v}var Rn=(()=>{let u=class u{historyGo(x){throw new Error("")}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:()=>tt(Df),providedIn:"root"});let v=u;return v})(),Mm=new lt(""),Df=(()=>{let u=class u extends Rn{constructor(x,e){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=e??this._platformLocation.getBaseHrefFromDOM()??tt(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return Sf(this._baseHref,x)}path(x=!1){let e=this._platformLocation.pathname+An(this._platformLocation.search),y=this._platformLocation.hash;return y&&x?`${e}${y}`:e}pushState(x,e,y,t){let a=this.prepareExternalUrl(y+An(t));this._platformLocation.pushState(x,e,a)}replaceState(x,e,y,t){let a=this.prepareExternalUrl(y+An(t));this._platformLocation.replaceState(x,e,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}};u.\u0275fac=function(e){return new(e||u)(at(Ef),at(Mm,8))},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})(),wm=(()=>{let u=class u extends Rn{constructor(x,e){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],e!=null&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let e=this._platformLocation.hash??"#";return e.length>0?e.substring(1):e}prepareExternalUrl(x){let e=Sf(this._baseHref,x);return e.length>0?"#"+e:e}pushState(x,e,y,t){let a=this.prepareExternalUrl(y+An(t));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(x,e,a)}replaceState(x,e,y,t){let a=this.prepareExternalUrl(y+An(t));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(x,e,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}};u.\u0275fac=function(e){return new(e||u)(at(Ef),at(Mm,8))},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})(),Cr=(()=>{let u=class u{constructor(x){this._subject=new Xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;let e=this._locationStrategy.getBaseHref();this._basePath=ND(mm(ym(e))),this._locationStrategy.onPopState(y=>{this._subject.emit({url:this.path(!0),pop:!0,state:y.state,type:y.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,e=""){return this.path()==this.normalize(x+An(e))}normalize(x){return u.stripTrailingSlash(bD(this._basePath,ym(x)))}prepareExternalUrl(x){return x&&x[0]!=="/"&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,e="",y=null){this._locationStrategy.pushState(y,"",x,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+An(e)),y)}replaceState(x,e="",y=null){this._locationStrategy.replaceState(y,"",x,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+An(e)),y)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription??=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}),()=>{let e=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(e,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",e){this._urlChangeListeners.forEach(y=>y(x,e))}subscribe(x,e,y){return this._subject.subscribe({next:x,error:e,complete:y})}};u.normalizeQueryParams=An,u.joinWithSlash=Sf,u.stripTrailingSlash=mm,u.\u0275fac=function(e){return new(e||u)(at(Rn))},u.\u0275prov=st({token:u,factory:()=>LD(),providedIn:"root"});let v=u;return v})();function LD(){return new Cr(at(Rn))}function bD(v,u){if(!v||!u.startsWith(v))return u;let T=u.substring(v.length);return T===""||["/",";","?","#"].includes(T[0])?T:u}function ym(v){return v.replace(/\/index.html$/,"")}function ND(v){if(new RegExp("^(https?:)?//").test(v)){let[,T]=v.split(/\/\/[^\/]+/);return T}return v}function Xa(v,u){u=encodeURIComponent(u);for(let T of v.split(";")){let x=T.indexOf("="),[e,y]=x==-1?[T,""]:[T.slice(0,x),T.slice(x+1)];if(e.trim()===u)return decodeURIComponent(y)}return null}var gf=/\s+/,xm=[],Am=(()=>{let u=class u{constructor(x,e){this._ngEl=x,this._renderer=e,this.initialClasses=xm,this.stateMap=new Map}set klass(x){this.initialClasses=x!=null?x.trim().split(gf):xm}set ngClass(x){this.rawClass=typeof x=="string"?x.trim().split(gf):x}ngDoCheck(){for(let e of this.initialClasses)this._updateState(e,!0);let x=this.rawClass;if(Array.isArray(x)||x instanceof Set)for(let e of x)this._updateState(e,!0);else if(x!=null)for(let e of Object.keys(x))this._updateState(e,!!x[e]);this._applyStateDiff()}_updateState(x,e){let y=this.stateMap.get(x);y!==void 0?(y.enabled!==e&&(y.changed=!0,y.enabled=e),y.touched=!0):this.stateMap.set(x,{enabled:e,changed:!0,touched:!0})}_applyStateDiff(){for(let x of this.stateMap){let e=x[0],y=x[1];y.changed?(this._toggleClass(e,y.enabled),y.changed=!1):y.touched||(y.enabled&&this._toggleClass(e,!1),this.stateMap.delete(e)),y.touched=!1}}_toggleClass(x,e){x=x.trim(),x.length>0&&x.split(gf).forEach(y=>{e?this._renderer.addClass(this._ngEl.nativeElement,y):this._renderer.removeClass(this._ngEl.nativeElement,y)})}};u.\u0275fac=function(e){return new(e||u)(dt(Me),dt(wn))},u.\u0275dir=Zt({type:u,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let v=u;return v})();var mf=class{constructor(u,T,x,e){this.$implicit=u,this.ngForOf=T,this.index=x,this.count=e}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pm=(()=>{let u=class u{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,e,y){this._viewContainer=x,this._template=e,this._differs=y,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let x=this._ngForOf;if(!this._differ&&x)if(0)try{}catch{}else this._differ=this._differs.find(x).create(this.ngForTrackBy)}if(this._differ){let x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){let e=this._viewContainer;x.forEachOperation((y,t,a)=>{if(y.previousIndex==null)e.createEmbeddedView(this._template,new mf(y.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)e.remove(t===null?void 0:t);else if(t!==null){let g=e.get(t);e.move(g,a),Tm(g,y)}});for(let y=0,t=e.length;y<t;y++){let g=e.get(y).context;g.index=y,g.count=t,g.ngForOf=this._ngForOf}x.forEachIdentityChange(y=>{let t=e.get(y.currentIndex);Tm(t,y)})}static ngTemplateContextGuard(x,e){return!0}};u.\u0275fac=function(e){return new(e||u)(dt(Kn),dt(Ai),dt(pf))},u.\u0275dir=Zt({type:u,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let v=u;return v})();function Tm(v,u){v.context.$implicit=u.item}var Er=(()=>{let u=class u{constructor(x,e){this._viewContainer=x,this._context=new yf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Cm("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Cm("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,e){return!0}};u.\u0275fac=function(e){return new(e||u)(dt(Kn),dt(Ai))},u.\u0275dir=Zt({type:u,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let v=u;return v})(),yf=class{constructor(){this.$implicit=null,this.ngIf=null}};function Cm(v,u){if(!!!(!u||u.createEmbeddedView))throw new Error(`${v} must be a TemplateRef, but received '${ce(u)}'.`)}function BD(v,u){return new ft(2100,!1)}var G3=(()=>{let u=class u{transform(x){if(x==null)return null;if(typeof x!="string")throw BD(u,x);return x.toUpperCase()}};u.\u0275fac=function(e){return new(e||u)},u.\u0275pipe=_p({name:"uppercase",type:u,pure:!0,standalone:!0});let v=u;return v})();var Li=(()=>{let u=class u{};u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=Ze({type:u}),u.\u0275inj=$e({});let v=u;return v})(),Mf="browser",VD="server";function wf(v){return v===Mf}function Ya(v){return v===VD}var Rm=(()=>{let u=class u{};u.\u0275prov=st({token:u,providedIn:"root",factory:()=>wf(tt(Ne))?new xf(tt(ie),window):new Tf});let v=u;return v})(),xf=class{constructor(u,T){this.document=u,this.window=T,this.offset=()=>[0,0]}setOffset(u){Array.isArray(u)?this.offset=()=>u:this.offset=u}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(u){this.window.scrollTo(u[0],u[1])}scrollToAnchor(u){let T=GD(this.document,u);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(u){this.window.history.scrollRestoration=u}scrollToElement(u){let T=u.getBoundingClientRect(),x=T.left+this.window.pageXOffset,e=T.top+this.window.pageYOffset,y=this.offset();this.window.scrollTo(x-y[0],e-y[1])}};function GD(v,u){let T=v.getElementById(u)||v.getElementsByName(u)[0];if(T)return T;if(typeof v.createTreeWalker=="function"&&v.body&&typeof v.body.attachShadow=="function"){let x=v.createTreeWalker(v.body,NodeFilter.SHOW_ELEMENT),e=x.currentNode;for(;e;){let y=e.shadowRoot;if(y){let t=y.getElementById(u)||y.querySelector(`[name="${u}"]`);if(t)return t}e=x.nextNode()}}return null}var Tf=class{setOffset(u){}getScrollPosition(){return[0,0]}scrollToPosition(u){}scrollToAnchor(u){}setHistoryScrollRestoration(u){}},Tr=class{};var ds=class{},ka=class{},Be=class v{constructor(u){this.normalizedNames=new Map,this.lazyUpdate=null,u?typeof u=="string"?this.lazyInit=()=>{this.headers=new Map,u.split(`
`).forEach(T=>{let x=T.indexOf(":");if(x>0){let e=T.slice(0,x),y=e.toLowerCase(),t=T.slice(x+1).trim();this.maybeSetNormalizedName(e,y),this.headers.has(y)?this.headers.get(y).push(t):this.headers.set(y,[t])}})}:typeof Headers<"u"&&u instanceof Headers?(this.headers=new Map,u.forEach((T,x)=>{this.setHeaderEntries(x,T)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(u).forEach(([T,x])=>{this.setHeaderEntries(T,x)})}:this.headers=new Map}has(u){return this.init(),this.headers.has(u.toLowerCase())}get(u){this.init();let T=this.headers.get(u.toLowerCase());return T&&T.length>0?T[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(u){return this.init(),this.headers.get(u.toLowerCase())||null}append(u,T){return this.clone({name:u,value:T,op:"a"})}set(u,T){return this.clone({name:u,value:T,op:"s"})}delete(u,T){return this.clone({name:u,value:T,op:"d"})}maybeSetNormalizedName(u,T){this.normalizedNames.has(T)||this.normalizedNames.set(T,u)}init(){this.lazyInit&&(this.lazyInit instanceof v?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(u=>this.applyUpdate(u)),this.lazyUpdate=null))}copyFrom(u){u.init(),Array.from(u.headers.keys()).forEach(T=>{this.headers.set(T,u.headers.get(T)),this.normalizedNames.set(T,u.normalizedNames.get(T))})}clone(u){let T=new v;return T.lazyInit=this.lazyInit&&this.lazyInit instanceof v?this.lazyInit:this,T.lazyUpdate=(this.lazyUpdate||[]).concat([u]),T}applyUpdate(u){let T=u.name.toLowerCase();switch(u.op){case"a":case"s":let x=u.value;if(typeof x=="string"&&(x=[x]),x.length===0)return;this.maybeSetNormalizedName(u.name,T);let e=(u.op==="a"?this.headers.get(T):void 0)||[];e.push(...x),this.headers.set(T,e);break;case"d":let y=u.value;if(!y)this.headers.delete(T),this.normalizedNames.delete(T);else{let t=this.headers.get(T);if(!t)return;t=t.filter(a=>y.indexOf(a)===-1),t.length===0?(this.headers.delete(T),this.normalizedNames.delete(T)):this.headers.set(T,t)}break}}setHeaderEntries(u,T){let x=(Array.isArray(T)?T:[T]).map(y=>y.toString()),e=u.toLowerCase();this.headers.set(e,x),this.maybeSetNormalizedName(u,e)}forEach(u){this.init(),Array.from(this.normalizedNames.keys()).forEach(T=>u(this.normalizedNames.get(T),this.headers.get(T)))}};var Pf=class{encodeKey(u){return Im(u)}encodeValue(u){return Im(u)}decodeKey(u){return decodeURIComponent(u)}decodeValue(u){return decodeURIComponent(u)}};function UD(v,u){let T=new Map;return v.length>0&&v.replace(/^\?/,"").split("&").forEach(e=>{let y=e.indexOf("="),[t,a]=y==-1?[u.decodeKey(e),""]:[u.decodeKey(e.slice(0,y)),u.decodeValue(e.slice(y+1))],g=T.get(t)||[];g.push(a),T.set(t,g)}),T}var zD=/%(\d[a-f0-9])/gi,HD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Im(v){return encodeURIComponent(v).replace(zD,(u,T)=>HD[T]??u)}function ja(v){return`${v}`}var ti=class v{constructor(u={}){if(this.updates=null,this.cloneFrom=null,this.encoder=u.encoder||new Pf,u.fromString){if(u.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=UD(u.fromString,this.encoder)}else u.fromObject?(this.map=new Map,Object.keys(u.fromObject).forEach(T=>{let x=u.fromObject[T],e=Array.isArray(x)?x.map(ja):[ja(x)];this.map.set(T,e)})):this.map=null}has(u){return this.init(),this.map.has(u)}get(u){this.init();let T=this.map.get(u);return T?T[0]:null}getAll(u){return this.init(),this.map.get(u)||null}keys(){return this.init(),Array.from(this.map.keys())}append(u,T){return this.clone({param:u,value:T,op:"a"})}appendAll(u){let T=[];return Object.keys(u).forEach(x=>{let e=u[x];Array.isArray(e)?e.forEach(y=>{T.push({param:x,value:y,op:"a"})}):T.push({param:x,value:e,op:"a"})}),this.clone(T)}set(u,T){return this.clone({param:u,value:T,op:"s"})}delete(u,T){return this.clone({param:u,value:T,op:"d"})}toString(){return this.init(),this.keys().map(u=>{let T=this.encoder.encodeKey(u);return this.map.get(u).map(x=>T+"="+this.encoder.encodeValue(x)).join("&")}).filter(u=>u!=="").join("&")}clone(u){let T=new v({encoder:this.encoder});return T.cloneFrom=this.cloneFrom||this,T.updates=(this.updates||[]).concat(u),T}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(u=>this.map.set(u,this.cloneFrom.map.get(u))),this.updates.forEach(u=>{switch(u.op){case"a":case"s":let T=(u.op==="a"?this.map.get(u.param):void 0)||[];T.push(ja(u.value)),this.map.set(u.param,T);break;case"d":if(u.value!==void 0){let x=this.map.get(u.param)||[],e=x.indexOf(ja(u.value));e!==-1&&x.splice(e,1),x.length>0?this.map.set(u.param,x):this.map.delete(u.param)}else{this.map.delete(u.param);break}}}),this.cloneFrom=this.updates=null)}};var Rf=class{constructor(){this.map=new Map}set(u,T){return this.map.set(u,T),this}get(u){return this.map.has(u)||this.map.set(u,u.defaultValue()),this.map.get(u)}delete(u){return this.map.delete(u),this}has(u){return this.map.has(u)}keys(){return this.map.keys()}};function WD(v){switch(v){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Fm(v){return typeof ArrayBuffer<"u"&&v instanceof ArrayBuffer}function Om(v){return typeof Blob<"u"&&v instanceof Blob}function Lm(v){return typeof FormData<"u"&&v instanceof FormData}function XD(v){return typeof URLSearchParams<"u"&&v instanceof URLSearchParams}var fs=class v{constructor(u,T,x,e){this.url=T,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=u.toUpperCase();let y;if(WD(this.method)||e?(this.body=x!==void 0?x:null,y=e):y=x,y&&(this.reportProgress=!!y.reportProgress,this.withCredentials=!!y.withCredentials,y.responseType&&(this.responseType=y.responseType),y.headers&&(this.headers=y.headers),y.context&&(this.context=y.context),y.params&&(this.params=y.params),this.transferCache=y.transferCache),this.headers??=new Be,this.context??=new Rf,!this.params)this.params=new ti,this.urlWithParams=T;else{let t=this.params.toString();if(t.length===0)this.urlWithParams=T;else{let a=T.indexOf("?"),g=a===-1?"?":a<T.length-1?"&":"";this.urlWithParams=T+g+t}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Fm(this.body)||Om(this.body)||Lm(this.body)||XD(this.body)?this.body:this.body instanceof ti?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Lm(this.body)?null:Om(this.body)?this.body.type||null:Fm(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ti?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(u={}){let T=u.method||this.method,x=u.url||this.url,e=u.responseType||this.responseType,y=u.transferCache??this.transferCache,t=u.body!==void 0?u.body:this.body,a=u.withCredentials??this.withCredentials,g=u.reportProgress??this.reportProgress,l=u.headers||this.headers,s=u.params||this.params,o=u.context??this.context;return u.setHeaders!==void 0&&(l=Object.keys(u.setHeaders).reduce((n,i)=>n.set(i,u.setHeaders[i]),l)),u.setParams&&(s=Object.keys(u.setParams).reduce((n,i)=>n.set(i,u.setParams[i]),s)),new v(T,x,t,{params:s,headers:l,context:o,reportProgress:g,responseType:e,withCredentials:a,transferCache:y})}},ei=function(v){return v[v.Sent=0]="Sent",v[v.UploadProgress=1]="UploadProgress",v[v.ResponseHeader=2]="ResponseHeader",v[v.DownloadProgress=3]="DownloadProgress",v[v.Response=4]="Response",v[v.User=5]="User",v}(ei||{}),cs=class{constructor(u,T=200,x="OK"){this.headers=u.headers||new Be,this.status=u.status!==void 0?u.status:T,this.statusText=u.statusText||x,this.url=u.url||null,this.ok=this.status>=200&&this.status<300}},$a=class v extends cs{constructor(u={}){super(u),this.type=ei.ResponseHeader}clone(u={}){return new v({headers:u.headers||this.headers,status:u.status!==void 0?u.status:this.status,statusText:u.statusText||this.statusText,url:u.url||this.url||void 0})}},ps=class v extends cs{constructor(u={}){super(u),this.type=ei.Response,this.body=u.body!==void 0?u.body:null}clone(u={}){return new v({body:u.body!==void 0?u.body:this.body,headers:u.headers||this.headers,status:u.status!==void 0?u.status:this.status,statusText:u.statusText||this.statusText,url:u.url||this.url||void 0})}},fn=class extends cs{constructor(u){super(u,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${u.url||"(unknown url)"}`:this.message=`Http failure response for ${u.url||"(unknown url)"}: ${u.status} ${u.statusText}`,this.error=u.error||null}},Gm=200,YD=204;function Af(v,u){return{body:u,headers:v.headers,context:v.context,observe:v.observe,params:v.params,reportProgress:v.reportProgress,responseType:v.responseType,withCredentials:v.withCredentials,transferCache:v.transferCache}}var vs=(()=>{let u=class u{constructor(x){this.handler=x}request(x,e,y={}){let t;if(x instanceof fs)t=x;else{let l;y.headers instanceof Be?l=y.headers:l=new Be(y.headers);let s;y.params&&(y.params instanceof ti?s=y.params:s=new ti({fromObject:y.params})),t=new fs(x,e,y.body!==void 0?y.body:null,{headers:l,context:y.context,params:s,reportProgress:y.reportProgress,responseType:y.responseType||"json",withCredentials:y.withCredentials,transferCache:y.transferCache})}let a=pt(t).pipe(mn(l=>this.handler.handle(l)));if(x instanceof fs||y.observe==="events")return a;let g=a.pipe(ye(l=>l instanceof ps));switch(y.observe||"body"){case"body":switch(t.responseType){case"arraybuffer":return g.pipe(vt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return g.pipe(vt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return g.pipe(vt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return g.pipe(vt(l=>l.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${y.observe}}`)}}delete(x,e={}){return this.request("DELETE",x,e)}get(x,e={}){return this.request("GET",x,e)}head(x,e={}){return this.request("HEAD",x,e)}jsonp(x,e){return this.request("JSONP",x,{params:new ti().append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(x,e={}){return this.request("OPTIONS",x,e)}patch(x,e,y={}){return this.request("PATCH",x,Af(y,e))}post(x,e,y={}){return this.request("POST",x,Af(y,e))}put(x,e,y={}){return this.request("PUT",x,Af(y,e))}};u.\u0275fac=function(e){return new(e||u)(at(ds))},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})(),jD=/^\)\]\}',?\n/,kD="X-Request-URL";function bm(v){if(v.url)return v.url;let u=kD.toLocaleLowerCase();return v.headers.get(u)}var $D=(()=>{let u=class u{constructor(){this.fetchImpl=tt(If,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=tt(jt)}handle(x){return new It(e=>{let y=new AbortController;return this.doRequest(x,y.signal,e).then(Ff,t=>e.error(new fn({error:t}))),()=>y.abort()})}doRequest(x,e,y){return vn(this,null,function*(){let t=this.createRequestInit(x),a;try{let h=this.ngZone.runOutsideAngular(()=>this.fetchImpl(x.urlWithParams,et({signal:e},t)));ZD(h),y.next({type:ei.Sent}),a=yield h}catch(h){y.error(new fn({error:h,status:h.status??0,statusText:h.statusText,url:x.urlWithParams,headers:h.headers}));return}let g=new Be(a.headers),l=a.statusText,s=bm(a)??x.urlWithParams,o=a.status,n=null;if(x.reportProgress&&y.next(new $a({headers:g,status:o,statusText:l,url:s})),a.body){let h=a.headers.get("content-length"),r=[],f=a.body.getReader(),c=0,d,p,m=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>vn(this,null,function*(){for(;;){let{done:S,value:E}=yield f.read();if(S)break;if(r.push(E),c+=E.length,x.reportProgress){p=x.responseType==="text"?(p??"")+(d??=new TextDecoder).decode(E,{stream:!0}):void 0;let D=()=>y.next({type:ei.DownloadProgress,total:h?+h:void 0,loaded:c,partialText:p});m?m.run(D):D()}}}));let C=this.concatChunks(r,c);try{let S=a.headers.get("Content-Type")??"";n=this.parseBody(x,C,S)}catch(S){y.error(new fn({error:S,headers:new Be(a.headers),status:a.status,statusText:a.statusText,url:bm(a)??x.urlWithParams}));return}}o===0&&(o=n?Gm:0),o>=200&&o<300?(y.next(new ps({body:n,headers:g,status:o,statusText:l,url:s})),y.complete()):y.error(new fn({error:n,headers:g,status:o,statusText:l,url:s}))})}parseBody(x,e,y){switch(x.responseType){case"json":let t=new TextDecoder().decode(e).replace(jD,"");return t===""?null:JSON.parse(t);case"text":return new TextDecoder().decode(e);case"blob":return new Blob([e],{type:y});case"arraybuffer":return e.buffer}}createRequestInit(x){let e={},y=x.withCredentials?"include":void 0;if(x.headers.forEach((t,a)=>e[t]=a.join(",")),x.headers.has("Accept")||(e.Accept="application/json, text/plain, */*"),!x.headers.has("Content-Type")){let t=x.detectContentTypeHeader();t!==null&&(e["Content-Type"]=t)}return{body:x.serializeBody(),method:x.method,headers:e,credentials:y}}concatChunks(x,e){let y=new Uint8Array(e),t=0;for(let a of x)y.set(a,t),t+=a.length;return y}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})(),If=class{};function Ff(){}function ZD(v){v.then(Ff,Ff)}function Um(v,u){return u(v)}function KD(v,u){return(T,x)=>u.intercept(T,{handle:e=>v(e,x)})}function QD(v,u,T){return(x,e)=>Le(T,()=>u(x,y=>v(y,e)))}var JD=new lt(""),Of=new lt(""),qD=new lt(""),zm=new lt("",{providedIn:"root",factory:()=>!0});function _D(){let v=null;return(u,T)=>{v===null&&(v=(tt(JD,{optional:!0})??[]).reduceRight(KD,Um));let x=tt(Mn);if(tt(zm)){let y=x.add();return v(u,T).pipe(Gn(()=>x.remove(y)))}else return v(u,T)}}var Nm=(()=>{let u=class u extends ds{constructor(x,e){super(),this.backend=x,this.injector=e,this.chain=null,this.pendingTasks=tt(Mn),this.contributeToStability=tt(zm)}handle(x){if(this.chain===null){let e=Array.from(new Set([...this.injector.get(Of),...this.injector.get(qD,[])]));this.chain=e.reduceRight((y,t)=>QD(y,t,this.injector),Um)}if(this.contributeToStability){let e=this.pendingTasks.add();return this.chain(x,y=>this.backend.handle(y)).pipe(Gn(()=>this.pendingTasks.remove(e)))}else return this.chain(x,e=>this.backend.handle(e))}};u.\u0275fac=function(e){return new(e||u)(at(ka),at(pe))},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})();var tM=/^\)\]\}',?\n/;function eM(v){return"responseURL"in v&&v.responseURL?v.responseURL:/^X-Request-URL:/m.test(v.getAllResponseHeaders())?v.getResponseHeader("X-Request-URL"):null}var Bm=(()=>{let u=class u{constructor(x){this.xhrFactory=x}handle(x){if(x.method==="JSONP")throw new ft(-2800,!1);let e=this.xhrFactory;return(e.\u0275loadImpl?zt(e.\u0275loadImpl()):pt(null)).pipe(xe(()=>new It(t=>{let a=e.build();if(a.open(x.method,x.urlWithParams),x.withCredentials&&(a.withCredentials=!0),x.headers.forEach((f,c)=>a.setRequestHeader(f,c.join(","))),x.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!x.headers.has("Content-Type")){let f=x.detectContentTypeHeader();f!==null&&a.setRequestHeader("Content-Type",f)}if(x.responseType){let f=x.responseType.toLowerCase();a.responseType=f!=="json"?f:"text"}let g=x.serializeBody(),l=null,s=()=>{if(l!==null)return l;let f=a.statusText||"OK",c=new Be(a.getAllResponseHeaders()),d=eM(a)||x.url;return l=new $a({headers:c,status:a.status,statusText:f,url:d}),l},o=()=>{let{headers:f,status:c,statusText:d,url:p}=s(),m=null;c!==YD&&(m=typeof a.response>"u"?a.responseText:a.response),c===0&&(c=m?Gm:0);let C=c>=200&&c<300;if(x.responseType==="json"&&typeof m=="string"){let S=m;m=m.replace(tM,"");try{m=m!==""?JSON.parse(m):null}catch(E){m=S,C&&(C=!1,m={error:E,text:m})}}C?(t.next(new ps({body:m,headers:f,status:c,statusText:d,url:p||void 0})),t.complete()):t.error(new fn({error:m,headers:f,status:c,statusText:d,url:p||void 0}))},n=f=>{let{url:c}=s(),d=new fn({error:f,status:a.status||0,statusText:a.statusText||"Unknown Error",url:c||void 0});t.error(d)},i=!1,h=f=>{i||(t.next(s()),i=!0);let c={type:ei.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(c.total=f.total),x.responseType==="text"&&a.responseText&&(c.partialText=a.responseText),t.next(c)},r=f=>{let c={type:ei.UploadProgress,loaded:f.loaded};f.lengthComputable&&(c.total=f.total),t.next(c)};return a.addEventListener("load",o),a.addEventListener("error",n),a.addEventListener("timeout",n),a.addEventListener("abort",n),x.reportProgress&&(a.addEventListener("progress",h),g!==null&&a.upload&&a.upload.addEventListener("progress",r)),a.send(g),t.next({type:ei.Sent}),()=>{a.removeEventListener("error",n),a.removeEventListener("abort",n),a.removeEventListener("load",o),a.removeEventListener("timeout",n),x.reportProgress&&(a.removeEventListener("progress",h),g!==null&&a.upload&&a.upload.removeEventListener("progress",r)),a.readyState!==a.DONE&&a.abort()}})))}};u.\u0275fac=function(e){return new(e||u)(at(Tr))},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})(),Hm=new lt(""),nM="XSRF-TOKEN",iM=new lt("",{providedIn:"root",factory:()=>nM}),rM="X-XSRF-TOKEN",sM=new lt("",{providedIn:"root",factory:()=>rM}),Za=class{},oM=(()=>{let u=class u{constructor(x,e,y){this.doc=x,this.platform=e,this.cookieName=y,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let x=this.doc.cookie||"";return x!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xa(x,this.cookieName),this.lastCookieString=x),this.lastToken}};u.\u0275fac=function(e){return new(e||u)(at(ie),at(Ne),at(iM))},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})();function aM(v,u){let T=v.url.toLowerCase();if(!tt(Hm)||v.method==="GET"||v.method==="HEAD"||T.startsWith("http://")||T.startsWith("https://"))return u(v);let x=tt(Za).getToken(),e=tt(sM);return x!=null&&!v.headers.has(e)&&(v=v.clone({headers:v.headers.set(e,x)})),u(v)}var Wm=function(v){return v[v.Interceptors=0]="Interceptors",v[v.LegacyInterceptors=1]="LegacyInterceptors",v[v.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",v[v.NoXsrfProtection=3]="NoXsrfProtection",v[v.JsonpSupport=4]="JsonpSupport",v[v.RequestsMadeViaParent=5]="RequestsMadeViaParent",v[v.Fetch=6]="Fetch",v}(Wm||{});function lM(v,u){return{\u0275kind:v,\u0275providers:u}}function q3(...v){let u=[vs,Bm,Nm,{provide:ds,useExisting:Nm},{provide:ka,useFactory:()=>tt($D,{optional:!0})??tt(Bm)},{provide:Of,useValue:aM,multi:!0},{provide:Hm,useValue:!0},{provide:Za,useClass:oM}];for(let T of v)u.push(...T.\u0275providers);return ss(u)}var Vm=new lt("");function _3(){return lM(Wm.LegacyInterceptors,[{provide:Vm,useFactory:_D},{provide:Of,useExisting:Vm,multi:!0}])}var Nf=class extends Wa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Bf=class v extends Nf{static makeCurrent(){Sm(new v)}onAndCancel(u,T,x){return u.addEventListener(T,x),()=>{u.removeEventListener(T,x)}}dispatchEvent(u,T){u.dispatchEvent(T)}remove(u){u.remove()}createElement(u,T){return T=T||this.getDefaultDocument(),T.createElement(u)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(u){return u.nodeType===Node.ELEMENT_NODE}isShadowRoot(u){return u instanceof DocumentFragment}getGlobalEventTarget(u,T){return T==="window"?window:T==="document"?u:T==="body"?u.body:null}getBaseHref(u){let T=uM();return T==null?null:hM(T)}resetBaseElement(){gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(u){return Xa(document.cookie,u)}},gs=null;function uM(){return gs=gs||document.querySelector("base"),gs?gs.getAttribute("href"):null}function hM(v){return new URL(v,document.baseURI).pathname}var fM=(()=>{let u=class u{build(){return new XMLHttpRequest}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})(),Ka=new lt(""),$m=(()=>{let u=class u{constructor(x,e){this._zone=e,this._eventNameToPlugin=new Map,x.forEach(y=>{y.manager=this}),this._plugins=x.slice().reverse()}addEventListener(x,e,y){return this._findPluginFor(e).addEventListener(x,e,y)}getZone(){return this._zone}_findPluginFor(x){let e=this._eventNameToPlugin.get(x);if(e)return e;if(e=this._plugins.find(t=>t.supports(x)),!e)throw new ft(5101,!1);return this._eventNameToPlugin.set(x,e),e}};u.\u0275fac=function(e){return new(e||u)(at(Ka),at(jt))},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})(),ms=class{constructor(u){this._doc=u}},Lf="ng-app-id",Zm=(()=>{let u=class u{constructor(x,e,y,t={}){this.doc=x,this.appId=e,this.nonce=y,this.platformId=t,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ya(t),this.resetHostNodes()}addStyles(x){for(let e of x)this.changeUsageCount(e,1)===1&&this.onStyleAdded(e)}removeStyles(x){for(let e of x)this.changeUsageCount(e,-1)<=0&&this.onStyleRemoved(e)}ngOnDestroy(){let x=this.styleNodesInDOM;x&&(x.forEach(e=>e.remove()),x.clear());for(let e of this.getAllStyles())this.onStyleRemoved(e);this.resetHostNodes()}addHost(x){this.hostNodes.add(x);for(let e of this.getAllStyles())this.addStyleToHost(x,e)}removeHost(x){this.hostNodes.delete(x)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(x){for(let e of this.hostNodes)this.addStyleToHost(e,x)}onStyleRemoved(x){let e=this.styleRef;e.get(x)?.elements?.forEach(y=>y.remove()),e.delete(x)}collectServerRenderedStyles(){let x=this.doc.head?.querySelectorAll(`style[${Lf}="${this.appId}"]`);if(x?.length){let e=new Map;return x.forEach(y=>{y.textContent!=null&&e.set(y.textContent,y)}),e}return null}changeUsageCount(x,e){let y=this.styleRef;if(y.has(x)){let t=y.get(x);return t.usage+=e,t.usage}return y.set(x,{usage:e,elements:[]}),e}getStyleElement(x,e){let y=this.styleNodesInDOM,t=y?.get(e);if(t?.parentNode===x)return y.delete(e),t.removeAttribute(Lf),t;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=e,this.platformIsServer&&a.setAttribute(Lf,this.appId),x.appendChild(a),a}}addStyleToHost(x,e){let y=this.getStyleElement(x,e),t=this.styleRef,a=t.get(e)?.elements;a?a.push(y):t.set(e,{elements:[y],usage:1})}resetHostNodes(){let x=this.hostNodes;x.clear(),x.add(this.doc.head)}};u.\u0275fac=function(e){return new(e||u)(at(ie),at($h),at(Kh,8),at(Ne))},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})(),bf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gf=/%COMP%/g,Km="%COMP%",dM=`_nghost-${Km}`,cM=`_ngcontent-${Km}`,pM=!0,vM=new lt("",{providedIn:"root",factory:()=>pM});function gM(v){return cM.replace(Gf,v)}function mM(v){return dM.replace(Gf,v)}function Qm(v,u){return u.map(T=>T.replace(Gf,v))}var Ym=(()=>{let u=class u{constructor(x,e,y,t,a,g,l,s=null){this.eventManager=x,this.sharedStylesHost=e,this.appId=y,this.removeStylesOnCompDestroy=t,this.doc=a,this.platformId=g,this.ngZone=l,this.nonce=s,this.rendererByCompId=new Map,this.platformIsServer=Ya(g),this.defaultRenderer=new ys(x,a,l,this.platformIsServer)}createRenderer(x,e){if(!x||!e)return this.defaultRenderer;this.platformIsServer&&e.encapsulation===on.ShadowDom&&(e=mt(et({},e),{encapsulation:on.Emulated}));let y=this.getOrCreateRenderer(x,e);return y instanceof Qa?y.applyToHost(x):y instanceof xs&&y.applyStyles(),y}getOrCreateRenderer(x,e){let y=this.rendererByCompId,t=y.get(e.id);if(!t){let a=this.doc,g=this.ngZone,l=this.eventManager,s=this.sharedStylesHost,o=this.removeStylesOnCompDestroy,n=this.platformIsServer;switch(e.encapsulation){case on.Emulated:t=new Qa(l,s,e,this.appId,o,a,g,n);break;case on.ShadowDom:return new Vf(l,s,x,e,a,g,this.nonce,n);default:t=new xs(l,s,e,o,a,g,n);break}y.set(e.id,t)}return t}ngOnDestroy(){this.rendererByCompId.clear()}};u.\u0275fac=function(e){return new(e||u)(at($m),at(Zm),at($h),at(vM),at(ie),at(Ne),at(jt),at(Kh))},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})(),ys=class{constructor(u,T,x,e){this.eventManager=u,this.doc=T,this.ngZone=x,this.platformIsServer=e,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(u,T){return T?this.doc.createElementNS(bf[T]||T,u):this.doc.createElement(u)}createComment(u){return this.doc.createComment(u)}createText(u){return this.doc.createTextNode(u)}appendChild(u,T){(jm(u)?u.content:u).appendChild(T)}insertBefore(u,T,x){u&&(jm(u)?u.content:u).insertBefore(T,x)}removeChild(u,T){T.remove()}selectRootElement(u,T){let x=typeof u=="string"?this.doc.querySelector(u):u;if(!x)throw new ft(-5104,!1);return T||(x.textContent=""),x}parentNode(u){return u.parentNode}nextSibling(u){return u.nextSibling}setAttribute(u,T,x,e){if(e){T=e+":"+T;let y=bf[e];y?u.setAttributeNS(y,T,x):u.setAttribute(T,x)}else u.setAttribute(T,x)}removeAttribute(u,T,x){if(x){let e=bf[x];e?u.removeAttributeNS(e,T):u.removeAttribute(`${x}:${T}`)}else u.removeAttribute(T)}addClass(u,T){u.classList.add(T)}removeClass(u,T){u.classList.remove(T)}setStyle(u,T,x,e){e&(Cn.DashCase|Cn.Important)?u.style.setProperty(T,x,e&Cn.Important?"important":""):u.style[T]=x}removeStyle(u,T,x){x&Cn.DashCase?u.style.removeProperty(T):u.style[T]=""}setProperty(u,T,x){u!=null&&(u[T]=x)}setValue(u,T){u.nodeValue=T}listen(u,T,x){if(typeof u=="string"&&(u=Pn().getGlobalEventTarget(this.doc,u),!u))throw new Error(`Unsupported event target ${u} for event ${T}`);return this.eventManager.addEventListener(u,T,this.decoratePreventDefault(x))}decoratePreventDefault(u){return T=>{if(T==="__ngUnwrap__")return u;(this.platformIsServer?this.ngZone.runGuarded(()=>u(T)):u(T))===!1&&T.preventDefault()}}};function jm(v){return v.tagName==="TEMPLATE"&&v.content!==void 0}var Vf=class extends ys{constructor(u,T,x,e,y,t,a,g){super(u,y,t,g),this.sharedStylesHost=T,this.hostEl=x,this.shadowRoot=x.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Qm(e.id,e.styles);for(let s of l){let o=document.createElement("style");a&&o.setAttribute("nonce",a),o.textContent=s,this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(u){return u===this.hostEl?this.shadowRoot:u}appendChild(u,T){return super.appendChild(this.nodeOrShadowRoot(u),T)}insertBefore(u,T,x){return super.insertBefore(this.nodeOrShadowRoot(u),T,x)}removeChild(u,T){return super.removeChild(null,T)}parentNode(u){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(u)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xs=class extends ys{constructor(u,T,x,e,y,t,a,g){super(u,y,t,a),this.sharedStylesHost=T,this.removeStylesOnCompDestroy=e,this.styles=g?Qm(g,x.styles):x.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Qa=class extends xs{constructor(u,T,x,e,y,t,a,g){let l=e+"-"+x.id;super(u,T,x,y,t,a,g,l),this.contentAttr=gM(l),this.hostAttr=mM(l)}applyToHost(u){this.applyStyles(),this.setAttribute(u,this.hostAttr,"")}createElement(u,T){let x=super.createElement(u,T);return super.setAttribute(x,this.contentAttr,""),x}},yM=(()=>{let u=class u extends ms{constructor(x){super(x)}supports(x){return!0}addEventListener(x,e,y){return x.addEventListener(e,y,!1),()=>this.removeEventListener(x,e,y)}removeEventListener(x,e,y){return x.removeEventListener(e,y)}};u.\u0275fac=function(e){return new(e||u)(at(ie))},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})(),xM=(()=>{let u=class u extends ms{constructor(x){super(x),this.delegate=tt(vm,{optional:!0})}supports(x){return this.delegate?this.delegate.supports(x):!1}addEventListener(x,e,y){return this.delegate.addEventListener(x,e,y)}removeEventListener(x,e,y){return this.delegate.removeEventListener(x,e,y)}};u.\u0275fac=function(e){return new(e||u)(at(ie))},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})(),km=["alt","control","meta","shift"],TM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CM={alt:v=>v.altKey,control:v=>v.ctrlKey,meta:v=>v.metaKey,shift:v=>v.shiftKey},EM=(()=>{let u=class u extends ms{constructor(x){super(x)}supports(x){return u.parseEventName(x)!=null}addEventListener(x,e,y){let t=u.parseEventName(e),a=u.eventCallback(t.fullKey,y,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pn().onAndCancel(x,t.domEventName,a))}static parseEventName(x){let e=x.toLowerCase().split("."),y=e.shift();if(e.length===0||!(y==="keydown"||y==="keyup"))return null;let t=u._normalizeKey(e.pop()),a="",g=e.indexOf("code");if(g>-1&&(e.splice(g,1),a="code."),km.forEach(s=>{let o=e.indexOf(s);o>-1&&(e.splice(o,1),a+=s+".")}),a+=t,e.length!=0||t.length===0)return null;let l={};return l.domEventName=y,l.fullKey=a,l}static matchEventFullKeyCode(x,e){let y=TM[x.key]||x.key,t="";return e.indexOf("code.")>-1&&(y=x.code,t="code."),y==null||!y?!1:(y=y.toLowerCase(),y===" "?y="space":y==="."&&(y="dot"),km.forEach(a=>{if(a!==y){let g=CM[a];g(x)&&(t+=a+".")}}),t+=y,t===e)}static eventCallback(x,e,y){return t=>{u.matchEventFullKeyCode(t,x)&&y.runGuarded(()=>e(t))}}static _normalizeKey(x){return x==="esc"?"escape":x}};u.\u0275fac=function(e){return new(e||u)(at(ie))},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})();function D4(v,u){return pm(et({rootComponent:v},SM(u)))}function SM(v){return{appProviders:[...PM,...v?.providers??[]],platformProviders:AM}}function DM(){Bf.makeCurrent()}function MM(){return new Tn}function wM(){return ig(document),document}var AM=[{provide:Ne,useValue:Mf},{provide:Zh,useValue:DM,multi:!0},{provide:ie,useFactory:wM,deps:[]}];var PM=[{provide:Ea,useValue:"root"},{provide:Tn,useFactory:MM,deps:[]},{provide:Ka,useClass:yM,multi:!0,deps:[ie,jt,Ne]},{provide:Ka,useClass:EM,multi:!0,deps:[ie]},{provide:Ka,useClass:xM,multi:!0},Ym,Zm,$m,{provide:fr,useExisting:Ym},{provide:Tr,useClass:fM,deps:[]},[]];var Jm=(()=>{let u=class u{constructor(x){this._doc=x}getTitle(){return this._doc.title}setTitle(x){this._doc.title=x||""}};u.\u0275fac=function(e){return new(e||u)(at(ie))},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();var St="primary",bs=Symbol("RouteTitle"),Xf=class{constructor(u){this.params=u||{}}has(u){return Object.prototype.hasOwnProperty.call(this.params,u)}get(u){if(this.has(u)){let T=this.params[u];return Array.isArray(T)?T[0]:T}return null}getAll(u){if(this.has(u)){let T=this.params[u];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}};function Pr(v){return new Xf(v)}function IM(v,u,T){let x=T.path.split("/");if(x.length>v.length||T.pathMatch==="full"&&(u.hasChildren()||x.length<v.length))return null;let e={};for(let y=0;y<x.length;y++){let t=x[y],a=v[y];if(t[0]===":")e[t.substring(1)]=a;else if(t!==a.path)return null}return{consumed:v.slice(0,x.length),posParams:e}}function FM(v,u){if(v.length!==u.length)return!1;for(let T=0;T<v.length;++T)if(!dn(v[T],u[T]))return!1;return!0}function dn(v,u){let T=v?Yf(v):void 0,x=u?Yf(u):void 0;if(!T||!x||T.length!=x.length)return!1;let e;for(let y=0;y<T.length;y++)if(e=T[y],!u0(v[e],u[e]))return!1;return!0}function Yf(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}function u0(v,u){if(Array.isArray(v)&&Array.isArray(u)){if(v.length!==u.length)return!1;let T=[...v].sort(),x=[...u].sort();return T.every((e,y)=>x[y]===e)}else return v===u}function h0(v){return v.length>0?v[v.length-1]:null}function ii(v){return uu(v)?v:Oi(v)?zt(Promise.resolve(v)):pt(v)}var OM={exact:d0,subset:c0},f0={exact:LM,subset:bM,ignored:()=>!0};function qm(v,u,T){return OM[T.paths](v.root,u.root,T.matrixParams)&&f0[T.queryParams](v.queryParams,u.queryParams)&&!(T.fragment==="exact"&&v.fragment!==u.fragment)}function LM(v,u){return dn(v,u)}function d0(v,u,T){if(!Ni(v.segments,u.segments)||!_a(v.segments,u.segments,T)||v.numberOfChildren!==u.numberOfChildren)return!1;for(let x in u.children)if(!v.children[x]||!d0(v.children[x],u.children[x],T))return!1;return!0}function bM(v,u){return Object.keys(u).length<=Object.keys(v).length&&Object.keys(u).every(T=>u0(v[T],u[T]))}function c0(v,u,T){return p0(v,u,u.segments,T)}function p0(v,u,T,x){if(v.segments.length>T.length){let e=v.segments.slice(0,T.length);return!(!Ni(e,T)||u.hasChildren()||!_a(e,T,x))}else if(v.segments.length===T.length){if(!Ni(v.segments,T)||!_a(v.segments,T,x))return!1;for(let e in u.children)if(!v.children[e]||!c0(v.children[e],u.children[e],x))return!1;return!0}else{let e=T.slice(0,v.segments.length),y=T.slice(v.segments.length);return!Ni(v.segments,e)||!_a(v.segments,e,x)||!v.children[St]?!1:p0(v.children[St],u,y,x)}}function _a(v,u,T){return u.every((x,e)=>f0[T](v[e].parameters,x.parameters))}var Fn=class{constructor(u=new Nt([],{}),T={},x=null){this.root=u,this.queryParams=T,this.fragment=x}get queryParamMap(){return this._queryParamMap??=Pr(this.queryParams),this._queryParamMap}toString(){return VM.serialize(this)}},Nt=class{constructor(u,T){this.segments=u,this.children=T,this.parent=null,Object.values(T).forEach(x=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tl(this)}},bi=class{constructor(u,T){this.path=u,this.parameters=T}get parameterMap(){return this._parameterMap??=Pr(this.parameters),this._parameterMap}toString(){return g0(this)}};function NM(v,u){return Ni(v,u)&&v.every((T,x)=>dn(T.parameters,u[x].parameters))}function Ni(v,u){return v.length!==u.length?!1:v.every((T,x)=>T.path===u[x].path)}function BM(v,u){let T=[];return Object.entries(v.children).forEach(([x,e])=>{x===St&&(T=T.concat(u(e,x)))}),Object.entries(v.children).forEach(([x,e])=>{x!==St&&(T=T.concat(u(e,x)))}),T}var Ns=(()=>{let u=class u{};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:()=>new Rr,providedIn:"root"});let v=u;return v})(),Rr=class{parse(u){let T=new kf(u);return new Fn(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(u){let T=`/${Ts(u.root,!0)}`,x=zM(u.queryParams),e=typeof u.fragment=="string"?`#${GM(u.fragment)}`:"";return`${T}${x}${e}`}},VM=new Rr;function tl(v){return v.segments.map(u=>g0(u)).join("/")}function Ts(v,u){if(!v.hasChildren())return tl(v);if(u){let T=v.children[St]?Ts(v.children[St],!1):"",x=[];return Object.entries(v.children).forEach(([e,y])=>{e!==St&&x.push(`${e}:${Ts(y,!1)}`)}),x.length>0?`${T}(${x.join("//")})`:T}else{let T=BM(v,(x,e)=>e===St?[Ts(v.children[St],!1)]:[`${e}:${Ts(x,!1)}`]);return Object.keys(v.children).length===1&&v.children[St]!=null?`${tl(v)}/${T[0]}`:`${tl(v)}/(${T.join("//")})`}}function v0(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ja(v){return v0(v).replace(/%3B/gi,";")}function GM(v){return encodeURI(v)}function jf(v){return v0(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function el(v){return decodeURIComponent(v)}function _m(v){return el(v.replace(/\+/g,"%20"))}function g0(v){return`${jf(v.path)}${UM(v.parameters)}`}function UM(v){return Object.entries(v).map(([u,T])=>`;${jf(u)}=${jf(T)}`).join("")}function zM(v){let u=Object.entries(v).map(([T,x])=>Array.isArray(x)?x.map(e=>`${Ja(T)}=${Ja(e)}`).join("&"):`${Ja(T)}=${Ja(x)}`).filter(T=>T);return u.length?`?${u.join("&")}`:""}var HM=/^[^\/()?;#]+/;function Uf(v){let u=v.match(HM);return u?u[0]:""}var WM=/^[^\/()?;=#]+/;function XM(v){let u=v.match(WM);return u?u[0]:""}var YM=/^[^=?&#]+/;function jM(v){let u=v.match(YM);return u?u[0]:""}var kM=/^[^&#]+/;function $M(v){let u=v.match(kM);return u?u[0]:""}var kf=class{constructor(u){this.url=u,this.remaining=u}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){let u={};if(this.consumeOptional("?"))do this.parseQueryParam(u);while(this.consumeOptional("&"));return u}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let u=[];for(this.peekStartsWith("(")||u.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),u.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(u.length>0||Object.keys(T).length>0)&&(x[St]=new Nt(u,T)),x}parseSegment(){let u=Uf(this.remaining);if(u===""&&this.peekStartsWith(";"))throw new ft(4009,!1);return this.capture(u),new bi(el(u),this.parseMatrixParams())}parseMatrixParams(){let u={};for(;this.consumeOptional(";");)this.parseParam(u);return u}parseParam(u){let T=XM(this.remaining);if(!T)return;this.capture(T);let x="";if(this.consumeOptional("=")){let e=Uf(this.remaining);e&&(x=e,this.capture(x))}u[el(T)]=el(x)}parseQueryParam(u){let T=jM(this.remaining);if(!T)return;this.capture(T);let x="";if(this.consumeOptional("=")){let t=$M(this.remaining);t&&(x=t,this.capture(x))}let e=_m(T),y=_m(x);if(u.hasOwnProperty(e)){let t=u[e];Array.isArray(t)||(t=[t],u[e]=t),t.push(y)}else u[e]=y}parseParens(u){let T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let x=Uf(this.remaining),e=this.remaining[x.length];if(e!=="/"&&e!==")"&&e!==";")throw new ft(4010,!1);let y;x.indexOf(":")>-1?(y=x.slice(0,x.indexOf(":")),this.capture(y),this.capture(":")):u&&(y=St);let t=this.parseChildren();T[y]=Object.keys(t).length===1?t[St]:new Nt([],t),this.consumeOptional("//")}return T}peekStartsWith(u){return this.remaining.startsWith(u)}consumeOptional(u){return this.peekStartsWith(u)?(this.remaining=this.remaining.substring(u.length),!0):!1}capture(u){if(!this.consumeOptional(u))throw new ft(4011,!1)}};function m0(v){return v.segments.length>0?new Nt([],{[St]:v}):v}function y0(v){let u={};for(let[x,e]of Object.entries(v.children)){let y=y0(e);if(x===St&&y.segments.length===0&&y.hasChildren())for(let[t,a]of Object.entries(y.children))u[t]=a;else(y.segments.length>0||y.hasChildren())&&(u[x]=y)}let T=new Nt(v.segments,u);return ZM(T)}function ZM(v){if(v.numberOfChildren===1&&v.children[St]){let u=v.children[St];return new Nt(v.segments.concat(u.segments),u.children)}return v}function Bi(v){return v instanceof Fn}function KM(v,u,T=null,x=null){let e=x0(v);return T0(e,u,T,x)}function x0(v){let u;function T(y){let t={};for(let g of y.children){let l=T(g);t[g.outlet]=l}let a=new Nt(y.url,t);return y===v&&(u=a),a}let x=T(v.root),e=m0(x);return u??e}function T0(v,u,T,x){let e=v;for(;e.parent;)e=e.parent;if(u.length===0)return zf(e,e,e,T,x);let y=QM(u);if(y.toRoot())return zf(e,e,new Nt([],{}),T,x);let t=JM(y,e,v),a=t.processChildren?Ss(t.segmentGroup,t.index,y.commands):E0(t.segmentGroup,t.index,y.commands);return zf(e,t.segmentGroup,a,T,x)}function nl(v){return typeof v=="object"&&v!=null&&!v.outlets&&!v.segmentPath}function ws(v){return typeof v=="object"&&v!=null&&v.outlets}function zf(v,u,T,x,e){let y={};x&&Object.entries(x).forEach(([g,l])=>{y[g]=Array.isArray(l)?l.map(s=>`${s}`):`${l}`});let t;v===u?t=T:t=C0(v,u,T);let a=m0(y0(t));return new Fn(a,y,e)}function C0(v,u,T){let x={};return Object.entries(v.children).forEach(([e,y])=>{y===u?x[e]=T:x[e]=C0(y,u,T)}),new Nt(v.segments,x)}var il=class{constructor(u,T,x){if(this.isAbsolute=u,this.numberOfDoubleDots=T,this.commands=x,u&&x.length>0&&nl(x[0]))throw new ft(4003,!1);let e=x.find(ws);if(e&&e!==h0(x))throw new ft(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QM(v){if(typeof v[0]=="string"&&v.length===1&&v[0]==="/")return new il(!0,0,v);let u=0,T=!1,x=v.reduce((e,y,t)=>{if(typeof y=="object"&&y!=null){if(y.outlets){let a={};return Object.entries(y.outlets).forEach(([g,l])=>{a[g]=typeof l=="string"?l.split("/"):l}),[...e,{outlets:a}]}if(y.segmentPath)return[...e,y.segmentPath]}return typeof y!="string"?[...e,y]:t===0?(y.split("/").forEach((a,g)=>{g==0&&a==="."||(g==0&&a===""?T=!0:a===".."?u++:a!=""&&e.push(a))}),e):[...e,y]},[]);return new il(T,u,x)}var Mr=class{constructor(u,T,x){this.segmentGroup=u,this.processChildren=T,this.index=x}};function JM(v,u,T){if(v.isAbsolute)return new Mr(u,!0,0);if(!T)return new Mr(u,!1,NaN);if(T.parent===null)return new Mr(T,!0,0);let x=nl(v.commands[0])?0:1,e=T.segments.length-1+x;return qM(T,e,v.numberOfDoubleDots)}function qM(v,u,T){let x=v,e=u,y=T;for(;y>e;){if(y-=e,x=x.parent,!x)throw new ft(4005,!1);e=x.segments.length}return new Mr(x,!1,e-y)}function _M(v){return ws(v[0])?v[0].outlets:{[St]:v}}function E0(v,u,T){if(v??=new Nt([],{}),v.segments.length===0&&v.hasChildren())return Ss(v,u,T);let x=t2(v,u,T),e=T.slice(x.commandIndex);if(x.match&&x.pathIndex<v.segments.length){let y=new Nt(v.segments.slice(0,x.pathIndex),{});return y.children[St]=new Nt(v.segments.slice(x.pathIndex),v.children),Ss(y,0,e)}else return x.match&&e.length===0?new Nt(v.segments,{}):x.match&&!v.hasChildren()?$f(v,u,T):x.match?Ss(v,0,e):$f(v,u,T)}function Ss(v,u,T){if(T.length===0)return new Nt(v.segments,{});{let x=_M(T),e={};if(Object.keys(x).some(y=>y!==St)&&v.children[St]&&v.numberOfChildren===1&&v.children[St].segments.length===0){let y=Ss(v.children[St],u,T);return new Nt(v.segments,y.children)}return Object.entries(x).forEach(([y,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(e[y]=E0(v.children[y],u,t))}),Object.entries(v.children).forEach(([y,t])=>{x[y]===void 0&&(e[y]=t)}),new Nt(v.segments,e)}}function t2(v,u,T){let x=0,e=u,y={match:!1,pathIndex:0,commandIndex:0};for(;e<v.segments.length;){if(x>=T.length)return y;let t=v.segments[e],a=T[x];if(ws(a))break;let g=`${a}`,l=x<T.length-1?T[x+1]:null;if(e>0&&g===void 0)break;if(g&&l&&typeof l=="object"&&l.outlets===void 0){if(!e0(g,l,t))return y;x+=2}else{if(!e0(g,{},t))return y;x++}e++}return{match:!0,pathIndex:e,commandIndex:x}}function $f(v,u,T){let x=v.segments.slice(0,u),e=0;for(;e<T.length;){let y=T[e];if(ws(y)){let g=e2(y.outlets);return new Nt(x,g)}if(e===0&&nl(T[0])){let g=v.segments[u];x.push(new bi(g.path,t0(T[0]))),e++;continue}let t=ws(y)?y.outlets[St]:`${y}`,a=e<T.length-1?T[e+1]:null;t&&a&&nl(a)?(x.push(new bi(t,t0(a))),e+=2):(x.push(new bi(t,{})),e++)}return new Nt(x,{})}function e2(v){let u={};return Object.entries(v).forEach(([T,x])=>{typeof x=="string"&&(x=[x]),x!==null&&(u[T]=$f(new Nt([],{}),0,x))}),u}function t0(v){let u={};return Object.entries(v).forEach(([T,x])=>u[T]=`${x}`),u}function e0(v,u,T){return v==T.path&&dn(u,T.parameters)}var Ds="imperative",se=function(v){return v[v.NavigationStart=0]="NavigationStart",v[v.NavigationEnd=1]="NavigationEnd",v[v.NavigationCancel=2]="NavigationCancel",v[v.NavigationError=3]="NavigationError",v[v.RoutesRecognized=4]="RoutesRecognized",v[v.ResolveStart=5]="ResolveStart",v[v.ResolveEnd=6]="ResolveEnd",v[v.GuardsCheckStart=7]="GuardsCheckStart",v[v.GuardsCheckEnd=8]="GuardsCheckEnd",v[v.RouteConfigLoadStart=9]="RouteConfigLoadStart",v[v.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",v[v.ChildActivationStart=11]="ChildActivationStart",v[v.ChildActivationEnd=12]="ChildActivationEnd",v[v.ActivationStart=13]="ActivationStart",v[v.ActivationEnd=14]="ActivationEnd",v[v.Scroll=15]="Scroll",v[v.NavigationSkipped=16]="NavigationSkipped",v}(se||{}),Ve=class{constructor(u,T){this.id=u,this.url=T}},Ir=class extends Ve{constructor(u,T,x="imperative",e=null){super(u,T),this.type=se.NavigationStart,this.navigationTrigger=x,this.restoredState=e}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tn=class extends Ve{constructor(u,T,x){super(u,T),this.urlAfterRedirects=x,this.type=se.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pe=function(v){return v[v.Redirect=0]="Redirect",v[v.SupersededByNewNavigation=1]="SupersededByNewNavigation",v[v.NoDataFromResolver=2]="NoDataFromResolver",v[v.GuardRejected=3]="GuardRejected",v}(Pe||{}),rl=function(v){return v[v.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",v[v.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",v}(rl||{}),In=class extends Ve{constructor(u,T,x,e){super(u,T),this.reason=x,this.code=e,this.type=se.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ni=class extends Ve{constructor(u,T,x,e){super(u,T),this.reason=x,this.code=e,this.type=se.NavigationSkipped}},As=class extends Ve{constructor(u,T,x,e){super(u,T),this.error=x,this.target=e,this.type=se.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sl=class extends Ve{constructor(u,T,x,e){super(u,T),this.urlAfterRedirects=x,this.state=e,this.type=se.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zf=class extends Ve{constructor(u,T,x,e){super(u,T),this.urlAfterRedirects=x,this.state=e,this.type=se.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kf=class extends Ve{constructor(u,T,x,e,y){super(u,T),this.urlAfterRedirects=x,this.state=e,this.shouldActivate=y,this.type=se.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qf=class extends Ve{constructor(u,T,x,e){super(u,T),this.urlAfterRedirects=x,this.state=e,this.type=se.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jf=class extends Ve{constructor(u,T,x,e){super(u,T),this.urlAfterRedirects=x,this.state=e,this.type=se.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qf=class{constructor(u){this.route=u,this.type=se.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_f=class{constructor(u){this.route=u,this.type=se.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},td=class{constructor(u){this.snapshot=u,this.type=se.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ed=class{constructor(u){this.snapshot=u,this.type=se.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nd=class{constructor(u){this.snapshot=u,this.type=se.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},id=class{constructor(u){this.snapshot=u,this.type=se.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ol=class{constructor(u,T,x){this.routerEvent=u,this.position=T,this.anchor=x,this.type=se.Scroll}toString(){let u=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${u}')`}},Ps=class{},Fr=class{constructor(u,T){this.url=u,this.navigationBehaviorOptions=T}};function n2(v,u){return v.providers&&!v._injector&&(v._injector=Ba(v.providers,u,`Route: ${v.path}`)),v._injector??u}function _e(v){return v.outlet||St}function i2(v,u){let T=v.filter(x=>_e(x)===u);return T.push(...v.filter(x=>_e(x)!==u)),T}function Bs(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let u=v.parent;u;u=u.parent){let T=u.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}var rd=class{get injector(){return Bs(this.route?.snapshot)??this.rootInjector}set injector(u){}constructor(u){this.rootInjector=u,this.outlet=null,this.route=null,this.children=new Vs(this.rootInjector),this.attachRef=null}},Vs=(()=>{let u=class u{constructor(x){this.rootInjector=x,this.contexts=new Map}onChildOutletCreated(x,e){let y=this.getOrCreateContext(x);y.outlet=e,this.contexts.set(x,y)}onChildOutletDestroyed(x){let e=this.getContext(x);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){let x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let e=this.getContext(x);return e||(e=new rd(this.rootInjector),this.contexts.set(x,e)),e}getContext(x){return this.contexts.get(x)||null}};u.\u0275fac=function(e){return new(e||u)(at(pe))},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})(),al=class{constructor(u){this._root=u}get root(){return this._root.value}parent(u){let T=this.pathFromRoot(u);return T.length>1?T[T.length-2]:null}children(u){let T=sd(u,this._root);return T?T.children.map(x=>x.value):[]}firstChild(u){let T=sd(u,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(u){let T=od(u,this._root);return T.length<2?[]:T[T.length-2].children.map(e=>e.value).filter(e=>e!==u)}pathFromRoot(u){return od(u,this._root).map(T=>T.value)}};function sd(v,u){if(v===u.value)return u;for(let T of u.children){let x=sd(v,T);if(x)return x}return null}function od(v,u){if(v===u.value)return[u];for(let T of u.children){let x=od(v,T);if(x.length)return x.unshift(u),x}return[]}var Ae=class{constructor(u,T){this.value=u,this.children=T}toString(){return`TreeNode(${this.value})`}};function Dr(v){let u={};return v&&v.children.forEach(T=>u[T.value.outlet]=T),u}var ll=class extends al{constructor(u,T){super(u),this.snapshot=T,vd(this,u)}toString(){return this.snapshot.toString()}};function S0(v){let u=r2(v),T=new kt([new bi("",{})]),x=new kt({}),e=new kt({}),y=new kt({}),t=new kt(""),a=new cn(T,x,y,t,e,St,v,u.root);return a.snapshot=u.root,new ll(new Ae(a,[]),u)}function r2(v){let u={},T={},x={},e="",y=new wr([],u,x,e,T,St,v,null,{});return new hl("",new Ae(y,[]))}var cn=class{constructor(u,T,x,e,y,t,a,g){this.urlSubject=u,this.paramsSubject=T,this.queryParamsSubject=x,this.fragmentSubject=e,this.dataSubject=y,this.outlet=t,this.component=a,this._futureSnapshot=g,this.title=this.dataSubject?.pipe(vt(l=>l[bs]))??pt(void 0),this.url=u,this.params=T,this.queryParams=x,this.fragment=e,this.data=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(vt(u=>Pr(u))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(vt(u=>Pr(u))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ul(v,u,T="emptyOnly"){let x,{routeConfig:e}=v;return u!==null&&(T==="always"||e?.path===""||!u.component&&!u.routeConfig?.loadComponent)?x={params:et(et({},u.params),v.params),data:et(et({},u.data),v.data),resolve:et(et(et(et({},v.data),u.data),e?.data),v._resolvedData)}:x={params:et({},v.params),data:et({},v.data),resolve:et(et({},v.data),v._resolvedData??{})},e&&M0(e)&&(x.resolve[bs]=e.title),x}var wr=class{get title(){return this.data?.[bs]}constructor(u,T,x,e,y,t,a,g,l){this.url=u,this.params=T,this.queryParams=x,this.fragment=e,this.data=y,this.outlet=t,this.component=a,this.routeConfig=g,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pr(this.queryParams),this._queryParamMap}toString(){let u=this.url.map(x=>x.toString()).join("/"),T=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${u}', path:'${T}')`}},hl=class extends al{constructor(u,T){super(T),this.url=u,vd(this,T)}toString(){return D0(this._root)}};function vd(v,u){u.value._routerState=v,u.children.forEach(T=>vd(v,T))}function D0(v){let u=v.children.length>0?` { ${v.children.map(D0).join(", ")} } `:"";return`${v.value}${u}`}function Hf(v){if(v.snapshot){let u=v.snapshot,T=v._futureSnapshot;v.snapshot=T,dn(u.queryParams,T.queryParams)||v.queryParamsSubject.next(T.queryParams),u.fragment!==T.fragment&&v.fragmentSubject.next(T.fragment),dn(u.params,T.params)||v.paramsSubject.next(T.params),FM(u.url,T.url)||v.urlSubject.next(T.url),dn(u.data,T.data)||v.dataSubject.next(T.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function ad(v,u){let T=dn(v.params,u.params)&&NM(v.url,u.url),x=!v.parent!=!u.parent;return T&&!x&&(!v.parent||ad(v.parent,u.parent))}function M0(v){return typeof v.title=="string"||v.title===null}var s2=(()=>{let u=class u{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new Xt,this.deactivateEvents=new Xt,this.attachEvents=new Xt,this.detachEvents=new Xt,this.parentContexts=tt(Vs),this.location=tt(Kn),this.changeDetector=tt(qn),this.inputBinder=tt(pl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(x){if(x.name){let{firstChange:e,previousValue:y}=x.name;if(e)return;this.isTrackedInParentContexts(y)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(y)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(x){return this.parentContexts.getContext(x)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let x=this.parentContexts.getContext(this.name);x?.route&&(x.attachRef?this.attach(x.attachRef,x.route):this.activateWith(x.route,x.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ft(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ft(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ft(4012,!1);this.location.detach();let x=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(x.instance),x}attach(x,e){this.activated=x,this._activatedRoute=e,this.location.insert(x.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(x.instance)}deactivate(){if(this.activated){let x=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(x)}}activateWith(x,e){if(this.isActivated)throw new ft(4013,!1);this._activatedRoute=x;let y=this.location,a=x.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,l=new ld(x,g,y.injector);this.activated=y.createComponent(a,{index:y.length,injector:l,environmentInjector:e}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};u.\u0275fac=function(e){return new(e||u)},u.\u0275dir=Zt({type:u,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qe]});let v=u;return v})(),ld=class v{__ngOutletInjector(u){return new v(this.route,this.childContexts,u)}constructor(u,T,x){this.route=u,this.childContexts=T,this.parent=x}get(u,T){return u===cn?this.route:u===Vs?this.childContexts:this.parent.get(u,T)}},pl=new lt(""),n0=(()=>{let u=class u{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(x){this.unsubscribeFromRouteData(x),this.subscribeToRouteData(x)}unsubscribeFromRouteData(x){this.outletDataSubscriptions.get(x)?.unsubscribe(),this.outletDataSubscriptions.delete(x)}subscribeToRouteData(x){let{activatedRoute:e}=x,y=Zr([e.queryParams,e.params,e.data]).pipe(xe(([t,a,g],l)=>(g=et(et(et({},t),a),g),l===0?pt(g):Promise.resolve(g)))).subscribe(t=>{if(!x.isActivated||!x.activatedComponentRef||x.activatedRoute!==e||e.component===null){this.unsubscribeFromRouteData(x);return}let a=gm(e.component);if(!a){this.unsubscribeFromRouteData(x);return}for(let{templateName:g}of a.inputs)x.activatedComponentRef.setInput(g,t[g])});this.outletDataSubscriptions.set(x,y)}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})();function o2(v,u,T){let x=Rs(v,u._root,T?T._root:void 0);return new ll(x,u)}function Rs(v,u,T){if(T&&v.shouldReuseRoute(u.value,T.value.snapshot)){let x=T.value;x._futureSnapshot=u.value;let e=a2(v,u,T);return new Ae(x,e)}else{if(v.shouldAttach(u.value)){let y=v.retrieve(u.value);if(y!==null){let t=y.route;return t.value._futureSnapshot=u.value,t.children=u.children.map(a=>Rs(v,a)),t}}let x=l2(u.value),e=u.children.map(y=>Rs(v,y));return new Ae(x,e)}}function a2(v,u,T){return u.children.map(x=>{for(let e of T.children)if(v.shouldReuseRoute(x.value,e.value.snapshot))return Rs(v,x,e);return Rs(v,x)})}function l2(v){return new cn(new kt(v.url),new kt(v.params),new kt(v.queryParams),new kt(v.fragment),new kt(v.data),v.outlet,v.component,v)}var Is=class{constructor(u,T){this.redirectTo=u,this.navigationBehaviorOptions=T}},w0="ngNavigationCancelingError";function fl(v,u){let{redirectTo:T,navigationBehaviorOptions:x}=Bi(u)?{redirectTo:u,navigationBehaviorOptions:void 0}:u,e=A0(!1,Pe.Redirect);return e.url=T,e.navigationBehaviorOptions=x,e}function A0(v,u){let T=new Error(`NavigationCancelingError: ${v||""}`);return T[w0]=!0,T.cancellationCode=u,T}function u2(v){return P0(v)&&Bi(v.url)}function P0(v){return!!v&&v[w0]}var h2=(v,u,T,x)=>vt(e=>(new ud(u,e.targetRouterState,e.currentRouterState,T,x).activate(v),e)),ud=class{constructor(u,T,x,e,y){this.routeReuseStrategy=u,this.futureState=T,this.currState=x,this.forwardEvent=e,this.inputBindingEnabled=y}activate(u){let T=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,x,u),Hf(this.futureState.root),this.activateChildRoutes(T,x,u)}deactivateChildRoutes(u,T,x){let e=Dr(T);u.children.forEach(y=>{let t=y.value.outlet;this.deactivateRoutes(y,e[t],x),delete e[t]}),Object.values(e).forEach(y=>{this.deactivateRouteAndItsChildren(y,x)})}deactivateRoutes(u,T,x){let e=u.value,y=T?T.value:null;if(e===y)if(e.component){let t=x.getContext(e.outlet);t&&this.deactivateChildRoutes(u,T,t.children)}else this.deactivateChildRoutes(u,T,x);else y&&this.deactivateRouteAndItsChildren(T,x)}deactivateRouteAndItsChildren(u,T){u.value.component&&this.routeReuseStrategy.shouldDetach(u.value.snapshot)?this.detachAndStoreRouteSubtree(u,T):this.deactivateRouteAndOutlet(u,T)}detachAndStoreRouteSubtree(u,T){let x=T.getContext(u.value.outlet),e=x&&u.value.component?x.children:T,y=Dr(u);for(let t of Object.values(y))this.deactivateRouteAndItsChildren(t,e);if(x&&x.outlet){let t=x.outlet.detach(),a=x.children.onOutletDeactivated();this.routeReuseStrategy.store(u.value.snapshot,{componentRef:t,route:u,contexts:a})}}deactivateRouteAndOutlet(u,T){let x=T.getContext(u.value.outlet),e=x&&u.value.component?x.children:T,y=Dr(u);for(let t of Object.values(y))this.deactivateRouteAndItsChildren(t,e);x&&(x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated()),x.attachRef=null,x.route=null)}activateChildRoutes(u,T,x){let e=Dr(T);u.children.forEach(y=>{this.activateRoutes(y,e[y.value.outlet],x),this.forwardEvent(new id(y.value.snapshot))}),u.children.length&&this.forwardEvent(new ed(u.value.snapshot))}activateRoutes(u,T,x){let e=u.value,y=T?T.value:null;if(Hf(e),e===y)if(e.component){let t=x.getOrCreateContext(e.outlet);this.activateChildRoutes(u,T,t.children)}else this.activateChildRoutes(u,T,x);else if(e.component){let t=x.getOrCreateContext(e.outlet);if(this.routeReuseStrategy.shouldAttach(e.snapshot)){let a=this.routeReuseStrategy.retrieve(e.snapshot);this.routeReuseStrategy.store(e.snapshot,null),t.children.onOutletReAttached(a.contexts),t.attachRef=a.componentRef,t.route=a.route.value,t.outlet&&t.outlet.attach(a.componentRef,a.route.value),Hf(a.route.value),this.activateChildRoutes(u,null,t.children)}else t.attachRef=null,t.route=e,t.outlet&&t.outlet.activateWith(e,t.injector),this.activateChildRoutes(u,null,t.children)}else this.activateChildRoutes(u,null,x)}},dl=class{constructor(u){this.path=u,this.route=this.path[this.path.length-1]}},Ar=class{constructor(u,T){this.component=u,this.route=T}};function f2(v,u,T){let x=v._root,e=u?u._root:null;return Cs(x,e,T,[x.value])}function d2(v){let u=v.routeConfig?v.routeConfig.canActivateChild:null;return!u||u.length===0?null:{node:v,guards:u}}function Lr(v,u){let T=Symbol(),x=u.get(v,T);return x===T?typeof v=="function"&&!zp(v)?v:u.get(v):x}function Cs(v,u,T,x,e={canDeactivateChecks:[],canActivateChecks:[]}){let y=Dr(u);return v.children.forEach(t=>{c2(t,y[t.value.outlet],T,x.concat([t.value]),e),delete y[t.value.outlet]}),Object.entries(y).forEach(([t,a])=>Ms(a,T.getContext(t),e)),e}function c2(v,u,T,x,e={canDeactivateChecks:[],canActivateChecks:[]}){let y=v.value,t=u?u.value:null,a=T?T.getContext(v.value.outlet):null;if(t&&y.routeConfig===t.routeConfig){let g=p2(t,y,y.routeConfig.runGuardsAndResolvers);g?e.canActivateChecks.push(new dl(x)):(y.data=t.data,y._resolvedData=t._resolvedData),y.component?Cs(v,u,a?a.children:null,x,e):Cs(v,u,T,x,e),g&&a&&a.outlet&&a.outlet.isActivated&&e.canDeactivateChecks.push(new Ar(a.outlet.component,t))}else t&&Ms(u,a,e),e.canActivateChecks.push(new dl(x)),y.component?Cs(v,null,a?a.children:null,x,e):Cs(v,null,T,x,e);return e}function p2(v,u,T){if(typeof T=="function")return T(v,u);switch(T){case"pathParamsChange":return!Ni(v.url,u.url);case"pathParamsOrQueryParamsChange":return!Ni(v.url,u.url)||!dn(v.queryParams,u.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ad(v,u)||!dn(v.queryParams,u.queryParams);case"paramsChange":default:return!ad(v,u)}}function Ms(v,u,T){let x=Dr(v),e=v.value;Object.entries(x).forEach(([y,t])=>{e.component?u?Ms(t,u.children.getContext(y),T):Ms(t,null,T):Ms(t,u,T)}),e.component?u&&u.outlet&&u.outlet.isActivated?T.canDeactivateChecks.push(new Ar(u.outlet.component,e)):T.canDeactivateChecks.push(new Ar(null,e)):T.canDeactivateChecks.push(new Ar(null,e))}function Gs(v){return typeof v=="function"}function v2(v){return typeof v=="boolean"}function g2(v){return v&&Gs(v.canLoad)}function m2(v){return v&&Gs(v.canActivate)}function y2(v){return v&&Gs(v.canActivateChild)}function x2(v){return v&&Gs(v.canDeactivate)}function T2(v){return v&&Gs(v.canMatch)}function R0(v){return v instanceof He||v?.name==="EmptyError"}var qa=Symbol("INITIAL_VALUE");function Or(){return xe(v=>Zr(v.map(u=>u.pipe(yn(1),vu(qa)))).pipe(vt(u=>{for(let T of u)if(T!==!0){if(T===qa)return qa;if(T===!1||C2(T))return T}return!0}),ye(u=>u!==qa),yn(1)))}function C2(v){return Bi(v)||v instanceof Is}function E2(v,u){return _t(T=>{let{targetSnapshot:x,currentSnapshot:e,guards:{canActivateChecks:y,canDeactivateChecks:t}}=T;return t.length===0&&y.length===0?pt(mt(et({},T),{guardsResult:!0})):S2(t,x,e,v).pipe(_t(a=>a&&v2(a)?D2(x,y,v,u):pt(a)),vt(a=>mt(et({},T),{guardsResult:a})))})}function S2(v,u,T,x){return zt(v).pipe(_t(e=>R2(e.component,e.route,T,u,x)),nn(e=>e!==!0,!0))}function D2(v,u,T,x){return zt(u).pipe(mn(e=>Ki(w2(e.route.parent,x),M2(e.route,x),P2(v,e.path,T),A2(v,e.route,T))),nn(e=>e!==!0,!0))}function M2(v,u){return v!==null&&u&&u(new nd(v)),pt(!0)}function w2(v,u){return v!==null&&u&&u(new td(v)),pt(!0)}function A2(v,u,T){let x=u.routeConfig?u.routeConfig.canActivate:null;if(!x||x.length===0)return pt(!0);let e=x.map(y=>No(()=>{let t=Bs(u)??T,a=Lr(y,t),g=m2(a)?a.canActivate(u,v):Le(t,()=>a(u,v));return ii(g).pipe(nn())}));return pt(e).pipe(Or())}function P2(v,u,T){let x=u[u.length-1],y=u.slice(0,u.length-1).reverse().map(t=>d2(t)).filter(t=>t!==null).map(t=>No(()=>{let a=t.guards.map(g=>{let l=Bs(t.node)??T,s=Lr(g,l),o=y2(s)?s.canActivateChild(x,v):Le(l,()=>s(x,v));return ii(o).pipe(nn())});return pt(a).pipe(Or())}));return pt(y).pipe(Or())}function R2(v,u,T,x,e){let y=u&&u.routeConfig?u.routeConfig.canDeactivate:null;if(!y||y.length===0)return pt(!0);let t=y.map(a=>{let g=Bs(u)??e,l=Lr(a,g),s=x2(l)?l.canDeactivate(v,u,T,x):Le(g,()=>l(v,u,T,x));return ii(s).pipe(nn())});return pt(t).pipe(Or())}function I2(v,u,T,x){let e=u.canLoad;if(e===void 0||e.length===0)return pt(!0);let y=e.map(t=>{let a=Lr(t,v),g=g2(a)?a.canLoad(u,T):Le(v,()=>a(u,T));return ii(g)});return pt(y).pipe(Or(),I0(x))}function I0(v){return su(Yt(u=>{if(typeof u!="boolean")throw fl(v,u)}),vt(u=>u===!0))}function F2(v,u,T,x){let e=u.canMatch;if(!e||e.length===0)return pt(!0);let y=e.map(t=>{let a=Lr(t,v),g=T2(a)?a.canMatch(u,T):Le(v,()=>a(u,T));return ii(g)});return pt(y).pipe(Or(),I0(x))}var Fs=class{constructor(u){this.segmentGroup=u||null}},Os=class extends Error{constructor(u){super(),this.urlTree=u}};function Sr(v){return ze(new Fs(v))}function O2(v){return ze(new ft(4e3,!1))}function L2(v){return ze(A0(!1,Pe.GuardRejected))}var hd=class{constructor(u,T){this.urlSerializer=u,this.urlTree=T}lineralizeSegments(u,T){let x=[],e=T.root;for(;;){if(x=x.concat(e.segments),e.numberOfChildren===0)return pt(x);if(e.numberOfChildren>1||!e.children[St])return O2(`${u.redirectTo}`);e=e.children[St]}}applyRedirectCommands(u,T,x,e,y){if(typeof T!="string"){let a=T,{queryParams:g,fragment:l,routeConfig:s,url:o,outlet:n,params:i,data:h,title:r}=e,f=Le(y,()=>a({params:i,data:h,queryParams:g,fragment:l,routeConfig:s,url:o,outlet:n,title:r}));if(f instanceof Fn)throw new Os(f);T=f}let t=this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),u,x);if(T[0]==="/")throw new Os(t);return t}applyRedirectCreateUrlTree(u,T,x,e){let y=this.createSegmentGroup(u,T.root,x,e);return new Fn(y,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(u,T){let x={};return Object.entries(u).forEach(([e,y])=>{if(typeof y=="string"&&y[0]===":"){let a=y.substring(1);x[e]=T[a]}else x[e]=y}),x}createSegmentGroup(u,T,x,e){let y=this.createSegments(u,T.segments,x,e),t={};return Object.entries(T.children).forEach(([a,g])=>{t[a]=this.createSegmentGroup(u,g,x,e)}),new Nt(y,t)}createSegments(u,T,x,e){return T.map(y=>y.path[0]===":"?this.findPosParam(u,y,e):this.findOrReturn(y,x))}findPosParam(u,T,x){let e=x[T.path.substring(1)];if(!e)throw new ft(4001,!1);return e}findOrReturn(u,T){let x=0;for(let e of T){if(e.path===u.path)return T.splice(x),e;x++}return u}},fd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b2(v,u,T,x,e){let y=F0(v,u,T);return y.matched?(x=n2(u,x),F2(x,u,T,e).pipe(vt(t=>t===!0?y:et({},fd)))):pt(y)}function F0(v,u,T){if(u.path==="**")return N2(T);if(u.path==="")return u.pathMatch==="full"&&(v.hasChildren()||T.length>0)?et({},fd):{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};let e=(u.matcher||IM)(T,v,u);if(!e)return et({},fd);let y={};Object.entries(e.posParams??{}).forEach(([a,g])=>{y[a]=g.path});let t=e.consumed.length>0?et(et({},y),e.consumed[e.consumed.length-1].parameters):y;return{matched:!0,consumedSegments:e.consumed,remainingSegments:T.slice(e.consumed.length),parameters:t,positionalParamSegments:e.posParams??{}}}function N2(v){return{matched:!0,parameters:v.length>0?h0(v).parameters:{},consumedSegments:v,remainingSegments:[],positionalParamSegments:{}}}function i0(v,u,T,x){return T.length>0&&G2(v,T,x)?{segmentGroup:new Nt(u,V2(x,new Nt(T,v.children))),slicedSegments:[]}:T.length===0&&U2(v,T,x)?{segmentGroup:new Nt(v.segments,B2(v,T,x,v.children)),slicedSegments:T}:{segmentGroup:new Nt(v.segments,v.children),slicedSegments:T}}function B2(v,u,T,x){let e={};for(let y of T)if(vl(v,u,y)&&!x[_e(y)]){let t=new Nt([],{});e[_e(y)]=t}return et(et({},x),e)}function V2(v,u){let T={};T[St]=u;for(let x of v)if(x.path===""&&_e(x)!==St){let e=new Nt([],{});T[_e(x)]=e}return T}function G2(v,u,T){return T.some(x=>vl(v,u,x)&&_e(x)!==St)}function U2(v,u,T){return T.some(x=>vl(v,u,x))}function vl(v,u,T){return(v.hasChildren()||u.length>0)&&T.pathMatch==="full"?!1:T.path===""}function z2(v,u,T){return u.length===0&&!v.children[T]}var dd=class{};function H2(v,u,T,x,e,y,t="emptyOnly"){return new cd(v,u,T,x,e,t,y).recognize()}var W2=31,cd=class{constructor(u,T,x,e,y,t,a){this.injector=u,this.configLoader=T,this.rootComponentType=x,this.config=e,this.urlTree=y,this.paramsInheritanceStrategy=t,this.urlSerializer=a,this.applyRedirects=new hd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(u){return new ft(4002,`'${u.segmentGroup}'`)}recognize(){let u=i0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(u).pipe(vt(({children:T,rootSnapshot:x})=>{let e=new Ae(x,T),y=new hl("",e),t=KM(x,[],this.urlTree.queryParams,this.urlTree.fragment);return t.queryParams=this.urlTree.queryParams,y.url=this.urlSerializer.serialize(t),{state:y,tree:t}}))}match(u){let T=new wr([],Object.freeze({}),Object.freeze(et({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),St,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,u,St,T).pipe(vt(x=>({children:x,rootSnapshot:T})),fe(x=>{if(x instanceof Os)return this.urlTree=x.urlTree,this.match(x.urlTree.root);throw x instanceof Fs?this.noMatchError(x):x}))}processSegmentGroup(u,T,x,e,y){return x.segments.length===0&&x.hasChildren()?this.processChildren(u,T,x,y):this.processSegment(u,T,x,x.segments,e,!0,y).pipe(vt(t=>t instanceof Ae?[t]:[]))}processChildren(u,T,x,e){let y=[];for(let t of Object.keys(x.children))t==="primary"?y.unshift(t):y.push(t);return zt(y).pipe(mn(t=>{let a=x.children[t],g=i2(T,t);return this.processSegmentGroup(u,g,a,t,e)}),pu((t,a)=>(t.push(...a),t)),Vn(null),cu(),_t(t=>{if(t===null)return Sr(x);let a=O0(t);return X2(a),pt(a)}))}processSegment(u,T,x,e,y,t,a){return zt(T).pipe(mn(g=>this.processSegmentAgainstRoute(g._injector??u,T,g,x,e,y,t,a).pipe(fe(l=>{if(l instanceof Fs)return pt(null);throw l}))),nn(g=>!!g),fe(g=>{if(R0(g))return z2(x,e,y)?pt(new dd):Sr(x);throw g}))}processSegmentAgainstRoute(u,T,x,e,y,t,a,g){return _e(x)!==t&&(t===St||!vl(e,y,x))?Sr(e):x.redirectTo===void 0?this.matchSegmentAgainstRoute(u,e,x,y,t,g):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(u,e,T,x,y,t,g):Sr(e)}expandSegmentAgainstRouteUsingRedirect(u,T,x,e,y,t,a){let{matched:g,parameters:l,consumedSegments:s,positionalParamSegments:o,remainingSegments:n}=F0(T,e,y);if(!g)return Sr(T);typeof e.redirectTo=="string"&&e.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>W2&&(this.allowRedirects=!1));let i=new wr(y,l,Object.freeze(et({},this.urlTree.queryParams)),this.urlTree.fragment,r0(e),_e(e),e.component??e._loadedComponent??null,e,s0(e)),h=ul(i,a,this.paramsInheritanceStrategy);i.params=Object.freeze(h.params),i.data=Object.freeze(h.data);let r=this.applyRedirects.applyRedirectCommands(s,e.redirectTo,o,i,u);return this.applyRedirects.lineralizeSegments(e,r).pipe(_t(f=>this.processSegment(u,x,T,f.concat(n),t,!1,a)))}matchSegmentAgainstRoute(u,T,x,e,y,t){let a=b2(T,x,e,u,this.urlSerializer);return x.path==="**"&&(T.children={}),a.pipe(xe(g=>g.matched?(u=x._injector??u,this.getChildConfig(u,x,e).pipe(xe(({routes:l})=>{let s=x._loadedInjector??u,{parameters:o,consumedSegments:n,remainingSegments:i}=g,h=new wr(n,o,Object.freeze(et({},this.urlTree.queryParams)),this.urlTree.fragment,r0(x),_e(x),x.component??x._loadedComponent??null,x,s0(x)),r=ul(h,t,this.paramsInheritanceStrategy);h.params=Object.freeze(r.params),h.data=Object.freeze(r.data);let{segmentGroup:f,slicedSegments:c}=i0(T,n,i,l);if(c.length===0&&f.hasChildren())return this.processChildren(s,l,f,h).pipe(vt(p=>new Ae(h,p)));if(l.length===0&&c.length===0)return pt(new Ae(h,[]));let d=_e(x)===y;return this.processSegment(s,l,f,c,d?St:y,!0,h).pipe(vt(p=>new Ae(h,p instanceof Ae?[p]:[])))}))):Sr(T)))}getChildConfig(u,T,x){return T.children?pt({routes:T.children,injector:u}):T.loadChildren?T._loadedRoutes!==void 0?pt({routes:T._loadedRoutes,injector:T._loadedInjector}):I2(u,T,x,this.urlSerializer).pipe(_t(e=>e?this.configLoader.loadChildren(u,T).pipe(Yt(y=>{T._loadedRoutes=y.routes,T._loadedInjector=y.injector})):L2(T))):pt({routes:[],injector:u})}};function X2(v){v.sort((u,T)=>u.value.outlet===St?-1:T.value.outlet===St?1:u.value.outlet.localeCompare(T.value.outlet))}function Y2(v){let u=v.value.routeConfig;return u&&u.path===""}function O0(v){let u=[],T=new Set;for(let x of v){if(!Y2(x)){u.push(x);continue}let e=u.find(y=>x.value.routeConfig===y.value.routeConfig);e!==void 0?(e.children.push(...x.children),T.add(e)):u.push(x)}for(let x of T){let e=O0(x.children);u.push(new Ae(x.value,e))}return u.filter(x=>!T.has(x))}function r0(v){return v.data||{}}function s0(v){return v.resolve||{}}function j2(v,u,T,x,e,y){return _t(t=>H2(v,u,T,x,t.extractedUrl,e,y).pipe(vt(({state:a,tree:g})=>mt(et({},t),{targetSnapshot:a,urlAfterRedirects:g}))))}function k2(v,u){return _t(T=>{let{targetSnapshot:x,guards:{canActivateChecks:e}}=T;if(!e.length)return pt(T);let y=new Set(e.map(g=>g.route)),t=new Set;for(let g of y)if(!t.has(g))for(let l of L0(g))t.add(l);let a=0;return zt(t).pipe(mn(g=>y.has(g)?$2(g,x,v,u):(g.data=ul(g,g.parent,v).resolve,pt(void 0))),Yt(()=>a++),Qi(1),_t(g=>a===t.size?pt(T):Se))})}function L0(v){let u=v.children.map(T=>L0(T)).flat();return[v,...u]}function $2(v,u,T,x){let e=v.routeConfig,y=v._resolve;return e?.title!==void 0&&!M0(e)&&(y[bs]=e.title),Z2(y,v,u,x).pipe(vt(t=>(v._resolvedData=t,v.data=ul(v,v.parent,T).resolve,null)))}function Z2(v,u,T,x){let e=Yf(v);if(e.length===0)return pt({});let y={};return zt(e).pipe(_t(t=>K2(v[t],u,T,x).pipe(nn(),Yt(a=>{if(a instanceof Is)throw fl(new Rr,a);y[t]=a}))),Qi(1),du(y),fe(t=>R0(t)?Se:ze(t)))}function K2(v,u,T,x){let e=Bs(u)??x,y=Lr(v,e),t=y.resolve?y.resolve(u,T):Le(e,()=>y(u,T));return ii(t)}function Wf(v){return xe(u=>{let T=v(u);return T?zt(T).pipe(vt(()=>u)):pt(u)})}var b0=(()=>{let u=class u{buildTitle(x){let e,y=x.root;for(;y!==void 0;)e=this.getResolvedTitleForRoute(y)??e,y=y.children.find(t=>t.outlet===St);return e}getResolvedTitleForRoute(x){return x.data[bs]}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:()=>tt(Q2),providedIn:"root"});let v=u;return v})(),Q2=(()=>{let u=class u extends b0{constructor(x){super(),this.title=x}updateTitle(x){let e=this.buildTitle(x);e!==void 0&&this.title.setTitle(e)}};u.\u0275fac=function(e){return new(e||u)(at(Jm))},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})(),Us=new lt("",{providedIn:"root",factory:()=>({})}),J2=(()=>{let u=class u{};u.\u0275fac=function(e){return new(e||u)},u.\u0275cmp=$n({type:u,selectors:[["ng-component"]],standalone:!0,features:[Qn],decls:1,vars:0,template:function(e,y){e&1&&ee(0,"router-outlet")},dependencies:[s2],encapsulation:2});let v=u;return v})();function gd(v){let u=v.children&&v.children.map(gd),T=u?mt(et({},v),{children:u}):et({},v);return!T.component&&!T.loadComponent&&(u||T.loadChildren)&&T.outlet&&T.outlet!==St&&(T.component=J2),T}var Ls=new lt(""),md=(()=>{let u=class u{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=tt(Ha)}loadComponent(x){if(this.componentLoaders.get(x))return this.componentLoaders.get(x);if(x._loadedComponent)return pt(x._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(x);let e=ii(x.loadComponent()).pipe(vt(N0),Yt(t=>{this.onLoadEndListener&&this.onLoadEndListener(x),x._loadedComponent=t}),Gn(()=>{this.componentLoaders.delete(x)})),y=new Zi(e,()=>new Jt).pipe($i());return this.componentLoaders.set(x,y),y}loadChildren(x,e){if(this.childrenLoaders.get(e))return this.childrenLoaders.get(e);if(e._loadedRoutes)return pt({routes:e._loadedRoutes,injector:e._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(e);let t=q2(e,this.compiler,x,this.onLoadEndListener).pipe(Gn(()=>{this.childrenLoaders.delete(e)})),a=new Zi(t,()=>new Jt).pipe($i());return this.childrenLoaders.set(e,a),a}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();function q2(v,u,T,x){return ii(v.loadChildren()).pipe(vt(N0),_t(e=>e instanceof es||Array.isArray(e)?pt(e):zt(u.compileModuleAsync(e))),vt(e=>{x&&x(v);let y,t,a=!1;return Array.isArray(e)?(t=e,a=!0):(y=e.create(T).injector,t=y.get(Ls,[],{optional:!0,self:!0}).flat()),{routes:t.map(gd),injector:y}}))}function _2(v){return v&&typeof v=="object"&&"default"in v}function N0(v){return _2(v)?v.default:v}var yd=(()=>{let u=class u{};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:()=>tt(tw),providedIn:"root"});let v=u;return v})(),tw=(()=>{let u=class u{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,e){return x}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})(),B0=new lt(""),V0=new lt("");function ew(v,u,T){let x=v.get(V0),e=v.get(ie);return v.get(jt).runOutsideAngular(()=>{if(!e.startViewTransition||x.skipNextTransition)return x.skipNextTransition=!1,new Promise(l=>setTimeout(l));let y,t=new Promise(l=>{y=l}),a=e.startViewTransition(()=>(y(),nw(v))),{onViewTransitionCreated:g}=x;return g&&Le(v,()=>g({transition:a,from:u,to:T})),t})}function nw(v){return new Promise(u=>{ff({read:()=>setTimeout(u)},{injector:v})})}var iw=new lt(""),xd=(()=>{let u=class u{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Jt,this.transitionAbortSubject=new Jt,this.configLoader=tt(md),this.environmentInjector=tt(pe),this.urlSerializer=tt(Ns),this.rootContexts=tt(Vs),this.location=tt(Cr),this.inputBindingEnabled=tt(pl,{optional:!0})!==null,this.titleStrategy=tt(b0),this.options=tt(Us,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=tt(yd),this.createViewTransition=tt(B0,{optional:!0}),this.navigationErrorHandler=tt(iw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pt(void 0),this.rootComponentType=null;let x=y=>this.events.next(new qf(y)),e=y=>this.events.next(new _f(y));this.configLoader.onLoadEndListener=e,this.configLoader.onLoadStartListener=x}complete(){this.transitions?.complete()}handleNavigationRequest(x){let e=++this.navigationId;this.transitions?.next(mt(et(et({},this.transitions.value),x),{id:e}))}setupNavigations(x,e,y){return this.transitions=new kt({id:0,currentUrlTree:e,currentRawUrl:e,extractedUrl:this.urlHandlingStrategy.extract(e),urlAfterRedirects:this.urlHandlingStrategy.extract(e),rawUrl:e,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ds,restoredState:null,currentSnapshot:y.snapshot,targetSnapshot:null,currentRouterState:y,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ye(t=>t.id!==0),vt(t=>mt(et({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),xe(t=>{let a=!1,g=!1;return pt(t).pipe(xe(l=>{if(this.navigationId>t.id)return this.cancelNavigationTransition(t,"",Pe.SupersededByNewNavigation),Se;this.currentTransition=t,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?mt(et({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let s=!x.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),o=l.extras.onSameUrlNavigation??x.onSameUrlNavigation;if(!s&&o!=="reload"){let n="";return this.events.next(new ni(l.id,this.urlSerializer.serialize(l.rawUrl),n,rl.IgnoredSameUrlNavigation)),l.resolve(!1),Se}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return pt(l).pipe(xe(n=>{let i=this.transitions?.getValue();return this.events.next(new Ir(n.id,this.urlSerializer.serialize(n.extractedUrl),n.source,n.restoredState)),i!==this.transitions?.getValue()?Se:Promise.resolve(n)}),j2(this.environmentInjector,this.configLoader,this.rootComponentType,x.config,this.urlSerializer,this.paramsInheritanceStrategy),Yt(n=>{t.targetSnapshot=n.targetSnapshot,t.urlAfterRedirects=n.urlAfterRedirects,this.currentNavigation=mt(et({},this.currentNavigation),{finalUrl:n.urlAfterRedirects});let i=new sl(n.id,this.urlSerializer.serialize(n.extractedUrl),this.urlSerializer.serialize(n.urlAfterRedirects),n.targetSnapshot);this.events.next(i)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:n,extractedUrl:i,source:h,restoredState:r,extras:f}=l,c=new Ir(n,this.urlSerializer.serialize(i),h,r);this.events.next(c);let d=S0(this.rootComponentType).snapshot;return this.currentTransition=t=mt(et({},l),{targetSnapshot:d,urlAfterRedirects:i,extras:mt(et({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=i,pt(t)}else{let n="";return this.events.next(new ni(l.id,this.urlSerializer.serialize(l.extractedUrl),n,rl.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Se}}),Yt(l=>{let s=new Zf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(s)}),vt(l=>(this.currentTransition=t=mt(et({},l),{guards:f2(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),t)),E2(this.environmentInjector,l=>this.events.next(l)),Yt(l=>{if(t.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw fl(this.urlSerializer,l.guardsResult);let s=new Kf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(s)}),ye(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Pe.GuardRejected),!1)),Wf(l=>{if(l.guards.canActivateChecks.length)return pt(l).pipe(Yt(s=>{let o=new Qf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(o)}),xe(s=>{let o=!1;return pt(s).pipe(k2(this.paramsInheritanceStrategy,this.environmentInjector),Yt({next:()=>o=!0,complete:()=>{o||this.cancelNavigationTransition(s,"",Pe.NoDataFromResolver)}}))}),Yt(s=>{let o=new Jf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(o)}))}),Wf(l=>{let s=o=>{let n=[];o.routeConfig?.loadComponent&&!o.routeConfig._loadedComponent&&n.push(this.configLoader.loadComponent(o.routeConfig).pipe(Yt(i=>{o.component=i}),vt(()=>{})));for(let i of o.children)n.push(...s(i));return n};return Zr(s(l.targetSnapshot.root)).pipe(Vn(null),yn(1))}),Wf(()=>this.afterPreactivation()),xe(()=>{let{currentSnapshot:l,targetSnapshot:s}=t,o=this.createViewTransition?.(this.environmentInjector,l.root,s.root);return o?zt(o).pipe(vt(()=>t)):pt(t)}),vt(l=>{let s=o2(x.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=t=mt(et({},l),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,t}),Yt(()=>{this.events.next(new Ps)}),h2(this.rootContexts,x.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),yn(1),Yt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),pi(this.transitionAbortSubject.pipe(Yt(l=>{throw l}))),Gn(()=>{!a&&!g&&this.cancelNavigationTransition(t,"",Pe.SupersededByNewNavigation),this.currentTransition?.id===t.id&&(this.currentNavigation=null,this.currentTransition=null)}),fe(l=>{if(g=!0,P0(l))this.events.next(new In(t.id,this.urlSerializer.serialize(t.extractedUrl),l.message,l.cancellationCode)),u2(l)?this.events.next(new Fr(l.url,l.navigationBehaviorOptions)):t.resolve(!1);else{let s=new As(t.id,this.urlSerializer.serialize(t.extractedUrl),l,t.targetSnapshot??void 0);try{let o=Le(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(o instanceof Is){let{message:n,cancellationCode:i}=fl(this.urlSerializer,o);this.events.next(new In(t.id,this.urlSerializer.serialize(t.extractedUrl),n,i)),this.events.next(new Fr(o.redirectTo,o.navigationBehaviorOptions))}else{this.events.next(s);let n=x.errorHandler(l);t.resolve(!!n)}}catch(o){this.options.resolveNavigationPromiseOnError?t.resolve(!1):t.reject(o)}}return Se}))}))}cancelNavigationTransition(x,e,y){let t=new In(x.id,this.urlSerializer.serialize(x.extractedUrl),e,y);this.events.next(t),x.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let x=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),e=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return x.toString()!==e?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();function rw(v){return v!==Ds}var sw=(()=>{let u=class u{};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:()=>tt(ow),providedIn:"root"});let v=u;return v})(),pd=class{shouldDetach(u){return!1}store(u,T){}shouldAttach(u){return!1}retrieve(u){return null}shouldReuseRoute(u,T){return u.routeConfig===T.routeConfig}},ow=(()=>{let u=class u extends pd{};u.\u0275fac=(()=>{let x;return function(y){return(x||(x=vr(u)))(y||u)}})(),u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})(),G0=(()=>{let u=class u{};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:()=>tt(aw),providedIn:"root"});let v=u;return v})(),aw=(()=>{let u=class u extends G0{constructor(){super(...arguments),this.location=tt(Cr),this.urlSerializer=tt(Ns),this.options=tt(Us,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=tt(yd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=S0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(x){return this.location.subscribe(e=>{e.type==="popstate"&&x(e.url,e.state)})}handleRouterEvent(x,e){if(x instanceof Ir)this.stateMemento=this.createStateMemento();else if(x instanceof ni)this.rawUrlTree=e.initialUrl;else if(x instanceof sl){if(this.urlUpdateStrategy==="eager"&&!e.extras.skipLocationChange){let y=this.urlHandlingStrategy.merge(e.finalUrl,e.initialUrl);this.setBrowserUrl(e.targetBrowserUrl??y,e)}}else x instanceof Ps?(this.currentUrlTree=e.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(e.finalUrl,e.initialUrl),this.routerState=e.targetRouterState,this.urlUpdateStrategy==="deferred"&&!e.extras.skipLocationChange&&this.setBrowserUrl(e.targetBrowserUrl??this.rawUrlTree,e)):x instanceof In&&(x.code===Pe.GuardRejected||x.code===Pe.NoDataFromResolver)?this.restoreHistory(e):x instanceof As?this.restoreHistory(e,!0):x instanceof tn&&(this.lastSuccessfulId=x.id,this.currentPageId=this.browserPageId)}setBrowserUrl(x,e){let y=x instanceof Fn?this.urlSerializer.serialize(x):x;if(this.location.isCurrentPathEqualTo(y)||e.extras.replaceUrl){let t=this.browserPageId,a=et(et({},e.extras.state),this.generateNgRouterState(e.id,t));this.location.replaceState(y,"",a)}else{let t=et(et({},e.extras.state),this.generateNgRouterState(e.id,this.browserPageId+1));this.location.go(y,"",t)}}restoreHistory(x,e=!1){if(this.canceledNavigationResolution==="computed"){let y=this.browserPageId,t=this.currentPageId-y;t!==0?this.location.historyGo(t):this.currentUrlTree===x.finalUrl&&t===0&&(this.resetState(x),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(e&&this.resetState(x),this.resetUrlToCurrentUrlTree())}resetState(x){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(x,e){return this.canceledNavigationResolution==="computed"?{navigationId:x,\u0275routerPageId:e}:{navigationId:x}}};u.\u0275fac=(()=>{let x;return function(y){return(x||(x=vr(u)))(y||u)}})(),u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})(),Es=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(Es||{});function U0(v,u){v.events.pipe(ye(T=>T instanceof tn||T instanceof In||T instanceof As||T instanceof ni),vt(T=>T instanceof tn||T instanceof ni?Es.COMPLETE:(T instanceof In?T.code===Pe.Redirect||T.code===Pe.SupersededByNewNavigation:!1)?Es.REDIRECTING:Es.FAILED),ye(T=>T!==Es.REDIRECTING),yn(1)).subscribe(()=>{u()})}function lw(v){throw v}var uw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ge=(()=>{let u=class u{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=tt(Ua),this.stateManager=tt(G0),this.options=tt(Us,{optional:!0})||{},this.pendingTasks=tt(Mn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=tt(xd),this.urlSerializer=tt(Ns),this.location=tt(Cr),this.urlHandlingStrategy=tt(yd),this._events=new Jt,this.errorHandler=this.options.errorHandler||lw,this.navigated=!1,this.routeReuseStrategy=tt(sw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=tt(Ls,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!tt(pl,{optional:!0}),this.eventsSubscription=new Qt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:x=>{this.console.warn(x)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let x=this.navigationTransitions.events.subscribe(e=>{try{let y=this.navigationTransitions.currentTransition,t=this.navigationTransitions.currentNavigation;if(y!==null&&t!==null){if(this.stateManager.handleRouterEvent(e,t),e instanceof In&&e.code!==Pe.Redirect&&e.code!==Pe.SupersededByNewNavigation)this.navigated=!0;else if(e instanceof tn)this.navigated=!0;else if(e instanceof Fr){let a=e.navigationBehaviorOptions,g=this.urlHandlingStrategy.merge(e.url,y.currentRawUrl),l=et({browserUrl:y.extras.browserUrl,info:y.extras.info,skipLocationChange:y.extras.skipLocationChange,replaceUrl:y.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rw(y.source)},a);this.scheduleNavigation(g,Ds,null,l,{resolve:y.resolve,reject:y.reject,promise:y.promise})}}dw(e)&&this._events.next(e)}catch(y){this.navigationTransitions.transitionAbortSubject.next(y)}});this.eventsSubscription.add(x)}resetRootComponentType(x){this.routerState.root.component=x,this.navigationTransitions.rootComponentType=x}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ds,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((x,e)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(x,"popstate",e)},0)})}navigateToSyncWithBrowser(x,e,y){let t={replaceUrl:!0},a=y?.navigationId?y:null;if(y){let l=et({},y);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(t.state=l)}let g=this.parseUrl(x);this.scheduleNavigation(g,e,a,t)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(x){this.config=x.map(gd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(x,e={}){let{relativeTo:y,queryParams:t,fragment:a,queryParamsHandling:g,preserveFragment:l}=e,s=l?this.currentUrlTree.fragment:a,o=null;switch(g??this.options.defaultQueryParamsHandling){case"merge":o=et(et({},this.currentUrlTree.queryParams),t);break;case"preserve":o=this.currentUrlTree.queryParams;break;default:o=t||null}o!==null&&(o=this.removeEmptyProps(o));let n;try{let i=y?y.snapshot:this.routerState.snapshot.root;n=x0(i)}catch{(typeof x[0]!="string"||x[0][0]!=="/")&&(x=[]),n=this.currentUrlTree.root}return T0(n,x,o,s??null)}navigateByUrl(x,e={skipLocationChange:!1}){let y=Bi(x)?x:this.parseUrl(x),t=this.urlHandlingStrategy.merge(y,this.rawUrlTree);return this.scheduleNavigation(t,Ds,null,e)}navigate(x,e={skipLocationChange:!1}){return fw(x),this.navigateByUrl(this.createUrlTree(x,e),e)}serializeUrl(x){return this.urlSerializer.serialize(x)}parseUrl(x){try{return this.urlSerializer.parse(x)}catch{return this.urlSerializer.parse("/")}}isActive(x,e){let y;if(e===!0?y=et({},uw):e===!1?y=et({},hw):y=e,Bi(x))return qm(this.currentUrlTree,x,y);let t=this.parseUrl(x);return qm(this.currentUrlTree,t,y)}removeEmptyProps(x){return Object.entries(x).reduce((e,[y,t])=>(t!=null&&(e[y]=t),e),{})}scheduleNavigation(x,e,y,t,a){if(this.disposed)return Promise.resolve(!1);let g,l,s;a?(g=a.resolve,l=a.reject,s=a.promise):s=new Promise((n,i)=>{g=n,l=i});let o=this.pendingTasks.add();return U0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(o))}),this.navigationTransitions.handleNavigationRequest({source:e,restoredState:y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:x,extras:t,resolve:g,reject:l,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(n=>Promise.reject(n))}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();function fw(v){for(let u=0;u<v.length;u++)if(v[u]==null)throw new ft(4008,!1)}function dw(v){return!(v instanceof Ps)&&!(v instanceof Fr)}var o0=(()=>{let u=class u{constructor(x,e,y,t,a,g){this.router=x,this.route=e,this.tabIndexAttribute=y,this.renderer=t,this.el=a,this.locationStrategy=g,this.href=null,this.onChanges=new Jt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=x.events.subscribe(s=>{s instanceof tn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(x){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",x)}ngOnChanges(x){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(x){x==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Bi(x)?this.routerLinkInput=x:this.routerLinkInput=Array.isArray(x)?x:[x],this.setTabIndexIfNotOnNativeEl("0"))}onClick(x,e,y,t,a){let g=this.urlTree;if(g===null||this.isAnchorElement&&(x!==0||e||y||t||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(g,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let x=this.urlTree;this.href=x!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(x)):null;let e=this.href===null?null:og(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(x,e){let y=this.renderer,t=this.el.nativeElement;e!==null?y.setAttribute(t,x,e):y.removeAttribute(t,x)}get urlTree(){return this.routerLinkInput===null?null:Bi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};u.\u0275fac=function(e){return new(e||u)(dt(Ge),dt(cn),Xh("tabindex"),dt(wn),dt(Me),dt(Rn))},u.\u0275dir=Zt({type:u,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,y){e&1&&ve("click",function(a){return y.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),e&2&&ls("target",y.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_n],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_n],replaceUrl:[2,"replaceUrl","replaceUrl",_n],routerLink:"routerLink"},standalone:!0,features:[uf,Qe]});let v=u;return v})(),W4=(()=>{let u=class u{get isActive(){return this._isActive}constructor(x,e,y,t,a){this.router=x,this.element=e,this.renderer=y,this.cdr=t,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Xt,this.routerEventsSubscription=x.events.subscribe(g=>{g instanceof tn&&this.update()})}ngAfterContentInit(){pt(this.links.changes,pt(null)).pipe(Bn()).subscribe(x=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let x=[...this.links.toArray(),this.link].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=zt(x).pipe(Bn()).subscribe(e=>{this._isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(x){let e=Array.isArray(x)?x:x.split(" ");this.classes=e.filter(y=>!!y)}ngOnChanges(x){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let x=this.hasActiveLinks();this.classes.forEach(e=>{x?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}),x&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==x&&(this._isActive=x,this.cdr.markForCheck(),this.isActiveChange.emit(x))})}isLinkActive(x){let e=cw(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return y=>{let t=y.urlTree;return t?x.isActive(t,e):!1}}hasActiveLinks(){let x=this.isLinkActive(this.router);return this.link&&x(this.link)||this.links.some(x)}};u.\u0275fac=function(e){return new(e||u)(dt(Ge),dt(Me),dt(wn),dt(qn),dt(o0,8))},u.\u0275dir=Zt({type:u,selectors:[["","routerLinkActive",""]],contentQueries:function(e,y,t){if(e&1&&em(t,o0,5),e&2){let a;nm(a=im())&&(y.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Qe]});let v=u;return v})();function cw(v){return!!v.paths}var cl=class{};var pw=(()=>{let u=class u{constructor(x,e,y,t,a){this.router=x,this.injector=y,this.preloadingStrategy=t,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ye(x=>x instanceof tn),mn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(x,e){let y=[];for(let t of e){t.providers&&!t._injector&&(t._injector=Ba(t.providers,x,`Route: ${t.path}`));let a=t._injector??x,g=t._loadedInjector??a;(t.loadChildren&&!t._loadedRoutes&&t.canLoad===void 0||t.loadComponent&&!t._loadedComponent)&&y.push(this.preloadConfig(a,t)),(t.children||t._loadedRoutes)&&y.push(this.processRoutes(g,t.children??t._loadedRoutes))}return zt(y).pipe(Bn())}preloadConfig(x,e){return this.preloadingStrategy.preload(e,()=>{let y;e.loadChildren&&e.canLoad===void 0?y=this.loader.loadChildren(x,e):y=pt(null);let t=y.pipe(_t(a=>a===null?pt(void 0):(e._loadedRoutes=a.routes,e._loadedInjector=a.injector,this.processRoutes(a.injector??x,a.routes))));if(e.loadComponent&&!e._loadedComponent){let a=this.loader.loadComponent(e);return zt([t,a]).pipe(Bn())}else return t})}};u.\u0275fac=function(e){return new(e||u)(at(Ge),at(Ha),at(pe),at(cl),at(md))},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})(),z0=new lt(""),vw=(()=>{let u=class u{constructor(x,e,y,t,a={}){this.urlSerializer=x,this.transitions=e,this.viewportScroller=y,this.zone=t,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(x=>{x instanceof Ir?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=x.navigationTrigger,this.restoredId=x.restoredState?x.restoredState.navigationId:0):x instanceof tn?(this.lastId=x.id,this.scheduleScrollEvent(x,this.urlSerializer.parse(x.urlAfterRedirects).fragment)):x instanceof ni&&x.code===rl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(x,this.urlSerializer.parse(x.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(x=>{x instanceof ol&&(x.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(x.position):x.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(x.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(x,e){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ol(x,this.lastSource==="popstate"?this.store[this.restoredId]:null,e))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};u.\u0275fac=function(e){xg()},u.\u0275prov=st({token:u,factory:u.\u0275fac});let v=u;return v})();function X4(v,...u){return ss([{provide:Ls,multi:!0,useValue:v},[],{provide:cn,useFactory:H0,deps:[Ge]},{provide:us,multi:!0,useFactory:W0},u.map(T=>T.\u0275providers)])}function H0(v){return v.routerState.root}function zs(v,u){return{\u0275kind:v,\u0275providers:u}}function W0(){let v=tt(ke);return u=>{let T=v.get(Jn);if(u!==T.components[0])return;let x=v.get(Ge),e=v.get(X0);v.get(Td)===1&&x.initialNavigation(),v.get(Y0,null,Mt.Optional)?.setUpPreloading(),v.get(z0,null,Mt.Optional)?.init(),x.resetRootComponentType(T.componentTypes[0]),e.closed||(e.next(),e.complete(),e.unsubscribe())}}var X0=new lt("",{factory:()=>new Jt}),Td=new lt("",{providedIn:"root",factory:()=>1});function gw(){return zs(2,[{provide:Td,useValue:0},{provide:za,multi:!0,deps:[ke],useFactory:u=>{let T=u.get(Dm,Promise.resolve());return()=>T.then(()=>new Promise(x=>{let e=u.get(Ge),y=u.get(X0);U0(e,()=>{x(!0)}),u.get(xd).afterPreactivation=()=>(x(!0),y.closed?pt(void 0):y),e.initialNavigation()}))}}])}function mw(){return zs(3,[{provide:za,multi:!0,useFactory:()=>{let u=tt(Ge);return()=>{u.setUpLocationChangeListener()}}},{provide:Td,useValue:2}])}var Y0=new lt("");function yw(v){return zs(0,[{provide:Y0,useExisting:pw},{provide:cl,useExisting:v}])}function xw(){return zs(8,[n0,{provide:pl,useExisting:n0}])}function Tw(v){let u=[{provide:B0,useValue:ew},{provide:V0,useValue:et({skipNextTransition:!!v?.skipInitialTransition},v)}];return zs(9,u)}var a0=new lt("ROUTER_FORROOT_GUARD"),Cw=[Cr,{provide:Ns,useClass:Rr},Ge,Vs,{provide:cn,useFactory:H0,deps:[Ge]},md,[]],Y4=(()=>{let u=class u{constructor(x){}static forRoot(x,e){return{ngModule:u,providers:[Cw,[],{provide:Ls,multi:!0,useValue:x},{provide:a0,useFactory:Mw,deps:[[Ge,new Ca,new Ah]]},{provide:Us,useValue:e||{}},e?.useHash?Sw():Dw(),Ew(),e?.preloadingStrategy?yw(e.preloadingStrategy).\u0275providers:[],e?.initialNavigation?ww(e):[],e?.bindToComponentInputs?xw().\u0275providers:[],e?.enableViewTransitions?Tw().\u0275providers:[],Aw()]}}static forChild(x){return{ngModule:u,providers:[{provide:Ls,multi:!0,useValue:x}]}}};u.\u0275fac=function(e){return new(e||u)(at(a0,8))},u.\u0275mod=Ze({type:u}),u.\u0275inj=$e({});let v=u;return v})();function Ew(){return{provide:z0,useFactory:()=>{let v=tt(Rm),u=tt(jt),T=tt(Us),x=tt(xd),e=tt(Ns);return T.scrollOffset&&v.setOffset(T.scrollOffset),new vw(e,x,v,u,T)}}}function Sw(){return{provide:Rn,useClass:wm}}function Dw(){return{provide:Rn,useClass:Df}}function Mw(v){return"guarded"}function ww(v){return[v.initialNavigation==="disabled"?mw().\u0275providers:[],v.initialNavigation==="enabledBlocking"?gw().\u0275providers:[]]}var l0=new lt("");function Aw(){return[{provide:l0,useFactory:W0},{provide:us,multi:!0,useExisting:l0}]}var gl={apiURL:"https://giahck.it/api/",production:!1};var Pw=new lt("JWT_OPTIONS"),k0=(()=>{class v{constructor(T=null){this.tokenGetter=T&&T.tokenGetter||function(){}}urlBase64Decode(T){let x=T.replace(/-/g,"+").replace(/_/g,"/");switch(x.length%4){case 0:break;case 2:{x+="==";break}case 3:{x+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(x)}b64decode(T){let x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="";if(T=String(T).replace(/=+$/,""),T.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let y=0,t,a,g=0;a=T.charAt(g++);~a&&(t=y%4?t*64+a:a,y++%4)?e+=String.fromCharCode(255&t>>(-2*y&6)):0)a=x.indexOf(a);return e}b64DecodeUnicode(T){return decodeURIComponent(Array.prototype.map.call(this.b64decode(T),x=>"%"+("00"+x.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(T=this.tokenGetter()){return T instanceof Promise?T.then(x=>this._decodeToken(x)):this._decodeToken(T)}_decodeToken(T){if(!T||T==="")return null;let x=T.split(".");if(x.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let e=this.urlBase64Decode(x[1]);if(!e)throw new Error("Cannot decode the token.");return JSON.parse(e)}getTokenExpirationDate(T=this.tokenGetter()){return T instanceof Promise?T.then(x=>this._getTokenExpirationDate(x)):this._getTokenExpirationDate(T)}_getTokenExpirationDate(T){let x;if(x=this.decodeToken(T),!x||!x.hasOwnProperty("exp"))return null;let e=new Date(0);return e.setUTCSeconds(x.exp),e}isTokenExpired(T=this.tokenGetter(),x){return T instanceof Promise?T.then(e=>this._isTokenExpired(e,x)):this._isTokenExpired(T,x)}_isTokenExpired(T,x){if(!T||T==="")return!0;let e=this.getTokenExpirationDate(T);return x=x||0,e===null?!1:!(e.valueOf()>new Date().valueOf()+x*1e3)}getAuthScheme(T,x){return typeof T=="function"?T(x):T}}return v.\u0275fac=function(T){return new(T||v)(at(Pw))},v.\u0275prov=st({token:v,factory:v.\u0275fac}),v})();var br=(()=>{let u=class u{constructor(x,e){this.document=x,this.platformId=e,this.documentIsAccessible=wf(this.platformId)}static getCookieRegExp(x){let e=x.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(x){try{return decodeURIComponent(x)}catch{return x}}check(x){return this.documentIsAccessible?(x=encodeURIComponent(x),u.getCookieRegExp(x).test(this.document.cookie)):!1}get(x){if(this.documentIsAccessible&&this.check(x)){x=encodeURIComponent(x);let y=u.getCookieRegExp(x).exec(this.document.cookie);return y[1]?u.safeDecodeURIComponent(y[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let x={},e=this.document;return e.cookie&&e.cookie!==""&&e.cookie.split(";").forEach(y=>{let[t,a]=y.split("=");x[u.safeDecodeURIComponent(t.replace(/^ /,""))]=u.safeDecodeURIComponent(a)}),x}set(x,e,y,t,a,g,l,s){if(!this.documentIsAccessible)return;if(typeof y=="number"||y instanceof Date||t||a||g||l){let i={expires:y,path:t,domain:a,secure:g,sameSite:l||"Lax",partitioned:s};this.set(x,e,i);return}let o=encodeURIComponent(x)+"="+encodeURIComponent(e)+";",n=y||{};if(n.expires)if(typeof n.expires=="number"){let i=new Date(new Date().getTime()+n.expires*1e3*60*60*24);o+="expires="+i.toUTCString()+";"}else o+="expires="+n.expires.toUTCString()+";";n.path&&(o+="path="+n.path+";"),n.domain&&(o+="domain="+n.domain+";"),n.secure===!1&&n.sameSite==="None"&&(n.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${x} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),n.secure&&(o+="secure;"),n.sameSite||(n.sameSite="Lax"),o+="sameSite="+n.sameSite+";",n.partitioned&&(o+="Partitioned;"),this.document.cookie=o}delete(x,e,y,t,a="Lax"){if(!this.documentIsAccessible)return;let g=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(x,"",{expires:g,path:e,domain:y,secure:t,sameSite:a})}deleteAll(x,e,y,t="Lax"){if(!this.documentIsAccessible)return;let a=this.getAll();for(let g in a)a.hasOwnProperty(g)&&this.delete(g,x,e,y,t)}};u.\u0275fac=function(e){return new(e||u)(at(ie),at(Ne))},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();var Nr=(()=>{let u=class u{constructor(x,e,y){this.http=x,this.cookieService=e,this.router=y,this.apiURL=gl.apiURL,this.authChecked$=new kt(!1),this.authSub=new kt(null),this.user$=this.authSub.asObservable(),this.userId$=this.authSub.pipe(vt(t=>t?t.id:null)),this.jwtHelper=new k0}get getId(){let x=this.authSub.getValue();return x?x.id:null}get(x){return this.http.get(this.apiURL+x)}getToken(x){return this.http.get(`${this.apiURL}/auth/callback?code=${x}`,{observe:"response"}).pipe(vt(e=>{if(e.status===200&&e.body){let{idToken:y,accessToken:t}=e.body;return console.log("Token Response:",e),this.isJwt(y)?(localStorage.setItem("accessToken",y),this.cookieService.set("accessToken",y),this.http.get("http://localhost:8080/messages",{headers:new Be({Authorization:`Bearer ${t}`}),observe:"response"}).subscribe(a=>{a.body?(this.authSub.next(a.body),a.body.accessToken=t,this.autoLogout(a.body)):console.error("Message response body is null.")},a=>{console.error("Error Status Code:",a.status)}),!0):(console.error("ID Token non valido:",y),!1)}else return!1}),fe(e=>(console.error("Token Request Error:",e),ze(!1))))}login(x){return this.http.post(`${this.apiURL}auth/login`,x).pipe(Yt(e=>{e&&e.accessToken&&(this.setToken(e.accessToken,e.rememberMe),this.authSub.next(e),this.autoLogout(e))}),fe(this.handleError))}register(x){return this.http.post(`${this.apiURL}auth/register`,x).pipe(fe(this.handleError))}autoLogout(x){if(x&&this.isJwt(x.accessToken)){let y=this.jwtHelper.getTokenExpirationDate(x.accessToken).getTime()-new Date().getTime();this.timeOut=setTimeout(()=>this.logout(),y)}else console.error("User data is null or token is not JWT.")}restoreAuth(){return vn(this,null,function*(){let x=localStorage.getItem("accessToken")||this.cookieService.get("accessToken");if(x&&this.isJwt(x)&&!this.jwtHelper.isTokenExpired(x))try{yield this.validateToken(x),this.getId}catch(e){this.router.navigate(["/home"]),console.warn("Errore durante la validazione del token:",e)}else this.router.navigate(["/home"]),console.warn("Token non JWT rilevato o token scaduto"),this.authChecked$.next(!0)})}validateToken(x){return vn(this,null,function*(){let e=new Be().set("Authorization",`Bearer ${x}`);try{let y=yield this.http.get(`${this.apiURL}auth/validate-token`,{headers:e}).toPromise();y&&y.accessToken&&(this.authSub.next(y),this.autoLogout(y)),this.authChecked$.next(!0)}catch(y){throw console.error("Token non valido o errore durante la validazione:",y),this.removeToken(),this.authChecked$.next(!0),y}})}logout(){this.removeToken(),this.authSub.next(null),this.router.navigate(["/home"]).then(()=>{window.location.reload()}),this.timeOut&&clearTimeout(this.timeOut)}handleError(x){console.error("Errore durante la richiesta:",x);let e="Si \xE8 verificato un errore.";return x.error instanceof ErrorEvent?e=`Errore: ${x.error.message}`:(e=`Errore ${x.status}: ${x.message}`,x.error.details&&(e+=` - Dettagli: ${x.error.details}`)),ze(e)}setToken(x,e){e?localStorage.setItem("accessToken",x):this.cookieService.set("accessToken",x)}isJwt(x){return x.split(".").length===3}removeToken(){localStorage.removeItem("accessToken"),this.cookieService.delete("accessToken")}};u.\u0275fac=function(e){return new(e||u)(at(vs),at(br),at(Ge))},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();var Yd=Hi(Vi());var wy=Hi(Vi());var en=Object.create(null);en.open="0";en.close="1";en.ping="2";en.pong="3";en.message="4";en.upgrade="5";en.noop="6";var Ws=Object.create(null);Object.keys(en).forEach(v=>{Ws[en[v]]=v});var Xs={type:"error",data:"parser error"};var Q0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",J0=typeof ArrayBuffer=="function",q0=v=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(v):v&&v.buffer instanceof ArrayBuffer,Ys=({type:v,data:u},T,x)=>Q0&&u instanceof Blob?T?x(u):Z0(u,x):J0&&(u instanceof ArrayBuffer||q0(u))?T?x(u):Z0(new Blob([u]),x):x(en[v]+(u||"")),Z0=(v,u)=>{let T=new FileReader;return T.onload=function(){let x=T.result.split(",")[1];u("b"+(x||""))},T.readAsDataURL(v)};function K0(v){return v instanceof Uint8Array?v:v instanceof ArrayBuffer?new Uint8Array(v):new Uint8Array(v.buffer,v.byteOffset,v.byteLength)}var Sd;function _0(v,u){if(Q0&&v.data instanceof Blob)return v.data.arrayBuffer().then(K0).then(u);if(J0&&(v.data instanceof ArrayBuffer||q0(v.data)))return u(K0(v.data));Ys(v,!1,T=>{Sd||(Sd=new TextEncoder),u(Sd.encode(T))})}var ty="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",js=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let v=0;v<ty.length;v++)js[ty.charCodeAt(v)]=v;var ey=v=>{let u=v.length*.75,T=v.length,x,e=0,y,t,a,g;v[v.length-1]==="="&&(u--,v[v.length-2]==="="&&u--);let l=new ArrayBuffer(u),s=new Uint8Array(l);for(x=0;x<T;x+=4)y=js[v.charCodeAt(x)],t=js[v.charCodeAt(x+1)],a=js[v.charCodeAt(x+2)],g=js[v.charCodeAt(x+3)],s[e++]=y<<2|t>>4,s[e++]=(t&15)<<4|a>>2,s[e++]=(a&3)<<6|g&63;return l};var Rw=typeof ArrayBuffer=="function",ks=(v,u)=>{if(typeof v!="string")return{type:"message",data:ny(v,u)};let T=v.charAt(0);return T==="b"?{type:"message",data:Iw(v.substring(1),u)}:Ws[T]?v.length>1?{type:Ws[T],data:v.substring(1)}:{type:Ws[T]}:Xs},Iw=(v,u)=>{if(Rw){let T=ey(v);return ny(T,u)}else return{base64:!0,data:v}},ny=(v,u)=>{switch(u){case"blob":return v instanceof Blob?v:new Blob([v]);case"arraybuffer":default:return v instanceof ArrayBuffer?v:v.buffer}};var iy="",ry=(v,u)=>{let T=v.length,x=new Array(T),e=0;v.forEach((y,t)=>{Ys(y,!1,a=>{x[t]=a,++e===T&&u(x.join(iy))})})},sy=(v,u)=>{let T=v.split(iy),x=[];for(let e=0;e<T.length;e++){let y=ks(T[e],u);if(x.push(y),y.type==="error")break}return x};function oy(){return new TransformStream({transform(v,u){_0(v,T=>{let x=T.length,e;if(x<126)e=new Uint8Array(1),new DataView(e.buffer).setUint8(0,x);else if(x<65536){e=new Uint8Array(3);let y=new DataView(e.buffer);y.setUint8(0,126),y.setUint16(1,x)}else{e=new Uint8Array(9);let y=new DataView(e.buffer);y.setUint8(0,127),y.setBigUint64(1,BigInt(x))}v.data&&typeof v.data!="string"&&(e[0]|=128),u.enqueue(e),u.enqueue(T)})}})}var Dd;function ml(v){return v.reduce((u,T)=>u+T.length,0)}function yl(v,u){if(v[0].length===u)return v.shift();let T=new Uint8Array(u),x=0;for(let e=0;e<u;e++)T[e]=v[0][x++],x===v[0].length&&(v.shift(),x=0);return v.length&&x<v[0].length&&(v[0]=v[0].slice(x)),T}function ay(v,u){Dd||(Dd=new TextDecoder);let T=[],x=0,e=-1,y=!1;return new TransformStream({transform(t,a){for(T.push(t);;){if(x===0){if(ml(T)<1)break;let g=yl(T,1);y=(g[0]&128)===128,e=g[0]&127,e<126?x=3:e===126?x=1:x=2}else if(x===1){if(ml(T)<2)break;let g=yl(T,2);e=new DataView(g.buffer,g.byteOffset,g.length).getUint16(0),x=3}else if(x===2){if(ml(T)<8)break;let g=yl(T,8),l=new DataView(g.buffer,g.byteOffset,g.length),s=l.getUint32(0);if(s>Math.pow(2,21)-1){a.enqueue(Xs);break}e=s*Math.pow(2,32)+l.getUint32(4),x=3}else{if(ml(T)<e)break;let g=yl(T,e);a.enqueue(ks(y?g:Dd.decode(g),u)),x=0}if(e===0||e>v){a.enqueue(Xs);break}}}})}var Md=4;function Ht(v){if(v)return Fw(v)}function Fw(v){for(var u in Ht.prototype)v[u]=Ht.prototype[u];return v}Ht.prototype.on=Ht.prototype.addEventListener=function(v,u){return this._callbacks=this._callbacks||{},(this._callbacks["$"+v]=this._callbacks["$"+v]||[]).push(u),this};Ht.prototype.once=function(v,u){function T(){this.off(v,T),u.apply(this,arguments)}return T.fn=u,this.on(v,T),this};Ht.prototype.off=Ht.prototype.removeListener=Ht.prototype.removeAllListeners=Ht.prototype.removeEventListener=function(v,u){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var T=this._callbacks["$"+v];if(!T)return this;if(arguments.length==1)return delete this._callbacks["$"+v],this;for(var x,e=0;e<T.length;e++)if(x=T[e],x===u||x.fn===u){T.splice(e,1);break}return T.length===0&&delete this._callbacks["$"+v],this};Ht.prototype.emit=function(v){this._callbacks=this._callbacks||{};for(var u=new Array(arguments.length-1),T=this._callbacks["$"+v],x=1;x<arguments.length;x++)u[x-1]=arguments[x];if(T){T=T.slice(0);for(var x=0,e=T.length;x<e;++x)T[x].apply(this,u)}return this};Ht.prototype.emitReserved=Ht.prototype.emit;Ht.prototype.listeners=function(v){return this._callbacks=this._callbacks||{},this._callbacks["$"+v]||[]};Ht.prototype.hasListeners=function(v){return!!this.listeners(v).length};var he=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function xl(v,...u){return u.reduce((T,x)=>(v.hasOwnProperty(x)&&(T[x]=v[x]),T),{})}var Ow=he.setTimeout,Lw=he.clearTimeout;function On(v,u){u.useNativeTimers?(v.setTimeoutFn=Ow.bind(he),v.clearTimeoutFn=Lw.bind(he)):(v.setTimeoutFn=he.setTimeout.bind(he),v.clearTimeoutFn=he.clearTimeout.bind(he))}var bw=1.33;function ly(v){return typeof v=="string"?Nw(v):Math.ceil((v.byteLength||v.size)*bw)}function Nw(v){let u=0,T=0;for(let x=0,e=v.length;x<e;x++)u=v.charCodeAt(x),u<128?T+=1:u<2048?T+=2:u<55296||u>=57344?T+=3:(x++,T+=4);return T}function uy(v){let u="";for(let T in v)v.hasOwnProperty(T)&&(u.length&&(u+="&"),u+=encodeURIComponent(T)+"="+encodeURIComponent(v[T]));return u}function hy(v){let u={},T=v.split("&");for(let x=0,e=T.length;x<e;x++){let y=T[x].split("=");u[decodeURIComponent(y[0])]=decodeURIComponent(y[1])}return u}var Tl=class extends Error{constructor(u,T,x){super(u),this.description=T,this.context=x,this.type="TransportError"}},Ln=class extends Ht{constructor(u){super(),this.writable=!1,On(this,u),this.opts=u,this.query=u.query,this.socket=u.socket}onError(u,T,x){return super.emitReserved("error",new Tl(u,T,x)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(u){this.readyState==="open"&&this.write(u)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(u){let T=ks(u,this.socket.binaryType);this.onPacket(T)}onPacket(u){super.emitReserved("packet",u)}onClose(u){this.readyState="closed",super.emitReserved("close",u)}pause(u){}createUri(u,T={}){return u+"://"+this._hostname()+this._port()+this.opts.path+this._query(T)}_hostname(){let u=this.opts.hostname;return u.indexOf(":")===-1?u:"["+u+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(u){let T=uy(u);return T.length?"?"+T:""}};var py="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),wd=64,Bw={},fy=0,Cl=0,dy;function cy(v){let u="";do u=py[v%wd]+u,v=Math.floor(v/wd);while(v>0);return u}function El(){let v=cy(+new Date);return v!==dy?(fy=0,dy=v):v+"."+cy(fy++)}for(;Cl<wd;Cl++)Bw[py[Cl]]=Cl;var vy=!1;try{vy=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var gy=vy;function Ad(v){let u=v.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!u||gy))return new XMLHttpRequest}catch{}if(!u)try{return new he[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Vw(){}var Gw=function(){return new Ad({xdomain:!1}).responseType!=null}(),Dl=class extends Ln{constructor(u){if(super(u),this.polling=!1,typeof location<"u"){let x=location.protocol==="https:",e=location.port;e||(e=x?"443":"80"),this.xd=typeof location<"u"&&u.hostname!==location.hostname||e!==u.port}let T=u&&u.forceBase64;this.supportsBinary=Gw&&!T,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(u){this.readyState="pausing";let T=()=>{this.readyState="paused",u()};if(this.polling||!this.writable){let x=0;this.polling&&(x++,this.once("pollComplete",function(){--x||T()})),this.writable||(x++,this.once("drain",function(){--x||T()}))}else T()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(u){let T=x=>{if(this.readyState==="opening"&&x.type==="open"&&this.onOpen(),x.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(x)};sy(u,this.socket.binaryType).forEach(T),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let u=()=>{this.write([{type:"close"}])};this.readyState==="open"?u():this.once("open",u)}write(u){this.writable=!1,ry(u,T=>{this.doWrite(T,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let u=this.opts.secure?"https":"http",T=this.query||{};return this.opts.timestampRequests!==!1&&(T[this.opts.timestampParam]=El()),!this.supportsBinary&&!T.sid&&(T.b64=1),this.createUri(u,T)}request(u={}){return Object.assign(u,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Sl(this.uri(),u)}doWrite(u,T){let x=this.request({method:"POST",data:u});x.on("success",T),x.on("error",(e,y)=>{this.onError("xhr post error",e,y)})}doPoll(){let u=this.request();u.on("data",this.onData.bind(this)),u.on("error",(T,x)=>{this.onError("xhr poll error",T,x)}),this.pollXhr=u}},Sl=(()=>{class v extends Ht{constructor(T,x){super(),On(this,x),this.opts=x,this.method=x.method||"GET",this.uri=T,this.data=x.data!==void 0?x.data:null,this.create()}create(){var T;let x=xl(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");x.xdomain=!!this.opts.xd;let e=this.xhr=new Ad(x);try{e.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let y in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(y)&&e.setRequestHeader(y,this.opts.extraHeaders[y])}}catch{}if(this.method==="POST")try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{e.setRequestHeader("Accept","*/*")}catch{}(T=this.opts.cookieJar)===null||T===void 0||T.addCookies(e),"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),e.onreadystatechange=()=>{var y;e.readyState===3&&((y=this.opts.cookieJar)===null||y===void 0||y.parseCookies(e)),e.readyState===4&&(e.status===200||e.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof e.status=="number"?e.status:0)},0))},e.send(this.data)}catch(y){this.setTimeoutFn(()=>{this.onError(y)},0);return}typeof document<"u"&&(this.index=v.requestsCount++,v.requests[this.index]=this)}onError(T){this.emitReserved("error",T,this.xhr),this.cleanup(!0)}cleanup(T){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Vw,T)try{this.xhr.abort()}catch{}typeof document<"u"&&delete v.requests[this.index],this.xhr=null}}onLoad(){let T=this.xhr.responseText;T!==null&&(this.emitReserved("data",T),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return v.requestsCount=0,v.requests={},v})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",my);else if(typeof addEventListener=="function"){let v="onpagehide"in he?"pagehide":"unload";addEventListener(v,my,!1)}}function my(){for(let v in Sl.requests)Sl.requests.hasOwnProperty(v)&&Sl.requests[v].abort()}var Gi=typeof Promise=="function"&&typeof Promise.resolve=="function"?u=>Promise.resolve().then(u):(u,T)=>T(u,0),$s=he.WebSocket||he.MozWebSocket,Ml=!0,yy="arraybuffer";var xy=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",wl=class extends Ln{constructor(u){super(u),this.supportsBinary=!u.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let u=this.uri(),T=this.opts.protocols,x=xy?{}:xl(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(x.headers=this.opts.extraHeaders);try{this.ws=Ml&&!xy?T?new $s(u,T):new $s(u):new $s(u,T,x)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=u=>this.onClose({description:"websocket connection closed",context:u}),this.ws.onmessage=u=>this.onData(u.data),this.ws.onerror=u=>this.onError("websocket error",u)}write(u){this.writable=!1;for(let T=0;T<u.length;T++){let x=u[T],e=T===u.length-1;Ys(x,this.supportsBinary,y=>{let t={};Ml||(x.options&&(t.compress=x.options.compress),this.opts.perMessageDeflate&&(typeof y=="string"?Buffer.byteLength(y):y.length)<this.opts.perMessageDeflate.threshold&&(t.compress=!1));try{Ml?this.ws.send(y):this.ws.send(y,t)}catch{}e&&Gi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let u=this.opts.secure?"wss":"ws",T=this.query||{};return this.opts.timestampRequests&&(T[this.opts.timestampParam]=El()),this.supportsBinary||(T.b64=1),this.createUri(u,T)}check(){return!!$s}};var Al=class extends Ln{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(u=>{this.onError("webtransport error",u)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(u=>{let T=ay(Number.MAX_SAFE_INTEGER,this.socket.binaryType),x=u.readable.pipeThrough(T).getReader(),e=oy();e.readable.pipeTo(u.writable),this.writer=e.writable.getWriter();let y=()=>{x.read().then(({done:a,value:g})=>{a||(this.onPacket(g),y())}).catch(a=>{})};y();let t={type:"open"};this.query.sid&&(t.data=`{"sid":"${this.query.sid}"}`),this.writer.write(t).then(()=>this.onOpen())})}))}write(u){this.writable=!1;for(let T=0;T<u.length;T++){let x=u[T],e=T===u.length-1;this.writer.write(x).then(()=>{e&&Gi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var u;(u=this.transport)===null||u===void 0||u.close()}};var Pd={websocket:wl,webtransport:Al,polling:Dl};var Uw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Br(v){if(v.length>2e3)throw"URI too long";let u=v,T=v.indexOf("["),x=v.indexOf("]");T!=-1&&x!=-1&&(v=v.substring(0,T)+v.substring(T,x).replace(/:/g,";")+v.substring(x,v.length));let e=Uw.exec(v||""),y={},t=14;for(;t--;)y[zw[t]]=e[t]||"";return T!=-1&&x!=-1&&(y.source=u,y.host=y.host.substring(1,y.host.length-1).replace(/;/g,":"),y.authority=y.authority.replace("[","").replace("]","").replace(/;/g,":"),y.ipv6uri=!0),y.pathNames=Hw(y,y.path),y.queryKey=Ww(y,y.query),y}function Hw(v,u){let T=/\/{2,9}/g,x=u.replace(T,"/").split("/");return(u.slice(0,1)=="/"||u.length===0)&&x.splice(0,1),u.slice(-1)=="/"&&x.splice(x.length-1,1),x}function Ww(v,u){let T={};return u.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(x,e,y){e&&(T[e]=y)}),T}var Pl=(()=>{class v extends Ht{constructor(T,x={}){super(),this.binaryType=yy,this.writeBuffer=[],T&&typeof T=="object"&&(x=T,T=null),T?(T=Br(T),x.hostname=T.host,x.secure=T.protocol==="https"||T.protocol==="wss",x.port=T.port,T.query&&(x.query=T.query)):x.host&&(x.hostname=Br(x.host).host),On(this,x),this.secure=x.secure!=null?x.secure:typeof location<"u"&&location.protocol==="https:",x.hostname&&!x.port&&(x.port=this.secure?"443":"80"),this.hostname=x.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=x.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=x.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},x),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hy(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(T){let x=Object.assign({},this.opts.query);x.EIO=Md,x.transport=T,this.id&&(x.sid=this.id);let e=Object.assign({},this.opts,{query:x,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[T]);return new Pd[T](e)}open(){let T;if(this.opts.rememberUpgrade&&v.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)T="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else T=this.transports[0];this.readyState="opening";try{T=this.createTransport(T)}catch{this.transports.shift(),this.open();return}T.open(),this.setTransport(T)}setTransport(T){this.transport&&this.transport.removeAllListeners(),this.transport=T,T.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",x=>this.onClose("transport close",x))}probe(T){let x=this.createTransport(T),e=!1;v.priorWebsocketSuccess=!1;let y=()=>{e||(x.send([{type:"ping",data:"probe"}]),x.once("packet",n=>{if(!e)if(n.type==="pong"&&n.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",x),!x)return;v.priorWebsocketSuccess=x.name==="websocket",this.transport.pause(()=>{e||this.readyState!=="closed"&&(o(),this.setTransport(x),x.send([{type:"upgrade"}]),this.emitReserved("upgrade",x),x=null,this.upgrading=!1,this.flush())})}else{let i=new Error("probe error");i.transport=x.name,this.emitReserved("upgradeError",i)}}))};function t(){e||(e=!0,o(),x.close(),x=null)}let a=n=>{let i=new Error("probe error: "+n);i.transport=x.name,t(),this.emitReserved("upgradeError",i)};function g(){a("transport closed")}function l(){a("socket closed")}function s(n){x&&n.name!==x.name&&t()}let o=()=>{x.removeListener("open",y),x.removeListener("error",a),x.removeListener("close",g),this.off("close",l),this.off("upgrading",s)};x.once("open",y),x.once("error",a),x.once("close",g),this.once("close",l),this.once("upgrading",s),this.upgrades.indexOf("webtransport")!==-1&&T!=="webtransport"?this.setTimeoutFn(()=>{e||x.open()},200):x.open()}onOpen(){if(this.readyState="open",v.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let T=0,x=this.upgrades.length;for(;T<x;T++)this.probe(this.upgrades[T])}}onPacket(T){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",T),this.emitReserved("heartbeat"),this.resetPingTimeout(),T.type){case"open":this.onHandshake(JSON.parse(T.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let x=new Error("server error");x.code=T.data,this.onError(x);break;case"message":this.emitReserved("data",T.data),this.emitReserved("message",T.data);break}}onHandshake(T){this.emitReserved("handshake",T),this.id=T.sid,this.transport.query.sid=T.sid,this.upgrades=this.filterUpgrades(T.upgrades),this.pingInterval=T.pingInterval,this.pingTimeout=T.pingTimeout,this.maxPayload=T.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let T=this.getWritablePackets();this.transport.send(T),this.prevBufferLen=T.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let x=1;for(let e=0;e<this.writeBuffer.length;e++){let y=this.writeBuffer[e].data;if(y&&(x+=ly(y)),e>0&&x>this.maxPayload)return this.writeBuffer.slice(0,e);x+=2}return this.writeBuffer}write(T,x,e){return this.sendPacket("message",T,x,e),this}send(T,x,e){return this.sendPacket("message",T,x,e),this}sendPacket(T,x,e,y){if(typeof x=="function"&&(y=x,x=void 0),typeof e=="function"&&(y=e,e=null),this.readyState==="closing"||this.readyState==="closed")return;e=e||{},e.compress=e.compress!==!1;let t={type:T,data:x,options:e};this.emitReserved("packetCreate",t),this.writeBuffer.push(t),y&&this.once("flush",y),this.flush()}close(){let T=()=>{this.onClose("forced close"),this.transport.close()},x=()=>{this.off("upgrade",x),this.off("upgradeError",x),T()},e=()=>{this.once("upgrade",x),this.once("upgradeError",x)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?e():T()}):this.upgrading?e():T()),this}onError(T){v.priorWebsocketSuccess=!1,this.emitReserved("error",T),this.onClose("transport error",T)}onClose(T,x){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",T,x),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(T){let x=[],e=0,y=T.length;for(;e<y;e++)~this.transports.indexOf(T[e])&&x.push(T[e]);return x}}return v.protocol=Md,v})();var gN=Pl.protocol;function Ty(v,u="",T){let x=v;T=T||typeof location<"u"&&location,v==null&&(v=T.protocol+"//"+T.host),typeof v=="string"&&(v.charAt(0)==="/"&&(v.charAt(1)==="/"?v=T.protocol+v:v=T.host+v),/^(https?|wss?):\/\//.test(v)||(typeof T<"u"?v=T.protocol+"//"+v:v="https://"+v),x=Br(v)),x.port||(/^(http|ws)$/.test(x.protocol)?x.port="80":/^(http|ws)s$/.test(x.protocol)&&(x.port="443")),x.path=x.path||"/";let y=x.host.indexOf(":")!==-1?"["+x.host+"]":x.host;return x.id=x.protocol+"://"+y+":"+x.port+u,x.href=x.protocol+"://"+y+(T&&T.port===x.port?"":":"+x.port),x}var bd={};Lx(bd,{Decoder:()=>Od,Encoder:()=>Fd,PacketType:()=>Pt,protocol:()=>My});var Xw=typeof ArrayBuffer=="function",Yw=v=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(v):v.buffer instanceof ArrayBuffer,Cy=Object.prototype.toString,jw=typeof Blob=="function"||typeof Blob<"u"&&Cy.call(Blob)==="[object BlobConstructor]",kw=typeof File=="function"||typeof File<"u"&&Cy.call(File)==="[object FileConstructor]";function Ks(v){return Xw&&(v instanceof ArrayBuffer||Yw(v))||jw&&v instanceof Blob||kw&&v instanceof File}function Zs(v,u){if(!v||typeof v!="object")return!1;if(Array.isArray(v)){for(let T=0,x=v.length;T<x;T++)if(Zs(v[T]))return!0;return!1}if(Ks(v))return!0;if(v.toJSON&&typeof v.toJSON=="function"&&arguments.length===1)return Zs(v.toJSON(),!0);for(let T in v)if(Object.prototype.hasOwnProperty.call(v,T)&&Zs(v[T]))return!0;return!1}function Ey(v){let u=[],T=v.data,x=v;return x.data=Rd(T,u),x.attachments=u.length,{packet:x,buffers:u}}function Rd(v,u){if(!v)return v;if(Ks(v)){let T={_placeholder:!0,num:u.length};return u.push(v),T}else if(Array.isArray(v)){let T=new Array(v.length);for(let x=0;x<v.length;x++)T[x]=Rd(v[x],u);return T}else if(typeof v=="object"&&!(v instanceof Date)){let T={};for(let x in v)Object.prototype.hasOwnProperty.call(v,x)&&(T[x]=Rd(v[x],u));return T}return v}function Sy(v,u){return v.data=Id(v.data,u),delete v.attachments,v}function Id(v,u){if(!v)return v;if(v&&v._placeholder===!0){if(typeof v.num=="number"&&v.num>=0&&v.num<u.length)return u[v.num];throw new Error("illegal attachments")}else if(Array.isArray(v))for(let T=0;T<v.length;T++)v[T]=Id(v[T],u);else if(typeof v=="object")for(let T in v)Object.prototype.hasOwnProperty.call(v,T)&&(v[T]=Id(v[T],u));return v}var $w=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],My=5,Pt=function(v){return v[v.CONNECT=0]="CONNECT",v[v.DISCONNECT=1]="DISCONNECT",v[v.EVENT=2]="EVENT",v[v.ACK=3]="ACK",v[v.CONNECT_ERROR=4]="CONNECT_ERROR",v[v.BINARY_EVENT=5]="BINARY_EVENT",v[v.BINARY_ACK=6]="BINARY_ACK",v}(Pt||{}),Fd=class{constructor(u){this.replacer=u}encode(u){return(u.type===Pt.EVENT||u.type===Pt.ACK)&&Zs(u)?this.encodeAsBinary({type:u.type===Pt.EVENT?Pt.BINARY_EVENT:Pt.BINARY_ACK,nsp:u.nsp,data:u.data,id:u.id}):[this.encodeAsString(u)]}encodeAsString(u){let T=""+u.type;return(u.type===Pt.BINARY_EVENT||u.type===Pt.BINARY_ACK)&&(T+=u.attachments+"-"),u.nsp&&u.nsp!=="/"&&(T+=u.nsp+","),u.id!=null&&(T+=u.id),u.data!=null&&(T+=JSON.stringify(u.data,this.replacer)),T}encodeAsBinary(u){let T=Ey(u),x=this.encodeAsString(T.packet),e=T.buffers;return e.unshift(x),e}};function Dy(v){return Object.prototype.toString.call(v)==="[object Object]"}var Od=class v extends Ht{constructor(u){super(),this.reviver=u}add(u){let T;if(typeof u=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");T=this.decodeString(u);let x=T.type===Pt.BINARY_EVENT;x||T.type===Pt.BINARY_ACK?(T.type=x?Pt.EVENT:Pt.ACK,this.reconstructor=new Ld(T),T.attachments===0&&super.emitReserved("decoded",T)):super.emitReserved("decoded",T)}else if(Ks(u)||u.base64)if(this.reconstructor)T=this.reconstructor.takeBinaryData(u),T&&(this.reconstructor=null,super.emitReserved("decoded",T));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+u)}decodeString(u){let T=0,x={type:Number(u.charAt(0))};if(Pt[x.type]===void 0)throw new Error("unknown packet type "+x.type);if(x.type===Pt.BINARY_EVENT||x.type===Pt.BINARY_ACK){let y=T+1;for(;u.charAt(++T)!=="-"&&T!=u.length;);let t=u.substring(y,T);if(t!=Number(t)||u.charAt(T)!=="-")throw new Error("Illegal attachments");x.attachments=Number(t)}if(u.charAt(T+1)==="/"){let y=T+1;for(;++T&&!(u.charAt(T)===","||T===u.length););x.nsp=u.substring(y,T)}else x.nsp="/";let e=u.charAt(T+1);if(e!==""&&Number(e)==e){let y=T+1;for(;++T;){let t=u.charAt(T);if(t==null||Number(t)!=t){--T;break}if(T===u.length)break}x.id=Number(u.substring(y,T+1))}if(u.charAt(++T)){let y=this.tryParse(u.substr(T));if(v.isPayloadValid(x.type,y))x.data=y;else throw new Error("invalid payload")}return x}tryParse(u){try{return JSON.parse(u,this.reviver)}catch{return!1}}static isPayloadValid(u,T){switch(u){case Pt.CONNECT:return Dy(T);case Pt.DISCONNECT:return T===void 0;case Pt.CONNECT_ERROR:return typeof T=="string"||Dy(T);case Pt.EVENT:case Pt.BINARY_EVENT:return Array.isArray(T)&&(typeof T[0]=="number"||typeof T[0]=="string"&&$w.indexOf(T[0])===-1);case Pt.ACK:case Pt.BINARY_ACK:return Array.isArray(T)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Ld=class{constructor(u){this.packet=u,this.buffers=[],this.reconPack=u}takeBinaryData(u){if(this.buffers.push(u),this.buffers.length===this.reconPack.attachments){let T=Sy(this.reconPack,this.buffers);return this.finishedReconstruction(),T}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function Re(v,u,T){return v.on(u,T),function(){v.off(u,T)}}var Zw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Vr=class extends Ht{constructor(u,T,x){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=u,this.nsp=T,x&&x.auth&&(this.auth=x.auth),this._opts=Object.assign({},x),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let u=this.io;this.subs=[Re(u,"open",this.onopen.bind(this)),Re(u,"packet",this.onpacket.bind(this)),Re(u,"error",this.onerror.bind(this)),Re(u,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...u){return u.unshift("message"),this.emit.apply(this,u),this}emit(u,...T){if(Zw.hasOwnProperty(u))throw new Error('"'+u.toString()+'" is a reserved event name');if(T.unshift(u),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(T),this;let x={type:Pt.EVENT,data:T};if(x.options={},x.options.compress=this.flags.compress!==!1,typeof T[T.length-1]=="function"){let t=this.ids++,a=T.pop();this._registerAckCallback(t,a),x.id=t}let e=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!e||!this.connected)||(this.connected?(this.notifyOutgoingListeners(x),this.packet(x)):this.sendBuffer.push(x)),this.flags={},this}_registerAckCallback(u,T){var x;let e=(x=this.flags.timeout)!==null&&x!==void 0?x:this._opts.ackTimeout;if(e===void 0){this.acks[u]=T;return}let y=this.io.setTimeoutFn(()=>{delete this.acks[u];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===u&&this.sendBuffer.splice(a,1);T.call(this,new Error("operation has timed out"))},e),t=(...a)=>{this.io.clearTimeoutFn(y),T.apply(this,a)};t.withError=!0,this.acks[u]=t}emitWithAck(u,...T){return new Promise((x,e)=>{let y=(t,a)=>t?e(t):x(a);y.withError=!0,T.push(y),this.emit(u,...T)})}_addToQueue(u){let T;typeof u[u.length-1]=="function"&&(T=u.pop());let x={id:this._queueSeq++,tryCount:0,pending:!1,args:u,flags:Object.assign({fromQueue:!0},this.flags)};u.push((e,...y)=>x!==this._queue[0]?void 0:(e!==null?x.tryCount>this._opts.retries&&(this._queue.shift(),T&&T(e)):(this._queue.shift(),T&&T(null,...y)),x.pending=!1,this._drainQueue())),this._queue.push(x),this._drainQueue()}_drainQueue(u=!1){if(!this.connected||this._queue.length===0)return;let T=this._queue[0];T.pending&&!u||(T.pending=!0,T.tryCount++,this.flags=T.flags,this.emit.apply(this,T.args))}packet(u){u.nsp=this.nsp,this.io._packet(u)}onopen(){typeof this.auth=="function"?this.auth(u=>{this._sendConnectPacket(u)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(u){this.packet({type:Pt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},u):u})}onerror(u){this.connected||this.emitReserved("connect_error",u)}onclose(u,T){this.connected=!1,delete this.id,this.emitReserved("disconnect",u,T),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(u=>{if(!this.sendBuffer.some(x=>String(x.id)===u)){let x=this.acks[u];delete this.acks[u],x.withError&&x.call(this,new Error("socket has been disconnected"))}})}onpacket(u){if(u.nsp===this.nsp)switch(u.type){case Pt.CONNECT:u.data&&u.data.sid?this.onconnect(u.data.sid,u.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pt.EVENT:case Pt.BINARY_EVENT:this.onevent(u);break;case Pt.ACK:case Pt.BINARY_ACK:this.onack(u);break;case Pt.DISCONNECT:this.ondisconnect();break;case Pt.CONNECT_ERROR:this.destroy();let x=new Error(u.data.message);x.data=u.data.data,this.emitReserved("connect_error",x);break}}onevent(u){let T=u.data||[];u.id!=null&&T.push(this.ack(u.id)),this.connected?this.emitEvent(T):this.receiveBuffer.push(Object.freeze(T))}emitEvent(u){if(this._anyListeners&&this._anyListeners.length){let T=this._anyListeners.slice();for(let x of T)x.apply(this,u)}super.emit.apply(this,u),this._pid&&u.length&&typeof u[u.length-1]=="string"&&(this._lastOffset=u[u.length-1])}ack(u){let T=this,x=!1;return function(...e){x||(x=!0,T.packet({type:Pt.ACK,id:u,data:e}))}}onack(u){let T=this.acks[u.id];typeof T=="function"&&(delete this.acks[u.id],T.withError&&u.data.unshift(null),T.apply(this,u.data))}onconnect(u,T){this.id=u,this.recovered=T&&this._pid===T,this._pid=T,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(u=>this.emitEvent(u)),this.receiveBuffer=[],this.sendBuffer.forEach(u=>{this.notifyOutgoingListeners(u),this.packet(u)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(u=>u()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(u){return this.flags.compress=u,this}get volatile(){return this.flags.volatile=!0,this}timeout(u){return this.flags.timeout=u,this}onAny(u){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(u),this}prependAny(u){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(u),this}offAny(u){if(!this._anyListeners)return this;if(u){let T=this._anyListeners;for(let x=0;x<T.length;x++)if(u===T[x])return T.splice(x,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(u){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(u),this}prependAnyOutgoing(u){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(u),this}offAnyOutgoing(u){if(!this._anyOutgoingListeners)return this;if(u){let T=this._anyOutgoingListeners;for(let x=0;x<T.length;x++)if(u===T[x])return T.splice(x,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(u){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let T=this._anyOutgoingListeners.slice();for(let x of T)x.apply(this,u.data)}}};function Ui(v){v=v||{},this.ms=v.min||100,this.max=v.max||1e4,this.factor=v.factor||2,this.jitter=v.jitter>0&&v.jitter<=1?v.jitter:0,this.attempts=0}Ui.prototype.duration=function(){var v=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var u=Math.random(),T=Math.floor(u*this.jitter*v);v=Math.floor(u*10)&1?v+T:v-T}return Math.min(v,this.max)|0};Ui.prototype.reset=function(){this.attempts=0};Ui.prototype.setMin=function(v){this.ms=v};Ui.prototype.setMax=function(v){this.max=v};Ui.prototype.setJitter=function(v){this.jitter=v};var Gr=class extends Ht{constructor(u,T){var x;super(),this.nsps={},this.subs=[],u&&typeof u=="object"&&(T=u,u=void 0),T=T||{},T.path=T.path||"/socket.io",this.opts=T,On(this,T),this.reconnection(T.reconnection!==!1),this.reconnectionAttempts(T.reconnectionAttempts||1/0),this.reconnectionDelay(T.reconnectionDelay||1e3),this.reconnectionDelayMax(T.reconnectionDelayMax||5e3),this.randomizationFactor((x=T.randomizationFactor)!==null&&x!==void 0?x:.5),this.backoff=new Ui({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(T.timeout==null?2e4:T.timeout),this._readyState="closed",this.uri=u;let e=T.parser||bd;this.encoder=new e.Encoder,this.decoder=new e.Decoder,this._autoConnect=T.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(u){return arguments.length?(this._reconnection=!!u,this):this._reconnection}reconnectionAttempts(u){return u===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=u,this)}reconnectionDelay(u){var T;return u===void 0?this._reconnectionDelay:(this._reconnectionDelay=u,(T=this.backoff)===null||T===void 0||T.setMin(u),this)}randomizationFactor(u){var T;return u===void 0?this._randomizationFactor:(this._randomizationFactor=u,(T=this.backoff)===null||T===void 0||T.setJitter(u),this)}reconnectionDelayMax(u){var T;return u===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=u,(T=this.backoff)===null||T===void 0||T.setMax(u),this)}timeout(u){return arguments.length?(this._timeout=u,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(u){if(~this._readyState.indexOf("open"))return this;this.engine=new Pl(this.uri,this.opts);let T=this.engine,x=this;this._readyState="opening",this.skipReconnect=!1;let e=Re(T,"open",function(){x.onopen(),u&&u()}),y=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),u?u(a):this.maybeReconnectOnOpen()},t=Re(T,"error",y);if(this._timeout!==!1){let a=this._timeout,g=this.setTimeoutFn(()=>{e(),y(new Error("timeout")),T.close()},a);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}return this.subs.push(e),this.subs.push(t),this}connect(u){return this.open(u)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let u=this.engine;this.subs.push(Re(u,"ping",this.onping.bind(this)),Re(u,"data",this.ondata.bind(this)),Re(u,"error",this.onerror.bind(this)),Re(u,"close",this.onclose.bind(this)),Re(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(u){try{this.decoder.add(u)}catch(T){this.onclose("parse error",T)}}ondecoded(u){Gi(()=>{this.emitReserved("packet",u)},this.setTimeoutFn)}onerror(u){this.emitReserved("error",u)}socket(u,T){let x=this.nsps[u];return x?this._autoConnect&&!x.active&&x.connect():(x=new Vr(this,u,T),this.nsps[u]=x),x}_destroy(u){let T=Object.keys(this.nsps);for(let x of T)if(this.nsps[x].active)return;this._close()}_packet(u){let T=this.encoder.encode(u);for(let x=0;x<T.length;x++)this.engine.write(T[x],u.options)}cleanup(){this.subs.forEach(u=>u()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(u,T){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",u,T),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let u=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let T=this.backoff.duration();this._reconnecting=!0;let x=this.setTimeoutFn(()=>{u.skipReconnect||(this.emitReserved("reconnect_attempt",u.backoff.attempts),!u.skipReconnect&&u.open(e=>{e?(u._reconnecting=!1,u.reconnect(),this.emitReserved("reconnect_error",e)):u.onreconnect()}))},T);this.opts.autoUnref&&x.unref(),this.subs.push(()=>{this.clearTimeoutFn(x)})}}onreconnect(){let u=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",u)}};var Qs={};function Js(v,u){typeof v=="object"&&(u=v,v=void 0),u=u||{};let T=Ty(v,u.path||"/socket.io"),x=T.source,e=T.id,y=T.path,t=Qs[e]&&y in Qs[e].nsps,a=u.forceNew||u["force new connection"]||u.multiplex===!1||t,g;return a?g=new Gr(x,u):(Qs[e]||(Qs[e]=new Gr(x,u)),g=Qs[e]),T.query&&!u.query&&(u.query=T.queryKey),g.socket(T.path,u)}Object.assign(Js,{Manager:Gr,Socket:Vr,io:Js,connect:Js});var Rl=(()=>{let u=class u{constructor(){}init(x){return new Promise((e,y)=>{if(this.socket&&this.socket.connected){console.log("WebSocket is already connected"),e(null);return}this.socket=Js("wss://giahck.it/socket.io/",{transports:["websocket"],query:{token:x}}),this.socket.on("connect",()=>{console.log("WebSocket connected")}),this.socket.once("infoClient",t=>{e(t)}),this.socket.on("connect_error",t=>{console.error("WebSocket connection error:",t),y(t)})})}sendInfo(x){this.socket.emit("infoClient",x)}onMessage(x){this.socket.on("infoClient",(...e)=>{x(e)})}onMessagePlay(x){this.socket.on("infoClient",e=>{x(e)})}sendStartGame(x){console.log(x),this.socket.emit("play",x)}lobyCountdown(x){let e=y=>{x(y),y===0&&this.socket.off("countdown")};this.socket.on("countdown",e)}lobyWait(x){this.socket.once("waiting",e=>{x(e)})}sendMorto(x){this.socket.emit("morto",x)}removeListener(x,e){this.socket?this.socket.off(x):console.warn("Socket is not initialized")}disconnect(){console.log("Disconnecting socket"),this.socket&&this.socket.disconnect()}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();var Nd=class extends wy.default.Scene{constructor(u,T){super(u),this.config=T,this.screenCenter=[T.width/2,T.height/2],this.fontSize=40,this.lineHeight=42,this.fontOptions={fontSize:`${this.fontSize}px`,fill:"#CD00FF",fontFamily:"Bangers, system-ui"},this.webSocketService=new Rl,this.cookieService=new br}create(){this.add.image(0,0,"sky").setOrigin(0),this.config.canGoBack&&this.createBackButton()}createBackButton(){this.add.image(this.config.width-10,this.config.height-10,"back").setInteractive().setOrigin(1).setScale(2).setScrollFactor(0).on("pointerup",()=>{this.scene.start("MenuScene"),this.webSocketService.disconnect()})}shutdown(){console.log("Shutting down scene and disconnecting WebSocket"),this.webSocketService?this.webSocketService.disconnect():console.error("webSocketService is undefined")}createMenu(u,T){let x=-50;u.forEach(e=>{let y=[this.screenCenter[0],this.screenCenter[1]+x];e.textGameO=this.add.text(...y,e.text,this.fontOptions).setOrigin(.5,1),x+=this.lineHeight,T(e)})}},pn=Nd;var Bd=4,Vd=new Phaser.Events.EventEmitter,Gd=class extends pn{constructor(u,T){super("PlayScene",u),this.cv=T||{esperienze:[],formazioni:[]},this.esperienzeFormazioni=[...this.cv.esperienze?this.cv.esperienze.map(x=>mt(et({},x),{tipo:"ESPERIENZA"})):[],...this.cv.formazioni?this.cv.formazioni.map(x=>mt(et({},x),{tipo:"FORMAZIONE"})):[]],this.bird=null,this.pipes=null,this.isPaused=!1,this.isGameRunning=!0,this.texts=null,this.pipeHorizontalDisty=0,this.flapVelocity=300,this.webSocket=!1,this.mortoMultiplayer=!0,this.score=0,this.scoreText="",this.textPool=[],this.bestScoreText="",this.scoreSubscription=null,this.bestScore=localStorage.getItem("highScore")||0,this.clientInfoMuvi=[],this.clientInfo=[],this.currentDifficulty="easy",this.difficulties={easy:{pipeHorizontalDistanceRange:[600,750],pipeVerticalDistanceRange:[150,250]},normal:{pipeHorizontalDistanceRange:[280,330],pipeVerticalDistanceRange:[140,190]},hard:{pipeHorizontalDistanceRange:[250,310],pipeVerticalDistanceRange:[50,100]}}}init(u){this.webSocketService=u.webSocketService,this.clientMyInfo=u.clientMyInfo,this.clientInfo=u.clientInfo}create(){super.create(),this.webSocketService&&(this.webSocket=!0,this.clientInfo=this.clientInfo.filter(u=>u.id!==this.clientMyInfo.id),this.webSocketService.onMessagePlay(u=>{this.clientInfo=u,this.clientMyInfo=u.find(T=>T.id===this.clientMyInfo.id),this.updateClientPositions()}),this.multiPlajer()),this.esperienzeFormazioni.length>=2&&this.esperienzeFormazioni.length<=4?Bd=this.esperienzeFormazioni.length:Bd=4,this.prevTextdiferent=Math.abs(this.esperienzeFormazioni.length-1-6),this.isGameRunning=!0,this.currentDifficulty="easy",this.createBird(),this.createPipes(),this.createColliders(),this.createScore(),this.createPause(),this.handleInputs(),this.subscribeToScore(),this.listenToEvents(),this.anims.create({key:"fly",frames:this.anims.generateFrameNumbers("bird",{start:9,end:15}),frameRate:8,repeat:-1}),this.bird.play("fly"),this.anims.create({key:"hit",frames:[{key:"bird",frame:16}],frameRate:1,repeat:0})}update(){this.checkGameStatus(),this.ricicloPipe()}multiPlajer(){this.clientInfoMuvi=this.clientInfo.map((u,T)=>{let x=this.config.height/2+T*50,e=this.add.circle(this.config.width-50,x,20,16711680).setDepth(2),y=this.add.text(this.config.width-50,x-20,u.name,{fontSize:"15px",fill:"#ffffff",fontFamily:"Arial"}).setOrigin(.5).setDepth(2);return{ball:e,nameText:y,id:u.id}})}updateClientPositions(){this.clientInfoMuvi.forEach(u=>{let T=this.clientInfo.find(x=>x.id===u.id);T&&T.attivo?this.tweens.add({targets:[u.ball,u.nameText],x:this.config.width/2-300,duration:4600,ease:"Linear"}):this.tweens.add({targets:[u.ball,u.nameText],x:this.config.width-50,duration:1e3,ease:"Power2"})})}listenToEvents(){this.pauseEvent||(this.pauseEvent=this.events.on("resume",()=>{this.initialTime=3,this.input.off("pointerdown",this.flap,this),this.countDownText&&this.countDownText.destroy(),this.timedEvent&&this.timedEvent.remove(),this.countDownText=this.add.text(this.screenCenter[0],this.screenCenter[1]+200,"Fly in: "+this.initialTime,this.fontOptions).setOrigin(.5,0),this.timedEvent=this.time.addEvent({delay:1e3,callback:this.countDown,callbackScope:this,loop:!0})}))}countDown(){this.initialTime--,console.log(this.initialTime),this.countDownText.setText("Fly in: "+this.initialTime),this.initialTime<=0&&(this.countDownText.setText(""),this.physics.resume(),this.timedEvent.remove(),this.handleInputs(),this.isPaused=!1)}createBg(){this.add.image(0,0,"sky").setOrigin(0)}createBird(){this.bird=this.physics.add.sprite(this.config.startPosition.x,this.config.startPosition.y,"bird").setFlipX(!0).setScale(2).setOrigin(0),this.bird.setBodySize(this.bird.width,this.bird.height-8),this.bird.body.gravity.y=600,this.bird.setCollideWorldBounds(!0),this.bird.setDepth(10)}removeInputs(){this.input.off("pointerdown",this.flap,this)}createPipes(){this.pipes=this.physics.add.group(),this.texts=this.add.group();for(let u=0;u<Bd;u++){let T=this.pipes.create(0,0,"pipe").setImmovable(!0).setOrigin(0,1),x=this.pipes.create(0,0,"pipe").setImmovable(!0).setOrigin(0,0);this.placePipe(T,x,u)}this.pipes.setVelocityX(-150)}createScore(){this.score=0;let u=localStorage.getItem("highScore")||0;this.scoreText=this.add.text(600,14,"Score: 0  ",{fontSize:"32px",fill:"#000",fontFamily:"Bangers, system-ui"}),this.bestScoreText=this.add.text(600,52,`Best score: ${u||0}  `,{fontSize:"18px",fill:"#000",fontFamily:"Bangers, system-ui"})}createPause(){this.isPaused=!1,this.add.image(this.config.width-10,this.config.height-10,"pause").setInteractive().setScale(3).setOrigin(1).on("pointerdown",()=>{this.isPaused=!0,this.physics.pause(),this.scene.pause(),this.scene.launch("PauseScene")})}handleInputs(){this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE).on("down",this.flap,this),this.input.on("pointerdown",this.flap,this)}checkGameStatus(){(this.bird.getBounds().bottom>=this.config.height||this.bird.y<=0)&&this.gameOver()}viewCVcolide(){let{nome:u,cognome:T,indirizzo:x,email:e,telefono:y}=this.cv,t=[`Nome: ${u} `,`Cognome: ${T} `,`Indirizzo: ${x} `,`email: ${e} `,`Tel: ${y} `],a={fontSize:"50px",fill:"#516E44",fontFamily:"Bangers, system-ui"},g=this.config.height/2-t.length*40/2;this.add.text(this.config.width/2,50,this.cv.titolo,{fontSize:"50px",fill:"#516E44",fontWeight:"bold",stroke:"#000",fontFamily:"Bangers, system-ui",strokeThickness:4}).setOrigin(.5,0),t.forEach((l,s)=>{this.add.text(this.config.width/2,g+s*50,l,a).setOrigin(.5,.5)})}createColliders(){this.physics.add.collider(this.bird,this.pipes,this.gameOver,null,this)}placePipe(u,T,x){let e=this.difficulties[this.currentDifficulty],y=this.getRightMostPipe(),t=Phaser.Math.Between(...e.pipeVerticalDistanceRange),a=Phaser.Math.Between(20,this.config.height-20-t),g=Phaser.Math.Between(...e.pipeHorizontalDistanceRange);if(u.x=y+g,u.y=a,T.x=u.x,T.y=u.y+t,this.prevTextdiferent>=0&&this.esperienzeFormazioni.length>0){x=x!==void 0?x:Math.floor(Math.random()*this.esperienzeFormazioni.length);let{nome:l,tipo:s,luogo:o,descrizione:n,dataInizio:i,dataFine:h}=this.esperienzeFormazioni[x],r=[` ${s} 
`,`${l} 

`,`${o} 

`,`${n} 

`,`${i}  ${h}`].join(" "),f=u.x+u.width+300,c=50,d;this.textPool.length>0?(d=this.textPool.pop(),d.setText(r)):d=this.add.text(f,c,r,{fontSize:"45px",fill:"#ffffff",fontFamily:"Bangers, system-ui",wordWrap:{width:g-100}}).setOrigin(.5,0),d.setPosition(f,c),this.texts.add(d)}}ricicloPipe(){let u=[];this.pipes.getChildren().forEach(T=>{T.getBounds().right<=0&&(u.push(T),u.length===2&&(this.prevTextdiferent--,this.increaseScore(),this.increaseDifficulty(),this.placePipe(...u)))}),this.isGameRunning&&!this.isPaused&&this.texts.getChildren().forEach(T=>{T.x-=150*this.game.loop.delta/1e3,T.getBounds().right<=0&&(this.texts.remove(T),this.textPool.push(T))})}increaseDifficulty(){this.score===6&&(this.currentDifficulty="normal"),this.score===8&&(this.currentDifficulty="normal",this.pipes.setVelocityX(-200)),this.score===12&&(this.currentDifficulty="hard")}getRightMostPipe(){let u=0;return this.pipes.getChildren().forEach(function(T){u=Math.max(T.x,u)}),u}saveScore(){let u=localStorage.getItem("highScore"),T=u&&parseInt(u,10);(!T||this.score>T)&&(localStorage.setItem("highScore",this.score),this.bestScoreText.setText(`Best score: ${this.score}  `),this.bestScoreText.setFill("#ff0000"))}deadSoket(){this.mortoMultiplayer&&(this.webSocketService.sendMorto(this.clientMyInfo),this.mortoMultiplayer=!1)}gameOver(){this.physics.pause(),this.bird.setTint(16711680),this.texts.clear(!0,!0),this.saveScore(),this.esperienzeFormazioni.length>0&&this.viewCVcolide(),this.isGameRunning=!1,this.webSocket?this.deadSoket():this.time.addEvent({delay:5e3,callback:()=>{this.scene.restart()},loop:!1})}flap(){this.isPaused||(this.bird.body.velocity.y=-this.flapVelocity)}increaseScore(){this.score++,this.scoreText.setText(`Score: ${this.score}  `),Vd.emit("update",this.score)}subscribeToScore(){Vd.on("update",u=>{u>this.bestScore&&(this.bestScoreText.setText(`Best score: ${u}  `),this.bestScoreText.setFill("#ff0000"))})}destroy(){Vd.off("update"),super.destroy()}},Ay=Gd;var Ud=class extends pn{constructor(u,T){super("MenuScene",u),this.menu=[{scene:"PlayScene",text:"Play "},{scene:"ScoreScene",text:"Score "},{scene:"Multiplayer",text:"Multiplayer 2vs2 "},{scene:null,text:"Exit "}]}create(){super.create(),this.createMenu(this.menu,this.setupMenuEvents.bind(this))}setupMenuEvents(u){let T=u.textGameO;T.setInteractive(),T.on("pointerover",()=>{T.setStyle({fill:"#FF0",fontFamily:"Bangers, system-ui"})}),T.on("pointerout",()=>{T.setStyle({fill:"#CD00FF",fontFamily:"Bangers, system-ui"})}),T.on("pointerup",()=>{u.scene&&this.scene.start(u.scene),u.text==="Exit "&&this.game.destroy(!0)})}},Py=Ud;var zd=class extends pn{constructor(u){super("ScoreScene",mt(et({},u),{canGoBack:!0}))}create(){super.create();let u=localStorage.getItem("highScore");this.add.text(...this.screenCenter,`Best Score: ${u||0}`,this.fontOptions).setOrigin(.5)}},Ry=zd;var Iy=Hi(Vi()),Hd=class extends Iy.default.Scene{constructor(){super("PreloadScene")}preload(){this.load.image("sky","assets/sky.png"),this.load.spritesheet("bird","assets/birdSprite.png",{frameWidth:16,frameHeight:16}),this.load.image("pipe","assets/pipe.png"),this.load.image("pause","assets/pause.png"),this.load.image("back","assets/back.png")}create(){this.scene.start("MenuScene")}},Fy=Hd;var Wd=class extends pn{constructor(u){super("PauseScene",u),this.menu=[{scene:"PlayScene",text:"Continua "},{scene:"MenuScene",text:"Exit "}]}create(){super.create(),this.createMenu(this.menu,this.setupMenuEvents.bind(this))}setupMenuEvents(u){let T=u.textGameO;T.setInteractive(),T.on("pointerover",()=>{T.setStyle({fill:"#FF0"})}),T.on("pointerout",()=>{T.setStyle({fill:"#CD00FF"})}),T.on("pointerup",()=>{if(u.scene&&u.text==="Continua "){let x=this.scene.get("PlayScene");x&&x.removeInputs(),this.scene.stop(),this.scene.resume(u.scene),x&&x.handleInputs()}else u.text==="Exit "&&(this.scene.stop("PlayScene"),this.scene.start(u.scene))})}},Oy=Wd;var Xd=class extends pn{constructor(u,T){super("Multiplayer",mt(et({},u),{canGoBack:!0})),this.cv=T,this.textAr=[],this.clientInfo=[],this.clientMyInfo={},this.room="",this.countdownTxt=null,this.buttonPlay=null,this.onMessage=null,this.onMessageListener=null}getCookie(u){let x=`; ${document.cookie}`.split(`; ${u}=`);if(x.length===2)return x.pop().split(";").shift()}create(){super.create(),this.add.text(this.config.width/2,50,"LOBY ",{fontSize:"60px",fill:"#516E44",fontFamily:"Bangers, system-ui"}).setOrigin(.5),this.initWebSocket(),this.playButton(),this.createCountdownText(),this.lobyWaiting()}initWebSocket(){let u=localStorage.getItem("accessToken")||this.getCookie("accessToken");this.webSocketService.init(u).then(T=>{if(T===null){this.visualaStanza();return}this.clientInfo=T,this.room=this.clientInfo.roomName,this.clientInfo.name=this.cv.nome+" "+this.cv.cognome,this.webSocketService.sendInfo(this.clientInfo),this.clientMyInfo=this.clientInfo,this.onMessageListener=x=>{this.clientInfo=x,console.log("Received data:",x),this.visualaStanza()},this.webSocketService.onMessage(this.onMessageListener)}).catch(T=>{console.error("WebSocket init error:",T)})}createCountdownText(){this.countdownText=this.add.text(this.config.width/2,this.config.height/2,"",{fontSize:"64px",fill:"#CD00FF",fontFamily:"Bangers, system-ui"}).setOrigin(.5)}playButton(){this.buttonPlay=this.add.text(this.config.width/2,this.config.height-100,"Play ",{fontSize:"45px",fill:"#CD00FF",fontFamily:"Bangers, system-ui"}).setOrigin(.5).setInteractive(),this.buttonPlay.on("pointerup",()=>{console.log(this.room),this.webSocketService.sendStartGame(this.room),this.webSocketService.lobyCountdown(u=>{this.buttonPlay.setText(""),this.countdownText.setText(u+" "),u===0&&(this.webSocketService.removeListener("infoClient",this.onMessageListener),this.countdownText.destroy(),this.scene.start("PlayScene",{webSocketService:this.webSocketService,clientInfo:this.clientInfo,clientMyInfo:this.clientMyInfo}))})}),this.buttonPlay.on("pointerover",()=>{this.buttonPlay.setStyle({fill:"#ff0"})}),this.buttonPlay.on("pointerout",()=>{this.buttonPlay.setStyle({fill:"#CD00FF"})})}lobyWaiting(){this.webSocketService.lobyWait(u=>{this.buttonPlay.setText(u)})}visualaStanza(){this.textAr.forEach(x=>x.destroy()),this.textAr=[];let u=this.clientInfo.map(x=>x.name),T=100;u.forEach((x,e)=>{this.textAr.push(this.add.text(50,T,e+1+": "+x+" ",{fontSize:"32px",fill:this.getRandomColor(),fontFamily:"Bangers, system-ui"})),T+=40})}getRandomColor(){let u="0123456789ABCDEF",T="#";for(let x=0;x<6;x++)T+=u[Math.floor(Math.random()*16)];return T}},Ly=Xd;var Qw=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<800,jd=Qw?window.innerWidth-50:800;console.log(`Larghezza dello schermo: ${jd}`);var by=600,Jw={x:jd*.1,y:by/2},Ny={width:jd,height:by,startPosition:Jw},qw=[Fy,Py,Ly,Ry,Ay,Oy],_w=(v,u)=>new v(Ny,u),tA=v=>qw.map(u=>_w(u,v)),By,Il=null;function Vy(v,u){kd();let T=mt(et({type:Yd.default.AUTO,parent:v,pixelArt:!0},Ny),{physics:{default:"arcade",arcade:{}},scene:tA(u),callbacks:{postBoot:x=>{By=x.scene.getScene("Multiplayer")}}});Il=new Yd.default.Game(T)}function kd(){Il&&(By.shutdown(),Il.destroy(!0),Il=null)}var Qd=Hi(Vi());var Gy=Hi(Vi());var $d=class extends Gy.default.Scene{constructor(){super("PreloadScene")}preload(){this.load.image("ground","./assetsDino/ground.png"),this.load.image("dino-idle","./assetsDino/dino-idle-2.png"),this.load.image("dino-hurt","./assetsDino/dino-hurt.png"),this.load.image("restart","./assetsDino/restart.png"),this.load.image("game-over","./assetsDino/game-over.png");for(let u=0;u<Ur.cactusesCount;u++)this.load.image(`obstacle-${u+1}`,`./assetsDino/cactuses_${u+1}.png`);this.load.spritesheet("dino-run","assetsDino/dino-run.png",{frameWidth:88,frameHeight:94}),this.load.spritesheet("dino-down","assetsDino/dino-down-2.png",{frameWidth:118,frameHeight:94}),this.load.spritesheet("enemy-bird","assetsDino/enemy-bird.png",{frameWidth:92,frameHeight:77})}create(){this.scene.start("PlayScene")}},Uy=$d;var Zd=Hi(Vi());var Fl=class extends Phaser.Physics.Arcade.Sprite{constructor(u,T,x){super(u,T,x,"dino-run"),u.add.existing(this),u.physics.add.existing(this),this.init(),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update,this)}init(){this.cursors=this.scene.input.keyboard.createCursorKeys(),this.setOrigin(0,1).setGravityY(5e3).setCollideWorldBounds(!0).setBodySize(44,92).setOffset(20,0).setDepth(1),this.registerAnimations()}update(){let{space:u,down:T}=this.cursors,x=Phaser.Input.Keyboard.JustDown(u),e=Phaser.Input.Keyboard.JustDown(T),y=Phaser.Input.Keyboard.JustUp(T),t=this.body.onFloor();if(x&&t&&this.setVelocityY(-1600),e&&t&&(this.body.setSize(this.body.width,58),this.setOffset(60,34)),y&&t&&(this.body.setSize(44,92),this.setOffset(20,0)),!this.scene.isGameRunning){this.anims.stop();return}this.body.deltaAbsY()>1.4?(this.anims.stop(),this.setTexture("dino-run",0)):this.playRunAnimation()}playRunAnimation(){this.body.height<=58?this.play("dino-down",!0):this.play("dino-run",!0)}registerAnimations(){this.scene.anims.create({key:"dino-run",frames:this.scene.anims.generateFrameNames("dino-run",{start:2,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"dino-down",frames:this.anims.generateFrameNames("dino-down"),frameRate:10,repeat:-1})}morto(){this.anims.pause,this.setTexture("dino-hurt",0)}};var Ol=class extends Phaser.Scene{get gameHeight(){return+this.game.config.height}get gameWidth(){return+this.game.config.width}constructor(u){super(u),this.isGameRunning=!1}};var Kd=class extends Ol{constructor(u){super("PlayScene"),this.cvTweens=[],this.cvTexts=[],this.spawnInterval=1500,this.spawnTime=0,this.obstacleSpeed=7,this.gameSpeed=7,this.cv=u}create(){this.createEnvironment(),this.createPlayer(),this.createObstacles(),this.createGameoverContainer(),this.createAnimations(),this.handleGameStart(),this.spawnCvBlocks(),this.handleObstacleCollisions(),this.handleGameRestart()}update(u,T){this.isGameRunning&&(this.spawnTime+=T,this.spawnTime>=this.spawnInterval&&(this.spawnObstacle(),this.spawnTime=0),Zd.default.Actions.IncX(this.obstacles.getChildren(),-this.obstacleSpeed),this.obstacles.getChildren().forEach(x=>{let e=x;e.getBounds().right<0&&this.obstacles.remove(e)}),this.ground.tilePositionX+=this.gameSpeed)}createEnvironment(){this.ground=this.add.tileSprite(0,this.gameHeight,88,26,"ground").setOrigin(0,1)}createPlayer(){this.player=new Fl(this,0,this.gameHeight)}createObstacles(){this.obstacles=this.physics.add.group()}createGameoverContainer(){this.gameOverText=this.add.image(0,0,"game-over"),this.restartText=this.add.image(0,80,"restart").setInteractive(),this.gameOverContainer=this.add.container(this.gameWidth/2,this.gameHeight/2-100).add([this.gameOverText,this.restartText]).setAlpha(0)}handleGameStart(){this.startTrigger=this.physics.add.sprite(0,10,"").setAlpha(0).setOrigin(0,1),this.physics.add.overlap(this.startTrigger,this.player,()=>{if(this.startTrigger.y===10){this.startTrigger.body.reset(0,this.gameHeight);return}this.startTrigger.body.reset(9999,9999);let u=this.time.addEvent({delay:1e3/60,loop:!0,callback:()=>{this.player.playRunAnimation(),this.player.setVelocityX(80),this.ground.width+=17*2,this.ground.width>=this.gameWidth&&(u.remove(),this.ground.width=this.gameWidth,this.player.setVelocityX(0),this.isGameRunning=!0)}})})}spawnCvBlocks(){let u=["Nome: Mario Rossi","Esperienza: Sviluppatore Web presso XYZ","Formazione: Laurea in Informatica","Competenze: JavaScript, Angular, Phaser"],T={fontSize:"32px",fill:"#516E44",fontFamily:"Bangers, system-ui",wordWrap:{width:this.gameWidth-100},align:"center"},x=50;u.forEach((e,y)=>{let t=this.add.text(this.gameWidth+100,x,e,T).setOrigin(.5,0);x+=t.height+20;let a=this.tweens.add({targets:t,x:-200,duration:15e3,ease:"linear",repeat:-1,yoyo:!1});this.cvTweens.push(a),this.cvTexts.push(t)})}handleObstacleCollisions(){this.physics.add.collider(this.obstacles,this.player,()=>{this.isGameRunning=!1,this.physics.pause(),this.anims.pauseAll(),this.player.morto(),this.gameOverContainer.setAlpha(1),this.spawnTime=0,this.gameSpeed=5,this.obstacleSpeed=5,this.cvTweens.forEach(u=>u.stop()),this.cvTexts.forEach(u=>u.setVisible(!1))})}handleGameRestart(){this.restartText.on("pointerdown",()=>{this.physics.resume(),this.player.setVelocityY(0),this.obstacles.clear(!0,!0),this.gameOverContainer.setAlpha(0),this.anims.resumeAll(),this.isGameRunning=!0,this.cvTexts.forEach(u=>u.setVisible(!0)),this.cvTweens.forEach(u=>u.destroy()),this.cvTweens=[],this.cvTexts.forEach(u=>{let T=this.tweens.add({targets:u,x:-150,duration:5e3,ease:"Linear",repeat:-1,yoyo:!1});this.cvTweens.push(T)})})}createAnimations(){this.anims.create({key:"enemy-bird-fly",frames:this.anims.generateFrameNumbers("enemy-bird"),frameRate:6,repeat:-1})}spawnObstacle(){let u=Ur.cactusesCount+Ur.birdsCount,T=Math.floor(Math.random()*u)+1,x=Zd.default.Math.Between(150,300),e;if(T>Ur.cactusesCount){let t=[20,70][Math.floor(Math.random()*2)];e=this.obstacles.create(this.gameWidth+x,this.gameHeight-t,"enemy-bird"),e.play("enemy-bird-fly",!0)}else e=this.obstacles.create(this.gameWidth+x,this.gameHeight,`obstacle-${T}`);e.setOrigin(0,1).setImmovable()}},zy=Kd;var Ll=null,Ur={cactusesCount:6,birdsCount:1};function Hy(v,u){Jd();let T={type:Qd.default.AUTO,width:1e3,height:340,pixelArt:!0,transparent:!0,parent:v,physics:{default:"arcade",arcade:{debug:!0}},scene:[Uy,new zy(u)]};Ll=new Qd.default.Game(T);let x=v.querySelector("canvas");if(x){x.id="phaser-canvas",console.log("canvas.id",x.id);let e=document.createElement("style");e.innerHTML=`
      #phaser-canvas {
        border: 2px solid black;
      }
    `,document.head.appendChild(e)}}function Jd(){Ll&&(console.log("cleanupGameDino"),Ll.destroy(!0),Ll=null)}var Wy=(()=>{let u=class u{constructor(x,e){this.http=x,this.user=e,this.apiUrl=gl.apiURL,this.cvUser=new kt({}),this.cvUser$=this.cvUser.asObservable(),this.isLoaded=!1}getCV$(){return this.cvUser.getValue()}setCV(x){this.cvUser.next(x),this.isLoaded=!0}getCV(){return vn(this,null,function*(){if(this.isLoaded)return;yield this.user.restoreAuth();let x=this.user.getId;if(!x){console.error("User ID is null");return}try{let e=yield hu(this.http.get(`${this.apiUrl}cv/${x}`));this.setCV(e)}catch(e){e instanceof fn?this.handleError(e):console.error("An unexpected error occurred:",e)}})}postCv(x){return this.http.post(`${this.apiUrl}cv/save`,x).pipe(Yt(e=>{this.setCV(e)}),fe(this.handleError))}handleError(x){let e="Si \xE8 verificato un errore sconosciuto!";return x.error instanceof Error?(console.error("Errore:",x.error.message),e=`Errore del client-side o di rete: ${x.error.message}`):(console.error(`Codice Errore dal lato server ${x.status}, messaggio di errore: ${x.message}`),e=`Errore dal lato server: ${x.status}, messaggio di errore: ${x.message}`),ze(e)}};u.\u0275fac=function(e){return new(e||u)(at(vs),at(Nr))},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();function nA(v,u){if(v&1){let T=df();ht(0,"img",8),ve("click",function(){bh(T);let e=ge(2);return Nh(e.selectImage(e.selectedImageIndex))}),ct()}if(v&2){let T=ge(2);Ot("src",T.images[T.selectedImageIndex].src,Ii)}}function iA(v,u){if(v&1&&(ht(0,"div",6),Kt(1,nA,1,1,"img",7),ct()),v&2){let T=ge();bt(),Ot("ngIf",T.selectedImageIndex!==null)}}function rA(v,u){v&1&&(ht(0,"div",9),ee(1,"div",10),ct())}function sA(v,u){if(v&1){let T=df();ht(0,"div",11)(1,"img",12),ve("click",function(){let e=bh(T).index,y=ge();return Nh(y.selectImage(e))}),ct()()}if(v&2){let T=u.$implicit,x=u.index,e=ge();Ot("hidden",e.visibilityGame&&e.selectedImageIndex===x),bt(),Ot("src",T.src,Ii)}}var G5=(()=>{let u=class u{constructor(x,e,y){this.coc=x,this.cvSrv=e,this.webSocketService=y,this.visibilityGame=!1,this.imageClicked=!1,this.isImageClicked=!1,this.selectedImageIndex=null,this.selectedImageTemp=null,this.images=[{src:"./../../../assets/sky.png",game:"initializeGame"},{src:"./../../../assets/assetsDino/moon.png",game:"initializeGameDino"}]}ngOnInit(){this.cvSrv.getCV(),this.cvSubscription=this.cvSrv.cvUser$.subscribe(x=>{this.cv=x})}ngOnDestroy(){this.webSocketService.disconnect()}selectImage(x){this.selectedImageIndex===x?(this.selectedImageIndex=null,this.visibilityGame=!1,this.cleanupCurrentGame()):(this.selectedImageTemp=x,this.selectedImageIndex=x,this.visibilityGame=!0,setTimeout(()=>{let e=document.querySelector(".game-container");if(e){for(;e.firstChild;)e.removeChild(e.firstChild);this.initializeSelectedGame(e,this.images[x].game)}},0))}initializeSelectedGame(x,e){e==="initializeGame"?Vy(x,this.cv):e==="initializeGameDino"&&Hy(x,this.cv)}cleanupCurrentGame(){if(this.selectedImageTemp!==null){let x=this.images[this.selectedImageTemp].game;x==="initializeGame"?kd():x==="initializeGameDino"&&Jd()}}};u.\u0275fac=function(e){return new(e||u)(dt(br),dt(Wy),dt(Rl))},u.\u0275cmp=$n({type:u,selectors:[["app-phaser-game"]],standalone:!0,features:[Qn],decls:6,vars:3,consts:[[1,"container-fluid","m-0"],[1,"row","d-flex","justify-content-center","mb-2"],["class","col-1 d-flex justify-content-end d-none d-md-flex",4,"ngIf"],["class","col-12 col-md-11 d-flex justify-content-center m-0",4,"ngIf"],[1,"row"],["class","col-3 image-container mb-3",3,"hidden",4,"ngFor","ngForOf"],[1,"col-1","d-flex","justify-content-end","d-none","d-md-flex"],["class","img-thumbnail","alt","Immagine selezionata",3,"src","click",4,"ngIf"],["alt","Immagine selezionata",1,"img-thumbnail",3,"click","src"],[1,"col-12","col-md-11","d-flex","justify-content-center","m-0"],[1,"game-container","container-fluid","d-flex","justify-content-center","align-items-center","m-0"],[1,"col-3","image-container","mb-3",3,"hidden"],["alt","Immagine",1,"img-thumbnail",3,"click","src"]],template:function(e,y){e&1&&(ht(0,"div",0)(1,"div",1),Kt(2,iA,2,1,"div",2)(3,rA,2,0,"div",3),ct(),ht(4,"div",4),Kt(5,sA,2,2,"div",5),ct()()),e&2&&(bt(2),Ot("ngIf",y.visibilityGame),bt(),Ot("ngIf",y.visibilityGame),bt(2),Ot("ngForOf",y.images))},dependencies:[Li,Pm,Er],styles:[".container-fluid[_ngcontent-%COMP%]{margin-top:20px}.game-container[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:0}.image-container[_ngcontent-%COMP%]{transition:transform .3s,width .3s,order .3s}.img-thumbnail[_ngcontent-%COMP%]{cursor:pointer;width:300px;height:300px;transition:transform .3s}.img-thumbnail[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]});let v=u;return v})();var Jy=(()=>{let u=class u{constructor(x,e){this._renderer=x,this._elementRef=e,this.onChange=y=>{},this.onTouched=()=>{}}setProperty(x,e){this._renderer.setProperty(this._elementRef.nativeElement,x,e)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}};u.\u0275fac=function(e){return new(e||u)(dt(wn),dt(Me))},u.\u0275dir=Zt({type:u});let v=u;return v})(),oA=(()=>{let u=class u extends Jy{};u.\u0275fac=(()=>{let x;return function(y){return(x||(x=vr(u)))(y||u)}})(),u.\u0275dir=Zt({type:u,features:[qe]});let v=u;return v})(),ic=new lt("");var aA={provide:ic,useExisting:En(()=>Xl),multi:!0};function lA(){let v=Pn()?Pn().getUserAgent():"";return/android (\d+)/.test(v.toLowerCase())}var uA=new lt(""),Xl=(()=>{let u=class u extends Jy{constructor(x,e,y){super(x,e),this._compositionMode=y,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!lA())}writeValue(x){let e=x??"";this.setProperty("value",e)}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}};u.\u0275fac=function(e){return new(e||u)(dt(wn),dt(Me),dt(uA,8))},u.\u0275dir=Zt({type:u,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,y){e&1&&ve("input",function(a){return y._handleInput(a.target.value)})("blur",function(){return y.onTouched()})("compositionstart",function(){return y._compositionStart()})("compositionend",function(a){return y._compositionEnd(a.target.value)})},features:[Fi([aA]),qe]});let v=u;return v})();function ri(v){return v==null||(typeof v=="string"||Array.isArray(v))&&v.length===0}function qy(v){return v!=null&&typeof v.length=="number"}var ro=new lt(""),Yl=new lt(""),hA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ie=class{static min(u){return fA(u)}static max(u){return dA(u)}static required(u){return _y(u)}static requiredTrue(u){return cA(u)}static email(u){return pA(u)}static minLength(u){return vA(u)}static maxLength(u){return gA(u)}static pattern(u){return mA(u)}static nullValidator(u){return Nl(u)}static compose(u){return sx(u)}static composeAsync(u){return ox(u)}};function fA(v){return u=>{if(ri(u.value)||ri(v))return null;let T=parseFloat(u.value);return!isNaN(T)&&T<v?{min:{min:v,actual:u.value}}:null}}function dA(v){return u=>{if(ri(u.value)||ri(v))return null;let T=parseFloat(u.value);return!isNaN(T)&&T>v?{max:{max:v,actual:u.value}}:null}}function _y(v){return ri(v.value)?{required:!0}:null}function cA(v){return v.value===!0?null:{required:!0}}function pA(v){return ri(v.value)||hA.test(v.value)?null:{email:!0}}function vA(v){return u=>ri(u.value)||!qy(u.value)?null:u.value.length<v?{minlength:{requiredLength:v,actualLength:u.value.length}}:null}function gA(v){return u=>qy(u.value)&&u.value.length>v?{maxlength:{requiredLength:v,actualLength:u.value.length}}:null}function mA(v){if(!v)return Nl;let u,T;return typeof v=="string"?(T="",v.charAt(0)!=="^"&&(T+="^"),T+=v,v.charAt(v.length-1)!=="$"&&(T+="$"),u=new RegExp(T)):(T=v.toString(),u=v),x=>{if(ri(x.value))return null;let e=x.value;return u.test(e)?null:{pattern:{requiredPattern:T,actualValue:e}}}}function Nl(v){return null}function tx(v){return v!=null}function ex(v){return Oi(v)?zt(v):v}function nx(v){let u={};return v.forEach(T=>{u=T!=null?et(et({},u),T):u}),Object.keys(u).length===0?null:u}function ix(v,u){return u.map(T=>T(v))}function yA(v){return!v.validate}function rx(v){return v.map(u=>yA(u)?u:T=>u.validate(T))}function sx(v){if(!v)return null;let u=v.filter(tx);return u.length==0?null:function(T){return nx(ix(T,u))}}function rc(v){return v!=null?sx(rx(v)):null}function ox(v){if(!v)return null;let u=v.filter(tx);return u.length==0?null:function(T){let x=ix(T,u).map(ex);return fu(x).pipe(vt(nx))}}function sc(v){return v!=null?ox(rx(v)):null}function Xy(v,u){return v===null?[u]:Array.isArray(v)?[...v,u]:[v,u]}function ax(v){return v._rawValidators}function lx(v){return v._rawAsyncValidators}function qd(v){return v?Array.isArray(v)?v:[v]:[]}function Bl(v,u){return Array.isArray(v)?v.includes(u):v===u}function Yy(v,u){let T=qd(u);return qd(v).forEach(e=>{Bl(T,e)||T.push(e)}),T}function jy(v,u){return qd(u).filter(T=>!Bl(v,T))}var Vl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(u){this._rawValidators=u||[],this._composedValidatorFn=rc(this._rawValidators)}_setAsyncValidators(u){this._rawAsyncValidators=u||[],this._composedAsyncValidatorFn=sc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(u){this._onDestroyCallbacks.push(u)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(u=>u()),this._onDestroyCallbacks=[]}reset(u=void 0){this.control&&this.control.reset(u)}hasError(u,T){return this.control?this.control.hasError(u,T):!1}getError(u,T){return this.control?this.control.getError(u,T):null}},bn=class extends Vl{get formDirective(){return null}get path(){return null}},zi=class extends Vl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Gl=class{constructor(u){this._cd=u}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},xA={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},e9=mt(et({},xA),{"[class.ng-submitted]":"isSubmitted"}),ux=(()=>{let u=class u extends Gl{constructor(x){super(x)}};u.\u0275fac=function(e){return new(e||u)(dt(zi,2))},u.\u0275dir=Zt({type:u,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,y){e&2&&Va("ng-untouched",y.isUntouched)("ng-touched",y.isTouched)("ng-pristine",y.isPristine)("ng-dirty",y.isDirty)("ng-valid",y.isValid)("ng-invalid",y.isInvalid)("ng-pending",y.isPending)},features:[qe]});let v=u;return v})(),hx=(()=>{let u=class u extends Gl{constructor(x){super(x)}};u.\u0275fac=function(e){return new(e||u)(dt(bn,10))},u.\u0275dir=Zt({type:u,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,y){e&2&&Va("ng-untouched",y.isUntouched)("ng-touched",y.isTouched)("ng-pristine",y.isPristine)("ng-dirty",y.isDirty)("ng-valid",y.isValid)("ng-invalid",y.isInvalid)("ng-pending",y.isPending)("ng-submitted",y.isSubmitted)},features:[qe]});let v=u;return v})();var qs="VALID",bl="INVALID",zr="PENDING",_s="DISABLED",si=class{},Ul=class extends si{constructor(u,T){super(),this.value=u,this.source=T}},eo=class extends si{constructor(u,T){super(),this.pristine=u,this.source=T}},no=class extends si{constructor(u,T){super(),this.touched=u,this.source=T}},Hr=class extends si{constructor(u,T){super(),this.status=u,this.source=T}},_d=class extends si{constructor(u){super(),this.source=u}},tc=class extends si{constructor(u){super(),this.source=u}};function oc(v){return(jl(v)?v.validators:v)||null}function TA(v){return Array.isArray(v)?rc(v):v||null}function ac(v,u){return(jl(u)?u.asyncValidators:v)||null}function CA(v){return Array.isArray(v)?sc(v):v||null}function jl(v){return v!=null&&!Array.isArray(v)&&typeof v=="object"}function fx(v,u,T){let x=v.controls;if(!(u?Object.keys(x):x).length)throw new ft(1e3,"");if(!x[T])throw new ft(1001,"")}function dx(v,u,T){v._forEachChild((x,e)=>{if(T[e]===void 0)throw new ft(1002,"")})}var Wr=class{constructor(u,T){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=xr(()=>this.statusReactive()),this.statusReactive=yr(void 0),this._pristine=xr(()=>this.pristineReactive()),this.pristineReactive=yr(!0),this._touched=xr(()=>this.touchedReactive()),this.touchedReactive=yr(!1),this._events=new Jt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(u),this._assignAsyncValidators(T)}get validator(){return this._composedValidatorFn}set validator(u){this._rawValidators=this._composedValidatorFn=u}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(u){this._rawAsyncValidators=this._composedAsyncValidatorFn=u}get parent(){return this._parent}get status(){return hn(this.statusReactive)}set status(u){hn(()=>this.statusReactive.set(u))}get valid(){return this.status===qs}get invalid(){return this.status===bl}get pending(){return this.status==zr}get disabled(){return this.status===_s}get enabled(){return this.status!==_s}get pristine(){return hn(this.pristineReactive)}set pristine(u){hn(()=>this.pristineReactive.set(u))}get dirty(){return!this.pristine}get touched(){return hn(this.touchedReactive)}set touched(u){hn(()=>this.touchedReactive.set(u))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(u){this._assignValidators(u)}setAsyncValidators(u){this._assignAsyncValidators(u)}addValidators(u){this.setValidators(Yy(u,this._rawValidators))}addAsyncValidators(u){this.setAsyncValidators(Yy(u,this._rawAsyncValidators))}removeValidators(u){this.setValidators(jy(u,this._rawValidators))}removeAsyncValidators(u){this.setAsyncValidators(jy(u,this._rawAsyncValidators))}hasValidator(u){return Bl(this._rawValidators,u)}hasAsyncValidator(u){return Bl(this._rawAsyncValidators,u)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(u={}){let T=this.touched===!1;this.touched=!0;let x=u.sourceControl??this;this._parent&&!u.onlySelf&&this._parent.markAsTouched(mt(et({},u),{sourceControl:x})),T&&u.emitEvent!==!1&&this._events.next(new no(!0,x))}markAllAsTouched(u={}){this.markAsTouched({onlySelf:!0,emitEvent:u.emitEvent,sourceControl:this}),this._forEachChild(T=>T.markAllAsTouched(u))}markAsUntouched(u={}){let T=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let x=u.sourceControl??this;this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0,emitEvent:u.emitEvent,sourceControl:x})}),this._parent&&!u.onlySelf&&this._parent._updateTouched(u,x),T&&u.emitEvent!==!1&&this._events.next(new no(!1,x))}markAsDirty(u={}){let T=this.pristine===!0;this.pristine=!1;let x=u.sourceControl??this;this._parent&&!u.onlySelf&&this._parent.markAsDirty(mt(et({},u),{sourceControl:x})),T&&u.emitEvent!==!1&&this._events.next(new eo(!1,x))}markAsPristine(u={}){let T=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let x=u.sourceControl??this;this._forEachChild(e=>{e.markAsPristine({onlySelf:!0,emitEvent:u.emitEvent})}),this._parent&&!u.onlySelf&&this._parent._updatePristine(u,x),T&&u.emitEvent!==!1&&this._events.next(new eo(!0,x))}markAsPending(u={}){this.status=zr;let T=u.sourceControl??this;u.emitEvent!==!1&&(this._events.next(new Hr(this.status,T)),this.statusChanges.emit(this.status)),this._parent&&!u.onlySelf&&this._parent.markAsPending(mt(et({},u),{sourceControl:T}))}disable(u={}){let T=this._parentMarkedDirty(u.onlySelf);this.status=_s,this.errors=null,this._forEachChild(e=>{e.disable(mt(et({},u),{onlySelf:!0}))}),this._updateValue();let x=u.sourceControl??this;u.emitEvent!==!1&&(this._events.next(new Ul(this.value,x)),this._events.next(new Hr(this.status,x)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(mt(et({},u),{skipPristineCheck:T}),this),this._onDisabledChange.forEach(e=>e(!0))}enable(u={}){let T=this._parentMarkedDirty(u.onlySelf);this.status=qs,this._forEachChild(x=>{x.enable(mt(et({},u),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:u.emitEvent}),this._updateAncestors(mt(et({},u),{skipPristineCheck:T}),this),this._onDisabledChange.forEach(x=>x(!1))}_updateAncestors(u,T){this._parent&&!u.onlySelf&&(this._parent.updateValueAndValidity(u),u.skipPristineCheck||this._parent._updatePristine({},T),this._parent._updateTouched({},T))}setParent(u){this._parent=u}getRawValue(){return this.value}updateValueAndValidity(u={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let x=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qs||this.status===zr)&&this._runAsyncValidator(x,u.emitEvent)}let T=u.sourceControl??this;u.emitEvent!==!1&&(this._events.next(new Ul(this.value,T)),this._events.next(new Hr(this.status,T)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!u.onlySelf&&this._parent.updateValueAndValidity(mt(et({},u),{sourceControl:T}))}_updateTreeValidity(u={emitEvent:!0}){this._forEachChild(T=>T._updateTreeValidity(u)),this.updateValueAndValidity({onlySelf:!0,emitEvent:u.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_s:qs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(u,T){if(this.asyncValidator){this.status=zr,this._hasOwnPendingAsyncValidator={emitEvent:T!==!1};let x=ex(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(e=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(e,{emitEvent:T,shouldHaveEmitted:u})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let u=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,u}return!1}setErrors(u,T={}){this.errors=u,this._updateControlsErrors(T.emitEvent!==!1,this,T.shouldHaveEmitted)}get(u){let T=u;return T==null||(Array.isArray(T)||(T=T.split(".")),T.length===0)?null:T.reduce((x,e)=>x&&x._find(e),this)}getError(u,T){let x=T?this.get(T):this;return x&&x.errors?x.errors[u]:null}hasError(u,T){return!!this.getError(u,T)}get root(){let u=this;for(;u._parent;)u=u._parent;return u}_updateControlsErrors(u,T,x){this.status=this._calculateStatus(),u&&this.statusChanges.emit(this.status),(u||x)&&this._events.next(new Hr(this.status,T)),this._parent&&this._parent._updateControlsErrors(u,T,x)}_initObservables(){this.valueChanges=new Xt,this.statusChanges=new Xt}_calculateStatus(){return this._allControlsDisabled()?_s:this.errors?bl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zr)?zr:this._anyControlsHaveStatus(bl)?bl:qs}_anyControlsHaveStatus(u){return this._anyControls(T=>T.status===u)}_anyControlsDirty(){return this._anyControls(u=>u.dirty)}_anyControlsTouched(){return this._anyControls(u=>u.touched)}_updatePristine(u,T){let x=!this._anyControlsDirty(),e=this.pristine!==x;this.pristine=x,this._parent&&!u.onlySelf&&this._parent._updatePristine(u,T),e&&this._events.next(new eo(this.pristine,T))}_updateTouched(u={},T){this.touched=this._anyControlsTouched(),this._events.next(new no(this.touched,T)),this._parent&&!u.onlySelf&&this._parent._updateTouched(u,T)}_registerOnCollectionChange(u){this._onCollectionChange=u}_setUpdateStrategy(u){jl(u)&&u.updateOn!=null&&(this._updateOn=u.updateOn)}_parentMarkedDirty(u){let T=this._parent&&this._parent.dirty;return!u&&!!T&&!this._parent._anyControlsDirty()}_find(u){return null}_assignValidators(u){this._rawValidators=Array.isArray(u)?u.slice():u,this._composedValidatorFn=TA(this._rawValidators)}_assignAsyncValidators(u){this._rawAsyncValidators=Array.isArray(u)?u.slice():u,this._composedAsyncValidatorFn=CA(this._rawAsyncValidators)}},Xr=class extends Wr{constructor(u,T,x){super(oc(T),ac(x,T)),this.controls=u,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(u,T){return this.controls[u]?this.controls[u]:(this.controls[u]=T,T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange),T)}addControl(u,T,x={}){this.registerControl(u,T),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}removeControl(u,T={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),delete this.controls[u],this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}setControl(u,T,x={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),delete this.controls[u],T&&this.registerControl(u,T),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}contains(u){return this.controls.hasOwnProperty(u)&&this.controls[u].enabled}setValue(u,T={}){dx(this,!0,u),Object.keys(u).forEach(x=>{fx(this,!0,x),this.controls[x].setValue(u[x],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(u,T={}){u!=null&&(Object.keys(u).forEach(x=>{let e=this.controls[x];e&&e.patchValue(u[x],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(u={},T={}){this._forEachChild((x,e)=>{x.reset(u?u[e]:null,{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T,this),this._updateTouched(T,this),this.updateValueAndValidity(T)}getRawValue(){return this._reduceChildren({},(u,T,x)=>(u[x]=T.getRawValue(),u))}_syncPendingControls(){let u=this._reduceChildren(!1,(T,x)=>x._syncPendingControls()?!0:T);return u&&this.updateValueAndValidity({onlySelf:!0}),u}_forEachChild(u){Object.keys(this.controls).forEach(T=>{let x=this.controls[T];x&&u(x,T)})}_setUpControls(){this._forEachChild(u=>{u.setParent(this),u._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(u){for(let[T,x]of Object.entries(this.controls))if(this.contains(T)&&u(x))return!0;return!1}_reduceValue(){let u={};return this._reduceChildren(u,(T,x,e)=>((x.enabled||this.disabled)&&(T[e]=x.value),T))}_reduceChildren(u,T){let x=u;return this._forEachChild((e,y)=>{x=T(x,e,y)}),x}_allControlsDisabled(){for(let u of Object.keys(this.controls))if(this.controls[u].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(u){return this.controls.hasOwnProperty(u)?this.controls[u]:null}};var ec=class extends Xr{};var so=new lt("CallSetDisabledState",{providedIn:"root",factory:()=>kl}),kl="always";function cx(v,u){return[...u.path,v]}function zl(v,u,T=kl){lc(v,u),u.valueAccessor.writeValue(v.value),(v.disabled||T==="always")&&u.valueAccessor.setDisabledState?.(v.disabled),SA(v,u),MA(v,u),DA(v,u),EA(v,u)}function ky(v,u,T=!0){let x=()=>{};u.valueAccessor&&(u.valueAccessor.registerOnChange(x),u.valueAccessor.registerOnTouched(x)),Wl(v,u),v&&(u._invokeOnDestroyCallbacks(),v._registerOnCollectionChange(()=>{}))}function Hl(v,u){v.forEach(T=>{T.registerOnValidatorChange&&T.registerOnValidatorChange(u)})}function EA(v,u){if(u.valueAccessor.setDisabledState){let T=x=>{u.valueAccessor.setDisabledState(x)};v.registerOnDisabledChange(T),u._registerOnDestroy(()=>{v._unregisterOnDisabledChange(T)})}}function lc(v,u){let T=ax(v);u.validator!==null?v.setValidators(Xy(T,u.validator)):typeof T=="function"&&v.setValidators([T]);let x=lx(v);u.asyncValidator!==null?v.setAsyncValidators(Xy(x,u.asyncValidator)):typeof x=="function"&&v.setAsyncValidators([x]);let e=()=>v.updateValueAndValidity();Hl(u._rawValidators,e),Hl(u._rawAsyncValidators,e)}function Wl(v,u){let T=!1;if(v!==null){if(u.validator!==null){let e=ax(v);if(Array.isArray(e)&&e.length>0){let y=e.filter(t=>t!==u.validator);y.length!==e.length&&(T=!0,v.setValidators(y))}}if(u.asyncValidator!==null){let e=lx(v);if(Array.isArray(e)&&e.length>0){let y=e.filter(t=>t!==u.asyncValidator);y.length!==e.length&&(T=!0,v.setAsyncValidators(y))}}}let x=()=>{};return Hl(u._rawValidators,x),Hl(u._rawAsyncValidators,x),T}function SA(v,u){u.valueAccessor.registerOnChange(T=>{v._pendingValue=T,v._pendingChange=!0,v._pendingDirty=!0,v.updateOn==="change"&&px(v,u)})}function DA(v,u){u.valueAccessor.registerOnTouched(()=>{v._pendingTouched=!0,v.updateOn==="blur"&&v._pendingChange&&px(v,u),v.updateOn!=="submit"&&v.markAsTouched()})}function px(v,u){v._pendingDirty&&v.markAsDirty(),v.setValue(v._pendingValue,{emitModelToViewChange:!1}),u.viewToModelUpdate(v._pendingValue),v._pendingChange=!1}function MA(v,u){let T=(x,e)=>{u.valueAccessor.writeValue(x),e&&u.viewToModelUpdate(x)};v.registerOnChange(T),u._registerOnDestroy(()=>{v._unregisterOnChange(T)})}function vx(v,u){v==null,lc(v,u)}function wA(v,u){return Wl(v,u)}function gx(v,u){if(!v.hasOwnProperty("model"))return!1;let T=v.model;return T.isFirstChange()?!0:!Object.is(u,T.currentValue)}function AA(v){return Object.getPrototypeOf(v.constructor)===oA}function mx(v,u){v._syncPendingControls(),u.forEach(T=>{let x=T.control;x.updateOn==="submit"&&x._pendingChange&&(T.viewToModelUpdate(x._pendingValue),x._pendingChange=!1)})}function yx(v,u){if(!u)return null;Array.isArray(u);let T,x,e;return u.forEach(y=>{y.constructor===Xl?T=y:AA(y)?x=y:e=y}),e||x||T||null}function PA(v,u){let T=v.indexOf(u);T>-1&&v.splice(T,1)}var RA={provide:bn,useExisting:En(()=>IA)},to=Promise.resolve(),IA=(()=>{let u=class u extends bn{get submitted(){return hn(this.submittedReactive)}constructor(x,e,y){super(),this.callSetDisabledState=y,this._submitted=xr(()=>this.submittedReactive()),this.submittedReactive=yr(!1),this._directives=new Set,this.ngSubmit=new Xt,this.form=new Xr({},rc(x),sc(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){to.then(()=>{let e=this._findContainer(x.path);x.control=e.registerControl(x.name,x.control),zl(x.control,x,this.callSetDisabledState),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){to.then(()=>{let e=this._findContainer(x.path);e&&e.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){to.then(()=>{let e=this._findContainer(x.path),y=new Xr({});vx(y,x),e.registerControl(x.name,y),y.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){to.then(()=>{let e=this._findContainer(x.path);e&&e.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,e){to.then(()=>{this.form.get(x.path).setValue(e)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submittedReactive.set(!0),mx(this.form,this._directives),this.ngSubmit.emit(x),x?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}};u.\u0275fac=function(e){return new(e||u)(dt(ro,10),dt(Yl,10),dt(so,8))},u.\u0275dir=Zt({type:u,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,y){e&1&&ve("submit",function(a){return y.onSubmit(a)})("reset",function(){return y.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fi([RA]),qe]});let v=u;return v})();function $y(v,u){let T=v.indexOf(u);T>-1&&v.splice(T,1)}function Zy(v){return typeof v=="object"&&v!==null&&Object.keys(v).length===2&&"value"in v&&"disabled"in v}var io=class extends Wr{constructor(u=null,T,x){super(oc(T),ac(x,T)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(u),this._setUpdateStrategy(T),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jl(T)&&(T.nonNullable||T.initialValueIsDefault)&&(Zy(u)?this.defaultValue=u.value:this.defaultValue=u)}setValue(u,T={}){this.value=this._pendingValue=u,this._onChange.length&&T.emitModelToViewChange!==!1&&this._onChange.forEach(x=>x(this.value,T.emitViewToModelChange!==!1)),this.updateValueAndValidity(T)}patchValue(u,T={}){this.setValue(u,T)}reset(u=this.defaultValue,T={}){this._applyFormState(u),this.markAsPristine(T),this.markAsUntouched(T),this.setValue(this.value,T),this._pendingChange=!1}_updateValue(){}_anyControls(u){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(u){this._onChange.push(u)}_unregisterOnChange(u){$y(this._onChange,u)}registerOnDisabledChange(u){this._onDisabledChange.push(u)}_unregisterOnDisabledChange(u){$y(this._onDisabledChange,u)}_forEachChild(u){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(u){Zy(u)?(this.value=this._pendingValue=u.value,u.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=u}};var FA=v=>v instanceof io;var OA={provide:zi,useExisting:En(()=>LA)},Ky=Promise.resolve(),LA=(()=>{let u=class u extends zi{constructor(x,e,y,t,a,g){super(),this._changeDetectorRef=a,this.callSetDisabledState=g,this.control=new io,this._registered=!1,this.name="",this.update=new Xt,this._parent=x,this._setValidators(e),this._setAsyncValidators(y),this.valueAccessor=yx(this,t)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){let e=x.name.previousValue;this.formDirective.removeControl({name:e,path:this._getPath(e)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),gx(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(x){Ky.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){let e=x.isDisabled.currentValue,y=e!==0&&_n(e);Ky.then(()=>{y&&!this.control.disabled?this.control.disable():!y&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?cx(x,this._parent):[x]}};u.\u0275fac=function(e){return new(e||u)(dt(bn,9),dt(ro,10),dt(Yl,10),dt(ic,10),dt(qn,8),dt(so,8))},u.\u0275dir=Zt({type:u,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Fi([OA]),qe,Qe]});let v=u;return v})(),xx=(()=>{let u=class u{};u.\u0275fac=function(e){return new(e||u)},u.\u0275dir=Zt({type:u,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let v=u;return v})();var Tx=new lt("");var bA={provide:bn,useExisting:En(()=>uc)},uc=(()=>{let u=class u extends bn{get submitted(){return hn(this._submittedReactive)}set submitted(x){this._submittedReactive.set(x)}constructor(x,e,y){super(),this.callSetDisabledState=y,this._submitted=xr(()=>this._submittedReactive()),this._submittedReactive=yr(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Xt,this._setValidators(x),this._setAsyncValidators(e)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){let e=this.form.get(x.path);return zl(e,x,this.callSetDisabledState),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),e}getControl(x){return this.form.get(x.path)}removeControl(x){ky(x.control||null,x,!1),PA(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,e){this.form.get(x.path).setValue(e)}onSubmit(x){return this._submittedReactive.set(!0),mx(this.form,this.directives),this.ngSubmit.emit(x),this.form._events.next(new _d(this.control)),x?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this._submittedReactive.set(!1),this.form._events.next(new tc(this.form))}_updateDomValue(){this.directives.forEach(x=>{let e=x.control,y=this.form.get(x.path);e!==y&&(ky(e||null,x),FA(y)&&(zl(y,x,this.callSetDisabledState),x.control=y))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){let e=this.form.get(x.path);vx(e,x),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){let e=this.form.get(x.path);e&&wA(e,x)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lc(this.form,this),this._oldForm&&Wl(this._oldForm,this)}_checkFormPresent(){this.form}};u.\u0275fac=function(e){return new(e||u)(dt(ro,10),dt(Yl,10),dt(so,8))},u.\u0275dir=Zt({type:u,selectors:[["","formGroup",""]],hostBindings:function(e,y){e&1&&ve("submit",function(a){return y.onSubmit(a)})("reset",function(){return y.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fi([bA]),qe,Qe]});let v=u;return v})();var NA={provide:zi,useExisting:En(()=>hc)},hc=(()=>{let u=class u extends zi{set isDisabled(x){}constructor(x,e,y,t,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Xt,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(e),this._setAsyncValidators(y),this.valueAccessor=yx(this,t)}ngOnChanges(x){this._added||this._setUpControl(),gx(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return cx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};u._ngModelWarningSentOnce=!1,u.\u0275fac=function(e){return new(e||u)(dt(bn,13),dt(ro,10),dt(Yl,10),dt(ic,10),dt(Tx,8))},u.\u0275dir=Zt({type:u,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Fi([NA]),qe,Qe]});let v=u;return v})();var BA=(()=>{let u=class u{constructor(){this._validator=Nl}ngOnChanges(x){if(this.inputName in x){let e=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(e),this._validator=this._enabled?this.createValidator(e):Nl,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return x!=null}};u.\u0275fac=function(e){return new(e||u)},u.\u0275dir=Zt({type:u,features:[Qe]});let v=u;return v})();var VA={provide:ro,useExisting:En(()=>GA),multi:!0};var GA=(()=>{let u=class u extends BA{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_n,this.createValidator=x=>_y}enabled(x){return x}};u.\u0275fac=(()=>{let x;return function(y){return(x||(x=vr(u)))(y||u)}})(),u.\u0275dir=Zt({type:u,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,y){e&2&&ls("required",y._enabled?"":null)},inputs:{required:"required"},features:[Fi([VA]),qe]});let v=u;return v})();var Cx=(()=>{let u=class u{};u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=Ze({type:u}),u.\u0275inj=$e({});let v=u;return v})(),nc=class extends Wr{constructor(u,T,x){super(oc(T),ac(x,T)),this.controls=u,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(u){return this.controls[this._adjustIndex(u)]}push(u,T={}){this.controls.push(u),this._registerControl(u),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}insert(u,T,x={}){this.controls.splice(u,0,T),this._registerControl(T),this.updateValueAndValidity({emitEvent:x.emitEvent})}removeAt(u,T={}){let x=this._adjustIndex(u);x<0&&(x=0),this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),this.updateValueAndValidity({emitEvent:T.emitEvent})}setControl(u,T,x={}){let e=this._adjustIndex(u);e<0&&(e=0),this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),T&&(this.controls.splice(e,0,T),this._registerControl(T)),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(u,T={}){dx(this,!1,u),u.forEach((x,e)=>{fx(this,!1,e),this.at(e).setValue(x,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(u,T={}){u!=null&&(u.forEach((x,e)=>{this.at(e)&&this.at(e).patchValue(x,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(u=[],T={}){this._forEachChild((x,e)=>{x.reset(u[e],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T,this),this._updateTouched(T,this),this.updateValueAndValidity(T)}getRawValue(){return this.controls.map(u=>u.getRawValue())}clear(u={}){this.controls.length<1||(this._forEachChild(T=>T._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:u.emitEvent}))}_adjustIndex(u){return u<0?u+this.length:u}_syncPendingControls(){let u=this.controls.reduce((T,x)=>x._syncPendingControls()?!0:T,!1);return u&&this.updateValueAndValidity({onlySelf:!0}),u}_forEachChild(u){this.controls.forEach((T,x)=>{u(T,x)})}_updateValue(){this.value=this.controls.filter(u=>u.enabled||this.disabled).map(u=>u.value)}_anyControls(u){return this.controls.some(T=>T.enabled&&u(T))}_setUpControls(){this._forEachChild(u=>this._registerControl(u))}_allControlsDisabled(){for(let u of this.controls)if(u.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(u){u.setParent(this),u._registerOnCollectionChange(this._onCollectionChange)}_find(u){return this.at(u)??null}};function Qy(v){return!!v&&(v.asyncValidators!==void 0||v.validators!==void 0||v.updateOn!==void 0)}var Ex=(()=>{let u=class u{constructor(){this.useNonNullable=!1}get nonNullable(){let x=new u;return x.useNonNullable=!0,x}group(x,e=null){let y=this._reduceControls(x),t={};return Qy(e)?t=e:e!==null&&(t.validators=e.validator,t.asyncValidators=e.asyncValidator),new Xr(y,t)}record(x,e=null){let y=this._reduceControls(x);return new ec(y,e)}control(x,e,y){let t={};return this.useNonNullable?(Qy(e)?t=e:(t.validators=e,t.asyncValidators=y),new io(x,mt(et({},t),{nonNullable:!0}))):new io(x,e,y)}array(x,e,y){let t=x.map(a=>this._createControl(a));return new nc(t,e,y)}_reduceControls(x){let e={};return Object.keys(x).forEach(y=>{e[y]=this._createControl(x[y])}),e}_createControl(x){if(x instanceof io)return x;if(x instanceof Wr)return x;if(Array.isArray(x)){let e=x[0],y=x.length>1?x[1]:null,t=x.length>2?x[2]:null;return this.control(e,y,t)}else return this.control(x)}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=st({token:u,factory:u.\u0275fac,providedIn:"root"});let v=u;return v})();var i9=(()=>{let u=class u{static withConfig(x){return{ngModule:u,providers:[{provide:so,useValue:x.callSetDisabledState??kl}]}}};u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=Ze({type:u}),u.\u0275inj=$e({imports:[Cx]});let v=u;return v})(),Sx=(()=>{let u=class u{static withConfig(x){return{ngModule:u,providers:[{provide:Tx,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:so,useValue:x.callSetDisabledState??kl}]}}};u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=Ze({type:u}),u.\u0275inj=$e({imports:[Cx]});let v=u;return v})();var zA=v=>({"right-panel-active":v});function HA(v,u){v&1&&(ht(0,"small"),Vt(1,"Nome is required"),ct())}function WA(v,u){v&1&&(ht(0,"small"),Vt(1,"Invalid nome format"),ct())}function XA(v,u){if(v&1&&(ht(0,"div"),Kt(1,HA,2,0,"small",11)(2,WA,2,0,"small",11),ct()),v&2){let T,x,e=ge();bt(),Ot("ngIf",(T=e.registerForm.get("nome"))==null||T.errors==null?null:T.errors.required),bt(),Ot("ngIf",(x=e.registerForm.get("nome"))==null||x.errors==null?null:x.errors.nome)}}function YA(v,u){v&1&&(ht(0,"small"),Vt(1,"Cognome is required"),ct())}function jA(v,u){v&1&&(ht(0,"small"),Vt(1,"Invalid cognome format"),ct())}function kA(v,u){if(v&1&&(ht(0,"div"),Kt(1,YA,2,0,"small",11)(2,jA,2,0,"small",11),ct()),v&2){let T,x,e=ge();bt(),Ot("ngIf",(T=e.registerForm.get("cognome"))==null||T.errors==null?null:T.errors.required),bt(),Ot("ngIf",(x=e.registerForm.get("cognome"))==null||x.errors==null?null:x.errors.cognome)}}function $A(v,u){v&1&&(ht(0,"small"),Vt(1,"Email is required"),ct())}function ZA(v,u){v&1&&(ht(0,"small"),Vt(1,"Invalid email format"),ct())}function KA(v,u){if(v&1&&(ht(0,"div"),Kt(1,$A,2,0,"small",11)(2,ZA,2,0,"small",11),ct()),v&2){let T,x,e=ge();bt(),Ot("ngIf",(T=e.registerForm.get("email"))==null||T.errors==null?null:T.errors.required),bt(),Ot("ngIf",(x=e.registerForm.get("email"))==null||x.errors==null?null:x.errors.email)}}function QA(v,u){v&1&&(ht(0,"small"),Vt(1,"Password is required"),ct())}function JA(v,u){v&1&&(ht(0,"small"),Vt(1,"Password must be at least 6 characters"),ct())}function qA(v,u){if(v&1&&(ht(0,"div"),Kt(1,QA,2,0,"small",11)(2,JA,2,0,"small",11),ct()),v&2){let T,x,e=ge();bt(),Ot("ngIf",(T=e.registerForm.get("password"))==null||T.errors==null?null:T.errors.required),bt(),Ot("ngIf",(x=e.registerForm.get("password"))==null||x.errors==null?null:x.errors.minlength)}}function _A(v,u){v&1&&(ht(0,"small"),Vt(1,"Email is required"),ct())}function tP(v,u){v&1&&(ht(0,"small"),Vt(1,"Invalid email format"),ct())}function eP(v,u){if(v&1&&(ht(0,"div"),Kt(1,_A,2,0,"small",11)(2,tP,2,0,"small",11),ct()),v&2){let T,x,e=ge();bt(),Ot("ngIf",(T=e.loginForm.get("email"))==null||T.errors==null?null:T.errors.required),bt(),Ot("ngIf",(x=e.loginForm.get("email"))==null||x.errors==null?null:x.errors.email)}}function nP(v,u){v&1&&(ht(0,"small"),Vt(1,"Password is required"),ct())}function iP(v,u){v&1&&(ht(0,"small"),Vt(1,"Password must be at least 6 characters"),ct())}function rP(v,u){if(v&1&&(ht(0,"div"),Kt(1,nP,2,0,"small",11)(2,iP,2,0,"small",11),ct()),v&2){let T,x,e=ge();bt(),Ot("ngIf",(T=e.loginForm.get("password"))==null||T.errors==null?null:T.errors.required),bt(),Ot("ngIf",(x=e.loginForm.get("password"))==null||x.errors==null?null:x.errors.minlength)}}var Dx=(()=>{let u=class u{constructor(x,e){this.fb=x,this.authSrv=e,this.subscriptions=[],this.isRightPanelActive=!0,this.url=""}ngOnInit(){this.loginForm=this.fb.group({email:["",[Ie.required,Ie.email]],password:["",[Ie.required,Ie.minLength(6)]],rememberMe:[!1]}),this.registerForm=this.fb.group({email:["",[Ie.required,Ie.email]],password:["",[Ie.required,Ie.minLength(6)]],nome:["",[Ie.required]],cognome:["",[Ie.required]],rememberMe:[!1]}),this.authSrv.get("auth/url").subscribe(x=>this.url=x.authURL)}onLoginSubmit(){if(this.loginForm.valid){let x=this.authSrv.login(this.loginForm.value).subscribe(e=>{});this.subscriptions.push(x)}else console.log("Form non valido")}onRegisterSubmit(){if(this.registerForm.valid){console.log(this.registerForm.value);let x=this.authSrv.register(this.registerForm.value).subscribe(e=>{console.log(e)});this.subscriptions.push(x)}else console.log("Form non valido")}ngOnDestroy(){this.subscriptions.forEach(x=>x.unsubscribe())}onSignUp(){this.isRightPanelActive=!1}onSignIn(){this.isRightPanelActive=!0}};u.\u0275fac=function(e){return new(e||u)(dt(Ex),dt(Nr))},u.\u0275cmp=$n({type:u,selectors:[["app-login"]],standalone:!0,features:[Qn],decls:67,vars:13,consts:[[1,"container",3,"ngClass"],[1,"form-container","sign-up-container"],[3,"ngSubmit","formGroup"],[1,"social-container"],["href","#",1,"social"],[1,"fab","fa-facebook-f"],[1,"social",3,"href"],[1,"fab","fa-google-plus-g"],[1,"fab","fa-linkedin-in"],["type","text","formControlName","nome","placeholder","Nome",1,"mb-1"],[1,"error-container"],[4,"ngIf"],["type","text","formControlName","cognome","placeholder","Cognome",1,"mb-1"],["type","email","formControlName","email","placeholder","Email",1,"mb-1"],["type","password","formControlName","password","placeholder","Password",1,"mb-1"],["type","submit",1,"mt-3"],[1,"form-container","sign-in-container"],["href","#"],["type","submit"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel","overlay-left"],[1,"ghost",3,"click"],[1,"overlay-panel","overlay-right"]],template:function(e,y){if(e&1&&(ht(0,"div",0)(1,"div",1)(2,"form",2),ve("ngSubmit",function(){return y.onRegisterSubmit()}),ht(3,"h1"),Vt(4,"Create Account"),ct(),ht(5,"div",3)(6,"a",4),ee(7,"i",5),ct(),ht(8,"a",6),ee(9,"i",7),ct(),ht(10,"a",4),ee(11,"i",8),ct()(),ht(12,"span"),Vt(13,"or use your email for registration"),ct(),ee(14,"input",9),ht(15,"div",10),Kt(16,XA,3,2,"div",11),ct(),ee(17,"input",12),ht(18,"div",10),Kt(19,kA,3,2,"div",11),ct(),ee(20,"input",13),ht(21,"div",10),Kt(22,KA,3,2,"div",11),ct(),ee(23,"input",14),ht(24,"div",10),Kt(25,qA,3,2,"div",11),ct(),ht(26,"button",15),Vt(27,"Sign UP"),ct()()(),ht(28,"div",16)(29,"form",2),ve("ngSubmit",function(){return y.onLoginSubmit()}),ht(30,"h1"),Vt(31,"Sign in"),ct(),ht(32,"div",3)(33,"a",4),ee(34,"i",5),ct(),ht(35,"a",6),ee(36,"i",7),ct(),ht(37,"a",4),ee(38,"i",8),ct()(),ht(39,"span"),Vt(40,"or use your account"),ct(),ee(41,"input",13),ht(42,"div",10),Kt(43,eP,3,2,"div",11),ct(),ee(44,"input",14),ht(45,"div",10),Kt(46,rP,3,2,"div",11),ct(),ht(47,"a",17),Vt(48,"Forgot your password?"),ct(),ht(49,"button",18),Vt(50,"Sign In"),ct()()(),ht(51,"div",19)(52,"div",20)(53,"div",21)(54,"h1"),Vt(55,"Welcome Back!"),ct(),ht(56,"p"),Vt(57,"To keep connected with us please login with your personal info"),ct(),ht(58,"button",22),ve("click",function(){return y.onSignIn()}),Vt(59,"Sign In"),ct()(),ht(60,"div",23)(61,"h1"),Vt(62,"Hello, Friend!"),ct(),ht(63,"p"),Vt(64,"Enter your personal details and start journey with us"),ct(),ht(65,"button",22),ve("click",function(){return y.onSignUp()}),Vt(66,"Sign Up"),ct()()()()()),e&2){let t,a,g,l,s,o;Ot("ngClass",om(11,zA,!y.isRightPanelActive)),bt(2),Ot("formGroup",y.registerForm),bt(6),Ga("href",y.url,Ii),bt(8),Ot("ngIf",((t=y.registerForm.get("nome"))==null?null:t.invalid)&&((t=y.registerForm.get("nome"))==null?null:t.touched)),bt(3),Ot("ngIf",((a=y.registerForm.get("cognome"))==null?null:a.invalid)&&((a=y.registerForm.get("cognome"))==null?null:a.touched)),bt(3),Ot("ngIf",((g=y.registerForm.get("email"))==null?null:g.invalid)&&((g=y.registerForm.get("email"))==null?null:g.touched)),bt(3),Ot("ngIf",((l=y.registerForm.get("password"))==null?null:l.invalid)&&((l=y.registerForm.get("password"))==null?null:l.touched)),bt(4),Ot("formGroup",y.loginForm),bt(6),Ga("href",y.url,Ii),bt(8),Ot("ngIf",((s=y.loginForm.get("email"))==null?null:s.invalid)&&((s=y.loginForm.get("email"))==null?null:s.touched)),bt(3),Ot("ngIf",((o=y.loginForm.get("password"))==null?null:o.invalid)&&((o=y.loginForm.get("password"))==null?null:o.touched))}},dependencies:[Li,Am,Er,Sx,xx,Xl,ux,hx,uc,hc],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.error-container[_ngcontent-%COMP%]{height:30px}.error-container[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:red}body[_ngcontent-%COMP%]{background:#f6f5f7;display:flex;justify-content:center;align-items:center;flex-direction:column;font-family:Montserrat,sans-serif;height:100vh;margin:-20px 0 50px}h1[_ngcontent-%COMP%]{font-weight:700;margin:0}h2[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{font-weight:100;line-height:20px;letter-spacing:.5px;margin:20px 0 30px}a[_ngcontent-%COMP%]{color:#333;text-decoration:none;margin:15px 0}button[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #FF4B2B;background-color:#ff4b2b;color:#fff;font-weight:700;padding:12px 45px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in}button[_ngcontent-%COMP%]:active{transform:scale(.95)}button[_ngcontent-%COMP%]:focus{outline:none}button.ghost[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}form[_ngcontent-%COMP%]{background-color:#f5dfd0;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 50px;height:100%;text-align:center}input[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:12px 15px;margin:8px 0;width:100%}.container[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038;position:relative;overflow:hidden;width:95%;max-width:100%;min-height:95vh}@media (max-width: 480px){.container[_ngcontent-%COMP%]{width:100%;min-height:100vh;border-radius:0}}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.sign-in-container[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.container.right-panel-active[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]{transform:translate(100%)}.sign-up-container[_ngcontent-%COMP%]{left:0;width:50%;opacity:0;z-index:1}.container.right-panel-active[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:_ngcontent-%COMP%_show .6s}@keyframes _ngcontent-%COMP%_show{0%,49.99%{opacity:0;z-index:1}50%,to{opacity:1;z-index:5}}.overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:transform .6s ease-in-out;z-index:100}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{transform:translate(-100%)}.overlay[_ngcontent-%COMP%]{background:#ff416c;background:-webkit-linear-gradient(to right,#ff9c2b,#4ba023);background:linear-gradient(to right,#ff9c2b,#2b9241);background-repeat:no-repeat;background-size:cover;background-position:0 0;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:transform .6s ease-in-out}.container.right-panel-active[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{transform:translate(50%)}.overlay-panel[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;text-align:center;top:0;height:100%;width:50%;transform:translate(0);transition:transform .6s ease-in-out}.overlay-left[_ngcontent-%COMP%]{transform:translate(-20%)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-left[_ngcontent-%COMP%]{transform:translate(0)}.overlay-right[_ngcontent-%COMP%]{right:0;transform:translate(0)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-right[_ngcontent-%COMP%]{transform:translate(20%)}.social-container[_ngcontent-%COMP%]{margin:20px 0}.social-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #DDDDDD;border-radius:50%;display:inline-flex;justify-content:center;align-items:center;margin:0 5px;height:40px;width:40px}"]});let v=u;return v})();function sP(v,u){v&1&&(ht(0,"div",3)(1,"h1"),Vt(2,"ciao"),ct()())}function oP(v,u){v&1&&(ht(0,"div",4),ee(1,"app-login"),ct())}function aP(v,u){if(v&1&&(ht(0,"div"),Kt(1,sP,3,0,"div",2)(2,oP,2,0,"ng-template",null,0,um),ct()),v&2){let T=rm(3),x=ge();bt(),Ot("ngIf",x.user)("ngIfElse",T)}}var c9=(()=>{let u=class u{constructor(x,e){this.authSrv=x,this.route=e,this.isAuthChecked=!1,this.destroy$=new Jt}ngOnInit(){this.authSrv.restoreAuth(),this.authSrv.authChecked$.pipe(pi(this.destroy$)).subscribe(x=>{this.isAuthChecked=x,x&&this.authSrv.user$.pipe(pi(this.destroy$)).subscribe(e=>{this.user=e})}),this.route.queryParams.subscribe(x=>{x.code!==void 0&&this.authSrv.getToken(x.code).subscribe(e=>{console.log(e)})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};u.\u0275fac=function(e){return new(e||u)(dt(Nr),dt(cn))},u.\u0275cmp=$n({type:u,selectors:[["app-home"]],standalone:!0,features:[Qn],decls:1,vars:1,consts:[["loginTemplate",""],[4,"ngIf"],["class","container-fluid",4,"ngIf","ngIfElse"],[1,"container-fluid"],[1,"login-container"]],template:function(e,y){e&1&&Kt(0,aP,4,2,"div",1),e&2&&Ot("ngIf",y.isAuthChecked)},dependencies:[Li,Er,Dx]});let v=u;return v})();export{Zr as a,yn as b,xe as c,st as d,$e as e,at as f,$n as g,Ze as h,Z1 as i,bh as j,Nh as k,r3 as l,s3 as m,bt as n,dt as o,Kt as p,Ot as q,ht as r,ct as s,ee as t,df as u,ve as v,ge as w,Ga as x,rm as y,Vt as z,tD as A,eD as B,nD as C,u3 as D,iD as E,Qn as F,h3 as G,f3 as H,d3 as I,c3 as J,Am as K,Pm as L,Er as M,G3 as N,Li as O,JD as P,q3 as Q,_3 as R,D4 as S,Ir as T,s2 as U,Ge as V,o0 as W,W4 as X,X4 as Y,Y4 as Z,Rl as _,kd as $,Jd as aa,Nr as ba,Wy as ca,G5 as da,Xl as ea,ux as fa,hx as ga,IA as ha,LA as ia,xx as ja,GA as ka,i9 as la,c9 as ma};
